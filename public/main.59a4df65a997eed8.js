"use strict";(self.webpackChunktp_clinica_online=self.webpackChunktp_clinica_online||[]).push([[179],{7247:(an,Xe,W)=>{W.d(Xe,{nm:()=>Pr});var y=W(456),_e=(W(4946),W(8726),W(3182),W(5861)),ne=W(534),ae=W(4537),Ge=W(9058),je=W(7879);const fe=new Map,le={activated:!1,tokenObservers:[]},ke={initialized:!1,enabled:!1};function ze(ge){return fe.get(ge)||Object.assign({},le)}function vt(){return ke}const nt="https://content-firebaseappcheck.googleapis.com/v1",Fn="exchangeDebugToken",jn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ot{constructor(me,Te,Ze,gt,Ft){if(this.operation=me,this.retryPolicy=Te,this.getWaitDuration=Ze,this.lowerBound=gt,this.upperBound=Ft,this.pending=null,this.nextErrorWaitInterval=gt,gt>Ft)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(me){var Te=this;return(0,_e.Z)(function*(){Te.stop();try{Te.pending=new Ge.BH,yield function Ye(ge){return new Promise(me=>{setTimeout(me,ge)})}(Te.getNextRun(me)),Te.pending.resolve(),yield Te.pending.promise,Te.pending=new Ge.BH,yield Te.operation(),Te.pending.resolve(),yield Te.pending.promise,Te.process(!0).catch(()=>{})}catch(Ze){Te.retryPolicy(Ze)?Te.process(!1).catch(()=>{}):Te.stop()}})()}getNextRun(me){if(me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Te=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Te}}}const mt=new Ge.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function it(ge){if(!ze(ge).activated)throw mt.create("use-before-activation",{appName:ge.name})}function Tr(ge,me){return dt.apply(this,arguments)}function dt(){return(dt=(0,_e.Z)(function*({url:ge,body:me},Te){const Ze={"Content-Type":"application/json"},gt=Te.getImmediate({optional:!0});if(gt){const qr=yield gt.getHeartbeatsHeader();qr&&(Ze["X-Firebase-Client"]=qr)}const Ft={method:"POST",body:JSON.stringify(me),headers:Ze};let Sn,yn;try{Sn=yield fetch(ge,Ft)}catch(qr){throw mt.create("fetch-network-error",{originalErrorMessage:qr?.message})}if(200!==Sn.status)throw mt.create("fetch-status-error",{httpStatus:Sn.status});try{yn=yield Sn.json()}catch(qr){throw mt.create("fetch-parse-error",{originalErrorMessage:qr?.message})}const Dn=yn.ttl.match(/^([\d.]+)(s)$/);if(!Dn||!Dn[2]||isNaN(Number(Dn[1])))throw mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${yn.ttl}`});const Ti=1e3*Number(Dn[1]),ei=Date.now();return{token:yn.token,expireTimeMillis:ei+Ti,issuedAtTimeMillis:ei}})).apply(this,arguments)}function qe(ge,me){const{projectId:Te,appId:Ze,apiKey:gt}=ge.options;return{url:`${nt}/projects/${Te}/apps/${Ze}:${Fn}?key=${gt}`,body:{debug_token:me}}}const Et="firebase-app-check-database",ye=1,Fe="firebase-app-check-store";let Re=null;function un(){return(un=(0,_e.Z)(function*(ge,me){const Ze=(yield function Ke(){return Re||(Re=new Promise((ge,me)=>{try{const Te=indexedDB.open(Et,ye);Te.onsuccess=Ze=>{ge(Ze.target.result)},Te.onerror=Ze=>{var gt;me(mt.create("storage-open",{originalErrorMessage:null===(gt=Ze.target.error)||void 0===gt?void 0:gt.message}))},Te.onupgradeneeded=Ze=>{0===Ze.oldVersion&&Ze.target.result.createObjectStore(Fe,{keyPath:"compositeKey"})}}catch(Te){me(mt.create("storage-open",{originalErrorMessage:Te?.message}))}}),Re)}()).transaction(Fe,"readwrite"),Ft=Ze.objectStore(Fe).put({compositeKey:ge,value:me});return new Promise((Sn,yn)=>{Ft.onsuccess=Dn=>{Sn()},Ze.onerror=Dn=>{var Ti;yn(mt.create("storage-set",{originalErrorMessage:null===(Ti=Dn.target.error)||void 0===Ti?void 0:Ti.message}))}})})).apply(this,arguments)}const Ln=new je.Yd("@firebase/app-check");function Tn(ge,me){return(0,Ge.hl)()?function Bt(ge,me){return function _t(ge,me){return un.apply(this,arguments)}(function Rn(ge){return`${ge.options.appId}-${ge.name}`}(ge),me)}(ge,me).catch(Te=>{Ln.warn(`Failed to write token to IndexedDB. Error: ${Te}`)}):Promise.resolve()}function zt(){return vt().enabled}function zr(){return bn.apply(this,arguments)}function bn(){return(bn=(0,_e.Z)(function*(){const ge=vt();if(ge.enabled&&ge.token)return ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gn={error:"UNKNOWN_ERROR"};function dn(ge){return Ge.US.encodeString(JSON.stringify(ge),!1)}function Zn(ge){return wr.apply(this,arguments)}function wr(){return(wr=(0,_e.Z)(function*(ge,me=!1){const Te=ge.app;it(Te);const Ze=ze(Te);let Ft,gt=Ze.token;if(gt&&!vi(gt)&&(Ze.token=void 0,gt=void 0),!gt){const Dn=yield Ze.cachedTokenPromise;Dn&&(vi(Dn)?gt=Dn:yield Tn(Te,void 0))}if(!me&&gt&&vi(gt))return{token:gt.token};let yn,Sn=!1;if(zt()){Ze.exchangeTokenPromise||(Ze.exchangeTokenPromise=Tr(qe(Te,yield zr()),ge.heartbeatServiceProvider).finally(()=>{Ze.exchangeTokenPromise=void 0}),Sn=!0);const Dn=yield Ze.exchangeTokenPromise;return yield Tn(Te,Dn),Ze.token=Dn,{token:Dn.token}}try{Ze.exchangeTokenPromise||(Ze.exchangeTokenPromise=Ze.provider.getToken().finally(()=>{Ze.exchangeTokenPromise=void 0}),Sn=!0),gt=yield ze(Te).exchangeTokenPromise}catch(Dn){"appCheck/throttled"===Dn.code?Ln.warn(Dn.message):Ln.error(Dn),Ft=Dn}return gt?Ft?yn=vi(gt)?{token:gt.token,internalError:Ft}:fi(Ft):(yn={token:gt.token},Ze.token=gt,yield Tn(Te,gt)):yn=fi(Ft),Sn&&function bt(ge,me){const Te=ze(ge).tokenObservers;for(const Ze of Te)try{"EXTERNAL"===Ze.type&&null!=me.error?Ze.error(me.error):Ze.next(me)}catch{}}(Te,yn),yn})).apply(this,arguments)}function Vr(ge){return In.apply(this,arguments)}function In(){return(In=(0,_e.Z)(function*(ge){const me=ge.app;it(me);const{provider:Te}=ze(me);if(zt()){const Ze=yield zr(),{token:gt}=yield Tr(qe(me,Ze),ge.heartbeatServiceProvider);return{token:gt}}{const{token:Ze}=yield Te.getToken();return{token:Ze}}})).apply(this,arguments)}function Ur(ge,me){const Te=ze(ge),Ze=Te.tokenObservers.filter(gt=>gt.next!==me);0===Ze.length&&Te.tokenRefresher&&Te.tokenRefresher.isRunning()&&Te.tokenRefresher.stop(),Te.tokenObservers=Ze}function $n(ge){const{app:me}=ge,Te=ze(me);let Ze=Te.tokenRefresher;Ze||(Ze=function Bi(ge){const{app:me}=ge;return new ot((0,_e.Z)(function*(){let Ze;if(Ze=ze(me).token?yield Zn(ge,!0):yield Zn(ge),Ze.error)throw Ze.error;if(Ze.internalError)throw Ze.internalError}),()=>!0,()=>{const Te=ze(me);if(Te.token){let Ze=Te.token.issuedAtTimeMillis+.5*(Te.token.expireTimeMillis-Te.token.issuedAtTimeMillis)+3e5;return Ze=Math.min(Ze,Te.token.expireTimeMillis-3e5),Math.max(0,Ze-Date.now())}return 0},jn.RETRIAL_MIN_WAIT,jn.RETRIAL_MAX_WAIT)}(ge),Te.tokenRefresher=Ze),!Ze.isRunning()&&Te.isTokenAutoRefreshEnabled&&Ze.start()}function vi(ge){return ge.expireTimeMillis-Date.now()>0}function fi(ge){return{token:dn(gn),error:ge}}class Mr{constructor(me,Te){this.app=me,this.heartbeatServiceProvider=Te}_delete(){const{tokenObservers:me}=ze(this.app);for(const Te of me)Ur(this.app,Te.next);return Promise.resolve()}}const Mt="app-check-internal";!function on(){(0,ne.Xd)(new ae.wA("app-check",ge=>function Br(ge,me){return new Mr(ge,me)}(ge.getProvider("app").getImmediate(),ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ge,me,Te)=>{ge.getProvider(Mt).initialize()})),(0,ne.Xd)(new ae.wA(Mt,ge=>function _r(ge){return{getToken:me=>Zn(ge,me),getLimitedUseToken:()=>Vr(ge),addTokenListener:me=>function tr(ge,me,Te,Ze){const{app:gt}=ge,Ft=ze(gt);if(Ft.tokenObservers=[...Ft.tokenObservers,{next:Te,error:Ze,type:me}],Ft.token&&vi(Ft.token)){const yn=Ft.token;Promise.resolve().then(()=>{Te({token:yn.token}),$n(ge)}).catch(()=>{})}Ft.cachedTokenPromise.then(()=>$n(ge))}(ge,"INTERNAL",me),removeTokenListener:me=>Ur(ge.app,me)}}(ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ne.KN)("@firebase/app-check","0.8.0")}();class Pr{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},8726:(an,Xe,W)=>{W.d(Xe,{Ot:()=>be,ZF:()=>Ct,hX:()=>ze,z6:()=>_e});var y=W(3182),ue=W(4946),K=W(456);class be{constructor(ot){return ot}}class _e{constructor(){return(0,y.C6)()}}const Ge=new ue.OlP("angularfire2._apps"),je={provide:be,useFactory:function ae(We){return We&&1===We.length?We[0]:new be((0,y.Mq)())},deps:[[new ue.FiY,Ge]]},fe={provide:_e,deps:[[new ue.FiY,Ge]]};function le(We){return(ot,Ye)=>{const at=ot.runOutsideAngular(()=>We(Ye));return new be(at)}}let ke=(()=>{class We{constructor(Ye){(0,y.KN)("angularfire",K.q4.full,"core"),(0,y.KN)("angularfire",K.q4.full,"app"),(0,y.KN)("angular",ue.q4F.full,Ye.toString())}}return We.\u0275fac=function(Ye){return new(Ye||We)(ue.LFG(ue.Lbi))},We.\u0275mod=ue.oAB({type:We}),We.\u0275inj=ue.cJS({providers:[je,fe]}),We})();function ze(We,...ot){return{ngModule:ke,providers:[{provide:Ge,useFactory:le(We),multi:!0,deps:[ue.R0b,ue.zs3,K.HU,...ot]}]}}const Ct=(0,K.u3)(y.ZF,!0)},5609:(an,Xe,W)=>{W.d(Xe,{gx:()=>lu,dh:()=>du,Xb:()=>Nl,v0:()=>_p,Aj:()=>Gu,AR:()=>$c,w$:()=>zu,e5:()=>Am});var y=W(456),ue=W(4946),K=W(8726),be=W(3182),_e=W(7247),ne=W(5861),ae=W(9058),Ge=W(534),je=W(7582),fe=W(7879),le=W(4537);const jn=function Kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new ae.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new fe.Yd("@firebase/auth");function mt(E,...h){Ye.logLevel<=fe.in.ERROR&&Ye.error(`Auth (${Ge.Jn}): ${E}`,...h)}function rt(E,...h){throw Tr(E,...h)}function it(E,...h){return Tr(E,...h)}function Tr(E,...h){if("string"!=typeof E){const p=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=E.name),E._errorFactory.create(p,...C)}return We.create(E,...h)}function dt(E,h,...p){if(!E)throw Tr(h,...p)}function Ae(E){const h="INTERNAL ASSERTION FAILED: "+E;throw mt(h),new Error(h)}function ln(E,h){E||Ae(h)}function qe(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function ye(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Re{constructor(h,p){this.shortDelay=h,this.longDelay=p,ln(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,ae.uI)()||(0,ae.b$)()}get(){return function Fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Et(){return"http:"===ye()||"https:"===ye()}()||(0,ae.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ke(E,h){ln(E.emulator,"Emulator should always be set here");const{url:p}=E.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class ft{static initialize(h,p,C){this.fetchImpl=h,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_n=new Re(3e4,6e4);function Xt(E,h){return E.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:E.tenantId}):h}function _t(E,h,p,C){return un.apply(this,arguments)}function un(){return(un=(0,ne.Z)(function*(E,h,p,C,$={}){return Kn(E,$,(0,ne.Z)(function*(){let ee={},Ie={};C&&("GET"===h?Ie=C:ee={body:JSON.stringify(C)});const $e=(0,ae.xO)(Object.assign({key:E.config.apiKey},Ie)).slice(1),St=yield E._getAdditionalHeaders();return St["Content-Type"]="application/json",E.languageCode&&(St["X-Firebase-Locale"]=E.languageCode),ft.fetch()(Vn(E,E.config.apiHost,p,$e),Object.assign({method:h,headers:St,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function Kn(E,h,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,ne.Z)(function*(E,h,p){E._canInitEmulator=!1;const C=Object.assign(Object.assign({},Bt),h);try{const $=new Ir(E),ee=yield Promise.race([p(),$.promise]);$.clearNetworkTimeout();const Ie=yield ee.json();if("needConfirmation"in Ie)throw Tn(E,"account-exists-with-different-credential",Ie);if(ee.ok&&!("errorMessage"in Ie))return Ie;{const $e=ee.ok?Ie.errorMessage:Ie.error.message,[St,Pt]=$e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===St)throw Tn(E,"credential-already-in-use",Ie);if("EMAIL_EXISTS"===St)throw Tn(E,"email-already-in-use",Ie);if("USER_DISABLED"===St)throw Tn(E,"user-disabled",Ie);const $t=C[St]||St.toLowerCase().replace(/[_\s]+/g,"-");if(Pt)throw function vn(E,h,p){const C=Object.assign(Object.assign({},jn()),{[h]:p});return new ae.LL("auth","Firebase",C).create(h,{appName:E.name})}(E,$t,Pt);rt(E,$t)}}catch($){if($ instanceof ae.ZR)throw $;rt(E,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Rn(E,h,p,C){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,ne.Z)(function*(E,h,p,C,$={}){const ee=yield _t(E,h,p,C,$);return"mfaPendingCredential"in ee&&rt(E,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function Vn(E,h,p,C){const $=`${h}${p}?${C}`;return E.config.emulator?Ke(E.config,$):`${E.config.apiScheme}://${$}`}class Ir{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(it(this.auth,"network-request-failed")),_n.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tn(E,h,p){const C={appName:E.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const $=it(E,h,C);return $.customData._tokenResponse=p,$}function Un(){return(Un=(0,ne.Z)(function*(E,h){return _t(E,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function hr(){return(hr=(0,ne.Z)(function*(E,h){return _t(E,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function gn(E){if(E)try{const h=new Date(Number(E));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function wr(){return(wr=(0,ne.Z)(function*(E,h=!1){const p=(0,ae.m9)(E),C=yield p.getIdToken(h),$=In(C);dt($&&$.exp&&$.auth_time&&$.iat,p.auth,"internal-error");const ee="object"==typeof $.firebase?$.firebase:void 0,Ie=ee?.sign_in_provider;return{claims:$,token:C,authTime:gn(Vr($.auth_time)),issuedAtTime:gn(Vr($.iat)),expirationTime:gn(Vr($.exp)),signInProvider:Ie||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Vr(E){return 1e3*Number(E)}function In(E){const[h,p,C]=E.split(".");if(void 0===h||void 0===p||void 0===C)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,ae.tV)(p);return $?JSON.parse($):(mt("Failed to decode base64 JWT payload"),null)}catch($){return mt("Caught error parsing JWT payload as JSON",$?.toString()),null}}function Ur(E,h){return $n.apply(this,arguments)}function $n(){return($n=(0,ne.Z)(function*(E,h,p=!1){if(p)return h;try{return yield h}catch(C){throw C instanceof ae.ZR&&function Bi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(C)&&E.auth.currentUser===E&&(yield E.auth.signOut()),C}})).apply(this,arguments)}class bt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const $=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,ne.Z)(function*(){yield p.iteration()}),C)}iteration(){var h=this;return(0,ne.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class vi{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=gn(this.lastLoginAt),this.creationTime=gn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fi(E){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,ne.Z)(function*(E){var h;const p=E.auth,C=yield E.getIdToken(),$=yield Ur(E,function bn(E,h){return hr.apply(this,arguments)}(p,{idToken:C}));dt($?.users.length,p,"internal-error");const ee=$.users[0];E._notifyReloadListener(ee);const Ie=null!==(h=ee.providerUserInfo)&&void 0!==h&&h.length?function Xr(E){return E.map(h=>{var{providerId:p}=h,C=(0,je._T)(h,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(ee.providerUserInfo):[],$e=function Zt(E,h){return[...E.filter(C=>!h.some($=>$.providerId===C.providerId)),...h]}(E.providerData,Ie),$t=!!E.isAnonymous&&!(E.email&&ee.passwordHash||$e?.length),or={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:$e,metadata:new vi(ee.createdAt,ee.lastLoginAt),isAnonymous:$t};Object.assign(E,or)}),Mr.apply(this,arguments)}function _r(){return(_r=(0,ne.Z)(function*(E){const h=(0,ae.m9)(E);yield fi(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Jt(){return(Jt=(0,ne.Z)(function*(E,h){const p=yield Kn(E,{},(0,ne.Z)(function*(){const C=(0,ae.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:$,apiKey:ee}=E.config,Ie=Vn(E,$,"/v1/token",`key=${ee}`),$e=yield E._getAdditionalHeaders();return $e["Content-Type"]="application/x-www-form-urlencoded",ft.fetch()(Ie,{method:"POST",headers:$e,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){dt(h.idToken,"internal-error"),dt(typeof h.idToken<"u","internal-error"),dt(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function tr(E){const h=In(E);return dt(h,"internal-error"),dt(typeof h.exp<"u","internal-error"),dt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var C=this;return(0,ne.Z)(function*(){return dt(!C.accessToken||C.refreshToken,h,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var C=this;return(0,ne.Z)(function*(){const{accessToken:$,refreshToken:ee,expiresIn:Ie}=yield function _i(E,h){return Jt.apply(this,arguments)}(h,p);C.updateTokensAndExpiration($,ee,Number(Ie))})()}updateTokensAndExpiration(h,p,C){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,p){const{refreshToken:C,accessToken:$,expirationTime:ee}=p,Ie=new Gn;return C&&(dt("string"==typeof C,"internal-error",{appName:h}),Ie.refreshToken=C),$&&(dt("string"==typeof $,"internal-error",{appName:h}),Ie.accessToken=$),ee&&(dt("number"==typeof ee,"internal-error",{appName:h}),Ie.expirationTime=ee),Ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Gn,this.toJSON())}_performRefresh(){return Ae("not implemented")}}function Wt(E,h){dt("string"==typeof E||typeof E>"u","internal-error",{appName:h})}class er{constructor(h){var{uid:p,auth:C,stsTokenManager:$}=h,ee=(0,je._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new vi(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,ne.Z)(function*(){const C=yield Ur(p,p.stsTokenManager.getToken(p.auth,h));return dt(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(h){return function Zn(E){return wr.apply(this,arguments)}(this,h)}reload(){return function Br(E){return _r.apply(this,arguments)}(this)}_assign(h){this!==h&&(dt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new er(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var C=this;return(0,ne.Z)(function*(){let $=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),$=!0),p&&(yield fi(C)),yield C.auth._persistUserIfCurrent(C),$&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,ne.Z)(function*(){const p=yield h.getIdToken();return yield Ur(h,function nn(E,h){return Un.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var C,$,ee,Ie,$e,St,Pt,$t;const or=null!==(C=p.displayName)&&void 0!==C?C:void 0,Ts=null!==($=p.email)&&void 0!==$?$:void 0,jo=null!==(ee=p.phoneNumber)&&void 0!==ee?ee:void 0,Ki=null!==(Ie=p.photoURL)&&void 0!==Ie?Ie:void 0,fu=null!==($e=p.tenantId)&&void 0!==$e?$e:void 0,Zc=null!==(St=p._redirectEventId)&&void 0!==St?St:void 0,Ll=null!==(Pt=p.createdAt)&&void 0!==Pt?Pt:void 0,Fd=null!==($t=p.lastLoginAt)&&void 0!==$t?$t:void 0,{uid:Vl,emailVerified:Ld,isAnonymous:Ul,providerData:Vd,stsTokenManager:Ud}=p;dt(Vl&&Ud,h,"internal-error");const Cp=Gn.fromJSON(this.name,Ud);dt("string"==typeof Vl,h,"internal-error"),Wt(or,h.name),Wt(Ts,h.name),dt("boolean"==typeof Ld,h,"internal-error"),dt("boolean"==typeof Ul,h,"internal-error"),Wt(jo,h.name),Wt(Ki,h.name),Wt(fu,h.name),Wt(Zc,h.name),Wt(Ll,h.name),Wt(Fd,h.name);const Bd=new er({uid:Vl,auth:h,email:Ts,emailVerified:Ld,displayName:or,isAnonymous:Ul,photoURL:Ki,phoneNumber:jo,tenantId:fu,stsTokenManager:Cp,createdAt:Ll,lastLoginAt:Fd});return Vd&&Array.isArray(Vd)&&(Bd.providerData=Vd.map(Yc=>Object.assign({},Yc))),Zc&&(Bd._redirectEventId=Zc),Bd}static _fromIdTokenResponse(h,p,C=!1){return(0,ne.Z)(function*(){const $=new Gn;$.updateFromServerResponse(p);const ee=new er({uid:p.localId,auth:h,stsTokenManager:$,isAnonymous:C});return yield fi(ee),ee})()}}const he=new Map;function q(E){ln(E instanceof Function,"Expected a class definition");let h=he.get(E);return h?(ln(h instanceof E,"Instance stored in cache mismatched with class"),h):(h=new E,he.set(E,h),h)}const Y=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ne.Z)(function*(){return!0})()}_set(p,C){var $=this;return(0,ne.Z)(function*(){$.storage[p]=C})()}_get(p){var C=this;return(0,ne.Z)(function*(){const $=C.storage[p];return void 0===$?null:$})()}_remove(p){var C=this;return(0,ne.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return E.type="NONE",E})();function J(E,h,p){return`firebase:${E}:${h}:${p}`}class we{constructor(h,p,C){this.persistence=h,this.auth=p,this.userKey=C;const{config:$,name:ee}=this.auth;this.fullUserKey=J(this.userKey,$.apiKey,ee),this.fullPersistenceKey=J("persistence",$.apiKey,ee),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,ne.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?er._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,ne.Z)(function*(){if(p.persistence===h)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,C="authUser"){return(0,ne.Z)(function*(){if(!p.length)return new we(q(Y),h,C);const $=(yield Promise.all(p.map(function(){var Pt=(0,ne.Z)(function*($t){if(yield $t._isAvailable())return $t});return function($t){return Pt.apply(this,arguments)}}()))).filter(Pt=>Pt);let ee=$[0]||q(Y);const Ie=J(C,h.config.apiKey,h.name);let $e=null;for(const Pt of p)try{const $t=yield Pt._get(Ie);if($t){const or=er._fromJSON(h,$t);Pt!==ee&&($e=or),ee=Pt;break}}catch{}const St=$.filter(Pt=>Pt._shouldAllowMigration);return ee._shouldAllowMigration&&St.length?(ee=St[0],$e&&(yield ee._set(Ie,$e.toJSON())),yield Promise.all(p.map(function(){var Pt=(0,ne.Z)(function*($t){if($t!==ee)try{yield $t._remove(Ie)}catch{}});return function($t){return Pt.apply(this,arguments)}}())),new we(ee,h,C)):new we(ee,h,C)})()}}function et(E){const h=E.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Nn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(It(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(zn(h))return"Blackberry";if(Dr(h))return"Webos";if(Ht(h))return"Safari";if((h.includes("chrome/")||rn(h))&&!h.includes("edge/"))return"Chrome";if(sn(h))return"Android";{const C=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function It(E=(0,ae.z$)()){return/firefox\//i.test(E)}function Ht(E=(0,ae.z$)()){const h=E.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function rn(E=(0,ae.z$)()){return/crios\//i.test(E)}function Nn(E=(0,ae.z$)()){return/iemobile/i.test(E)}function sn(E=(0,ae.z$)()){return/android/i.test(E)}function zn(E=(0,ae.z$)()){return/blackberry/i.test(E)}function Dr(E=(0,ae.z$)()){return/webos/i.test(E)}function Jr(E=(0,ae.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function ut(E=(0,ae.z$)()){return Jr(E)||sn(E)||Dr(E)||zn(E)||/windows phone/i.test(E)||Nn(E)}function on(E,h=[]){let p;switch(E){case"Browser":p=et((0,ae.z$)());break;case"Worker":p=`${et((0,ae.z$)())}-${E}`;break;default:p=E}const C=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Ge.Jn}/${C}`}function Pr(E,h){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,ne.Z)(function*(E,h){return _t(E,"GET","/v2/recaptchaConfig",Xt(E,h))})).apply(this,arguments)}function as(E){return void 0!==E&&void 0!==E.enterprise}class Zi{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Ei(E){return new Promise((h,p)=>{const C=document.createElement("script");C.setAttribute("src",E),C.onload=h,C.onerror=$=>{const ee=it("internal-error");ee.customData=$,p(ee)},C.type="text/javascript",C.charset="UTF-8",function Wr(){var E,h;return null!==(h=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==h?h:document}().appendChild(C)})}function ui(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Bn{constructor(h){this.type="recaptcha-enterprise",this.auth=ge(h)}verify(h="verify",p=!1){var C=this;return(0,ne.Z)(function*(){function ee(){return ee=(0,ne.Z)(function*($e){if(!p){if(null==$e.tenantId&&null!=$e._agentRecaptchaConfig)return $e._agentRecaptchaConfig.siteKey;if(null!=$e.tenantId&&void 0!==$e._tenantRecaptchaConfigs[$e.tenantId])return $e._tenantRecaptchaConfigs[$e.tenantId].siteKey}return new Promise(function(){var St=(0,ne.Z)(function*(Pt,$t){Pr($e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(or=>{if(void 0!==or.recaptchaKey){const Ts=new Zi(or);return null==$e.tenantId?$e._agentRecaptchaConfig=Ts:$e._tenantRecaptchaConfigs[$e.tenantId]=Ts,Pt(Ts.siteKey)}$t(new Error("recaptcha Enterprise site key undefined"))}).catch(or=>{$t(or)})});return function(Pt,$t){return St.apply(this,arguments)}}())}),ee.apply(this,arguments)}function Ie($e,St,Pt){const $t=window.grecaptcha;as($t)?$t.enterprise.ready(()=>{$t.enterprise.execute($e,{action:h}).then(or=>{St(or)}).catch(()=>{St("NO_RECAPTCHA")})}):Pt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($e,St)=>{(function $($e){return ee.apply(this,arguments)})(C.auth).then(Pt=>{if(!p&&as(window.grecaptcha))Ie(Pt,$e,St);else{if(typeof window>"u")return void St(new Error("RecaptchaVerifier is only supported in browser"));Ei("https://www.google.com/recaptcha/enterprise.js?render="+Pt).then(()=>{Ie(Pt,$e,St)}).catch($t=>{St($t)})}}).catch(Pt=>{St(Pt)})})})()}}function ji(E,h,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,ne.Z)(function*(E,h,p,C=!1){const $=new Bn(E);let ee;try{ee=yield $.verify(p)}catch{ee=yield $.verify(p,!0)}const Ie=Object.assign({},h);return Object.assign(Ie,C?{captchaResp:ee}:{captchaResponse:ee}),Object.assign(Ie,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ie,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ie})).apply(this,arguments)}class pi{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const C=ee=>new Promise((Ie,$e)=>{try{Ie(h(ee))}catch(St){$e(St)}});C.onAbort=p,this.queue.push(C);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,ne.Z)(function*(){if(p.auth.currentUser===h)return;const C=[];try{for(const $ of p.queue)yield $(h),$.onAbort&&C.push($.onAbort)}catch($){C.reverse();for(const ee of C)try{ee()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class xs{constructor(h,p,C,$){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new me(this),this.idTokenSubscription=new me(this),this.beforeStateQueue=new pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(h,p){var C=this;return p&&(this._popupRedirectResolver=q(p)),this._initializationPromise=this.queue((0,ne.Z)(function*(){var $,ee;if(!C._deleted&&(C.persistenceManager=yield we.create(C,h),!C._deleted)){if(null!==($=C._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(ee=C.currentUser)||void 0===ee?void 0:ee.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,ne.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,ne.Z)(function*(){var C;const $=yield p.assertedPersistence.getCurrentUser();let ee=$,Ie=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const $e=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,St=ee?._redirectEventId,Pt=yield p.tryRedirectSignIn(h);(!$e||$e===St)&&Pt?.user&&(ee=Pt.user,Ie=!0)}if(!ee)return p.directlySetCurrentUser(null);if(!ee._redirectEventId){if(Ie)try{yield p.beforeStateQueue.runMiddleware(ee)}catch($e){ee=$,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject($e))}return ee?p.reloadAndSetCurrentUserOrClear(ee):p.directlySetCurrentUser(null)}return dt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ee._redirectEventId?p.directlySetCurrentUser(ee):p.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(h){var p=this;return(0,ne.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,ne.Z)(function*(){try{yield fi(h)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Be(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var h=this;return(0,ne.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,ne.Z)(function*(){const C=h?(0,ae.m9)(h):null;return C&&dt(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(h,p=!1){var C=this;return(0,ne.Z)(function*(){if(!C._deleted)return h&&dt(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,ne.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,ne.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,ne.Z)(function*(){yield p.assertedPersistence.setPersistence(q(h))}))}initializeRecaptchaConfig(){var h=this;return(0,ne.Z)(function*(){const p=yield Pr(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Zi(p);null==h.tenantId?h._agentRecaptchaConfig=C:h._tenantRecaptchaConfigs[h.tenantId]=C,C.emailPasswordEnabled&&new Bn(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new ae.LL("auth","Firebase",h())}onAuthStateChanged(h,p,C){return this.registerStateListener(this.authStateSubscription,h,p,C)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,C){return this.registerStateListener(this.idTokenSubscription,h,p,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var C=this;return(0,ne.Z)(function*(){const $=yield C.getOrInitRedirectPersistenceManager(p);return null===h?$.removeCurrentUser():$.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,ne.Z)(function*(){if(!p.redirectPersistenceManager){const C=h&&q(h)||p._popupRedirectResolver;dt(C,p,"argument-error"),p.redirectPersistenceManager=yield we.create(p,[q(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,ne.Z)(function*(){var C,$;return p._isInitialized&&(yield p.queue((0,ne.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===h?p._currentUser:(null===($=p.redirectUser)||void 0===$?void 0:$._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,ne.Z)(function*(){if(h===p.currentUser)return p.queue((0,ne.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,C,$){if(this._deleted)return()=>{};const ee="function"==typeof p?p:p.next.bind(p),Ie=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(Ie,this,"internal-error"),Ie.then(()=>ee(this.currentUser)),"function"==typeof p?h.addObserver(p,C,$):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,ne.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=on(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,ne.Z)(function*(){var p;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const $=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();$&&(C["X-Firebase-Client"]=$);const ee=yield h._getAppCheckToken();return ee&&(C["X-Firebase-AppCheck"]=ee),C})()}_getAppCheckToken(){var h=this;return(0,ne.Z)(function*(){var p;const C=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function at(E,...h){Ye.logLevel<=fe.in.WARN&&Ye.warn(`Auth (${Ge.Jn}): ${E}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function ge(E){return(0,ae.m9)(E)}class me{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,ae.ne)(p=>this.observer=p)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ft(E){const h=E.indexOf(":");return h<0?"":E.substr(0,h+1)}function yn(E){if(!E)return null;const h=Number(E);return isNaN(h)?null:h}class Ti{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Ae("not implemented")}_getIdTokenResponse(h){return Ae("not implemented")}_linkToIdToken(h,p){return Ae("not implemented")}_getReauthenticationResolver(h){return Ae("not implemented")}}function ar(E,h){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,ne.Z)(function*(E,h){return _t(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Rs(E,h){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,ne.Z)(function*(E,h){return Rn(E,"POST","/v1/accounts:signInWithPassword",Xt(E,h))})).apply(this,arguments)}function Ro(){return(Ro=(0,ne.Z)(function*(E,h){return _t(E,"POST","/v1/accounts:sendOobCode",Xt(E,h))})).apply(this,arguments)}function ms(){return(ms=(0,ne.Z)(function*(E,h){return function ts(E,h){return Ro.apply(this,arguments)}(E,h)})).apply(this,arguments)}function ti(){return(ti=(0,ne.Z)(function*(E,h){return Rn(E,"POST","/v1/accounts:signInWithEmailLink",Xt(E,h))})).apply(this,arguments)}function us(){return(us=(0,ne.Z)(function*(E,h){return Rn(E,"POST","/v1/accounts:signInWithEmailLink",Xt(E,h))})).apply(this,arguments)}class mn extends Ti{constructor(h,p,C,$=null){super("password",C),this._email=h,this._password=p,this._tenantId=$}static _fromEmailAndPassword(h,p){return new mn(h,p,"password")}static _fromEmailAndCode(h,p,C=null){return new mn(h,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,ne.Z)(function*(){var C;switch(p.signInMethod){case"password":const $={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=h._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ee=yield ji(h,$,"signInWithPassword");return Rs(h,ee)}return Rs(h,$).catch(function(){var ee=(0,ne.Z)(function*(Ie){if("auth/missing-recaptcha-token"===Ie.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const $e=yield ji(h,$,"signInWithPassword");return Rs(h,$e)}return Promise.reject(Ie)});return function(Ie){return ee.apply(this,arguments)}}());case"emailLink":return function aa(E,h){return ti.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:rt(h,"internal-error")}})()}_linkToIdToken(h,p){var C=this;return(0,ne.Z)(function*(){switch(C.signInMethod){case"password":return ar(h,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function $i(E,h){return us.apply(this,arguments)}(h,{idToken:p,email:C._email,oobCode:C._password});default:rt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Qn(E,h){return cn.apply(this,arguments)}function cn(){return(cn=(0,ne.Z)(function*(E,h){return Rn(E,"POST","/v1/accounts:signInWithIdp",Xt(E,h))})).apply(this,arguments)}class ni{constructor(h){var p,C,$,ee,Ie,$e;const St=(0,ae.zd)((0,ae.pd)(h)),Pt=null!==(p=St.apiKey)&&void 0!==p?p:null,$t=null!==(C=St.oobCode)&&void 0!==C?C:null,or=function ro(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=St.mode)&&void 0!==$?$:null);dt(Pt&&$t&&or,"argument-error"),this.apiKey=Pt,this.operation=or,this.code=$t,this.continueUrl=null!==(ee=St.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Ie=St.languageCode)&&void 0!==Ie?Ie:null,this.tenantId=null!==($e=St.tenantId)&&void 0!==$e?$e:null}static parseLink(h){const p=function Si(E){const h=(0,ae.zd)((0,ae.pd)(E)).link,p=h?(0,ae.zd)((0,ae.pd)(h)).deep_link_id:null,C=(0,ae.zd)((0,ae.pd)(E)).deep_link_id;return(C?(0,ae.zd)((0,ae.pd)(C)).link:null)||C||p||h||E}(h);try{return new ni(p)}catch{return null}}}let Yi=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(p,C){return mn._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const $=ni.parseLink(C);return dt($,"argument-error"),mn._fromEmailAndCode(p,$.code,$.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class jr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class hn extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function cs(E,h){return is.apply(this,arguments)}function is(){return(is=(0,ne.Z)(function*(E,h){return Rn(E,"POST","/v1/accounts:signUp",Xt(E,h))})).apply(this,arguments)}class Zr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,C,$=!1){return(0,ne.Z)(function*(){const ee=yield er._fromIdTokenResponse(h,C,$),Ie=Ls(C);return new Zr({user:ee,providerId:Ie,_tokenResponse:C,operationType:p})})()}static _forOperation(h,p,C){return(0,ne.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const $=Ls(C);return new Zr({user:h,providerId:$,_tokenResponse:C,operationType:p})})()}}function Ls(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class mi extends ae.ZR{constructor(h,p,C,$){var ee;super(p.code,p.message),this.operationType=C,this.user=$,Object.setPrototypeOf(this,mi.prototype),this.customData={appName:h.name,tenantId:null!==(ee=h.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,p,C,$){return new mi(h,p,C,$)}}function _s(E,h,p,C){return("reauthenticate"===h?p._getReauthenticationResolver(E):p._getIdTokenResponse(E)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?mi._fromErrorAndOperation(E,ee,h,C):ee})}function li(){return(li=(0,ne.Z)(function*(E,h,p=!1){const C=yield Ur(E,h._linkToIdToken(E.auth,yield E.getIdToken()),p);return Zr._forOperation(E,"link",C)})).apply(this,arguments)}function U(){return(U=(0,ne.Z)(function*(E,h,p=!1){const{auth:C}=E,$="reauthenticate";try{const ee=yield Ur(E,_s(C,$,h,E),p);dt(ee.idToken,C,"internal-error");const Ie=In(ee.idToken);dt(Ie,C,"internal-error");const{sub:$e}=Ie;return dt(E.uid===$e,C,"user-mismatch"),Zr._forOperation(E,$,ee)}catch(ee){throw"auth/user-not-found"===ee?.code&&rt(C,"user-mismatch"),ee}})).apply(this,arguments)}function V(E,h){return te.apply(this,arguments)}function te(){return(te=(0,ne.Z)(function*(E,h,p=!1){const C="signIn",$=yield _s(E,C,h),ee=yield Zr._fromIdTokenResponse(E,C,$);return p||(yield E._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function De(){return(De=(0,ne.Z)(function*(E,h){return V(ge(E),h)})).apply(this,arguments)}function wo(E,h,p){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,ne.Z)(function*(E,h,p){var C;const $=ge(E),ee={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let Ie;if(null!==(C=$._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Pt=yield ji($,ee,"signUpPassword");Ie=cs($,Pt)}else Ie=cs($,ee).catch(function(){var Pt=(0,ne.Z)(function*($t){if("auth/missing-recaptcha-token"===$t.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const or=yield ji($,ee,"signUpPassword");return cs($,or)}return Promise.reject($t)});return function($t){return Pt.apply(this,arguments)}}());const $e=yield Ie.catch(Pt=>Promise.reject(Pt)),St=yield Zr._fromIdTokenResponse($,"signIn",$e);return yield $._updateCurrentUser(St.user),St}),Gs.apply(this,arguments)}function Qi(E,h,p){return function ce(E,h){return De.apply(this,arguments)}((0,ae.m9)(E),Yi.credential(h,p))}function Fa(E,h){return qo.apply(this,arguments)}function qo(){return qo=(0,ne.Z)(function*(E,h){const p=(0,ae.m9)(E),$={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};h&&function nr(E,h,p){var C;dt((null===(C=p.url)||void 0===C?void 0:C.length)>0,E,"invalid-continue-uri"),dt(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(dt(p.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(dt(p.android.packageName.length>0,E,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}(p.auth,$,h);const{email:ee}=yield function Js(E,h){return ms.apply(this,arguments)}(p.auth,$);ee!==E.email&&(yield E.reload())}),qo.apply(this,arguments)}function Lr(E,h,p,C){return(0,ae.m9)(E).onAuthStateChanged(h,p,C)}const Tt="__sak";class Ue{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Tt,"1"),this.storage.removeItem(Tt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ja=(()=>{class E extends Ue{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function st(){const E=(0,ae.z$)();return Ht(E)||Jr(E)}()&&function Mt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ut(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const $=this.storage.getItem(C),ee=this.localCache[C];$!==ee&&p(C,ee,$)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys(($e,St,Pt)=>{this.notifyListeners($e,Pt)});const $=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $e=this.storage.getItem($);if(p.newValue!==$e)null!==p.newValue?this.storage.setItem($,p.newValue):this.storage.removeItem($);else if(this.localCache[$]===p.newValue&&!C)return}const ee=()=>{const $e=this.storage.getItem($);!C&&this.localCache[$]===$e||this.notifyListeners($,$e)},Ie=this.storage.getItem($);!function Se(){return(0,ae.w1)()&&10===document.documentMode}()||Ie===p.newValue||p.newValue===p.oldValue?ee():setTimeout(ee,10)}notifyListeners(p,C){this.localCache[p]=C;const $=this.listeners[p];if($)for(const ee of Array.from($))ee(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var $=()=>super._set,ee=this;return(0,ne.Z)(function*(){yield $().call(ee,p,C),ee.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,$=this;return(0,ne.Z)(function*(){const ee=yield C().call($,p);return $.localCache[p]=JSON.stringify(ee),ee})()}_remove(p){var C=()=>super._remove,$=this;return(0,ne.Z)(function*(){yield C().call($,p),delete $.localCache[p]})()}}return E.type="LOCAL",E})(),hs=(()=>{class E extends Ue{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return E.type="SESSION",E})();let ju=(()=>{class E{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(ee=>ee.isListeningto(p));if(C)return C;const $=new E(p);return this.receivers.push($),$}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,ne.Z)(function*(){const $=p,{eventId:ee,eventType:Ie,data:$e}=$.data,St=C.handlersMap[Ie];if(!St?.size)return;$.ports[0].postMessage({status:"ack",eventId:ee,eventType:Ie});const Pt=Array.from(St).map(function(){var or=(0,ne.Z)(function*(Ts){return Ts($.origin,$e)});return function(Ts){return or.apply(this,arguments)}}()),$t=yield function Iu(E){return Promise.all(E.map(function(){var h=(0,ne.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return h.apply(this,arguments)}}()))}(Pt);$.ports[0].postMessage({status:"done",eventId:ee,eventType:Ie,response:$t})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Zo(E="",h=10){let p="";for(let C=0;C<h;C++)p+=Math.floor(10*Math.random());return E+p}class bo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,C=50){var $=this;return(0,ne.Z)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Ie,$e;return new Promise((St,Pt)=>{const $t=Zo("",20);ee.port1.start();const or=setTimeout(()=>{Pt(new Error("unsupported_event"))},C);$e={messageChannel:ee,onMessage(Ts){const jo=Ts;if(jo.data.eventId===$t)switch(jo.data.status){case"ack":clearTimeout(or),Ie=setTimeout(()=>{Pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ie),St(jo.data.response);break;default:clearTimeout(or),clearTimeout(Ie),Pt(new Error("invalid_response"))}}},$.handlers.add($e),ee.port1.addEventListener("message",$e.onMessage),$.target.postMessage({eventType:h,eventId:$t,data:p},[ee.port2])}).finally(()=>{$e&&$.removeMessageHandler($e)})})()}}function Wi(){return window}function qt(){return typeof Wi().WorkerGlobalScope<"u"&&"function"==typeof Wi().importScripts}function Xi(){return(Xi=(0,ne.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wa="firebaseLocalStorageDb",$u="firebaseLocalStorage",Gt="fbase_key";class Dt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Da(E,h){return E.transaction([$u],h?"readwrite":"readonly").objectStore($u)}function Yo(){const E=indexedDB.open(wa,1);return new Promise((h,p)=>{E.addEventListener("error",()=>{p(E.error)}),E.addEventListener("upgradeneeded",()=>{const C=E.result;try{C.createObjectStore($u,{keyPath:Gt})}catch($){p($)}}),E.addEventListener("success",(0,ne.Z)(function*(){const C=E.result;C.objectStoreNames.contains($u)?h(C):(C.close(),yield function Ca(){const E=indexedDB.deleteDatabase(wa);return new Dt(E).toPromise()}(),h(yield Yo()))}))})}function sc(E,h,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,ne.Z)(function*(E,h,p){const C=Da(E,!0).put({[Gt]:h,value:p});return new Dt(C).toPromise()})).apply(this,arguments)}function Ta(){return(Ta=(0,ne.Z)(function*(E,h){const p=Da(E,!1).get(h),C=yield new Dt(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function oc(E,h){const p=Da(E,!0).delete(h);return new Dt(p).toPromise()}const lt=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,ne.Z)(function*(){return p.db||(p.db=yield Yo()),p.db})()}_withRetries(p){var C=this;return(0,ne.Z)(function*(){let $=0;for(;;)try{const ee=yield C._openDb();return yield p(ee)}catch(ee){if($++>3)throw ee;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,ne.Z)(function*(){return qt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,ne.Z)(function*(){p.receiver=ju._getInstance(function jt(){return qt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,ne.Z)(function*($,ee){return{keyProcessed:(yield p._poll()).includes(ee.key)}});return function($,ee){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,ne.Z)(function*($,ee){return["keyChanged"]});return function($,ee){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,ne.Z)(function*(){var C,$;if(p.activeServiceWorker=yield function Vs(){return Xi.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new bo(p.activeServiceWorker);const ee=yield p.sender._send("ping",{},800);ee&&null!==(C=ee[0])&&void 0!==C&&C.fulfilled&&null!==($=ee[0])&&void 0!==$&&$.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,ne.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function hi(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ne.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Yo();return yield sc(p,Tt,"1"),yield oc(p,Tt),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,ne.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var $=this;return(0,ne.Z)(function*(){return $._withPendingWrite((0,ne.Z)(function*(){return yield $._withRetries(ee=>sc(ee,p,C)),$.localCache[p]=C,$.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,ne.Z)(function*(){const $=yield C._withRetries(ee=>function ba(E,h){return Ta.apply(this,arguments)}(ee,p));return C.localCache[p]=$,$})()}_remove(p){var C=this;return(0,ne.Z)(function*(){return C._withPendingWrite((0,ne.Z)(function*(){return yield C._withRetries($=>oc($,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,ne.Z)(function*(){const C=yield p._withRetries(Ie=>{const $e=Da(Ie,!1).getAll();return new Dt($e).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const $=[],ee=new Set;for(const{fbase_key:Ie,value:$e}of C)ee.add(Ie),JSON.stringify(p.localCache[Ie])!==JSON.stringify($e)&&(p.notifyListeners(Ie,$e),$.push(Ie));for(const Ie of Object.keys(p.localCache))p.localCache[Ie]&&!ee.has(Ie)&&(p.notifyListeners(Ie,null),$.push(Ie));return $})()}notifyListeners(p,C){this.localCache[p]=C;const $=this.listeners[p];if($)for(const ee of Array.from($))ee(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,ne.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();ui("rcb"),new Re(3e4,6e4);class Uo extends Ti{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Qn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Qn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Qn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Cu(E){return V(E.auth,new Uo(E),E.bypassAuthState)}function Ds(E){const{auth:h,user:p}=E;return dt(p,h,"internal-error"),function ri(E,h){return U.apply(this,arguments)}(p,new Uo(E),E.bypassAuthState)}function os(E){return $a.apply(this,arguments)}function $a(){return($a=(0,ne.Z)(function*(E){const{auth:h,user:p}=E;return dt(p,h,"internal-error"),function io(E,h){return li.apply(this,arguments)}(p,new Uo(E),E.bypassAuthState)})).apply(this,arguments)}class Ri{constructor(h,p,C,$,ee=!1){this.auth=h,this.resolver=C,this.user=$,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,ne.Z)(function*(C,$){h.pendingPromise={resolve:C,reject:$};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ee){h.reject(ee)}});return function(C,$){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,ne.Z)(function*(){const{urlResponse:C,sessionId:$,postBody:ee,tenantId:Ie,error:$e,type:St}=h;if($e)return void p.reject($e);const Pt={auth:p.auth,requestUri:C,sessionId:$,tenantId:Ie||void 0,postBody:ee||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(St)(Pt))}catch($t){p.reject($t)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Cu;case"linkViaPopup":case"linkViaRedirect":return os;case"reauthViaPopup":case"reauthViaRedirect":return Ds;default:rt(this.auth,"internal-error")}}resolve(h){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Re(2e3,1e4);const Dl="pendingRedirect",Ci=new Map;class cc extends Ri{constructor(h,p,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,ne.Z)(function*(){let C=Ci.get(p.auth._key());if(!C){try{const ee=(yield function ha(E,h){return Su.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;C=()=>Promise.resolve(ee)}catch($){C=()=>Promise.reject($)}Ci.set(p.auth._key(),C)}return p.bypassAuthState||Ci.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,C=this;return(0,ne.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(C,h);if("unknown"!==h.type){if(h.eventId){const $=yield C.auth._redirectUserForId(h.eventId);if($)return C.user=$,p().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,ne.Z)(function*(){})()}cleanUp(){}}function Su(){return(Su=(0,ne.Z)(function*(E,h){const p=function ru(E){return J(Dl,E.config.apiKey,E.name)}(h),C=function nu(E){return q(E._redirectPersistence)}(E);if(!(yield C._isAvailable()))return!1;const $="true"===(yield C._get(p));return yield C._remove(p),$})).apply(this,arguments)}function Hr(E,h){Ci.set(E._key(),h)}function Pc(E,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,ne.Z)(function*(E,h,p=!1){const C=ge(E),$=function ws(E,h){return h?q(h):(dt(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}(C,h),Ie=yield new cc(C,$,p).execute();return Ie&&!p&&(delete Ie.user._redirectEventId,yield C._persistUserIfCurrent(Ie.user),yield C._setRedirectUser(null,h)),Ie})).apply(this,arguments)}class ga{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(p=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function iu(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ea(E);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var C;if(h.error&&!ea(h)){const $=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(it(this.auth,$))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const C=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bs(h))}saveEventToCache(h){this.cachedEventUids.add(bs(h)),this.lastProcessedEventTime=Date.now()}}function bs(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(h=>h).join("-")}function ea({type:E,error:h}){return"unknown"===E&&"auth/no-auth-event"===h?.code}function Wa(){return(Wa=(0,ne.Z)(function*(E,h={}){return _t(E,"GET","/v1/projects",h)})).apply(this,arguments)}const Sa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ta=/^https?/;function su(){return su=(0,ne.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:h}=yield function ma(E){return Wa.apply(this,arguments)}(E);for(const p of h)try{if(Al(p))return}catch{}rt(E,"unauthorized-domain")}),su.apply(this,arguments)}function Al(E){const h=qe(),{protocol:p,hostname:C}=new URL(h);if(E.startsWith("chrome-extension://")){const Ie=new URL(E);return""===Ie.hostname&&""===C?"chrome-extension:"===p&&E.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Ie.hostname===C}if(!ta.test(p))return!1;if(Sa.test(E))return C===E;const $=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(C)}const kc=new Re(3e4,6e4);function Au(){const E=Wi().___jsl;if(E?.H)for(const h of Object.keys(E.H))if(E.H[h].r=E.H[h].r||[],E.H[h].L=E.H[h].L||[],E.H[h].r=[...E.H[h].L],E.CP)for(let p=0;p<E.CP.length;p++)E.CP[p]=null}let Aa=null;const Ad=new Re(5e3,15e3),Ma="__/auth/iframe",Fc="emulator/auth/iframe",si={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Md=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lr(E){const h=E.config;dt(h.authDomain,E,"auth-domain-config-required");const p=h.emulator?Ke(h,Fc):`https://${E.config.authDomain}/${Ma}`,C={apiKey:h.apiKey,appName:E.name,v:Ge.Jn},$=Md.get(E.config.apiHost);$&&(C.eid=$);const ee=E._getFrameworks();return ee.length&&(C.fw=ee.join(",")),`${p}?${(0,ae.xO)(C).slice(1)}`}function Hu(){return Hu=(0,ne.Z)(function*(E){const h=yield function ou(E){return Aa=Aa||function ya(E){return new Promise((h,p)=>{var C,$,ee;function Ie(){Au(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Au(),p(it(E,"network-request-failed"))},timeout:kc.get()})}if(null!==($=null===(C=Wi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==$&&$.Iframe)h(gapi.iframes.getContext());else{if(null===(ee=Wi().gapi)||void 0===ee||!ee.load){const $e=ui("iframefcb");return Wi()[$e]=()=>{gapi.load?Ie():p(it(E,"network-request-failed"))},Ei(`https://apis.google.com/js/api.js?onload=${$e}`).catch(St=>p(St))}Ie()}}).catch(h=>{throw Aa=null,h})}(E),Aa}(E),p=Wi().gapi;return dt(p,E,"internal-error"),h.open({where:document.body,url:lr(E),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:si,dontclear:!0},C=>new Promise(function(){var $=(0,ne.Z)(function*(ee,Ie){yield C.restyle({setHideOnLeave:!1});const $e=it(E,"network-request-failed"),St=Wi().setTimeout(()=>{Ie($e)},Ad.get());function Pt(){Wi().clearTimeout(St),ee(C)}C.ping(Pt).then(Pt,()=>{Ie($e)})});return function(ee,Ie){return $.apply(this,arguments)}}()))}),Hu.apply(this,arguments)}const dc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class X{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const He="__/auth/handler",Rt="emulator/auth/handler",Nt=encodeURIComponent("fac");function tn(E,h,p,C,$,ee){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,ne.Z)(function*(E,h,p,C,$,ee){dt(E.config.authDomain,E,"auth-domain-config-required"),dt(E.config.apiKey,E,"invalid-api-key");const Ie={apiKey:E.config.apiKey,appName:E.name,authType:p,redirectUrl:C,v:Ge.Jn,eventId:$};if(h instanceof jr){h.setDefaultLanguage(E.languageCode),Ie.providerId=h.providerId||"",(0,ae.xb)(h.getCustomParameters())||(Ie.customParameters=JSON.stringify(h.getCustomParameters()));for(const[$t,or]of Object.entries(ee||{}))Ie[$t]=or}if(h instanceof hn){const $t=h.getScopes().filter(or=>""!==or);$t.length>0&&(Ie.scopes=$t.join(","))}E.tenantId&&(Ie.tid=E.tenantId);const $e=Ie;for(const $t of Object.keys($e))void 0===$e[$t]&&delete $e[$t];const St=yield E._getAppCheckToken(),Pt=St?`#${Nt}=${encodeURIComponent(St)}`:"";return`${function kn({config:E}){return E.emulator?Ke(E,Rt):`https://${E.authDomain}/${He}`}(E)}?${(0,ae.xO)($e).slice(1)}${Pt}`})).apply(this,arguments)}const Mo="webStorageSupport",Lc=class Us{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hs,this._completeRedirectFn=Pc,this._overrideRedirectResult=Hr}_openPopup(h,p,C,$){var ee=this;return(0,ne.Z)(function*(){var Ie;ln(null===(Ie=ee.eventManagers[h._key()])||void 0===Ie?void 0:Ie.manager,"_initialize() not called before _openPopup()");const $e=yield tn(h,p,C,qe(),$);return function pe(E,h,p,C=500,$=600){const ee=Math.max((window.screen.availHeight-$)/2,0).toString(),Ie=Math.max((window.screen.availWidth-C)/2,0).toString();let $e="";const St=Object.assign(Object.assign({},dc),{width:C.toString(),height:$.toString(),top:ee,left:Ie}),Pt=(0,ae.z$)().toLowerCase();p&&($e=rn(Pt)?"_blank":p),It(Pt)&&(h=h||"http://localhost",St.scrollbars="yes");const $t=Object.entries(St).reduce((Ts,[jo,Ki])=>`${Ts}${jo}=${Ki},`,"");if(function Ve(E=(0,ae.z$)()){var h;return Jr(E)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Pt)&&"_self"!==$e)return function Ce(E,h){const p=document.createElement("a");p.href=E,p.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(h||"",$e),new X(null);const or=window.open(h||"",$e,$t);dt(or,E,"popup-blocked");try{or.focus()}catch{}return new X(or)}(h,$e,Zo())})()}_openRedirect(h,p,C,$){var ee=this;return(0,ne.Z)(function*(){return yield ee._originValidation(h),function wu(E){Wi().location.href=E}(yield tn(h,p,C,qe(),$)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:$,promise:ee}=this.eventManagers[p];return $?Promise.resolve($):(ln(ee,"If manager is not set, promise should be"),ee)}const C=this.initAndGetManager(h);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(h){var p=this;return(0,ne.Z)(function*(){const C=yield function qa(E){return Hu.apply(this,arguments)}(h),$=new ga(h);return C.register("authEvent",ee=>(dt(ee?.authEvent,h,"invalid-auth-event"),{status:$.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:$},p.iframes[h._key()]=C,$})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Mo,{type:Mo},$=>{var ee;const Ie=null===(ee=$?.[0])||void 0===ee?void 0:ee[Mo];void 0!==Ie&&p(!!Ie),rt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Sl(E){return su.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ut()||Ht()||Jr()}};var xu="@firebase/auth";class uu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,ne.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const cu=(0,ae.Pz)("authIdTokenMaxAge")||300;let Oh=null;const fc=E=>function(){var h=(0,ne.Z)(function*(p){const C=p&&(yield p.getIdTokenResult()),$=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if($&&$>cu)return;const ee=C?.token;Oh!==ee&&(Oh=ee,yield fetch(E,{method:ee?"POST":"DELETE",headers:ee?{Authorization:`Bearer ${ee}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function yp(E=(0,Ge.Mq)()){const h=(0,Ge.qX)(E,"auth");if(h.isInitialized())return h.getImmediate();const p=function Te(E,h){const p=(0,Ge.qX)(E,"auth");if(p.isInitialized()){const $=p.getImmediate(),ee=p.getOptions();if((0,ae.vZ)(ee,h??{}))return $;rt($,"already-initialized")}return p.initialize({options:h})}(E,{popupRedirectResolver:Lc,persistence:[lt,Ja,hs]}),C=(0,ae.Pz)("authTokenSyncURL");if(C){const ee=fc(C);(function An(E,h,p){(0,ae.m9)(E).beforeAuthStateChanged(h,p)})(p,ee,()=>ee(p.currentUser)),function gr(E,h,p,C){(0,ae.m9)(E).onIdTokenChanged(h,p,C)}(p,Ie=>ee(Ie))}const $=(0,ae.q4)("auth");return $&&function gt(E,h,p){const C=ge(E);dt(C._canInitEmulator,C,"emulator-config-failed"),dt(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const $=!!p?.disableWarnings,ee=Ft(h),{host:Ie,port:$e}=function Sn(E){const h=Ft(E),p=/(\/\/)?([^?#/]+)/.exec(E.substr(h.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(C);if($){const ee=$[1];return{host:ee,port:yn(C.substr(ee.length+1))}}{const[ee,Ie]=C.split(":");return{host:ee,port:yn(Ie)}}}(h);C.config.emulator={url:`${ee}//${Ie}${null===$e?"":`:${$e}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ie,port:$e,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function Dn(){function E(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(p,`http://${$}`),p}!function Uc(E){(0,Ge.Xd)(new le.wA("auth",(h,{options:p})=>{const C=h.getProvider("app").getImmediate(),$=h.getProvider("heartbeat"),ee=h.getProvider("app-check-internal"),{apiKey:Ie,authDomain:$e}=C.options;dt(Ie&&!Ie.includes(":"),"invalid-api-key",{appName:C.name});const St={apiKey:Ie,authDomain:$e,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:on(E)},Pt=new xs(C,$,ee,St);return function Ze(E,h){const p=h?.persistence||[],C=(Array.isArray(p)?p:[p]).map(q);h?.errorMap&&E._updateErrorMap(h.errorMap),E._initializeWithPersistence(C,h?.popupRedirectResolver)}(Pt,p),Pt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,C)=>{h.getProvider("auth-internal").initialize()})),(0,Ge.Xd)(new le.wA("auth-internal",h=>{const p=ge(h.getProvider("auth").getImmediate());return new uu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ge.KN)(xu,"0.23.2",function Vc(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,Ge.KN)(xu,"0.23.2","esm2017")}("Browser");class lu{constructor(h){return h}}class du{constructor(){return(0,y.vb)("auth")}}const Bs=new ue.OlP("angularfire2.auth-instances");function xl(E){return(h,p)=>{const C=h.runOutsideAngular(()=>E(p));return new lu(C)}}const jc={provide:du,deps:[[new ue.FiY,Bs]]},Ph={provide:lu,useFactory:function xd(E,h){const p=(0,y.JM)("auth",E,h);return p&&new lu(p)},deps:[[new ue.FiY,Bs],K.Ot]};let Rd=(()=>{class E{constructor(){(0,be.KN)("angularfire",y.q4.full,"auth")}}return E.\u0275fac=function(p){return new(p||E)},E.\u0275mod=ue.oAB({type:E}),E.\u0275inj=ue.cJS({providers:[Ph,jc]}),E})();function $c(E,...h){return{ngModule:Rd,providers:[{provide:Bs,useFactory:xl(E),multi:!0,deps:[ue.R0b,ue.zs3,y.HU,K.z6,[new ue.FiY,_e.nm],...h]}]}}const Nl=(0,y.u3)(wo,!0),_p=(0,y.u3)(yp,!0),Gu=(0,y.u3)(Lr,!0),zu=(0,y.u3)(Fa,!0),Am=(0,y.u3)(Qi,!0)},5723:(an,Xe,W)=>{W.d(Xe,{gg:()=>El,hJ:()=>p0,BS:()=>Ys,JU:()=>nv,ad:()=>_0,Cm:()=>WE,IO:()=>D0,pl:()=>S0,r7:()=>av,ar:()=>uv});var Ee,y=W(456),ue=W(4946),K=W(5609),be=W(8726),_e=W(3182),ne=W(7247),ae=W(5861),Ge=W(534),je=W(4537),fe=W(7879),le=W(9058),ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ze={},vt=vt||{},nt=ke||self;function Ct(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Kt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var jn="closure_uid_"+(1e9*Math.random()>>>0),We=0;function ot(i,e,n){return i.call.apply(i.bind,arguments)}function Ye(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function at(i,e,n){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ot:Ye).apply(null,arguments)}function mt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function rt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[u].apply(o,f)}}function it(){this.s=this.s,this.o=this.o}it.prototype.s=!1,it.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Fn(i){Object.prototype.hasOwnProperty.call(i,jn)&&i[jn]||(i[jn]=++We)}(this)},it.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Tr(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function dt(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Ct(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function Ae(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var ln=function(){if(!nt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{nt.addEventListener("test",()=>{},e),nt.removeEventListener("test",()=>{},e)}catch{}return i}();function qe(i){return/^[\s\xa0]*$/.test(i)}function Et(){var i=nt.navigator;return i&&(i=i.userAgent)?i:""}function ye(i){return-1!=Et().indexOf(i)}function Fe(i){return Fe[" "](i),i}Fe[" "]=function(){};var un,i,Re=ye("Opera"),Ke=ye("Trident")||ye("MSIE"),ft=ye("Edge"),Bt=ft||Ke,_n=ye("Gecko")&&!(-1!=Et().toLowerCase().indexOf("webkit")&&!ye("Edge"))&&!(ye("Trident")||ye("MSIE"))&&!ye("Edge"),Xt=-1!=Et().toLowerCase().indexOf("webkit")&&!ye("Edge");function _t(){var i=nt.document;return i?i.documentMode:void 0}e:{var Kn="",xn=(i=Et(),_n?/rv:([^\);]+)(\)|;)/.exec(i):ft?/Edge\/([\d\.]+)/.exec(i):Ke?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Xt?/WebKit\/(\S+)/.exec(i):Re?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(xn&&(Kn=xn?xn[1]:""),Ke){var Rn=_t();if(null!=Rn&&Rn>parseFloat(Kn)){un=String(Rn);break e}}un=Kn}var Ir=nt.document&&Ke&&(_t()||parseInt(un,10))||void 0;function Tn(i,e){if(Ae.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(_n){e:{try{Fe(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:nn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Tn.$.h.call(this)}}rt(Tn,Ae);var nn={2:"touch",3:"pen",4:"mouse"};Tn.prototype.h=function(){Tn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),zt=0;function zr(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++zt,this.fa=this.ia=!1}function bn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function hr(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function dn(i){const e={};for(const n in i)e[n]=i[n];return e}const Zn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<Zn.length;l++)n=Zn[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Vr(i){this.src=i,this.g={},this.h=0}function In(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=Mn(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(bn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function tr(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Vr.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=tr(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new zr(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var Ur="closure_lm_"+(1e6*Math.random()|0),$n={};function Bi(i,e,n,o,u){if(o&&o.once)return fi(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Bi(i,e[l],n,o,u);return null}return n=Jt(n),i&&i[Un]?i.O(e,n,Kt(o)?!!o.capture:!!o,u):bt(i,e,n,!1,o,u)}function bt(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=Kt(u)?!!u.capture:!!u,D=Xr(i);if(D||(i[Ur]=D=new Vr(i)),(n=D.add(e,n,o,f,l)).proxy)return n;if(o=function vi(){const e=Zt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)ln||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(_r(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function fi(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)fi(i,e[l],n,o,u);return null}return n=Jt(n),i&&i[Un]?i.P(e,n,Kt(o)?!!o.capture:!!o,u):bt(i,e,n,!0,o,u)}function Mr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Mr(i,e[l],n,o,u);else o=Kt(o)?!!o.capture:!!o,n=Jt(n),i&&i[Un]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=tr(l=i.g[e],n,o,u))&&(bn(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Xr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=tr(e,n,o,u)),(n=-1<i?e[i]:null)&&Br(n))}function Br(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Un])In(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(_r(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Xr(e))?(In(n,i),0==n.h&&(n.src=null,e[Ur]=null)):bn(i)}}}function _r(i){return i in $n?$n[i]:$n[i]="on"+i}function Zt(i,e){if(i.fa)i=!0;else{e=new Tn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Br(i),i=n.call(o,e)}return i}function Xr(i){return(i=i[Ur])instanceof Vr?i:null}var _i="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jt(i){return"function"==typeof i?i:(i[_i]||(i[_i]=function(e){return i.handleEvent(e)}),i[_i])}function Gn(){it.call(this),this.i=new Vr(this),this.S=this,this.J=null}function Wt(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Ae(e,i);else if(e instanceof Ae)e.target=e.target||i;else{var u=e;wr(e=new Ae(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=er(f,o,!0,e)&&u}if(u=er(f=e.g=i,o,!0,e)&&u,u=er(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=er(f=e.g=n[l],o,!1,e)&&u}function er(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var D=f.listener,N=f.la||f.src;f.ia&&In(i.i,f),u=!1!==D.call(N,o)&&u}}return u&&!o.defaultPrevented}rt(Gn,it),Gn.prototype[Un]=!0,Gn.prototype.removeEventListener=function(i,e,n,o){Mr(this,i,e,n,o)},Gn.prototype.N=function(){if(Gn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)bn(n[o]);delete i.g[e],i.h--}}this.J=null},Gn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Gn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var he=nt.JSON.stringify;function Z(){var i=Nn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var J=new class q{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new we,i=>i.reset());class we{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function et(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function It(i){nt.setTimeout(()=>{throw i},0)}let Ht,rn=!1,Nn=new class Y{constructor(){this.h=this.g=null}add(e,n){const o=J.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},sn=()=>{const i=nt.Promise.resolve(void 0);Ht=()=>{i.then(zn)}};var zn=()=>{for(var i;i=Z();){try{i.h.call(i.g)}catch(n){It(n)}var e=J;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}rn=!1};function Dr(i,e){Gn.call(this),this.h=i||1,this.g=e||nt,this.j=at(this.qb,this),this.l=Date.now()}function Jr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function oi(i,e,n){if("function"==typeof i)n&&(i=at(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=at(i.handleEvent,i)}return 2147483647<Number(e)?-1:nt.setTimeout(i,e||0)}function Ve(i){i.g=oi(()=>{i.g=null,i.i&&(i.i=!1,Ve(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}rt(Dr,Gn),(Ee=Dr.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wt(this,"tick"),this.ga&&(Jr(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){Dr.$.N.call(this),Jr(this),delete this.g};class Se extends it{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(i){it.call(this),this.h=i,this.g={}}rt(ut,it);var Mt=[];function on(i,e,n,o){Array.isArray(n)||(n&&(Mt[0]=n.toString()),n=Mt);for(var u=0;u<n.length;u++){var l=Bi(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Ot(i){hr(i.g,function(e,n){this.g.hasOwnProperty(n)&&Br(e)},i),i.g={}}function wn(){this.g=!0}function ai(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return he(n)}catch{return e}}(i,n)+(o?" "+o:"")})}ut.prototype.N=function(){ut.$.N.call(this),Ot(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wn.prototype.Ea=function(){this.g=!1},wn.prototype.info=function(){};var Wr={},Ei=null;function ui(){return Ei=Ei||new Gn}function Ii(i){Ae.call(this,Wr.Ta,i)}function On(i){const e=ui();Wt(e,new Ii(e))}function es(i,e){Ae.call(this,Wr.STAT_EVENT,i),this.stat=e}function Bn(i){const e=ui();Wt(e,new es(e,i))}function ji(i,e){Ae.call(this,Wr.Ua,i),this.size=e}function Pi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return nt.setTimeout(function(){i()},e)}Wr.Ta="serverreachability",rt(Ii,Ae),Wr.STAT_EVENT="statevent",rt(es,Ae),Wr.Ua="timingevent",rt(ji,Ae);var pi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ge(){}function Te(){}ge.prototype.h=null;var Sn,Ze={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gt(){Ae.call(this,"d")}function Ft(){Ae.call(this,"c")}function yn(){}function Dn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new ut(this),this.P=ei,this.V=new Dr(i=Bt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}rt(gt,Ae),rt(Ft,Ae),rt(yn,ge),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},Sn=new yn;var ei=45e3,qr={},ar={};function Qs(i,e,n){i.L=1,i.v=ns($i(e)),i.s=n,i.S=!0,xo(i,null)}function xo(i,e){i.G=Date.now(),ts(i),i.A=$i(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),Si(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Ti,i.g=Gs(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Se(at(i.Pa,i,i.g),i.O)),on(i.U,i.g,"readystatechange",i.nb),e=i.I?dn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),On(),function Pr(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",D=l.split("&"),N=0;N<D.length;N++){var L=D[N].split("=");if(1<L.length){var Q=L[0];L=L[1];var de=Q.split("_");f=2<=de.length&&"type"==de[1]?f+(Q+"=")+L+"&":f+(Q+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function vo(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Rs(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=Xs(i,n),u==ar){4==e&&(i.o=4,Bn(14),o=!1),ai(i.j,i.m,null,"[Incomplete Response]");break}if(u==qr){i.o=4,Bn(15),ai(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}ai(i.j,i.m,u,null),$s(i,u)}vo(i)&&u!=ar&&u!=qr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Bn(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ii(e),e.M=!0,Bn(11))):(ai(i.j,i.m,n,"[Invalid Chunked Response]"),ys(i),ms(i))}function Xs(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?ar:(n=Number(e.substring(n,o)),isNaN(n)?qr:(o+=1)+n>e.length?ar:(e=e.slice(o,o+n),i.C=o+n,e))}function ts(i){i.Y=Date.now()+i.P,Ro(i,i.P)}function Ro(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Pi(at(i.lb,i),e)}function Js(i){i.B&&(nt.clearTimeout(i.B),i.B=null)}function ms(i){0==i.l.H||i.J||No(i.l,i)}function ys(i){Js(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Jr(i.V),Ot(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function $s(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Fs(n.i,i)))if(!i.K&&Fs(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;zi(n),Lt(n)}Ai(n),Bn(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Pi(at(n.ib,n),6e3));if(1>=ks(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Io(n,11)}else if((i.K||n.g==i)&&zi(n),!qe(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let L=u[e];if(n.V=L[0],L=L[1],2==n.H)if("c"==L[0]){n.K=L[1],n.pa=L[2];const Q=L[3];null!=Q&&(n.ra=Q,n.l.info("VER="+n.ra));const de=L[4];null!=de&&(n.Ga=de,n.l.info("SVER="+n.Ga));const Oe=L[5];null!=Oe&&"number"==typeof Oe&&0<Oe&&(n.L=o=1.5*Oe,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const Qe=i.g;if(Qe){const wt=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wt){var l=o.i;l.g||-1==wt.indexOf("spdy")&&-1==wt.indexOf("quic")&&-1==wt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Sr(l,l.h),l.h=null))}if(o.F){const Ut=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ut&&(o.Da=Ut,cn(o.I,o.F,Ut))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=wo(o,o.J?o.pa:null,o.Y),f.K){Hs(o.i,f);var D=f,N=o.L;N&&D.setTimeout(N),D.B&&(Js(D),ts(D)),o.g=f}else Nr(o);0<n.j.length&&Er(n)}else"stop"!=L[0]&&"close"!=L[0]||Io(n,7);else 3==n.H&&("stop"==L[0]||"close"==L[0]?"stop"==L[0]?Io(n,7):ct(n):"noop"!=L[0]&&n.h&&n.h.Aa(L),n.A=0)}On()}catch{}}function Ho(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ct(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function to(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ct(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function eo(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ct(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(Ee=Dn.prototype).setTimeout=function(i){this.P=i},Ee.nb=function(i){i=i.target;const e=this.M;e&&3==ce(i)?e.l():this.Pa(i)},Ee.Pa=function(i){try{if(i==this.g)e:{const Q=ce(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||Bt||this.g&&(this.h.h||this.g.ja()||De(this.g)))){this.J||4!=Q||7==e||On(),Js(this);var n=this.g.da();this.ca=n;t:if(vo(this)){var o=De(this.g);i="";var u=o.length,l=4==ce(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ys(this),ms(this);var f="";break t}this.h.i=new nt.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function Yn(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,Q,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,N=this.g;if((D=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qe(D)){var L=D;break t}}L=null}if(!(n=L)){this.i=!1,this.o=3,Bn(12),ys(this),ms(this);break e}ai(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$s(this,n)}this.S?(Rs(this,Q,f),Bt&&this.i&&3==Q&&(on(this.U,this.V,"tick",this.mb),this.V.start())):(ai(this.j,this.m,f,null),$s(this,f)),4==Q&&ys(this),this.i&&!this.J&&(4==Q?No(this.l,this):(this.i=!1,ts(this)))}else(function x(i){const e={};i=(i.g&&2<=ce(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(qe(i[o]))continue;var n=et(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function gn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),ys(this),ms(this)}}}catch{}},Ee.mb=function(){if(this.g){var i=ce(this.g),e=this.g.ja();this.C<e.length&&(Js(this),Rs(this,i,e),this.i&&4!=i&&ts(this))}},Ee.cancel=function(){this.J=!0,ys(this)},Ee.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function as(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(On(),Bn(17)),ys(this),this.o=2,ms(this)):Ro(this,this.Y-i)};var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ti(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ti){this.h=i.h,us(this,i.j),this.s=i.s,this.g=i.g,mn(this,i.m),this.l=i.l;var e=i.i,n=new pn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Qn(this,n),this.o=i.o}else i&&(e=String(i).match(no))?(this.h=!1,us(this,e[1]||"",!0),this.s=kr(e[2]||""),this.g=kr(e[3]||"",!0),mn(this,e[4]),this.l=kr(e[5]||"",!0),Qn(this,e[6]||"",!0),this.o=kr(e[7]||"")):(this.h=!1,this.i=new pn(null,this.h))}function $i(i){return new ti(i)}function us(i,e,n){i.j=n?kr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function mn(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Qn(i,e,n){e instanceof pn?(i.i=e,function xr(i,e){e&&!i.j&&(Wn(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(ci(this,o),Si(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=_o(e,ur)),i.i=new pn(e,i.h))}function cn(i,e,n){i.i.set(e,n)}function ns(i){return cn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function kr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function _o(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Ns),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ns(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ti.prototype.toString=function(){var i=[],e=this.j;e&&i.push(_o(e,Os,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(_o(e,Os,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(_o(n,"/"==n.charAt(0)?Ps:ua,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",_o(n,At)),i.join("")};var Os=/[#\/\?@]/g,ua=/[#\?:]/g,Ps=/[#\?]/g,ur=/[#\?@]/g,At=/#/g;function pn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Wn(i){i.g||(i.g=new Map,i.h=0,i.i&&function aa(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ci(i,e){Wn(i),e=ni(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ro(i,e){return Wn(i),e=ni(i,e),i.g.has(e)}function Si(i,e,n){ci(i,e),0<n.length&&(i.i=null,i.g.set(ni(i,e),Tr(n)),i.h+=n.length)}function ni(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function jr(i){this.l=i||hn,i=nt.PerformanceNavigationTiming?0<(i=nt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(nt.g&&nt.g.Ka&&nt.g.Ka()&&nt.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=pn.prototype).add=function(i,e){Wn(this),this.i=null,i=ni(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ee.forEach=function(i,e){Wn(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ee.ta=function(){Wn(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},Ee.Z=function(i){Wn(this);let e=[];if("string"==typeof i)ro(this,i)&&(e=e.concat(this.g.get(ni(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ee.set=function(i,e){return Wn(this),this.i=null,ro(this,i=ni(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ee.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var hn=10;function rs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ks(i){return i.h?1:i.g?i.g.size:0}function Fs(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Sr(i,e){i.g?i.g.add(e):i.h=e}function Hs(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function gi(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Tr(i.i)}jr.prototype.cancel=function(){if(this.i=gi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ki=class{stringify(i){return nt.JSON.stringify(i,void 0)}parse(i){return nt.JSON.parse(i,void 0)}};function vs(){this.g=new ki}function Ea(i,e,n){const o=n||"";try{Ho(i,function(u,l){let f=u;Kt(u)&&(f=he(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function is(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Zr(i){this.l=i.fc||null,this.j=i.ob||!1}function Ls(i,e){Gn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Pn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(Zr,ge),Zr.prototype.g=function(){return new Ls(this.l,this.j)},Zr.prototype.i=function(i){return function(){return i}}({}),rt(Ls,Gn);var Pn=0;function Go(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function mi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,_s(i)}function _s(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ee=Ls.prototype).open=function(i,e){if(this.readyState!=Pn)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,_s(this)},Ee.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||nt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mi(this)),this.readyState=Pn},Ee.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof nt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Go(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?mi(this):_s(this),3==this.readyState&&Go(this)}},Ee.Za=function(i){this.g&&(this.response=this.responseText=i,mi(this))},Ee.Ya=function(i){this.g&&(this.response=i,mi(this))},Ee.ka=function(){this.g&&mi(this)},Ee.setRequestHeader=function(i,e){this.v.append(i,e)},Ee.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Yr=nt.JSON.parse;function Rr(i){Gn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hi,this.L=this.M=!1}rt(Rr,Gn);var Hi="",io=/^https?$/i,li=["POST","PUT"];function di(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ri(i),V(i)}function ri(i){i.F||(i.F=!0,Wt(i,"complete"),Wt(i,"error"))}function U(i){if(i.h&&typeof vt<"u"&&(!i.C[1]||4!=ce(i)||2!=i.da()))if(i.v&&4==ce(i))oi(i.La,0,i);else if(Wt(i,"readystatechange"),4==ce(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(no)[1]||null;!u&&nt.self&&nt.self.location&&(u=nt.self.location.protocol.slice(0,-1)),o=!io.test(u?u.toLowerCase():"")}n=o}if(n)Wt(i,"complete"),Wt(i,"success");else{i.m=6;try{var l=2<ce(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",ri(i)}}finally{V(i)}}}function V(i,e){if(i.g){te(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Wt(i,"ready");try{n.onreadystatechange=o}catch{}}}function te(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(nt.clearTimeout(i.A),i.A=null)}function ce(i){return i.g?i.g.readyState:0}function De(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Hi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function O(i){let e="";return hr(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function A(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=O(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):cn(i,e,n))}function j(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function se(i){this.Ga=0,this.j=[],this.l=new wn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=j("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=j("baseRetryDelayMs",5e3,i),this.hb=j("retryDelaySeedMs",1e4,i),this.eb=j("forwardChannelMaxRetries",2,i),this.xa=j("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new jr(i&&i.concurrentRequestLimit),this.Ja=new vs,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ct(i){if(Xn(i),3==i.H){var e=i.W++,n=$i(i.I);if(cn(n,"SID",i.K),cn(n,"RID",e),cn(n,"TYPE","terminate"),nr(i,n),(e=new Dn(i,i.l,e)).L=2,e.v=ns($i(n)),n=!1,nt.navigator&&nt.navigator.sendBeacon)try{n=nt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&nt.Image&&((new Image).src=e.v,n=!0),n||(e.g=Gs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ts(e)}ca(i)}function Lt(i){i.g&&(ii(i),i.g.cancel(),i.g=null)}function Xn(i){Lt(i),i.u&&(nt.clearTimeout(i.u),i.u=null),zi(i),i.i.cancel(),i.m&&("number"==typeof i.m&&nt.clearTimeout(i.m),i.m=null)}function Er(i){if(!rs(i.i)&&!i.m){i.m=!0;var e=i.Na;Ht||sn(),rn||(Ht(),rn=!0),Nn.add(e,i),i.C=0}}function yi(i,e){var n;n=e?e.m:i.W++;const o=$i(i.I);cn(o,"SID",i.K),cn(o,"RID",n),cn(o,"AID",i.V),nr(i,o),i.o&&i.s&&A(o,i.o,i.s),n=new Dn(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Gi(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Sr(i.i,n),Qs(n,o,e)}function nr(i,e){i.na&&hr(i.na,function(n,o){cn(e,o,n)}),i.h&&Ho({},function(n,o){cn(e,o,n)})}function Gi(i,e,n){n=Math.min(i.j.length,n);var o=i.h?at(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let D=!0;for(let N=0;N<n;N++){let L=u[N].g;const Q=u[N].map;if(L-=l,0>L)l=Math.max(0,u[N].g-100),D=!1;else try{Ea(Q,f,"req"+L+"_")}catch{o&&o(Q)}}if(D){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function Nr(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Ht||sn(),rn||(Ht(),rn=!0),Nn.add(e,i),i.A=0}}function Ai(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Pi(at(i.Ma,i),so(i,i.A)),i.A++,0))}function ii(i){null!=i.B&&(nt.clearTimeout(i.B),i.B=null)}function Eo(i){i.g=new Dn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=$i(i.wa);cn(e,"RID","rpc"),cn(e,"SID",i.K),cn(e,"AID",i.V),cn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&cn(e,"TO",i.qa),cn(e,"TYPE","xmlhttp"),nr(i,e),i.o&&i.s&&A(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=ns($i(e)),n.s=null,n.S=!0,xo(n,i)}function zi(i){null!=i.v&&(nt.clearTimeout(i.v),i.v=null)}function No(i,e){var n=null;if(i.g==e){zi(i),ii(i),i.g=null;var o=2}else{if(!Fs(i.i,e))return;n=e.F,Hs(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Wt(o=ui(),new ji(o,n)),Er(i)}else Nr(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Cr(i,e){return!(ks(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Pi(at(i.Na,i,e),so(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ai(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Io(i,5);break;case 4:Io(i,10);break;case 3:Io(i,6);break;default:Io(i,2)}}function so(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Io(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=at(i.pb,i);n||(n=new ti("//www.google.com/images/cleardot.gif"),nt.location&&"http"==nt.location.protocol||us(n,"https"),ns(n)),function cs(i,e){const n=new wn;if(nt.Image){const o=new Image;o.onload=mt(is,n,o,"TestLoadImage: loaded",!0,e),o.onerror=mt(is,n,o,"TestLoadImage: error",!1,e),o.onabort=mt(is,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=mt(is,n,o,"TestLoadImage: timeout",!1,e),nt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Bn(2);i.H=0,i.h&&i.h.za(e),ca(i),Xn(i)}function ca(i){if(i.H=0,i.ma=[],i.h){const e=gi(i.i);(0!=e.length||0!=i.j.length)&&(dt(i.ma,e),dt(i.ma,i.j),i.i.i.length=0,Tr(i.j),i.j.length=0),i.h.ya()}}function wo(i,e,n){var o=n instanceof ti?$i(n):new ti(n);if(""!=o.g)e&&(o.g=e+"."+o.g),mn(o,o.m);else{var u=nt.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new ti(null);o&&us(l,o),e&&(l.g=e),u&&mn(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&cn(o,n,e),cn(o,"VER",i.ra),nr(i,o),o}function Gs(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rr(n&&i.Ha&&!i.va?new Zr({ob:!0}):i.va)).Oa(i.J),e}function Qi(){}function Pa(){if(Ke&&!(10<=Number(Ir)))throw Error("Environmental error: no available transport.")}function fr(i,e){Gn.call(this),this.g=new se(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!qe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qe(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Do(this)}function Oo(i){gt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ls(){Ft.call(this),this.status=1}function Do(i){this.g=i}function ss(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Wo(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function rr(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(Ee=Rr.prototype).Oa=function(i){this.M=i},Ee.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sn.g(),this.C=function me(i){return i.h||(i.h=i.i())}(this.u?this.u:Sn),this.g.onreadystatechange=at(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void di(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=nt.FormData&&i instanceof nt.FormData,!(0<=Mn(li,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{te(this),0<this.B&&((this.L=function zo(i){return Ke&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.ua,this)):this.A=oi(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){di(this,l)}},Ee.ua=function(){typeof vt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))},Ee.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Wt(this,"complete"),Wt(this,"abort"),V(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),V(this,!0)),Rr.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?U(this):this.kb())},Ee.kb=function(){U(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<ce(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Yr(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=se.prototype).ra=8,Ee.H=1,Ee.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Dn(this,this.l,i);let l=this.s;if(this.U&&(l?(l=dn(l),wr(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Gi(this,u,e),cn(n=$i(this.I),"RID",i),cn(n,"CVER",22),this.F&&cn(n,"X-HTTP-Session-Id",this.F),nr(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(O(l)))+"&"+e:this.o&&A(n,this.o,l)),Sr(this.i,u),this.bb&&cn(n,"TYPE","init"),this.P?(cn(n,"$req",e),cn(n,"SID","null"),u.aa=!0,Qs(u,n,null)):Qs(u,n,e),this.H=2}}else 3==this.H&&(i?yi(this,i):0==this.j.length||rs(this.i)||yi(this))},Ee.Ma=function(){if(this.u=null,Eo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Pi(at(this.jb,this),i)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),Lt(this),Eo(this))},Ee.ib=function(){null!=this.v&&(this.v=null,Lt(this),Ai(this),Bn(19))},Ee.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=Qi.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},Pa.prototype.g=function(i,e){return new fr(i,e)},rt(fr,Gn),fr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Bn(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=wo(i,null,i.Y),Er(i)},fr.prototype.close=function(){ct(this.g)},fr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=he(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Er(e)},fr.prototype.N=function(){this.g.h=null,delete this.j,ct(this.g),delete this.g,fr.$.N.call(this)},rt(Oo,gt),rt(ls,Ft),rt(Do,Qi),Do.prototype.Ba=function(){Wt(this.g,"a")},Do.prototype.Aa=function(i){Wt(this.g,new Oo(i))},Do.prototype.za=function(i){Wt(this.g,new ls)},Do.prototype.ya=function(){Wt(this.g,"b")},rt(ss,function ka(){this.blockSize=-1}),ss.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ss.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Wo(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Wo(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Wo(this,o),u=0;break}}this.h=u,this.i+=e},ss.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Fa={};function qo(i){return-128<=i&&128>i?function Be(i,e){var n=Fa;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new rr([0|e],0>e?-1:0)}):new rr([0|i],0>i?-1:0)}function oo(i){if(isNaN(i)||!isFinite(i))return ao;if(0>i)return wi(oo(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=La;return new rr(e,0)}var La=4294967296,ao=qo(0),Ko=qo(1),Co=qo(16777216);function Es(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Is(i){return-1==i.h}function wi(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new rr(n,~i.h).add(Ko)}function da(i,e){return i.add(wi(e))}function w(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function H(i,e){this.g=i,this.h=e}function R(i,e){if(Es(e))throw Error("division by zero");if(Es(i))return new H(ao,ao);if(Is(i))return e=R(wi(i),e),new H(wi(e.g),wi(e.h));if(Is(e))return e=R(i,wi(e)),new H(wi(e.g),e.h);if(30<i.g.length){if(Is(i)||Is(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ko,o=e;0>=o.X(i);)n=B(n),o=B(o);var u=oe(n,1),l=oe(o,1);for(o=oe(o,2),n=oe(n,2);!Es(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=oe(o,1),n=oe(n,1)}return e=da(i,u.R(e)),new H(u,e)}for(u=ao;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=oo(n)).R(e);Is(f)||0<f.X(i);)f=(l=oo(n-=o)).R(e);Es(l)&&(l=Ko),u=u.add(l),i=da(i,f)}return new H(u,i)}function B(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new rr(n,i.h)}function oe(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new rr(u,i.h)}(Ee=rr.prototype).ea=function(){if(Is(this))return-wi(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:La+o)*e,e*=La}return i},Ee.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Es(this))return"0";if(Is(this))return"-"+wi(this).toString(i);for(var e=oo(Math.pow(i,6)),n=this,o="";;){var u=R(n,e).g,l=((0<(n=da(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Es(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},Ee.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ee.X=function(i){return Is(i=da(this,i))?-1:Es(i)?0:1},Ee.abs=function(){return Is(this)?wi(this):this},Ee.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new rr(n,-2147483648&n[n.length-1]?-1:0)},Ee.R=function(i){if(Es(this)||Es(i))return ao;if(Is(this))return Is(i)?wi(this).R(wi(i)):wi(wi(this).R(i));if(Is(i))return wi(this.R(wi(i)));if(0>this.X(Co)&&0>i.X(Co))return oo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),D=i.D(u)>>>16,N=65535&i.D(u);n[2*o+2*u]+=f*N,w(n,2*o+2*u),n[2*o+2*u+1]+=l*N,w(n,2*o+2*u+1),n[2*o+2*u+1]+=f*D,w(n,2*o+2*u+1),n[2*o+2*u+2]+=l*D,w(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new rr(n,0)},Ee.gb=function(i){return R(this,i).h},Ee.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new rr(n,this.h&i.h)},Ee.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new rr(n,this.h|i.h)},Ee.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new rr(n,this.h^i.h)},Pa.prototype.createWebChannel=Pa.prototype.g,fr.prototype.send=fr.prototype.u,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,xs.COMPLETE="complete",Te.EventType=Ze,Ze.OPEN="a",Ze.CLOSE="b",Ze.ERROR="c",Ze.MESSAGE="d",Gn.prototype.listen=Gn.prototype.O,Rr.prototype.listenOnce=Rr.prototype.P,Rr.prototype.getLastError=Rr.prototype.Sa,Rr.prototype.getLastErrorCode=Rr.prototype.Ia,Rr.prototype.getStatus=Rr.prototype.da,Rr.prototype.getResponseJson=Rr.prototype.Wa,Rr.prototype.getResponseText=Rr.prototype.ja,Rr.prototype.send=Rr.prototype.ha,Rr.prototype.setWithCredentials=Rr.prototype.Oa,ss.prototype.digest=ss.prototype.l,ss.prototype.reset=ss.prototype.reset,ss.prototype.update=ss.prototype.j,rr.prototype.add=rr.prototype.add,rr.prototype.multiply=rr.prototype.R,rr.prototype.modulo=rr.prototype.gb,rr.prototype.compare=rr.prototype.X,rr.prototype.toNumber=rr.prototype.ea,rr.prototype.toString=rr.prototype.toString,rr.prototype.getBits=rr.prototype.D,rr.fromNumber=oo,rr.fromString=function la(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return wi(la(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=oo(Math.pow(e,8)),o=ao,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=oo(Math.pow(e,l)),o=o.R(l).add(oo(f))):o=(o=o.R(n)).add(oo(f))}return o};var Le=ze.createWebChannelTransport=function(){return new Pa},tt=ze.getStatEventTarget=function(){return ui()},Yt=ze.ErrorCode=pi,Fr=ze.EventType=xs,Kr=ze.Event=Wr,gr=ze.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},An=ze.FetchXmlHttpFactory=Zr,Lr=ze.WebChannel=Te,mr=ze.XhrIo=Rr,Mi=ze.Md5=ss,ds=ze.Integer=rr;const uo="@firebase/firestore";class Or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let $r="9.23.0";const xi=new fe.Yd("@firebase/firestore");function Po(){return xi.logLevel}function pt(i,...e){if(xi.logLevel<=fe.in.DEBUG){const n=e.map(Va);xi.debug(`Firestore (${$r}): ${i}`,...n)}}function Di(i,...e){if(xi.logLevel<=fe.in.ERROR){const n=e.map(Va);xi.error(`Firestore (${$r}): ${i}`,...n)}}function co(i,...e){if(xi.logLevel<=fe.in.WARN){const n=e.map(Va);xi.warn(`Firestore (${$r}): ${i}`,...n)}}function Va(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Vt(i="Unexpected state"){const e=`FIRESTORE (${$r}) INTERNAL ASSERTION FAILED: `+i;throw Di(e),new Error(e)}function en(i,e){i||Vt()}function Tt(i,e){return i}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends le.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ic{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Or.UNAUTHENTICATED))}shutdown(){}}class Ja{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bu{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=L=>this.i!==u?(u=this.i,n(L)):Promise.resolve();let f=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Fi,e.enqueueRetryable(()=>l(this.currentUser))};const D=()=>{const L=f;e.enqueueRetryable((0,ae.Z)(function*(){yield L.promise,yield l(o.currentUser)}))},N=L=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=L,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(L=>N(L)),setTimeout(()=>{if(!this.auth){const L=this.t.getImmediate({optional:!0});L?N(L):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Fi)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(en("string"==typeof o.accessToken),new ic(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return en(null===e||"string"==typeof e),new Or(e)}}class hs{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Iu{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new hs(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ju{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zo{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(en("string"==typeof n.token),this.T=n.token,new ju(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class wu{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Wi(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function qt(i,e){return i<e?-1:i>e?1:0}function Vs(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class hi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hi.fromMillis(Date.now())}static fromDate(e){return hi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new hi(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new hi(0,0))}static max(){return new jt(new hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wa{constructor(e,n,o){void 0===n?n=0:n>e.length&&Vt(),void 0===o?o=e.length-n:o>e.length-n&&Vt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===wa.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wa?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yr extends wa{construct(e,n,o){return new yr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new st(Ue.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new yr(n)}static emptyPath(){return new yr([])}}const $u=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends wa{construct(e,n,o){return new Gt(e,n,o)}static isValidIdentifier(e){return $u.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new st(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new st(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new st(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=N,u+=2}else"`"===D?(f=!f,u++):"."!==D||f?(o+=D,u++):(l(),u++)}if(l(),f)throw new st(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(yr.fromString(e))}static fromName(e){return new Dt(yr.fromString(e).popFirst(5))}static empty(){return new Dt(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return yr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new yr(e.slice()))}}function ac(i){return new lo(i.readTime,i.key,-1)}class lo{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new lo(jt.min(),Dt.empty(),-1)}static max(){return new lo(jt.max(),Dt.empty(),-1)}}function uc(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Dt.comparator(i.documentKey,e.documentKey),0!==n?n:qt(i.largestBatchId,e.largestBatchId))}const lt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function To(i){return eu.apply(this,arguments)}function eu(){return eu=(0,ae.Z)(function*(i){if(i.code!==Ue.FAILED_PRECONDITION||i.message!==lt)throw i;pt("LocalStore","Unexpectedly lost primary lease")}),eu.apply(this,arguments)}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Me((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.reject(n)}static resolve(e){return new Me((n,o)=>{n(e)})}static reject(e){return new Me((n,o)=>{o(e)})}static waitFor(e){return new Me((n,o)=>{let u=0,l=0,f=!1;e.forEach(D=>{++u,D.next(()=>{++l,f&&l===u&&n()},N=>o(N))}),f=!0,l===u&&n()})}static or(e){let n=Me.resolve(!1);for(const o of e)n=n.next(u=>u?Me.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Me((o,u)=>{const l=e.length,f=new Array(l);let D=0;for(let N=0;N<l;N++){const L=N;n(e[L]).next(Q=>{f[L]=Q,++D,D===l&&o(f)},Q=>u(Q))}})}static doWhile(e,n){return new Me((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function Fo(i){return"IndexedDbTransactionError"===i.name}let Li=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function ho(i){return null==i}function v(i){return 0===i&&1/i==-1/0}function cc(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ha(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Su(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Qr{constructor(e,n){this.comparator=e,this.root=n||Cs.EMPTY}insert(e,n){return new Qr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new Qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ha(this.root,e,this.comparator,!0)}}class Ha{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cs{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Cs.RED,this.left=u??Cs.EMPTY,this.right=l??Cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Cs(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Cs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const e=this.left.check();if(e!==this.right.check())throw Vt();return e+(this.isRed()?0:1)}}Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1,Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Cs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(e){this.comparator=e,this.data=new Qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nu(this.data.getIterator())}getIteratorFrom(e){return new nu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Hr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Hr(this.comparator);return n.data=e,n}}class nu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zs{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new zs([])}unionWith(e){let n=new Hr(Gt.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new zs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class lc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ps{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lc("Invalid base64 string: "+u):u}}(e);return new ps(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new ps(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ps.EMPTY_BYTE_STRING=new ps("");const bl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(i){if(en(!!i),"string"==typeof i){let e=0;const n=bl.exec(i);if(en(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:qi(i.seconds),nanos:qi(i.nanos)}}function qi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Xo(i){return"string"==typeof i?ps.fromBase64String(i):ps.fromUint8Array(i)}function fa(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tl(i){const e=i.mapValue.fields.__previous_value__;return fa(e)?Tl(e):e}function Jo(i){const e=So(i.mapValue.fields.__local_write_time__.timestampValue);return new hi(e.seconds,e.nanos)}class Pc{constructor(e,n,o,u,l,f,D,N,L){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=N,this.useFetchStreams=L}}class Ao{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ao("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ao&&e.projectId===this.projectId&&e.database===this.database}}const Ga={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fa(i)?4:Aa(i)?9007199254740991:10:Vt()}function ga(i,e){if(i===e)return!0;const n=pa(i);if(n!==pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jo(i).isEqual(Jo(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=So(o.timestampValue),f=So(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Xo(i.bytesValue).isEqual(Xo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return qi(o.geoPointValue.latitude)===qi(u.geoPointValue.latitude)&&qi(o.geoPointValue.longitude)===qi(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return qi(o.integerValue)===qi(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=qi(o.doubleValue),f=qi(u.doubleValue);return l===f?v(l)===v(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return Vs(i.arrayValue.values||[],e.arrayValue.values||[],ga);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(cc(l)!==cc(f))return!1;for(const D in l)if(l.hasOwnProperty(D)&&(void 0===f[D]||!ga(l[D],f[D])))return!1;return!0}(i,e);default:return Vt()}var u}function bs(i,e){return void 0!==(i.values||[]).find(n=>ga(n,e))}function ea(i,e){if(i===e)return 0;const n=pa(i),o=pa(e);if(n!==o)return qt(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return qt(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=qi(u.integerValue||u.doubleValue),D=qi(l.integerValue||l.doubleValue);return f<D?-1:f>D?1:f===D?0:isNaN(f)?isNaN(D)?0:-1:1}(i,e);case 3:return iu(i.timestampValue,e.timestampValue);case 4:return iu(Jo(i),Jo(e));case 5:return qt(i.stringValue,e.stringValue);case 6:return function(u,l){const f=Xo(u),D=Xo(l);return f.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),D=l.split("/");for(let N=0;N<f.length&&N<D.length;N++){const L=qt(f[N],D[N]);if(0!==L)return L}return qt(f.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=qt(qi(u.latitude),qi(l.latitude));return 0!==f?f:qt(qi(u.longitude),qi(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],D=l.values||[];for(let N=0;N<f.length&&N<D.length;++N){const L=ea(f[N],D[N]);if(L)return L}return qt(f.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Ga.mapValue&&l===Ga.mapValue)return 0;if(u===Ga.mapValue)return 1;if(l===Ga.mapValue)return-1;const f=u.fields||{},D=Object.keys(f),N=l.fields||{},L=Object.keys(N);D.sort(),L.sort();for(let Q=0;Q<D.length&&Q<L.length;++Q){const de=qt(D[Q],L[Q]);if(0!==de)return de;const Oe=ea(f[D[Q]],N[L[Q]]);if(0!==Oe)return Oe}return qt(D.length,L.length)}(i.mapValue,e.mapValue);default:throw Vt()}}function iu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return qt(i,e);const n=So(i),o=So(e),u=qt(n.seconds,o.seconds);return 0!==u?u:qt(n.nanos,o.nanos)}function ma(i){return Wa(i)}function Wa(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=So(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Xo(i.bytesValue).toBase64():"referenceValue"in i?Dt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=Wa(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const D of u)f?f=!1:l+=",",l+=`${D}:${Wa(o.fields[D])}`;return l+"}"}(i.mapValue):Vt();var e}function ta(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Sl(i){return!!i&&"integerValue"in i}function su(i){return!!i&&"arrayValue"in i}function Al(i){return!!i&&"nullValue"in i}function kc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Au(i){return!!i&&"mapValue"in i}function ya(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ha(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=ya(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ya(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Aa(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Au(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(n)}setAll(e){let n=Gt.emptyPath(),o={},u=[];e.forEach((f,D)=>{if(!n.isImmediateParentOf(D)){const N=this.getFieldsMap(n);this.applyChanges(N,o,u),o={},u=[],n=D.popLast()}f?o[D.lastSegment()]=ya(f):u.push(D.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Au(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ga(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Au(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){ha(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new si(ya(this.value))}}function Md(i){const e=[];return ha(i.fields,(n,o)=>{const u=new Gt([n]);if(Au(o)){const l=Md(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new zs(e)}class lr{constructor(e,n,o,u,l,f,D){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=D}static newInvalidDocument(e){return new lr(e,0,jt.min(),jt.min(),jt.min(),si.empty(),0)}static newFoundDocument(e,n,o,u){return new lr(e,1,n,jt.min(),o,u,0)}static newNoDocument(e,n){return new lr(e,2,n,jt.min(),jt.min(),si.empty(),0)}static newUnknownDocument(e,n){return new lr(e,3,n,jt.min(),jt.min(),si.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qa{constructor(e,n){this.position=e,this.inclusive=n}}function Hu(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?Dt.comparator(Dt.fromName(f.referenceValue),n.key):ea(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function dc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ga(i.position[n],e.position[n]))return!1;return!0}class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function I(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class M{}class k extends M{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Mo(e,n,o):"array-contains"===n?new na(e,o):"in"===n?new ra(e,o):"not-in"===n?new au(e,o):"array-contains-any"===n?new Vi(e,o):new k(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Us(e,o):new Lc(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ea(n,this.value)):null!==n&&pa(this.value)===pa(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class X extends M{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new X(e,n)}matches(e){return pe(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function pe(i){return"and"===i.op}function He(i){return function Rt(i){for(const e of i.filters)if(e instanceof X)return!1;return!0}(i)&&pe(i)}function Nt(i){if(i instanceof k)return i.field.canonicalString()+i.op.toString()+ma(i.value);if(He(i))return i.filters.map(e=>Nt(e)).join(",");{const e=i.filters.map(n=>Nt(n)).join(",");return`${i.op}(${e})`}}function tn(i,e){return i instanceof k?(n=i,(o=e)instanceof k&&n.op===o.op&&n.field.isEqual(o.field)&&ga(n.value,o.value)):i instanceof X?function(n,o){return o instanceof X&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&tn(l,o.filters[f]),!0)}(i,e):void Vt();var n,o}function kn(i){return i instanceof k?`${(e=i).field.canonicalString()} ${e.op} ${ma(e.value)}`:i instanceof X?function(e){return e.op.toString()+" {"+e.getFilters().map(kn).join(" ,")+"}"}(i):"Filter";var e}class Mo extends k{constructor(e,n,o){super(e,n,o),this.key=Dt.fromName(o.referenceValue)}matches(e){const n=Dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Us extends k{constructor(e,n){super(e,"in",n),this.keys=Ml(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lc extends k{constructor(e,n){super(e,"not-in",n),this.keys=Ml(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ml(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Dt.fromName(o.referenceValue))}class na extends k{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return su(n)&&bs(n.arrayValue,this.value)}}class ra extends k{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&bs(this.value.arrayValue,n)}}class au extends k{constructor(e,n){super(e,"not-in",n)}matches(e){if(bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!bs(this.value.arrayValue,n)}}class Vi extends k{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!su(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>bs(this.value.arrayValue,o))}}class Nh{constructor(e,n=null,o=[],u=[],l=null,f=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=D,this.dt=null}}function Ka(i,e=null,n=[],o=[],u=null,l=null,f=null){return new Nh(i,e,n,o,u,l,f)}function xu(i){const e=Tt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Nt(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),ho(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ma(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ma(o)).join(",")),e.dt=n}return e.dt}function Ws(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!I(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!tn(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!dc(i.startAt,e.startAt)&&dc(i.endAt,e.endAt)}function uu(i){return Dt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class cu{constructor(e,n=null,o=[],u=[],l=null,f="F",D=null,N=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=D,this.endAt=N,this.wt=null,this._t=null}}function fc(i){return new cu(i)}function yp(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function fo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function lu(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function du(i){return null!==i.collectionGroup}function Bc(i){const e=Tt(i);if(null===e.wt){e.wt=[];const n=lu(e),o=fo(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Mu(n)),e.wt.push(new Mu(Gt.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Mu(Gt.keyField(),l))}}}return e.wt}function Bs(i){const e=Tt(i);if(!e._t)if("F"===e.limitType)e._t=Ka(e.path,e.collectionGroup,Bc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Bc(e))n.push(new Mu(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new qa(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new qa(e.startAt.position,e.startAt.inclusive):null;e._t=Ka(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function xd(i,e){e.getFirstInequalityField(),lu(i);const n=i.filters.concat([e]);return new cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function xl(i,e,n){return new cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function jc(i,e){return Ws(Bs(i),Bs(e))&&i.limitType===e.limitType}function Ph(i){return`${xu(Bs(i))}|lt:${i.limitType}`}function Rd(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>kn(o)).join(", ")}]`),ho(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ma(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ma(o)).join(",")),`Target(${n})`}(Bs(i))}; limitType=${i.limitType})`}function $c(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Dt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of Bc(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const D=Hu(u,l,f);return u.inclusive?D<=0:D<0}(n.startAt,Bc(n),o)||n.endAt&&!function(u,l,f){const D=Hu(u,l,f);return u.inclusive?D>=0:D>0}(n.endAt,Bc(n),o)));var n,o}function Rl(i){return(e,n)=>{let o=!1;for(const u of Bc(i)){const l=Im(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Im(i,e,n){const o=i.field.isKeyField()?Dt.comparator(e.key,n.key):function(u,l,f){const D=l.data.field(u),N=f.data.field(u);return null!==D&&null!==N?ea(D,N):Vt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Vt()}}class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Su(this.inner)}size(){return this.innerSize}}const wm=new Qr(Dt.comparator);function po(){return wm}const vp=new Qr(Dt.comparator);function Hc(...i){let e=vp;for(const n of i)e=e.insert(n.key,n);return e}function Nl(i){let e=vp;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function va(){return Ol()}function kh(){return Ol()}function Ol(){return new xa(i=>i.toString(),(i,e)=>i.isEqual(e))}const _p=new Qr(Dt.comparator),Gc=new Hr(Dt.comparator);function Hn(...i){let e=Gc;for(const n of i)e=e.add(n);return e}const Dm=new Hr(qt);function Fh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:v(e)?"-0":e}}function Ip(i){return{integerValue:""+i}}function Cm(i,e){return function b(i){return"number"==typeof i&&Number.isInteger(i)&&!v(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Ip(e):Fh(i,e)}class Od{constructor(){this._=void 0}}function bm(i,e,n){return i instanceof Gu?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fa(u)&&(u=Tl(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof pc?Lh(i,e):i instanceof zc?Vh(i,e):function(o,u){const l=Pl(o,u),f=wp(l)+wp(o.gt);return Sl(l)&&Sl(o.gt)?Ip(f):Fh(o.serializer,f)}(i,e)}function Tm(i,e,n){return i instanceof pc?Lh(i,e):i instanceof zc?Vh(i,e):n}function Pl(i,e){return i instanceof kl?Sl(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Gu extends Od{}class pc extends Od{constructor(e){super(),this.elements=e}}function Lh(i,e){const n=Dp(e);for(const o of i.elements)n.some(u=>ga(u,o))||n.push(o);return{arrayValue:{values:n}}}class zc extends Od{constructor(e){super(),this.elements=e}}function Vh(i,e){let n=Dp(e);for(const o of i.elements)n=n.filter(u=>!ga(u,o));return{arrayValue:{values:n}}}class kl extends Od{constructor(e,n){super(),this.serializer=e,this.gt=n}}function wp(i){return qi(i.integerValue||i.doubleValue)}function Dp(i){return su(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Cv{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Bh{}function Sm(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new mc(i.key,Ni.none()):new Ru(i.key,i.data,Ni.none());{const n=i.data,o=si.empty();let u=new Hr(Gt.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new hu(i.key,o,new zs(u.toArray()),Ni.none())}}function Am(i,e,n){i instanceof Ru?function(o,u,l){const f=o.value.clone(),D=$h(o.fieldTransforms,u,l.transformResults);f.setAll(D),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof hu?function(o,u,l){if(!Uh(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=$h(o.fieldTransforms,u,l.transformResults),D=u.data;D.setAll(jh(o)),D.setAll(f),u.convertToFoundDocument(l.version,D).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Pd(i,e,n,o){return i instanceof Ru?function(u,l,f,D){if(!Uh(u.precondition,l))return f;const N=u.value.clone(),L=gc(u.fieldTransforms,D,l);return N.setAll(L),l.convertToFoundDocument(l.version,N).setHasLocalMutations(),null}(i,e,n,o):i instanceof hu?function(u,l,f,D){if(!Uh(u.precondition,l))return f;const N=gc(u.fieldTransforms,D,l),L=l.data;return L.setAll(jh(u)),L.setAll(N),l.convertToFoundDocument(l.version,L).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(Q=>Q.field))}(i,e,n,o):(f=n,Uh(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Mm(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Pl(o.transform,u||null);null!=l&&(null===n&&(n=si.empty()),n.set(o.field,l))}return n||null}function Fl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Vs(n,o,(u,l)=>function Dv(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof pc&&o instanceof pc||n instanceof zc&&o instanceof zc?Vs(n.elements,o.elements,ga):n instanceof kl&&o instanceof kl?ga(n.gt,o.gt):n instanceof Gu&&o instanceof Gu);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Ru extends Bh{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class hu extends Bh{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function $h(i,e,n){const o=new Map;en(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,D=e.data.field(l.field);o.set(l.field,Tm(f,D,n[u]))}return o}function gc(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,bm(l,f,e))}return o}class mc extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kd extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wc{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Am(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Pd(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Pd(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=kh();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let D=this.applyToLocalView(f,l.mutatedFields);D=n.has(u.key)?null:D;const N=Sm(f,D);null!==N&&o.set(u.key,N),f.isValidDocument()||f.convertToNoDocument(jt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Hn())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(n,o)=>Fl(n,o))&&Vs(this.baseMutations,e.baseMutations,(n,o)=>Fl(n,o))}}class qc{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){en(e.mutations.length===o.length);let u=_p;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new qc(e,n,o,u)}}class Kc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class E{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,p;function $(i){if(void 0===i)return Di("GRPC error has no .code"),Ue.UNKNOWN;switch(i){case h.OK:return Ue.OK;case h.CANCELLED:return Ue.CANCELLED;case h.UNKNOWN:return Ue.UNKNOWN;case h.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case h.INTERNAL:return Ue.INTERNAL;case h.UNAVAILABLE:return Ue.UNAVAILABLE;case h.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case h.NOT_FOUND:return Ue.NOT_FOUND;case h.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case h.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case h.ABORTED:return Ue.ABORTED;case h.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case h.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case h.DATA_LOSS:return Ue.DATA_LOSS;default:return Vt()}}(p=h||(h={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class ee{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ie}static getOrCreateInstance(){return null===Ie&&(Ie=new ee),Ie}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ie=null;const St=new ds([4294967295,4294967295],0);function Pt(i){const e=function $e(){return new TextEncoder}().encode(i),n=new Mi;return n.update(e),new Uint8Array(n.digest())}function $t(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ds([n,o],0),new ds([u,l],0)]}class or{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Ts(`Invalid padding: ${n}`);if(o<0)throw new Ts(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Ts(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Ts(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ds.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(ds.fromNumber(o)));return 1===u.compare(St)&&(u=new ds([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=Pt(e),[o,u]=$t(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new or(l,u,n);return o.forEach(D=>f.insert(D)),f}insert(e){if(0===this.It)return;const n=Pt(e),[o,u]=$t(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ts extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jo{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Ki.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new jo(jt.min(),u,new Qr(qt),po(),Hn())}}class Ki{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Ki(o,n,Hn(),Hn(),Hn())}}class fu{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class Zc{constructor(e,n){this.targetId=e,this.Vt=n}}class Ll{constructor(e,n,o=ps.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Fd{constructor(){this.St=0,this.Dt=Ul(),this.Ct=ps.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Hn(),n=Hn(),o=Hn();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Vt()}}),new Ki(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=Ul()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Vl{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=po(),this.zt=Ld(),this.Wt=new Qr(qt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:Vt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(uu(f))if(0===u){const D=new Dt(f.path);this.Yt(o,D,lr.newNoDocument(D,jt.min()))}else en(1===u);else{const D=this.ie(o);if(D!==u){const N=this.re(e,D);0!==N&&(this.ee(o),this.Wt=this.Wt.insert(o,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=ee.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(L,Q,de){var Oe,Qe,wt,Ut,Qt,dr;const Gr={localCacheCount:Q,existenceFilterCount:de.count},vr=de.unchangedNames;return vr&&(Gr.bloomFilter={applied:0===L,hashCount:null!==(Oe=vr?.hashCount)&&void 0!==Oe?Oe:0,bitmapLength:null!==(Ut=null===(wt=null===(Qe=vr?.bits)||void 0===Qe?void 0:Qe.bitmap)||void 0===wt?void 0:wt.length)&&void 0!==Ut?Ut:0,padding:null!==(dr=null===(Qt=vr?.bits)||void 0===Qt?void 0:Qt.padding)&&void 0!==dr?dr:0}),Gr}(N,D,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:D=0}=o;let N,L;try{N=Xo(l).toUint8Array()}catch(Q){if(Q instanceof lc)return co("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{L=new or(N,f,D)}catch(Q){return co(Q instanceof Ts?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===L.It?1:u!==n-this.oe(e.targetId,L)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),D=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(D)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const D=this.se(f);if(D){if(l.current&&uu(D.target)){const N=new Dt(D.target.path);null!==this.jt.get(N)||this.ae(f,N)||this.Yt(f,N,lr.newNoDocument(N,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=Hn();this.zt.forEach((l,f)=>{let D=!0;f.forEachWhile(N=>{const L=this.se(N);return!L||"TargetPurposeLimboResolution"===L.purpose||(D=!1,!1)}),D&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new jo(e,n,this.Wt,this.jt,o);return this.jt=po(),this.zt=Ld(),this.Wt=new Qr(qt),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Fd,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Hr(qt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||pt("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Fd),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Ld(){return new Qr(Dt.comparator)}function Ul(){return new Qr(Dt.comparator)}const Vd={asc:"ASCENDING",desc:"DESCENDING"},Ud={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cp={and:"AND",or:"OR"};class Bd{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yc(i,e){return i.useProto3Json||ho(e)?e:{value:e}}function yc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jd(i,e){return yc(i,e.toTimestamp())}function Ss(i){return en(!!i),jt.fromTimestamp(function(e){const n=So(e);return new hi(n.seconds,n.nanos)}(i))}function bp(i,e){return(n=i,new yr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Tp(i){const e=yr.fromString(i);return en(xv(e)),e}function Bl(i,e){return bp(i.databaseId,e.path)}function pu(i,e){const n=Tp(e);if(n.get(1)!==i.databaseId.projectId)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Dt(Hh(n))}function vc(i,e){return bp(i.databaseId,e)}function jl(i){return new yr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hh(i){return en(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Hd(i,e,n){return{name:Bl(i,e),fields:n.value.mapValue.fields}}function Ap(i,e){return{documents:[vc(i,e.path)]}}function $l(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=vc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(N){if(0!==N.length)return Rp(X.create(N,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(N){if(0!==N.length)return N.map(L=>{return{field:_a((Q=L).field),direction:Av(Q.dir)};var Q})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Yc(i,e.limit);var D,N;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(n.structuredQuery.endAt={before:!(N=e.endAt).inclusive,values:N.position}),n}function Gh(i){let e=function $d(i){const e=Tp(i);return 4===e.length?yr.emptyPath():Hh(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){en(1===o);const Q=n.from[0];Q.allDescendants?u=Q.collectionId:e=e.child(Q.collectionId)}let l=[];n.where&&(l=function(Q){const de=Om(Q);return de instanceof X&&He(de)?de.getFilters():[de]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(Q=>{return new Mu(Qc((de=Q).field),function(Oe){switch(Oe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction));var de}));let D=null;n.limit&&(D=function(Q){let de;return de="object"==typeof Q?Q.value:Q,ho(de)?null:de}(n.limit));let N=null;var Q;n.startAt&&(N=new qa((Q=n.startAt).values||[],!!Q.before));let L=null;return n.endAt&&(L=function(Q){return new qa(Q.values||[],!Q.before)}(n.endAt)),function Oh(i,e,n,o,u,l,f,D){return new cu(i,e,n,o,u,l,f,D)}(e,u,f,l,D,"F",N,L)}function Om(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Qc(e.unaryFilter.field);return k.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Qc(e.unaryFilter.field);return k.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qc(e.unaryFilter.field);return k.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Qc(e.unaryFilter.field);return k.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(i):void 0!==i.fieldFilter?k.create(Qc((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return X.create(e.compositeFilter.filters.map(n=>Om(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Vt()}}(e.compositeFilter.op))}(i):Vt();var e}function Av(i){return Vd[i]}function xp(i){return Ud[i]}function Pm(i){return Cp[i]}function _a(i){return{fieldPath:i.canonicalString()}}function Qc(i){return Gt.fromServerFormat(i.fieldPath)}function Rp(i){return i instanceof k?function(e){if("=="===e.op){if(kc(e.value))return{unaryFilter:{field:_a(e.field),op:"IS_NAN"}};if(Al(e.value))return{unaryFilter:{field:_a(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kc(e.value))return{unaryFilter:{field:_a(e.field),op:"IS_NOT_NAN"}};if(Al(e.value))return{unaryFilter:{field:_a(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(e.field),op:xp(e.op),value:e.value}}}(i):i instanceof X?function(e){const n=e.getFilters().map(o=>Rp(o));return 1===n.length?n[0]:{compositeFilter:{op:Pm(e.op),filters:n}}}(i):Vt()}function Mv(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xv(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Za{constructor(e,n,o,u,l=jt.min(),f=jt.min(),D=ps.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=N}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class km{constructor(e){this.fe=e}}function Wd(i){const e=Gh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?xl(e,e.limit,"L"):e}class Xc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(qi(e.integerValue));else if("doubleValue"in e){const o=qi(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),v(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Xo(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?Aa(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Vt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),Dt.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Xc.Ve=new Xc;class Rv{constructor(){this.rn=new jp}addToCollectionParentIndex(e,n){return this.rn.add(n),Me.resolve()}getCollectionParents(e,n){return Me.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Me.resolve()}deleteFieldIndex(e,n){return Me.resolve()}getDocumentsMatchingTarget(e,n){return Me.resolve(null)}getIndexType(e,n){return Me.resolve(0)}getFieldIndexes(e,n){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,n){return Me.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,n){return Me.resolve(lo.min())}updateCollectionGroup(e,n,o){return Me.resolve()}updateIndexEntries(e,n){return Me.resolve()}}class jp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Hr(yr.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Hr(yr.comparator)).toArray()}}new Uint8Array(0);class ia{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ia(e,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ia.DEFAULT_COLLECTION_PERCENTILE=10,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ia.DEFAULT=new ia(41943040,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ia.DISABLED=new ia(-1,0,0);class sa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new sa(0)}static Mn(){return new sa(-1)}}class $m{constructor(){this.changes=new xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Me.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nl{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Pd(o.mutation,u,zs.empty(),hi.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Hn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Hn()){const u=va();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=Hc();return l.forEach((D,N)=>{f=f.insert(D,N.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=va();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Hn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,D)=>{n.set(f,D)})})}computeViews(e,n,o,u){let l=po();const f=Ol(),D=Ol();return n.forEach((N,L)=>{const Q=o.get(L.key);u.has(L.key)&&(void 0===Q||Q.mutation instanceof hu)?l=l.insert(L.key,L):void 0!==Q?(f.set(L.key,Q.mutation.getFieldMask()),Pd(Q.mutation,L,Q.mutation.getFieldMask(),hi.now())):f.set(L.key,zs.empty())}),this.recalculateAndSaveOverlays(e,l).next(N=>(N.forEach((L,Q)=>f.set(L,Q)),n.forEach((L,Q)=>{var de;return D.set(L,new Bv(Q,null!==(de=f.get(L))&&void 0!==de?de:null))}),D))}recalculateAndSaveOverlays(e,n){const o=Ol();let u=new Qr((f,D)=>f-D),l=Hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const D of f)D.keys().forEach(N=>{const L=n.get(N);if(null===L)return;let Q=o.get(N)||zs.empty();Q=D.applyToLocalView(L,Q),o.set(N,Q);const de=(u.get(D.batchId)||Hn()).add(N);u=u.insert(D.batchId,de)})}).next(()=>{const f=[],D=u.getReverseIterator();for(;D.hasNext();){const N=D.getNext(),L=N.key,Q=N.value,de=kh();Q.forEach(Oe=>{if(!l.has(Oe)){const Qe=Sm(n.get(Oe),o.get(Oe));null!==Qe&&de.set(Oe,Qe),l=l.add(Oe)}}),f.push(this.documentOverlayCache.saveOverlays(e,L,de))}return Me.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Dt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):du(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Me.resolve(va());let D=-1,N=l;return f.next(L=>Me.forEach(L,(Q,de)=>(D<de.largestBatchId&&(D=de.largestBatchId),l.get(Q)?Me.resolve():this.remoteDocumentCache.getEntry(e,Q).next(Oe=>{N=N.insert(Q,Oe)}))).next(()=>this.populateOverlays(e,L,l)).next(()=>this.computeViews(e,N,L,Hn())).next(Q=>({batchId:D,changes:Nl(Q)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Dt(n)).next(o=>{let u=Hc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=Hc();return this.indexManager.getCollectionParents(e,u).next(f=>Me.forEach(f,D=>{const N=(L=n,Q=D.child(u),new cu(Q,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt));var L,Q;return this.getDocumentsMatchingCollectionQuery(e,N,o).next(L=>{L.forEach((Q,de)=>{l=l.insert(Q,de)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((D,N)=>{const L=N.getKey();null===l.get(L)&&(l=l.insert(L,lr.newInvalidDocument(L)))});let f=Hc();return l.forEach((D,N)=>{const L=u.get(D);void 0!==L&&Pd(L.mutation,N,zs.empty(),hi.now()),$c(n,N)&&(f=f.insert(D,N))}),f})}}class jv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Me.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:Ss(o.createTime)}),Me.resolve()}getNamedQuery(e,n){return Me.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:Wd(o.bundledQuery),readTime:Ss(o.readTime)}),Me.resolve();var o}}class $v{constructor(){this.overlays=new Qr(Dt.comparator),this.ls=new Map}getOverlay(e,n){return Me.resolve(this.overlays.get(n))}getOverlays(e,n){const o=va();return Me.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Me.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Me.resolve()}getOverlaysForCollection(e,n,o){const u=va(),l=n.length+1,f=new Dt(n.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const N=D.getNext().value,L=N.getKey();if(!n.isPrefixOf(L.path))break;L.path.length===l&&N.largestBatchId>o&&u.set(N.getKey(),N)}return Me.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new Qr((L,Q)=>L-Q);const f=this.overlays.getIterator();for(;f.hasNext();){const L=f.getNext().value;if(L.getKey().getCollectionGroup()===n&&L.largestBatchId>o){let Q=l.get(L.largestBatchId);null===Q&&(Q=va(),l=l.insert(L.largestBatchId,Q)),Q.set(L.getKey(),L)}}const D=va(),N=l.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((L,Q)=>D.set(L,Q)),!(D.size()>=u)););return Me.resolve(D)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Kc(n,o));let l=this.ls.get(n);void 0===l&&(l=Hn(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class Jd{constructor(){this.fs=new Hr(qs.ds),this.ws=new Hr(qs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new qs(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new qs(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new Dt(new yr([])),o=new qs(n,e),u=new qs(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Dt(new yr([])),o=new qs(n,e),u=new qs(n,e+1);let l=Hn();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new qs(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class qs{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Dt.comparator(e.key,n.key)||qt(e.As,n.As)}static _s(e,n){return qt(e.As,n.As)||Dt.comparator(e.key,n.key)}}class Hv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Hr(qs.ds)}checkEmpty(e){return Me.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new Wc(l,n,o,u);this.mutationQueue.push(f);for(const D of u)this.Rs=this.Rs.add(new qs(D.key,l)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Me.resolve(f)}lookupMutationBatch(e,n){return Me.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new qs(n,0),u=new qs(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const D=this.Ps(f.As);l.push(D)}),Me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Hr(qt);return n.forEach(u=>{const l=new qs(u,0),f=new qs(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],D=>{o=o.add(D.As)})}),Me.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Dt.isDocumentKey(l)||(l=l.child(""));const f=new qs(new Dt(l),0);let D=new Hr(qt);return this.Rs.forEachWhile(N=>{const L=N.key.path;return!!o.isPrefixOf(L)&&(L.length===u&&(D=D.add(N.As)),!0)},f),Me.resolve(this.Vs(D))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){en(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Me.forEach(n.mutations,u=>{const l=new qs(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new qs(n,0),u=this.Rs.firstAfterOrEqual(o);return Me.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Me.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Gv{constructor(e){this.Ds=e,this.docs=new Qr(Dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Me.resolve(o?o.document.mutableCopy():lr.newInvalidDocument(n))}getEntries(e,n){let o=po();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():lr.newInvalidDocument(u))}),Me.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=po();const f=n.path,D=new Dt(f.child("")),N=this.docs.getIteratorFrom(D);for(;N.hasNext();){const{key:L,value:{document:Q}}=N.getNext();if(!f.isPrefixOf(L.path))break;L.path.length>f.length+1||uc(ac(Q),o)<=0||(u.has(Q.key)||$c(n,Q))&&(l=l.insert(Q.key,Q.mutableCopy()))}return Me.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Vt()}Cs(e,n){return Me.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new zv(this)}getSize(e){return Me.resolve(this.size)}}class zv extends $m{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Me.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Wv{constructor(e){this.persistence=e,this.xs=new xa(n=>xu(n),Ws),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Jd,this.targetCount=0,this.Ms=sa.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Me.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new sa(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Me.resolve()}updateTargetData(e,n){return this.Fn(n),Me.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,D)=>{D.sequenceNumber<=n&&null===o.get(D.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),Me.waitFor(l).next(()=>u)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Me.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Me.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Me.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Me.resolve(o)}containsKey(e,n){return Me.resolve(this.ks.containsKey(n))}}class sf{constructor(e,n){this.$s={},this.overlays={},this.Os=new Li(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wv(this),this.indexManager=new Rv,this.remoteDocumentCache=new Gv(o=>this.referenceDelegate.Ls(o)),this.serializer=new km(n),this.qs=new jv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $v,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Hv(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){pt("MemoryPersistence","Starting transaction:",e);const u=new yE(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Me.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class yE extends pr{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Qs=new Jd,this.js=null}static zs(e){return new zp(e)}get Ws(){if(this.js)return this.js;throw Vt()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Me.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Me.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Me.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Ws,o=>{const u=Dt.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,jt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Me.or([()=>Me.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class lf{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=Hn(),u=Hn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new lf(e,n.fromCache,o,u)}}class nh{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(yp(n))return Me.resolve(null);let o=Bs(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=xl(n,null,"F"),o=Bs(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=Hn(...l);return this.Ui.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,o).next(N=>{const L=this.ji(n,D);return this.zi(n,L,f,N.readTime)?this.Ki(e,xl(n,null,"F")):this.Wi(e,L,n,N)}))})))}Gi(e,n,o,u){return yp(n)||u.isEqual(jt.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(Po()<=fe.in.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Rd(n)),this.Wi(e,f,n,function oc(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=jt.fromTimestamp(1e9===o?new hi(n+1,0):new hi(n,o));return new lo(u,Dt.empty(),e)}(u,-1)))})}ji(e,n){let o=new Hr(Rl(e));return n.forEach((u,l)=>{$c(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return Po()<=fe.in.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Rd(n)),this.Ui.getDocumentsMatchingQuery(e,n,lo.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class vE{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new Qr(qt),this.Yi=new xa(l=>xu(l),Ws),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nl(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Wm(i,e){return rh.apply(this,arguments)}function rh(){return rh=(0,ae.Z)(function*(i,e){const n=Tt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],D=[];let N=Hn();for(const L of u){f.push(L.batchId);for(const Q of L.mutations)N=N.add(Q.key)}for(const L of l){D.push(L.batchId);for(const Q of L.mutations)N=N.add(Q.key)}return n.localDocuments.getDocuments(o,N).next(L=>({er:L,removedBatchIds:f,addedBatchIds:D}))})})}),rh.apply(this,arguments)}function qp(i){const e=Tt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Kp(i,e){const n=Tt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Zl(i,e,n){return ih.apply(this,arguments)}function ih(){return ih=(0,ae.Z)(function*(i,e,n){const o=Tt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!Fo(f))throw f;pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),ih.apply(this,arguments)}function il(i,e,n){const o=Tt(i);let u=jt.min(),l=Hn();return o.persistence.runTransaction("Execute query","readonly",f=>function(D,N,L){const Q=Tt(D),de=Q.Yi.get(L);return void 0!==de?Me.resolve(Q.Ji.get(de)):Q.Bs.getTargetData(N,L)}(o,f,Bs(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,D.targetId).next(N=>{l=N})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:jt.min(),n?l:Hn())).next(D=>(function hf(i,e,n){let o=i.Xi.get(e)||jt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function Nd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),D),{documents:D,ir:l})))}class sh{constructor(){this.activeTargetIds=function Ep(){return Dm}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kv{constructor(){this.Hr=new sh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zv{Yr(e){}shutdown(){}}class Jm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qp=null;function ey(){return null===Qp?Qp=268435456+Math.round(2147483648*Math.random()):Qp++,"0x"+Qp.toString(16)}const gf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const go="WebChannelConnection";class Xp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=ey(),D=this.To(e,n);pt("RestConnection",`Sending RPC '${e}' ${f}:`,D,o);const N={};return this.Eo(N,u,l),this.Ao(e,D,N,o).then(L=>(pt("RestConnection",`Received RPC '${e}' ${f}: `,L),L),L=>{throw co("RestConnection",`RPC '${e}' ${f} failed with error: `,L,"url: ",D,"request:",o),L})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+$r,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${gf[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=ey();return new Promise((f,D)=>{const N=new mr;N.setWithCredentials(!0),N.listenOnce(Fr.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Yt.NO_ERROR:const Q=N.getResponseJson();pt(go,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(Q)),f(Q);break;case Yt.TIMEOUT:pt(go,`RPC '${e}' ${l} timed out`),D(new st(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case Yt.HTTP_ERROR:const de=N.getStatus();if(pt(go,`RPC '${e}' ${l} failed with status:`,de,"response text:",N.getResponseText()),de>0){let Oe=N.getResponseJson();Array.isArray(Oe)&&(Oe=Oe[0]);const Qe=Oe?.error;if(Qe&&Qe.status&&Qe.message){const wt=function(Ut){const Qt=Ut.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(Qt)>=0?Qt:Ue.UNKNOWN}(Qe.status);D(new st(wt,Qe.message))}else D(new st(Ue.UNKNOWN,"Server responded with status "+N.getStatus()))}else D(new st(Ue.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{pt(go,`RPC '${e}' ${l} completed.`)}});const L=JSON.stringify(u);pt(go,`RPC '${e}' ${l} sending request:`,u),N.send(n,"POST",L,o,15)})}Ro(e,n,o){const u=ey(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Le(),D=tt(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},L=this.longPollingOptions.timeoutSeconds;void 0!==L&&(N.longPollingTimeout=Math.round(1e3*L)),this.useFetchStreams&&(N.xmlHttpFactory=new An({})),this.Eo(N.initMessageHeaders,n,o),N.encodeInitMessageHeaders=!0;const Q=l.join("");pt(go,`Creating RPC '${e}' stream ${u}: ${Q}`,N);const de=f.createWebChannel(Q,N);let Oe=!1,Qe=!1;const wt=new Yv({ro:Qt=>{Qe?pt(go,`Not sending because RPC '${e}' stream ${u} is closed:`,Qt):(Oe||(pt(go,`Opening RPC '${e}' stream ${u} transport.`),de.open(),Oe=!0),pt(go,`RPC '${e}' stream ${u} sending:`,Qt),de.send(Qt))},oo:()=>de.close()}),Ut=(Qt,dr,Gr)=>{Qt.listen(dr,vr=>{try{Gr(vr)}catch(js){setTimeout(()=>{throw js},0)}})};return Ut(de,Lr.EventType.OPEN,()=>{Qe||pt(go,`RPC '${e}' stream ${u} transport opened.`)}),Ut(de,Lr.EventType.CLOSE,()=>{Qe||(Qe=!0,pt(go,`RPC '${e}' stream ${u} transport closed`),wt.wo())}),Ut(de,Lr.EventType.ERROR,Qt=>{Qe||(Qe=!0,co(go,`RPC '${e}' stream ${u} transport errored:`,Qt),wt.wo(new st(Ue.UNAVAILABLE,"The operation could not be completed")))}),Ut(de,Lr.EventType.MESSAGE,Qt=>{var dr;if(!Qe){const Gr=Qt.data[0];en(!!Gr);const js=Gr.error||(null===(dr=Gr[0])||void 0===dr?void 0:dr.error);if(js){pt(go,`RPC '${e}' stream ${u} received error:`,js);const Ms=js.status;let Ui=function(Rc){const lm=h[Rc];if(void 0!==lm)return $(lm)}(Ms),oa=js.message;void 0===Ui&&(Ui=Ue.INTERNAL,oa="Unknown error status: "+Ms+" with message "+js.message),Qe=!0,wt.wo(new st(Ui,oa)),de.close()}else pt(go,`RPC '${e}' stream ${u} received:`,Gr),wt._o(Gr)}}),Ut(D,Kr.STAT_EVENT,Qt=>{Qt.stat===gr.PROXY?pt(go,`RPC '${e}' stream ${u} detected buffering proxy`):Qt.stat===gr.NOPROXY&&pt(go,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{wt.fo()},0),wt}}function Xl(){return typeof document<"u"?document:null}function al(i){return new Bd(i,!0)}class ul{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&pt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class oh{constructor(e,n,o,u,l,f,D,N){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=N,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ul(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ae.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ae.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,ae.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===Ue.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===Ue.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new st(Ue.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,ae.Z)(function*(){e.state=0,e.start()}))}tu(e){return pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jl extends oh{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Tv(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:Vt(),u=e.targetChange.targetIds||[],l=function(N,L){return N.useProto3Json?(en(void 0===L||"string"==typeof L),ps.fromBase64String(L||"")):(en(void 0===L||L instanceof Uint8Array),ps.fromUint8Array(L||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(N){const L=void 0===N.code?Ue.UNKNOWN:$(N.code);return new st(L,N.message||"")}(f);n=new Ll(o,u,l,D||null)}else if("documentChange"in e){const o=e.documentChange,u=pu(i,o.document.name),l=Ss(o.document.updateTime),f=o.document.createTime?Ss(o.document.createTime):jt.min(),D=new si({mapValue:{fields:o.document.fields}}),N=lr.newFoundDocument(u,l,f,D);n=new fu(o.targetIds||[],o.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const o=e.documentDelete,u=pu(i,o.document),l=o.readTime?Ss(o.readTime):jt.min(),f=lr.newNoDocument(u,l);n=new fu([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=pu(i,o.document);n=new fu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Vt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new E(u,l);n=new Zc(o.targetId,f)}}var N;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return jt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?jt.min():l.readTime?Ss(l.readTime):jt.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=jl(this.serializer),n.addTarget=function(u,l){let f;const D=l.target;if(f=uu(D)?{documents:Ap(u,D)}:{query:$l(u,D)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Rm(u,l.resumeToken);const N=Yc(u,l.expectedCount);null!==N&&(f.expectedCount=N)}else if(l.snapshotVersion.compareTo(jt.min())>0){f.readTime=yc(u,l.snapshotVersion.toTimestamp());const N=Yc(u,l.expectedCount);null!==N&&(f.expectedCount=N)}return f}(this.serializer,e);const o=function Mp(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=jl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Jp extends oh{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(en(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Sv(i,e){return i&&i.length>0?(en(void 0!==e),i.map(n=>function(o,u){let l=Ss(o.updateTime?o.updateTime:u);return l.isEqual(jt.min())&&(l=Ss(u)),new Cv(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Ss(e.commitTime);return this.listener.cu(o,n)}return en(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=jl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Gd(i,e){let n;if(e instanceof Ru)n={update:Hd(i,e.key,e.value)};else if(e instanceof mc)n={delete:Bl(i,e.key)};else if(e instanceof hu)n={update:Hd(i,e.key,e.data),updateMask:Mv(e.fieldMask)};else{if(!(e instanceof kd))return Vt();n={verify:Bl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof Gu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof pc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof zc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw Vt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:jd(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Vt()),n;var u}(this.serializer,o))};this.Wo(n)}}class eg extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new st(Ue.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new st(Ue.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class tg{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Di(n),this.mu=!1):pt("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ah{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(D=>{o.enqueueAndForget((0,ae.Z)(function*(){var N;mu(f)&&(pt("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,ae.Z)(function*(L){const Q=Tt(L);Q.vu.add(4),yield ed(Q),Q.bu.set("Unknown"),Q.vu.delete(4),yield uh(Q)}),function(L){return N.apply(this,arguments)})(f))}))}),this.bu=new tg(o,u)}}function uh(i){return yf.apply(this,arguments)}function yf(){return yf=(0,ae.Z)(function*(i){if(mu(i))for(const e of i.Ru)yield e(!0)}),yf.apply(this,arguments)}function ed(i){return ng.apply(this,arguments)}function ng(){return ng=(0,ae.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),ng.apply(this,arguments)}function td(i,e){const n=Tt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ig(n)?ry(n):cl(n).Ko()&&rg(n,e))}function nd(i,e){const n=Tt(i),o=cl(n);n.Au.delete(e),o.Ko()&&ny(n,e),0===n.Au.size&&(o.Ko()?o.jo():mu(n)&&n.bu.set("Unknown"))}function rg(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(i).su(e)}function ny(i,e){i.Vu.qt(e),cl(i).iu(e)}function ry(i){i.Vu=new Vl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),cl(i).start(),i.bu.gu()}function ig(i){return mu(i)&&!cl(i).Uo()&&i.Au.size>0}function mu(i){return 0===Tt(i).vu.size}function vf(i){i.Vu=void 0}function Qv(i){return _f.apply(this,arguments)}function _f(){return _f=(0,ae.Z)(function*(i){i.Au.forEach((e,n)=>{rg(i,e)})}),_f.apply(this,arguments)}function sg(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,ae.Z)(function*(i,e){vf(i),ig(i)?(i.bu.Iu(e),ry(i)):i.bu.set("Unknown")}),rd.apply(this,arguments)}function Xv(i,e,n){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,ae.Z)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Ll&&2===e.state&&e.cause)try{yield(o=(0,ae.Z)(function*(u,l){const f=l.cause;for(const D of l.targetIds)u.Au.has(D)&&(yield u.remoteSyncer.rejectListen(D,f),u.Au.delete(D),u.Vu.removeTarget(D))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield If(i,o)}else if(e instanceof fu?i.Vu.Ht(e):e instanceof Zc?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(jt.min()))try{const o=yield qp(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((D,N)=>{if(D.resumeToken.approximateByteSize()>0){const L=u.Au.get(N);L&&u.Au.set(N,L.withResumeToken(D.resumeToken,l))}}),f.targetMismatches.forEach((D,N)=>{const L=u.Au.get(D);if(!L)return;u.Au.set(D,L.withResumeToken(ps.EMPTY_BYTE_STRING,L.snapshotVersion)),ny(u,D);const Q=new Za(L.target,D,N,L.sequenceNumber);rg(u,Q)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){pt("RemoteStore","Failed to raise snapshot:",o),yield If(i,o)}var o}),Ef.apply(this,arguments)}function If(i,e,n){return wf.apply(this,arguments)}function wf(){return wf=(0,ae.Z)(function*(i,e,n){if(!Fo(e))throw e;i.vu.add(1),yield ed(i),i.bu.set("Offline"),n||(n=()=>qp(i.localStore)),i.asyncQueue.enqueueRetryable((0,ae.Z)(function*(){pt("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield uh(i)}))}),wf.apply(this,arguments)}function Jv(i,e){return e().catch(n=>If(i,n,e))}function id(i){return sd.apply(this,arguments)}function sd(){return sd=(0,ae.Z)(function*(i){const e=Tt(i),n=bc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;e_(e);)try{const u=yield Kp(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,od(e,u)}catch(u){yield If(e,u)}ad(e)&&iy(e)}),sd.apply(this,arguments)}function e_(i){return mu(i)&&i.Eu.length<10}function od(i,e){i.Eu.push(e);const n=bc(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function ad(i){return mu(i)&&!bc(i).Uo()&&i.Eu.length>0}function iy(i){bc(i).start()}function sy(i){return og.apply(this,arguments)}function og(){return og=(0,ae.Z)(function*(i){bc(i).hu()}),og.apply(this,arguments)}function t_(i){return ag.apply(this,arguments)}function ag(){return ag=(0,ae.Z)(function*(i){const e=bc(i);for(const n of i.Eu)e.uu(n.mutations)}),ag.apply(this,arguments)}function oy(i,e,n){return Df.apply(this,arguments)}function Df(){return Df=(0,ae.Z)(function*(i,e,n){const o=i.Eu.shift(),u=qc.from(o,e,n);yield Jv(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield id(i)}),Df.apply(this,arguments)}function ug(i,e){return ay.apply(this,arguments)}function ay(){return ay=(0,ae.Z)(function*(i,e){var n;e&&bc(i).ou&&(yield(n=(0,ae.Z)(function*(o,u){if(function C(i){switch(i){default:return Vt();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}(l=u.code)&&l!==Ue.ABORTED){const f=o.Eu.shift();bc(o).Qo(),yield Jv(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield id(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),ad(i)&&iy(i)}),ay.apply(this,arguments)}function Cf(i,e){return bf.apply(this,arguments)}function bf(){return bf=(0,ae.Z)(function*(i,e){const n=Tt(i);n.asyncQueue.verifyOperationInProgress(),pt("RemoteStore","RemoteStore received new credentials");const o=mu(n);n.vu.add(3),yield ed(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield uh(n)}),bf.apply(this,arguments)}function lg(){return lg=(0,ae.Z)(function*(i,e){const n=Tt(i);e?(n.vu.delete(2),yield uh(n)):e||(n.vu.add(2),yield ed(n),n.bu.set("Unknown"))}),lg.apply(this,arguments)}function cl(i){return i.Su||(i.Su=function(e,n,o){const u=Tt(e);return u.fu(),new Jl(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Qv.bind(null,i),ao:sg.bind(null,i),nu:Xv.bind(null,i)}),i.Ru.push(function(){var e=(0,ae.Z)(function*(n){n?(i.Su.Qo(),ig(i)?ry(i):i.bu.set("Unknown")):(yield i.Su.stop(),vf(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function bc(i){return i.Du||(i.Du=function(e,n,o){const u=Tt(e);return u.fu(),new Jp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:sy.bind(null,i),ao:ug.bind(null,i),au:t_.bind(null,i),cu:oy.bind(null,i)}),i.Ru.push(function(){var e=(0,ae.Z)(function*(n){n?(i.Du.Qo(),yield id(i)):(yield i.Du.stop(),i.Eu.length>0&&(pt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class Tf{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,D=new Tf(e,n,f,u,l);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ud(i,e){if(Di("AsyncQueue",`${e}: ${i}`),Fo(i))return new st(Ue.UNAVAILABLE,`${e}: ${i}`);throw i}class cd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Dt.comparator(n.key,o.key):(n,o)=>Dt.comparator(n.key,o.key),this.keyedMap=Hc(),this.sortedSet=new Qr(this.comparator)}static emptySet(e){return new cd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new cd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class n_{constructor(){this.Cu=new Qr(Dt.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Vt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class ll{constructor(e,n,o,u,l,f,D,N,L){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=N,this.hasCachedResults=L}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(D=>{f.push({type:0,doc:D})}),new ll(e,n,cd.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class uy{constructor(){this.Nu=void 0,this.listeners=[]}}class yu{constructor(){this.queries=new xa(e=>Ph(e),jc),this.onlineState="Unknown",this.ku=new Set}}function cy(){return cy=(0,ae.Z)(function*(i,e){const n=Tt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new uy),u)try{l.Nu=yield n.onListen(o)}catch(f){const D=ud(f,`Initialization of query '${Rd(e.query)}' failed`);return void e.onError(D)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&ly(n)}),cy.apply(this,arguments)}function Ou(){return Ou=(0,ae.Z)(function*(i,e){const n=Tt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Ou.apply(this,arguments)}function dg(i,e){const n=Tt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const D of f.listeners)D.$u(u)&&(o=!0);f.Nu=u}}o&&ly(n)}function r_(i,e,n){const o=Tt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function ly(i){i.ku.forEach(e=>{e.next()})}class hg{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new ll(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class i_{constructor(e){this.key=e}}class Ks{constructor(e){this.key=e}}class fy{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Hn(),this.mutatedKeys=Hn(),this.tc=Rl(e),this.ec=new cd(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new n_,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,D=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,L="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Q,de)=>{const Oe=u.get(Q),Qe=$c(this.query,de)?de:null,wt=!!Oe&&this.mutatedKeys.has(Oe.key),Ut=!!Qe&&(Qe.hasLocalMutations||this.mutatedKeys.has(Qe.key)&&Qe.hasCommittedMutations);let Qt=!1;Oe&&Qe?Oe.data.isEqual(Qe.data)?wt!==Ut&&(o.track({type:3,doc:Qe}),Qt=!0):this.rc(Oe,Qe)||(o.track({type:2,doc:Qe}),Qt=!0,(N&&this.tc(Qe,N)>0||L&&this.tc(Qe,L)<0)&&(D=!0)):!Oe&&Qe?(o.track({type:0,doc:Qe}),Qt=!0):Oe&&!Qe&&(o.track({type:1,doc:Oe}),Qt=!0,(N||L)&&(D=!0)),Qt&&(Qe?(f=f.add(Qe),l=Ut?l.add(Q):l.delete(Q)):(f=f.delete(Q),l=l.delete(Q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Q="F"===this.query.limitType?f.last():f.first();f=f.delete(Q.key),l=l.delete(Q.key),o.track({type:1,doc:Q})}return{ec:f,ic:o,zi:D,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((L,Q)=>function(de,Oe){const Qe=wt=>{switch(wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return Qe(de)-Qe(Oe)}(L.type,Q.type)||this.tc(L.doc,Q.doc)),this.oc(o);const f=n?this.uc():[],D=0===this.Zu.size&&this.current?1:0,N=D!==this.Xu;return this.Xu=D,0!==l.length||N?{snapshot:new ll(this.query,e.ec,u,l,e.mutatedKeys,0===D,N,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new n_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Hn(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new Ks(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new i_(o))}),n}hc(e){this.Yu=e.ir,this.Zu=Hn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ll.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class s_{constructor(e){this.key=e,this.fc=!1}}class o_{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new xa(D=>Ph(D),jc),this._c=new Map,this.mc=new Set,this.gc=new Qr(Dt.comparator),this.yc=new Map,this.Ic=new Jd,this.Tc={},this.Ec=new Map,this.Ac=sa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function gg(i,e){return Af.apply(this,arguments)}function Af(){return Af=(0,ae.Z)(function*(i,e){const n=function Sc(i){const e=Tt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=gy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_E.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xu.bind(null,e),e.dc.nu=dg.bind(null,e.eventManager),e.dc.Pc=r_.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function Qu(i,e){const n=Tt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Me.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new Za(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,Bs(e)),D=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Mf(i,e,n,o,u){return mg.apply(this,arguments)}(n,e,o,"current"===D,f.resumeToken),n.isPrimaryClient&&td(n.remoteStore,f)}return u}),Af.apply(this,arguments)}function mg(){return mg=(0,ae.Z)(function*(i,e,n,o,u){i.Rc=(de,Oe,Qe)=>{return(wt=(0,ae.Z)(function*(Ut,Qt,dr,Gr){let vr=Qt.view.sc(dr);vr.zi&&(vr=yield il(Ut.localStore,Qt.query,!1).then(({documents:Ui})=>Qt.view.sc(Ui,vr)));const js=Gr&&Gr.targetChanges.get(Qt.targetId),Ms=Qt.view.applyChanges(vr,Ut.isPrimaryClient,js);return Eg(Ut,Qt.targetId,Ms.cc),Ms.snapshot}),function(Ut,Qt,dr,Gr){return wt.apply(this,arguments)})(i,de,Oe,Qe);var wt};const l=yield il(i.localStore,e,!0),f=new fy(e,l.ir),D=f.sc(l.documents),N=Ki.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),L=f.applyChanges(D,i.isPrimaryClient,N);Eg(i,n,L.cc);const Q=new pg(e,n,f);return i.wc.set(e,Q),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),L.snapshot}),mg.apply(this,arguments)}function py(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,ae.Z)(function*(i,e){const n=Tt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!jc(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Zl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),nd(n.remoteStore,o.targetId),fl(n,o.targetId)}).catch(To))):(fl(n,o.targetId),yield Zl(n.localStore,o.targetId,!0))}),xf.apply(this,arguments)}function yg(){return yg=(0,ae.Z)(function*(i,e,n){const o=function lh(i){const e=Tt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=my.bind(null,e),e}(i);try{const u=yield function(l,f){const D=Tt(l),N=hi.now(),L=f.reduce((Oe,Qe)=>Oe.add(Qe.key),Hn());let Q,de;return D.persistence.runTransaction("Locally write mutations","readwrite",Oe=>{let Qe=po(),wt=Hn();return D.Zi.getEntries(Oe,L).next(Ut=>{Qe=Ut,Qe.forEach((Qt,dr)=>{dr.isValidDocument()||(wt=wt.add(Qt))})}).next(()=>D.localDocuments.getOverlayedDocuments(Oe,Qe)).next(Ut=>{Q=Ut;const Qt=[];for(const dr of f){const Gr=Mm(dr,Q.get(dr.key).overlayedDocument);null!=Gr&&Qt.push(new hu(dr.key,Gr,Md(Gr.value.mapValue),Ni.exists(!0)))}return D.mutationQueue.addMutationBatch(Oe,N,Qt,f)}).next(Ut=>{de=Ut;const Qt=Ut.applyToLocalDocumentSet(Q,wt);return D.documentOverlayCache.saveOverlays(Oe,Ut.batchId,Qt)})}).then(()=>({batchId:de.batchId,changes:Nl(Q)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,D){let N=l.Tc[l.currentUser.toKey()];N||(N=new Qr(qt)),N=N.insert(f,D),l.Tc[l.currentUser.toKey()]=N}(o,u.batchId,n),yield Pu(o,u.changes),yield id(o.remoteStore)}catch(u){const l=ud(u,"Failed to persist write");n.reject(l)}}),yg.apply(this,arguments)}function gy(i,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,ae.Z)(function*(i,e){const n=Tt(i);try{const o=yield function rl(i,e){const n=Tt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const D=[];e.targetChanges.forEach((Q,de)=>{const Oe=u.get(de);if(!Oe)return;D.push(n.Bs.removeMatchingKeys(l,Q.removedDocuments,de).next(()=>n.Bs.addMatchingKeys(l,Q.addedDocuments,de)));let Qe=Oe.withSequenceNumber(l.currentSequenceNumber);var wt,Ut,Qt;null!==e.targetMismatches.get(de)?Qe=Qe.withResumeToken(ps.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):Q.resumeToken.approximateByteSize()>0&&(Qe=Qe.withResumeToken(Q.resumeToken,o)),u=u.insert(de,Qe),Ut=Qe,Qt=Q,(0===(wt=Oe).resumeToken.approximateByteSize()||Ut.snapshotVersion.toMicroseconds()-wt.snapshotVersion.toMicroseconds()>=3e8||Qt.addedDocuments.size+Qt.modifiedDocuments.size+Qt.removedDocuments.size>0)&&D.push(n.Bs.updateTargetData(l,Qe))});let N=po(),L=Hn();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(l,Q))}),D.push(function Km(i,e,n){let o=Hn(),u=Hn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=po();return n.forEach((D,N)=>{const L=l.get(D);N.isFoundDocument()!==L.isFoundDocument()&&(u=u.add(D)),N.isNoDocument()&&N.version.isEqual(jt.min())?(e.removeEntry(D,N.readTime),f=f.insert(D,N)):!L.isValidDocument()||N.version.compareTo(L.version)>0||0===N.version.compareTo(L.version)&&L.hasPendingWrites?(e.addEntry(N),f=f.insert(D,N)):pt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",L.version," Watch version:",N.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(Q=>{N=Q.nr,L=Q.sr})),!o.isEqual(jt.min())){const Q=n.Bs.getLastRemoteSnapshotVersion(l).next(de=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));D.push(Q)}return Me.waitFor(D).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,N,L)).next(()=>N)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(en(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?en(f.fc):u.removedDocuments.size>0&&(en(f.fc),f.fc=!1))}),yield Pu(n,o,e)}catch(o){yield To(o)}}),Rf.apply(this,arguments)}function dl(i,e,n){const o=Tt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const D=f.view.Mu(e);D.snapshot&&u.push(D.snapshot)}),function(l,f){const D=Tt(l);D.onlineState=f;let N=!1;D.queries.forEach((L,Q)=>{for(const de of Q.listeners)de.Mu(f)&&(N=!0)}),N&&ly(D)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Xu(i,e,n){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,ae.Z)(function*(i,e,n){const o=Tt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new Qr(Dt.comparator);f=f.insert(l,lr.newNoDocument(l,jt.min()));const D=Hn().add(l),N=new jo(jt.min(),new Map,new Qr(qt),f,D);yield gy(o,N),o.gc=o.gc.remove(l),o.yc.delete(e),Ig(o)}else yield Zl(o.localStore,e,!1).then(()=>fl(o,e,n)).catch(To)}),Tc.apply(this,arguments)}function u_(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,ae.Z)(function*(i,e){const n=Tt(i),o=e.batch.batchId;try{const u=yield function qm(i,e){const n=Tt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,D,N,L){const Q=N.batch,de=Q.keys();let Oe=Me.resolve();return de.forEach(Qe=>{Oe=Oe.next(()=>L.getEntry(D,Qe)).next(wt=>{const Ut=N.docVersions.get(Qe);en(null!==Ut),wt.version.compareTo(Ut)<0&&(Q.applyToRemoteDocument(wt,N),wt.isValidDocument()&&(wt.setReadTime(N.commitVersion),L.addEntry(wt)))})}),Oe.next(()=>f.mutationQueue.removeMutationBatch(D,Q))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let D=Hn();for(let N=0;N<f.mutationResults.length;++N)f.mutationResults[N].transformResults.length>0&&(D=D.add(f.batch.mutations[N].key));return D}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Of(n,o,null),ld(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Pu(n,u)}catch(u){yield To(u)}}),vg.apply(this,arguments)}function my(i,e,n){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ae.Z)(function*(i,e,n){const o=Tt(i);try{const u=yield function(l,f){const D=Tt(l);return D.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let L;return D.mutationQueue.lookupMutationBatch(N,f).next(Q=>(en(null!==Q),L=Q.keys(),D.mutationQueue.removeMutationBatch(N,Q))).next(()=>D.mutationQueue.performConsistencyCheck(N)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(N,L,f)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,L)).next(()=>D.localDocuments.getDocuments(N,L))})}(o.localStore,e);Of(o,e,n),ld(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Pu(o,u)}catch(u){yield To(u)}}),Nf.apply(this,arguments)}function ld(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function Of(i,e,n){const o=Tt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function fl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||yy(i,o)})}function yy(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(nd(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),Ig(i))}function Eg(i,e,n){for(const o of n)o instanceof i_?(i.Ic.addReference(o.key,e),c_(i,o)):o instanceof Ks?(pt("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||yy(i,o.key)):Vt()}function c_(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(pt("SyncEngine","New document in limbo: "+n),i.mc.add(o),Ig(i))}function Ig(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new Dt(yr.fromString(e)),o=i.Ac.next();i.yc.set(o,new s_(n)),i.gc=i.gc.insert(n,o),td(i.remoteStore,new Za(Bs(fc(n.path)),o,"TargetPurposeLimboResolution",Li.ct))}}function Pu(i,e,n){return vy.apply(this,arguments)}function vy(){return vy=(0,ae.Z)(function*(i,e,n){const o=Tt(i),u=[],l=[],f=[];var D;o.wc.isEmpty()||(o.wc.forEach((D,N)=>{f.push(o.Rc(N,e,n).then(L=>{if((L||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(N.targetId,L?.fromCache?"not-current":"current"),L){u.push(L);const Q=lf.Li(N.targetId,L);l.push(Q)}}))}),yield Promise.all(f),o.dc.nu(u),yield(D=(0,ae.Z)(function*(N,L){const Q=Tt(N);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",de=>Me.forEach(L,Oe=>Me.forEach(Oe.Fi,Qe=>Q.persistence.referenceDelegate.addReference(de,Oe.targetId,Qe)).next(()=>Me.forEach(Oe.Bi,Qe=>Q.persistence.referenceDelegate.removeReference(de,Oe.targetId,Qe)))))}catch(de){if(!Fo(de))throw de;pt("LocalStore","Failed to update sequence numbers: "+de)}for(const de of L){const Oe=de.targetId;if(!de.fromCache){const Qe=Q.Ji.get(Oe),Ut=Qe.withLastLimboFreeSnapshotVersion(Qe.snapshotVersion);Q.Ji=Q.Ji.insert(Oe,Ut)}}}),function(N,L){return D.apply(this,arguments)})(o.localStore,l))}),vy.apply(this,arguments)}function l_(i,e){return _y.apply(this,arguments)}function _y(){return _y=(0,ae.Z)(function*(i,e){const n=Tt(i);if(!n.currentUser.isEqual(e)){pt("SyncEngine","User change. New user:",e.toKey());const o=yield Wm(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(D=>{D.reject(new st(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Pu(n,o.er)}var u}),_y.apply(this,arguments)}function _E(i,e){const n=Tt(i),o=n.yc.get(e);if(o&&o.fc)return Hn().add(o.key);{let u=Hn();const l=n._c.get(e);if(!l)return u;for(const f of l){const D=n.wc.get(f);u=u.unionWith(D.view.nc)}return u}}class hh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ae.Z)(function*(){n.serializer=al(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function df(i,e,n,o){return new vE(i,e,n,o)}(this.persistence,new nh,e.initialUser,this.serializer)}createPersistence(e){return new sf(zp.zs,this.serializer)}createSharedClientState(e){return new Kv}terminate(){var e=this;return(0,ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pl{initialize(e,n){var o=this;return(0,ae.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>dl(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=l_.bind(null,o.syncEngine),yield function cg(i,e){return lg.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yu}createDatastore(e){const n=al(e.databaseInfo.databaseId),o=new Xp(e.databaseInfo);return new eg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=D=>dl(this.syncEngine,D,0),f=Jm.D()?new Jm:new Zv,new ah(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,D,N,L){const Q=new o_(o,u,l,f,D,N);return L&&(Q.vc=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,ae.Z)(function*(n){const o=Tt(n);pt("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ed(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class jf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class g_{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Or.UNAUTHENTICATED,this.clientId=wu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,ae.Z)(function*(D){pt("FirestoreClient","Received user=",D.uid),yield l.authCredentialListener(D),l.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(pt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ae.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=ud(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function $f(i,e){return bg.apply(this,arguments)}function bg(){return bg=(0,ae.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),pt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,ae.Z)(function*(l){o.isEqual(l)||(yield Wm(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),bg.apply(this,arguments)}function Tg(i,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,ae.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Ag(i){return Mg.apply(this,arguments)}(i);pt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Cf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>Cf(e.remoteStore,l)),i._onlineComponents=e}),Hf.apply(this,arguments)}function Mg(){return Mg=(0,ae.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $f(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Sg(i){return"FirebaseError"===i.name?i.code===Ue.FAILED_PRECONDITION||i.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),yield $f(i,new hh)}}else pt("FirestoreClient","Using default OfflineComponentProvider"),yield $f(i,new hh);return i._offlineComponents}),Mg.apply(this,arguments)}function $o(i){return xg.apply(this,arguments)}function xg(){return xg=(0,ae.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Tg(i,i._uninitializedComponentsProvider._online)):(pt("FirestoreClient","Using default OnlineComponentProvider"),yield Tg(i,new pl))),i._onlineComponents}),xg.apply(this,arguments)}function pd(i){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,ae.Z)(function*(i){const e=yield $o(i),n=e.eventManager;return n.onListen=gg.bind(null,e.syncEngine),n.onUnlisten=py.bind(null,e.syncEngine),n}),Ng.apply(this,arguments)}function qf(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Ay=new Map;function Kf(i,e,n){if(!n)throw new st(Ue.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Og(i){if(!Dt.isDocumentKey(i))throw new st(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Pg(i){if(Dt.isDocumentKey(i))throw new st(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function gl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Vt()}function Ar(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new st(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gl(i);throw new st(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class kg{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function w_(i,e,n,o){if(!0===e&&!0===o)throw new st(Ue.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qf(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new st(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new cr;switch(n.type){case"firstParty":return new Iu(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new st(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ay.get(e);n&&(pt("ComponentProvider","Removing Datastore"),Ay.delete(e),n.terminate())}(this),Promise.resolve()}}class gs{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gs(this.firestore,e,this._key)}}class Zs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class mo extends Zs{constructor(e,n,o){super(e,n,fc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gs(this.firestore,null,new Dt(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function C_(i,e,...n){if(i=(0,le.m9)(i),Kf("collection","path",e),i instanceof gd){const o=yr.fromString(e,...n);return Pg(o),new mo(i,null,o)}{if(!(i instanceof gs||i instanceof mo))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yr.fromString(e,...n));return Pg(o),new mo(i.firestore,null,o)}}function Zf(i,e,...n){if(i=(0,le.m9)(i),1===arguments.length&&(e=wu.A()),Kf("doc","path",e),i instanceof gd){const o=yr.fromString(e,...n);return Og(o),new gs(i,null,new Dt(o))}{if(!(i instanceof gs||i instanceof mo))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yr.fromString(e,...n));return Og(o),new gs(i.firestore,i instanceof mo?i.converter:null,new Dt(o))}}class b_{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ul(this,"async_queue_retry"),this.Xc=()=>{const n=Xl();n&&pt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Xl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Xl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Fi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ae.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Fo(n))throw n;pt("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Di("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=Tf.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&Vt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ae.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function md(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class bi extends gd{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new b_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lg(this),this._firestoreClient.terminate()}}function S_(i,e){const n="object"==typeof i?i:(0,Ge.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,Ge.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,le.P0)("firestore");l&&function My(i,e,n,o={}){var u;const l=(i=Ar(i,gd))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let D,N;if("string"==typeof o.mockUserToken)D=o.mockUserToken,N=Or.MOCK_USER;else{D=(0,le.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const L=o.mockUserToken.sub||o.mockUserToken.user_id;if(!L)throw new st(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Or(L)}i._authCredentials=new Ja(new ic(D,N))}}(u,...l)}return u}function As(i){return i._firestoreClient||Lg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Lg(i){var e,n,o;const u=i._freezeSettings(),l=(D=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Pc(i._databaseId,D,i._persistenceKey,(L=u).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,qf(L.experimentalLongPollingOptions),L.useFetchStreams));var D,L;i._firestoreClient=new g_(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(ps.fromBase64String(e))}catch(n){throw new st(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new st(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ug{constructor(e){this._methodName=e}}class Bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new st(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new st(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const N_=/^__.*__$/;class xy{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new hu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class Qf{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new hu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ry(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class yl{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new yl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ra(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ry(this.ca)&&N_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class O_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||al(e)}ya(e,n,o,u=!1){return new yl({ca:e,methodName:n,ga:o,path:Gt.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(i){const e=i._freezeSettings(),n=al(i._databaseId);return new O_(i._databaseId,!!e.ignoreUndefinedProperties,n)}function jg(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);Gg("Data must be an object, but it was:",f,o);const D=F_(o,f);let N,L;if(l.merge)N=new zs(f.fieldMask),L=f.fieldTransforms;else if(l.mergeFields){const Q=[];for(const de of l.mergeFields){const Oe=yh(e,de,n);if(!f.contains(Oe))throw new st(Ue.INVALID_ARGUMENT,`Field '${Oe}' is specified in your field mask but missing from your input data.`);Ed(Q,Oe)||Q.push(Oe)}N=new zs(Q),L=f.fieldTransforms.filter(de=>N.covers(de.field))}else N=null,L=f.fieldTransforms;return new xy(new si(D),N,L)}class gh extends Ug{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function Ac(i,e){if(mh(i=(0,le.m9)(i)))return Gg("Unsupported field value:",e,i),F_(i,e);if(i instanceof Ug)return function(n,o){if(!Ry(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let D=Ac(f,o.wa(l));null==D&&(D={nullValue:"NULL_VALUE"}),u.push(D),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,le.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Cm(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=hi.fromDate(n);return{timestampValue:yc(o.serializer,u)}}if(n instanceof hi){const u=new hi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yc(o.serializer,u)}}if(n instanceof Bg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ml)return{bytesValue:Rm(o.serializer,n._byteString)};if(n instanceof gs){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${gl(n)}`)}(i,e)}function F_(i,e){const n={};return Su(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(i,(o,u)=>{const l=Ac(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function mh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof hi||i instanceof Bg||i instanceof ml||i instanceof gs||i instanceof Ug)}function Gg(i,e,n){if(!mh(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=gl(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function yh(i,e,n){if((e=(0,le.m9)(e))instanceof vd)return e._internalPath;if("string"==typeof e)return Xf(i,e);throw Ra("Field path arguments must be of type string or ",i,!1,void 0,n)}const zg=new RegExp("[~\\*/\\[\\]]");function Xf(i,e,n){if(e.search(zg)>=0)throw Ra(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new vd(...e.split("."))._internalPath}catch{throw Ra(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ra(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let N="";return(l||f)&&(N+=" (found",l&&(N+=` in field ${o}`),f&&(N+=` in document ${u}`),N+=")"),new st(Ue.INVALID_ARGUMENT,D+i+N)}function Ed(i,e){return i.some(n=>n.isEqual(e))}class yo{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_l("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class vl extends yo{data(){return super.data()}}function _l(i,e){return"string"==typeof e?Xf(i,e):e instanceof vd?e._internalPath:e._delegate._internalPath}class vh{}class Id extends vh{}function wd(i,e,...n){let o=[];e instanceof vh&&o.push(e),o=o.concat(n),function(u){const l=u.filter(D=>D instanceof _u).length,f=u.filter(D=>D instanceof Fu).length;if(l>1||l>0&&f>0)throw new st(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Fu extends Id{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Fu(e,n,o)}_apply(e){const n=this._parse(e);return G_(e._query,n),new Zs(e.firestore,e.converter,xd(e._query,n))}_parse(e){const n=_d(e.firestore);return function(u,l,f,D,N,L,Q){let de;if(N.isKeyField()){if("array-contains"===L||"array-contains-any"===L)throw new st(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${L}' queries on documentId().`);if("in"===L||"not-in"===L){H_(Q,L);const Oe=[];for(const Qe of Q)Oe.push(Fy(D,u,Qe));de={arrayValue:{values:Oe}}}else de=Fy(D,u,Q)}else"in"!==L&&"not-in"!==L&&"array-contains-any"!==L||H_(Q,L),de=function Hg(i,e,n,o=!1){return Ac(n,i.ya(o?4:3,e))}(f,"where",Q,"in"===L||"not-in"===L);return k.create(N,L,de)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dd(i,e,n){const o=e,u=_l("where",i);return Fu._create(u,o,n)}class _u extends vh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _u(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:X.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const D of f)G_(l,D),l=xd(l,D)}(e._query,n),new Zs(e.firestore,e.converter,xd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Fy(i,e,n){if("string"==typeof(n=(0,le.m9)(n))){if(""===n)throw new st(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!du(e)&&-1!==n.indexOf("/"))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(yr.fromString(n));if(!Dt.isDocumentKey(o))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ta(i,new Dt(o))}if(n instanceof gs)return ta(i,n._key);throw new st(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gl(n)}.`)}function H_(i,e){if(!Array.isArray(i)||0===i.length)throw new st(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G_(i,e){if(e.isInequality()){const o=lu(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=fo(i);null!==l&&function Ly(i,e,n){if(!n.isEqual(e))throw new st(Ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new st(Ue.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ME{convertValue(e,n="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Vt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return ha(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Bg(qi(e.latitude),qi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Tl(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const n=So(e);return new hi(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=yr.fromString(e);en(xv(o));const u=new Ao(o.get(1),o.get(3)),l=new Dt(o.popFirst(5));return u.isEqual(n)||Di(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ec extends yo{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(_l("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class bh extends ec{data(e={}){return super.data(e)}}class Lu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Ju(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new bh(this._firestore,this._userDataWriter,o.key,o,new Ju(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new bh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ju(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const D=new bh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ju(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let N=-1,L=-1;return 0!==f.type&&(N=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),L=l.indexOf(f.doc.key)),{type:By(f.type),doc:D,oldIndex:N,newIndex:L}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function By(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}class xc extends ME{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,n)}}function np(i,e,n){i=Ar(i,gs);const o=Ar(i.firestore,bi),u=function Wg(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e,n);return Cd(o,[jg(_d(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Ni.none())])}function FE(i,e,n,...o){i=Ar(i,gs);const u=Ar(i.firestore,bi),l=_d(u);let f;return f="string"==typeof(e=(0,le.m9)(e))||e instanceof vd?function k_(i,e,n,o,u,l){const f=i.ya(1,e,n),D=[yh(e,o,n)],N=[u];if(l.length%2!=0)throw new st(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Oe=0;Oe<l.length;Oe+=2)D.push(yh(e,l[Oe])),N.push(l[Oe+1]);const L=[],Q=si.empty();for(let Oe=D.length-1;Oe>=0;--Oe)if(!Ed(L,D[Oe])){const Qe=D[Oe];let wt=N[Oe];wt=(0,le.m9)(wt);const Ut=f.da(Qe);if(wt instanceof gh)L.push(Qe);else{const Qt=Ac(wt,Ut);null!=Qt&&(L.push(Qe),Q.set(Qe,Qt))}}const de=new zs(L);return new Qf(Q,de,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function ky(i,e,n,o){const u=i.ya(1,e,n);Gg("Data must be an object, but it was:",u,o);const l=[],f=si.empty();ha(o,(N,L)=>{const Q=Xf(e,N,n);L=(0,le.m9)(L);const de=u.da(Q);if(L instanceof gh)l.push(Q);else{const Oe=Ac(L,de);null!=Oe&&(l.push(Q),f.set(Q,Oe))}});const D=new zs(l);return new Qf(f,D,u.fieldTransforms)}(l,"updateDoc",i._key,e),Cd(u,[f.toMutation(i._key,Ni.exists(!0))])}function Cd(i,e){return function(n,o){const u=new Fi;return n.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function a_(i,e,n){return yg.apply(this,arguments)}(yield function zf(i){return $o(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(As(i),e)}!function(i,e=!0){$r=Ge.Jn,(0,Ge.Xd)(new je.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new bi(new Bu(n.getProvider("auth-internal")),new Zo(n.getProvider("app-check-internal")),function(D,N){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new st(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(D.options.projectId,N)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Ge.KN)(uo,"3.13.0",i),(0,Ge.KN)(uo,"3.13.0","esm2017")}();var Jg=W(5592),em=W(7398),t0={includeMetadataChanges:!1};function op(i,e){return void 0===e&&(e=t0),new Jg.y(function(n){var o=function Kg(i,...e){var n,o,u;i=(0,le.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||md(e[f])||(l=e[f],f++);const D={includeMetadataChanges:l.includeMetadataChanges};if(md(e[f])){const de=e[f];e[f]=null===(n=de.next)||void 0===n?void 0:n.bind(de),e[f+1]=null===(o=de.error)||void 0===o?void 0:o.bind(de),e[f+2]=null===(u=de.complete)||void 0===u?void 0:u.bind(de)}let N,L,Q;if(i instanceof gs)L=Ar(i.firestore,bi),Q=fc(i._key.path),N={next:de=>{e[f]&&e[f](function Zg(i,e,n){const o=n.docs.get(e._key),u=new xc(i);return new ec(i,u,e._key,o,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}(L,i,de))},error:e[f+1],complete:e[f+2]};else{const de=Ar(i,Zs);L=Ar(de.firestore,bi),Q=de._query;const Oe=new xc(L);N={next:Qe=>{e[f]&&e[f](new Lu(L,Oe,de,Qe))},error:e[f+1],complete:e[f+2]},function Na(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new st(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(de,Oe,Qe,wt){const Ut=new jf(wt),Qt=new hg(Oe,Ut,Qe);return de.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function Sf(i,e){return cy.apply(this,arguments)}(yield pd(de),Qt)})),()=>{Ut.Dc(),de.asyncQueue.enqueueAndForget((0,ae.Z)(function*(){return function ch(i,e){return Ou.apply(this,arguments)}(yield pd(de),Qt)}))}}(As(L),Q,D,N)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function tv(i,e){return void 0===e&&(e={}),function ev(i){return op(i,{includeMetadataChanges:!0}).pipe((0,em.U)(function(e){return e.docs}))}(i).pipe((0,em.U)(function(n){return n.map(function(o){return function tm(i,e){void 0===e&&(e={});var n=i.data();return!i.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=i.id),n}(o,e)})}))}class El{constructor(e){return e}}const tc="firestore",Th=new ue.OlP("angularfire2.firestore-instances");function om(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new El(o)}}const u0={provide:class a0{constructor(){return(0,y.vb)(tc)}},deps:[[new ue.FiY,Th]]},am={provide:El,useFactory:function Il(i,e){const n=(0,y.JM)(tc,i,e);return n&&new El(n)},deps:[[new ue.FiY,Th],be.Ot]};let zE=(()=>{class i{constructor(){(0,_e.KN)("angularfire",y.q4.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ue.oAB({type:i}),i.\u0275inj=ue.cJS({providers:[am,u0]}),i})();function WE(i,...e){return{ngModule:zE,providers:[{provide:Th,useFactory:om(i),multi:!0,deps:[ue.R0b,ue.zs3,y.HU,be.z6,[new ue.FiY,K.dh],[new ue.FiY,ne.nm],...e]}]}}const Ys=(0,y.u3)(tv,!0),p0=(0,y.u3)(C_,!0),nv=(0,y.u3)(Zf,!0),_0=(0,y.u3)(S_,!0),D0=(0,y.u3)(wd,!0),S0=(0,y.u3)(np,!0),av=(0,y.u3)(FE,!0),uv=(0,y.u3)(Dd,!0)},9493:(an,Xe,W)=>{W.d(Xe,{Ke:()=>Yi,Jt:()=>Go,cF:()=>_s,Vq:()=>vs,iH:()=>io,KV:()=>zo});var y=W(456),ue=W(4946),K=W(8726),be=W(5609),_e=W(3182),ne=W(7247),ae=W(5861),Ge=W(534),je=W(9058),fe=W(4537);const le="firebasestorage.googleapis.com",ke="storageBucket";class nt extends je.ZR{constructor(V,te,ce=0){super(Kt(V),`Firebase Storage: ${te} (${Kt(V)})`),this.status_=ce,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nt.prototype)}get status(){return this.status_}set status(V){this.status_=V}_codeEquals(V){return Kt(V)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(V){this.customData.serverResponse=V,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ct=function(U){return U.UNKNOWN="unknown",U.OBJECT_NOT_FOUND="object-not-found",U.BUCKET_NOT_FOUND="bucket-not-found",U.PROJECT_NOT_FOUND="project-not-found",U.QUOTA_EXCEEDED="quota-exceeded",U.UNAUTHENTICATED="unauthenticated",U.UNAUTHORIZED="unauthorized",U.UNAUTHORIZED_APP="unauthorized-app",U.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",U.INVALID_CHECKSUM="invalid-checksum",U.CANCELED="canceled",U.INVALID_EVENT_NAME="invalid-event-name",U.INVALID_URL="invalid-url",U.INVALID_DEFAULT_BUCKET="invalid-default-bucket",U.NO_DEFAULT_BUCKET="no-default-bucket",U.CANNOT_SLICE_BLOB="cannot-slice-blob",U.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",U.NO_DOWNLOAD_URL="no-download-url",U.INVALID_ARGUMENT="invalid-argument",U.INVALID_ARGUMENT_COUNT="invalid-argument-count",U.APP_DELETED="app-deleted",U.INVALID_ROOT_OPERATION="invalid-root-operation",U.INVALID_FORMAT="invalid-format",U.INTERNAL_ERROR="internal-error",U.UNSUPPORTED_ENVIRONMENT="unsupported-environment",U}(Ct||{});function Kt(U){return"storage/"+U}function Fn(){return new nt(Ct.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qe(U){return new nt(Ct.INVALID_ARGUMENT,U)}function Et(){return new nt(Ct.APP_DELETED,"The Firebase app was deleted.")}function Fe(U,V){return new nt(Ct.INVALID_FORMAT,"String does not match format '"+U+"': "+V)}function Be(U){throw new nt(Ct.INTERNAL_ERROR,"Internal error: "+U)}class Re{constructor(V,te){this.bucket=V,this.path_=te}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const V=encodeURIComponent;return"/b/"+V(this.bucket)+"/o/"+V(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(V,te){let ce;try{ce=Re.makeFromUrl(V,te)}catch{return new Re(V,"")}if(""===ce.path)return ce;throw function vn(U){return new nt(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+U+"'.")}(V)}static makeFromUrl(V,te){let ce=null;const De="([A-Za-z0-9.\\-_]+)",A=new RegExp("^gs://"+De+"(/(.*))?$","i");function se(ii){ii.path_=decodeURIComponent(ii.path)}const Lt=te.replace(/[.]/g,"\\."),Ai=[{regex:A,indices:{bucket:1,path:3},postModify:function x(ii){"/"===ii.path.charAt(ii.path.length-1)&&(ii.path_=ii.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Lt}/v[A-Za-z0-9_]+/b/${De}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:se},{regex:new RegExp(`^https?://${te===le?"(?:storage.googleapis.com|storage.cloud.google.com)":te}/${De}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:se}];for(let ii=0;ii<Ai.length;ii++){const Eo=Ai[ii],zi=Eo.regex.exec(V);if(zi){let so=zi[Eo.indices.path];so||(so=""),ce=new Re(zi[Eo.indices.bucket],so),Eo.postModify(ce);break}}if(null==ce)throw function it(U){return new nt(Ct.INVALID_URL,"Invalid URL '"+U+"'.")}(V);return ce}}class Ke{constructor(V){this.promise_=Promise.reject(V)}getPromise(){return this.promise_}cancel(V=!1){}}function un(U){return"string"==typeof U||U instanceof String}function Kn(U){return xn()&&U instanceof Blob}function xn(){return typeof Blob<"u"&&!(0,je.UG)()}function Rn(U,V,te,ce){if(ce<V)throw qe(`Invalid value for '${U}'. Expected ${V} or greater.`);if(ce>te)throw qe(`Invalid value for '${U}'. Expected ${te} or less.`)}function Ln(U,V,te){let ce=V;return null==te&&(ce=`https://${V}`),`${te}://${ce}/v0${U}`}function Vn(U){const V=encodeURIComponent;let te="?";for(const ce in U)U.hasOwnProperty(ce)&&(te=te+(V(ce)+"=")+V(U[ce])+"&");return te=te.slice(0,-1),te}var Ir=function(U){return U[U.NO_ERROR=0]="NO_ERROR",U[U.NETWORK_ERROR=1]="NETWORK_ERROR",U[U.ABORT=2]="ABORT",U}(Ir||{});class nn{constructor(V,te,ce,De,x,O,A,j,se,ct,Lt,Xn=!0){this.url_=V,this.method_=te,this.headers_=ce,this.body_=De,this.successCodes_=x,this.additionalRetryCodes_=O,this.callback_=A,this.errorCallback_=j,this.timeout_=se,this.progressCallback_=ct,this.connectionFactory_=Lt,this.retry=Xn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Er,Cr)=>{this.resolve_=Er,this.reject_=Cr,this.start_()})}start_(){const te=(ce,De)=>{const x=this.resolve_,O=this.reject_,A=De.connection;if(De.wasSuccessCode)try{const j=this.callback_(A,A.getResponse());!function _n(U){return void 0!==U}(j)?x():x(j)}catch(j){O(j)}else if(null!==A){const j=Fn();j.serverResponse=A.getErrorText(),O(this.errorCallback_?this.errorCallback_(A,j):j)}else O(De.canceled?this.appDelete_?Et():function rt(){return new nt(Ct.CANCELED,"User canceled the upload/download.")}():function mt(){return new nt(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?te(0,new Un(!1,null,!0)):this.backoffId_=function ft(U,V,te){let ce=1,De=null,x=null,O=!1,A=0;function j(){return 2===A}let se=!1;function ct(...nr){se||(se=!0,V.apply(null,nr))}function Lt(nr){De=setTimeout(()=>{De=null,U(Er,j())},nr)}function Xn(){x&&clearTimeout(x)}function Er(nr,...Gi){if(se)return void Xn();if(nr)return Xn(),void ct.call(null,nr,...Gi);if(j()||O)return Xn(),void ct.call(null,nr,...Gi);let Ai;ce<64&&(ce*=2),1===A?(A=2,Ai=0):Ai=1e3*(ce+Math.random()),Lt(Ai)}let Cr=!1;function yi(nr){Cr||(Cr=!0,Xn(),!se&&(null!==De?(nr||(A=2),clearTimeout(De),Lt(0)):nr||(A=1)))}return Lt(0),x=setTimeout(()=>{O=!0,yi(!0)},te),yi}((ce,De)=>{if(De)return void ce(!1,new Un(!1,null,!0));const x=this.connectionFactory_();this.pendingConnection_=x;const O=A=>{null!==this.progressCallback_&&this.progressCallback_(A.loaded,A.lengthComputable?A.total:-1)};null!==this.progressCallback_&&x.addUploadProgressListener(O),x.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&x.removeUploadProgressListener(O),this.pendingConnection_=null;const A=x.getErrorCode()===Ir.NO_ERROR,j=x.getStatus();if(!A||function Tn(U,V){const te=U>=500&&U<600,De=-1!==[408,429].indexOf(U),x=-1!==V.indexOf(U);return te||De||x}(j,this.additionalRetryCodes_)&&this.retry){const ct=x.getErrorCode()===Ir.ABORT;return void ce(!1,new Un(!1,null,ct))}const se=-1!==this.successCodes_.indexOf(j);ce(!0,new Un(se,x))})},te,this.timeout_)}getPromise(){return this.promise_}cancel(V){this.canceled_=!0,this.appDelete_=V||!1,null!==this.backoffId_&&function Bt(U){U(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Un{constructor(V,te,ce){this.wasSuccessCode=V,this.connection=te,this.canceled=!!ce}}function Zn(...U){const V=function dn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==V){const te=new V;for(let ce=0;ce<U.length;ce++)te.append(U[ce]);return te.getBlob()}if(xn())return new Blob(U);throw new nt(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const In={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tr{constructor(V,te){this.data=V,this.contentType=te||null}}function $n(U){const V=[];for(let te=0;te<U.length;te++){let ce=U.charCodeAt(te);ce<=127?V.push(ce):ce<=2047?V.push(192|ce>>6,128|63&ce):55296==(64512&ce)?te<U.length-1&&56320==(64512&U.charCodeAt(te+1))?(ce=65536|(1023&ce)<<10|1023&U.charCodeAt(++te),V.push(240|ce>>18,128|ce>>12&63,128|ce>>6&63,128|63&ce)):V.push(239,191,189):56320==(64512&ce)?V.push(239,191,189):V.push(224|ce>>12,128|ce>>6&63,128|63&ce)}return new Uint8Array(V)}function bt(U,V){switch(U){case In.BASE64:{const De=-1!==V.indexOf("-"),x=-1!==V.indexOf("_");if(De||x)throw Fe(U,"Invalid character '"+(De?"-":"_")+"' found: is it base64url encoded?");break}case In.BASE64URL:{const De=-1!==V.indexOf("+"),x=-1!==V.indexOf("/");if(De||x)throw Fe(U,"Invalid character '"+(De?"+":"/")+"' found: is it base64 encoded?");V=V.replace(/-/g,"+").replace(/_/g,"/");break}}let te;try{te=function Vr(U){if(typeof atob>"u")throw function ln(U){return new nt(Ct.UNSUPPORTED_ENVIRONMENT,`${U} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(U)}(V)}catch(De){throw De.message.includes("polyfill")?De:Fe(U,"Invalid character found")}const ce=new Uint8Array(te.length);for(let De=0;De<te.length;De++)ce[De]=te.charCodeAt(De);return ce}class vi{constructor(V){this.base64=!1,this.contentType=null;const te=V.match(/^data:([^,]+)?,/);if(null===te)throw Fe(In.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ce=te[1]||null;null!=ce&&(this.base64=function Br(U,V){return U.length>=V.length&&U.substring(U.length-V.length)===V}(ce,";base64"),this.contentType=this.base64?ce.substring(0,ce.length-7):ce),this.rest=V.substring(V.indexOf(",")+1)}}class _r{constructor(V,te){let ce=0,De="";Kn(V)?(this.data_=V,ce=V.size,De=V.type):V instanceof ArrayBuffer?(te?this.data_=new Uint8Array(V):(this.data_=new Uint8Array(V.byteLength),this.data_.set(new Uint8Array(V))),ce=this.data_.length):V instanceof Uint8Array&&(te?this.data_=V:(this.data_=new Uint8Array(V.length),this.data_.set(V)),ce=V.length),this.size_=ce,this.type_=De}size(){return this.size_}type(){return this.type_}slice(V,te){if(Kn(this.data_)){const De=function wr(U,V,te){return U.webkitSlice?U.webkitSlice(V,te):U.mozSlice?U.mozSlice(V,te):U.slice?U.slice(V,te):null}(this.data_,V,te);return null===De?null:new _r(De)}{const ce=new Uint8Array(this.data_.buffer,V,te-V);return new _r(ce,!0)}}static getBlob(...V){if(xn()){const te=V.map(ce=>ce instanceof _r?ce.data_:ce);return new _r(Zn.apply(null,te))}{const te=V.map(O=>un(O)?function Ur(U,V){switch(U){case In.RAW:return new tr($n(V));case In.BASE64:case In.BASE64URL:return new tr(bt(U,V));case In.DATA_URL:return new tr(function fi(U){const V=new vi(U);return V.base64?bt(In.BASE64,V.rest):function Bi(U){let V;try{V=decodeURIComponent(U)}catch{throw Fe(In.DATA_URL,"Malformed data URL.")}return $n(V)}(V.rest)}(V),function Mr(U){return new vi(U).contentType}(V))}throw Fn()}(In.RAW,O).data:O.data_);let ce=0;te.forEach(O=>{ce+=O.byteLength});const De=new Uint8Array(ce);let x=0;return te.forEach(O=>{for(let A=0;A<O.length;A++)De[x++]=O[A]}),new _r(De,!0)}}uploadData(){return this.data_}}function Zt(U){let V;try{V=JSON.parse(U)}catch{return null}return function _t(U){return"object"==typeof U&&!Array.isArray(U)}(V)?V:null}function Jt(U){const V=U.lastIndexOf("/",U.length-2);return-1===V?U:U.slice(V+1)}function Gn(U,V){return V}class Wt{constructor(V,te,ce,De){this.server=V,this.local=te||V,this.writable=!!ce,this.xform=De||Gn}}let er=null;function q(){if(er)return er;const U=[];U.push(new Wt("bucket")),U.push(new Wt("generation")),U.push(new Wt("metageneration")),U.push(new Wt("name","fullPath",!0));const te=new Wt("name");te.xform=function V(x,O){return function he(U){return!un(U)||U.length<2?U:Jt(U)}(O)},U.push(te);const De=new Wt("size");return De.xform=function ce(x,O){return void 0!==O?Number(O):O},U.push(De),U.push(new Wt("timeCreated")),U.push(new Wt("updated")),U.push(new Wt("md5Hash",null,!0)),U.push(new Wt("cacheControl",null,!0)),U.push(new Wt("contentDisposition",null,!0)),U.push(new Wt("contentEncoding",null,!0)),U.push(new Wt("contentLanguage",null,!0)),U.push(new Wt("contentType",null,!0)),U.push(new Wt("metadata","customMetadata",!0)),er=U,er}function J(U,V,te){const ce=Zt(V);return null===ce?null:function Y(U,V,te){const ce={type:"file"},De=te.length;for(let x=0;x<De;x++){const O=te[x];ce[O.local]=O.xform(ce,V[O.server])}return function Z(U,V){Object.defineProperty(U,"ref",{get:function te(){const x=new Re(U.bucket,U.fullPath);return V._makeStorageReference(x)}})}(ce,U),ce}(U,ce,te)}class sn{constructor(V,te,ce,De){this.url=V,this.method=te,this.handler=ce,this.timeout=De,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function zn(U){if(!U)throw Fn()}function Ve(U){return function V(te,ce){let De;return De=401===te.getStatus()?te.getErrorText().includes("Firebase App Check token is invalid")?function Ye(){return new nt(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ot(){return new nt(Ct.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===te.getStatus()?function We(U){return new nt(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+U+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(U.bucket):403===te.getStatus()?function at(U){return new nt(Ct.UNAUTHORIZED,"User does not have permission to access '"+U+"'.")}(U.path):ce,De.status=te.getStatus(),De.serverResponse=ce.serverResponse,De}}function as(U,V,te,ce,De){const x=V.bucketOnlyServerUrl(),O={"X-Goog-Upload-Protocol":"multipart"},j=function A(){let Ai="";for(let ii=0;ii<2;ii++)Ai+=Math.random().toString().slice(2);return Ai}();O["Content-Type"]="multipart/related; boundary="+j;const se=function ai(U,V,te){const ce=Object.assign({},te);return ce.fullPath=U.path,ce.size=V.size(),ce.contentType||(ce.contentType=function Yn(U,V){return U&&U.contentType||V&&V.type()||"application/octet-stream"}(null,V)),ce}(V,ce,De),ct=function et(U,V){const te={},ce=V.length;for(let De=0;De<ce;De++){const x=V[De];x.writable&&(te[x.server]=U[x.local])}return JSON.stringify(te)}(se,te),Er=_r.getBlob("--"+j+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ct+"\r\n--"+j+"\r\nContent-Type: "+se.contentType+"\r\n\r\n",ce,"\r\n--"+j+"--");if(null===Er)throw function Tr(){return new nt(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Cr={name:se.fullPath},yi=Ln(x,U.host,U._protocol),Gi=U.maxUploadRetryTime,Nr=new sn(yi,"POST",function Dr(U,V){return function te(ce,De){const x=J(U,De,V);return zn(null!==x),x}}(U,te),Gi);return Nr.urlParams=Cr,Nr.headers=O,Nr.body=Er.uploadData(),Nr.errorHandler=Ve(V),Nr}let xs=null;class ge{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ir.NO_ERROR,this.sendPromise_=new Promise(V=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ir.ABORT,V()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ir.NETWORK_ERROR,V()}),this.xhr_.addEventListener("load",()=>{V()})})}send(V,te,ce,De){if(this.sent_)throw Be("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(te,V,!0),void 0!==De)for(const x in De)De.hasOwnProperty(x)&&this.xhr_.setRequestHeader(x,De[x].toString());return void 0!==ce?this.xhr_.send(ce):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Be("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Be("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Be("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Be("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(V){return this.xhr_.getResponseHeader(V)}addUploadProgressListener(V){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",V)}removeUploadProgressListener(V){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",V)}}class me extends ge{initXhr(){this.xhr_.responseType="text"}}function Te(){return xs?xs():new me}class Dn{constructor(V,te){this._service=V,this._location=te instanceof Re?te:Re.makeFromUrl(te,V.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(V,te){return new Dn(V,te)}get root(){const V=new Re(this._location.bucket,"");return this._newRef(this._service,V)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jt(this._location.path)}get storage(){return this._service}get parent(){const V=function Xr(U){if(0===U.length)return null;const V=U.lastIndexOf("/");return-1===V?"":U.slice(0,V)}(this._location.path);if(null===V)return null;const te=new Re(this._location.bucket,V);return new Dn(this._service,te)}_throwIfRoot(V){if(""===this._location.path)throw function ye(U){return new nt(Ct.INVALID_ROOT_OPERATION,"The operation '"+U+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(V)}}function Js(U){U._throwIfRoot("getDownloadURL");const V=function Ot(U,V,te){const De=Ln(V.fullServerUrl(),U.host,U._protocol),O=U.maxOperationRetryTime,A=new sn(De,"GET",function oi(U,V){return function te(ce,De){const x=J(U,De,V);return zn(null!==x),function we(U,V,te,ce){const De=Zt(V);if(null===De||!un(De.downloadTokens))return null;const x=De.downloadTokens;if(0===x.length)return null;const O=encodeURIComponent;return x.split(",").map(se=>{const Lt=U.fullPath;return Ln("/b/"+O(U.bucket)+"/o/"+O(Lt),te,ce)+Vn({alt:"media",token:se})})[0]}(x,De,U.host,U._protocol)}}(U,te),O);return A.errorHandler=function Se(U){const V=Ve(U);return function te(ce,De){let x=V(ce,De);return 404===ce.getStatus()&&(x=function jn(U){return new nt(Ct.OBJECT_NOT_FOUND,"Object '"+U+"' does not exist.")}(U.path)),x.serverResponse=De.serverResponse,x}}(V),A}(U.storage,U._location,q());return U.storage.makeRequestWithTokens(V,Te).then(te=>{if(null===te)throw function Ae(){return new nt(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return te})}function to(U,V){if(U instanceof ti){const te=U;if(null==te._bucket)throw function Mn(){return new nt(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ke+"' property when initializing the app?")}();const ce=new Dn(te,te._bucket);return null!=V?to(ce,V):ce}return void 0!==V?function ys(U,V){const te=function _i(U,V){const te=V.split("/").filter(ce=>ce.length>0).join("/");return 0===U.length?te:U+"/"+te}(U._location.path,V),ce=new Re(U._location.bucket,te);return new Dn(U.storage,ce)}(U,V):U}function no(U,V){const te=V?.[ke];return null==te?null:Re.makeFromBucketSpec(te,U)}class ti{constructor(V,te,ce,De,x){this.app=V,this._authProvider=te,this._appCheckProvider=ce,this._url=De,this._firebaseVersion=x,this._bucket=null,this._host=le,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=De?Re.makeFromBucketSpec(De,this._host):no(this._host,this.app.options)}get host(){return this._host}set host(V){this._host=V,this._bucket=null!=this._url?Re.makeFromBucketSpec(this._url,V):no(V,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(V){Rn("time",0,Number.POSITIVE_INFINITY,V),this._maxUploadRetryTime=V}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(V){Rn("time",0,Number.POSITIVE_INFINITY,V),this._maxOperationRetryTime=V}_getAuthToken(){var V=this;return(0,ae.Z)(function*(){if(V._overrideAuthToken)return V._overrideAuthToken;const te=V._authProvider.getImmediate({optional:!0});if(te){const ce=yield te.getToken();if(null!==ce)return ce.accessToken}return null})()}_getAppCheckToken(){var V=this;return(0,ae.Z)(function*(){const te=V._appCheckProvider.getImmediate({optional:!0});return te?(yield te.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(V=>V.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(V){return new Dn(this,V)}_makeRequest(V,te,ce,De,x=!0){if(this._deleted)return new Ke(Et());{const O=function gn(U,V,te,ce,De,x,O=!0){const A=Vn(U.urlParams),j=U.url+A,se=Object.assign({},U.headers);return function bn(U,V){V&&(U["X-Firebase-GMPID"]=V)}(se,V),function zt(U,V){null!==V&&V.length>0&&(U.Authorization="Firebase "+V)}(se,te),function zr(U,V){U["X-Firebase-Storage-Version"]="webjs/"+(V??"AppManager")}(se,x),function hr(U,V){null!==V&&(U["X-Firebase-AppCheck"]=V)}(se,ce),new nn(j,U.method,se,U.body,U.successCodes,U.additionalRetryCodes,U.handler,U.errorHandler,U.timeout,U.progressCallback,De,O)}(V,this._appId,ce,De,te,this._firebaseVersion,x);return this._requests.add(O),O.getPromise().then(()=>this._requests.delete(O),()=>this._requests.delete(O)),O}}makeRequestWithTokens(V,te){var ce=this;return(0,ae.Z)(function*(){const[De,x]=yield Promise.all([ce._getAuthToken(),ce._getAppCheckToken()]);return ce._makeRequest(V,te,De,x).getPromise()})()}}const $i="@firebase/storage",mn="storage";function cn(U,V,te){return function qr(U,V,te){U._throwIfRoot("uploadBytes");const ce=as(U.storage,U._location,q(),new _r(V,!0),te);return U.storage.makeRequestWithTokens(ce,Te).then(De=>({metadata:De,ref:U}))}(U=(0,je.m9)(U),V,te)}function Ps(U){return Js(U=(0,je.m9)(U))}function At(U,V){return function Ho(U,V){if(V&&function $s(U){return/^[A-Za-z]+:\/\//.test(U)}(V)){if(U instanceof ti)return function eo(U,V){return new Dn(U,V)}(U,V);throw qe("To use ref(service, url), the first argument must be a Storage instance.")}return to(U,V)}(U=(0,je.m9)(U),V)}function Wn(U=(0,Ge.Mq)(),V){U=(0,je.m9)(U);const ce=(0,Ge.qX)(U,mn).getImmediate({identifier:V}),De=(0,je.P0)("storage");return De&&function ci(U,V,te,ce={}){!function aa(U,V,te,ce={}){U.host=`${V}:${te}`,U._protocol="http";const{mockUserToken:De}=ce;De&&(U._overrideAuthToken="string"==typeof De?De:(0,je.Sg)(De,U.app.options.projectId))}(U,V,te,ce)}(ce,...De),ce}function ni(U,{instanceIdentifier:V}){const te=U.getProvider("app").getImmediate(),ce=U.getProvider("auth-internal"),De=U.getProvider("app-check-internal");return new ti(te,ce,De,V,Ge.Jn)}!function xr(){(0,Ge.Xd)(new fe.wA(mn,ni,"PUBLIC").setMultipleInstances(!0)),(0,Ge.KN)($i,"0.11.2",""),(0,Ge.KN)($i,"0.11.2","esm2017")}();class Yi{constructor(V){return V}}const jr="storage",ks=new ue.OlP("angularfire2.storage-instances");function Sr(U){return(V,te)=>{const ce=V.runOutsideAngular(()=>U(te));return new Yi(ce)}}const Hs={provide:class hn{constructor(){return(0,y.vb)(jr)}},deps:[[new ue.FiY,ks]]},gi={provide:Yi,useFactory:function Fs(U,V){const te=(0,y.JM)(jr,U,V);return te&&new Yi(te)},deps:[[new ue.FiY,ks],K.Ot]};let ki=(()=>{class U{constructor(){(0,_e.KN)("angularfire",y.q4.full,"gcs")}}return U.\u0275fac=function(te){return new(te||U)},U.\u0275mod=ue.oAB({type:U}),U.\u0275inj=ue.cJS({providers:[gi,Hs]}),U})();function vs(U,...V){return{ngModule:ki,providers:[{provide:ks,useFactory:Sr(U),multi:!0,deps:[ue.R0b,ue.zs3,y.HU,K.z6,[new ue.FiY,be.dh],[new ue.FiY,ne.nm],...V]}]}}const Go=(0,y.u3)(Ps,!0),_s=(0,y.u3)(Wn,!0),io=(0,y.u3)(At,!0),zo=(0,y.u3)(cn,!0)},456:(an,Xe,W)=>{W.d(Xe,{q4:()=>ga,HU:()=>Ad,vb:()=>Au,JM:()=>kc,u3:()=>Mu});var y=W(4946),ue=W(3182),K=W(5861),be=W(534),_e=W(9058),ne=W(4537),ae=W(7879);const Ge=(I,M)=>M.some(k=>I instanceof k);let je,fe;const ze=new WeakMap,Ee=new WeakMap,vt=new WeakMap,nt=new WeakMap,Ct=new WeakMap;let jn={get(I,M,k){if(I instanceof IDBTransaction){if("done"===M)return Ee.get(I);if("objectStoreNames"===M)return I.objectStoreNames||vt.get(I);if("store"===M)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return at(I[M])},set:(I,M,k)=>(I[M]=k,!0),has:(I,M)=>I instanceof IDBTransaction&&("done"===M||"store"===M)||M in I};function Ye(I){return"function"==typeof I?function ot(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...M){return I.apply(mt(this),M),at(ze.get(this))}:function(...M){return at(I.apply(mt(this),M))}:function(M,...k){const X=I.call(mt(this),M,...k);return vt.set(X,M.sort?M.sort():[M]),at(X)}}(I):(I instanceof IDBTransaction&&function Fn(I){if(Ee.has(I))return;const M=new Promise((k,X)=>{const pe=()=>{I.removeEventListener("complete",Ce),I.removeEventListener("error",He),I.removeEventListener("abort",He)},Ce=()=>{k(),pe()},He=()=>{X(I.error||new DOMException("AbortError","AbortError")),pe()};I.addEventListener("complete",Ce),I.addEventListener("error",He),I.addEventListener("abort",He)});Ee.set(I,M)}(I),Ge(I,function le(){return je||(je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,jn):I)}function at(I){if(I instanceof IDBRequest)return function Kt(I){const M=new Promise((k,X)=>{const pe=()=>{I.removeEventListener("success",Ce),I.removeEventListener("error",He)},Ce=()=>{k(at(I.result)),pe()},He=()=>{X(I.error),pe()};I.addEventListener("success",Ce),I.addEventListener("error",He)});return M.then(k=>{k instanceof IDBCursor&&ze.set(k,I)}).catch(()=>{}),Ct.set(M,I),M}(I);if(nt.has(I))return nt.get(I);const M=Ye(I);return M!==I&&(nt.set(I,M),Ct.set(M,I)),M}const mt=I=>Ct.get(I),vn=["get","getKey","getAll","getAllKeys","count"],Mn=["put","add","delete","clear"],Tr=new Map;function dt(I,M){if(!(I instanceof IDBDatabase)||M in I||"string"!=typeof M)return;if(Tr.get(M))return Tr.get(M);const k=M.replace(/FromIndex$/,""),X=M!==k,pe=Mn.includes(k);if(!(k in(X?IDBIndex:IDBObjectStore).prototype)||!pe&&!vn.includes(k))return;const Ce=function(){var He=(0,K.Z)(function*(Rt,...Nt){const tn=this.transaction(Rt,pe?"readwrite":"readonly");let Cn=tn.store;return X&&(Cn=Cn.index(Nt.shift())),(yield Promise.all([Cn[k](...Nt),pe&&tn.done]))[0]});return function(Nt){return He.apply(this,arguments)}}();return Tr.set(M,Ce),Ce}!function We(I){jn=I(jn)}(I=>({...I,get:(M,k,X)=>dt(M,k)||I.get(M,k,X),has:(M,k)=>!!dt(M,k)||I.has(M,k)}));const Ae="@firebase/installations",ln="0.6.4",qe=1e4,Et=`w:${ln}`,ye="FIS_v2",Fe="https://firebaseinstallations.googleapis.com/v1",Be=36e5,Bt=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _n(I){return I instanceof _e.ZR&&I.code.includes("request-failed")}function Xt({projectId:I}){return`${Fe}/projects/${I}/installations`}function _t(I){return{token:I.token,requestStatus:2,expiresIn:Ir(I.expiresIn),creationTime:Date.now()}}function un(I,M){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,K.Z)(function*(I,M){const X=(yield M.json()).error;return Bt.create("request-failed",{requestName:I,serverCode:X.code,serverMessage:X.message,serverStatus:X.status})})).apply(this,arguments)}function xn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Ln(I){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,K.Z)(function*(I){const M=yield I();return M.status>=500&&M.status<600?I():M})).apply(this,arguments)}function Ir(I){return Number(I.replace("s","000"))}function Un(){return(Un=(0,K.Z)(function*({appConfig:I,heartbeatServiceProvider:M},{fid:k}){const X=Xt(I),pe=xn(I),Ce=M.getImmediate({optional:!0});if(Ce){const tn=yield Ce.getHeartbeatsHeader();tn&&pe.append("x-firebase-client",tn)}const Rt={method:"POST",headers:pe,body:JSON.stringify({fid:k,authVersion:ye,appId:I.appId,sdkVersion:Et})},Nt=yield Ln(()=>fetch(X,Rt));if(Nt.ok){const tn=yield Nt.json();return{fid:tn.fid||k,registrationStatus:2,refreshToken:tn.refreshToken,authToken:_t(tn.authToken)}}throw yield un("Create Installation",Nt)})).apply(this,arguments)}function zt(I){return new Promise(M=>{setTimeout(M,I)})}const bn=/^[cdef][\w-]{21}$/,hr="";function gn(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const k=function dn(I){return function zr(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return bn.test(k)?k:hr}catch{return hr}}function Zn(I){return`${I.appName}!${I.appId}`}const wr=new Map;function Vr(I,M){const k=Zn(I);Ur(k,M),function $n(I,M){const k=function bt(){return!Bi&&"BroadcastChannel"in self&&(Bi=new BroadcastChannel("[Firebase] FID Change"),Bi.onmessage=I=>{Ur(I.data.key,I.data.fid)}),Bi}();k&&k.postMessage({key:I,fid:M}),function vi(){0===wr.size&&Bi&&(Bi.close(),Bi=null)}()}(k,M)}function Ur(I,M){const k=wr.get(I);if(k)for(const X of k)X(M)}let Bi=null;const fi="firebase-installations-database",Mr=1,Br="firebase-installations-store";let _r=null;function Zt(){return _r||(_r=function rt(I,M,{blocked:k,upgrade:X,blocking:pe,terminated:Ce}={}){const He=indexedDB.open(I,M),Rt=at(He);return X&&He.addEventListener("upgradeneeded",Nt=>{X(at(He.result),Nt.oldVersion,Nt.newVersion,at(He.transaction))}),k&&He.addEventListener("blocked",()=>k()),Rt.then(Nt=>{Ce&&Nt.addEventListener("close",()=>Ce()),pe&&Nt.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Rt}(fi,Mr,{upgrade:(I,M)=>{0===M&&I.createObjectStore(Br)}})),_r}function Xr(I,M){return _i.apply(this,arguments)}function _i(){return(_i=(0,K.Z)(function*(I,M){const k=Zn(I),pe=(yield Zt()).transaction(Br,"readwrite"),Ce=pe.objectStore(Br),He=yield Ce.get(k);return yield Ce.put(M,k),yield pe.done,(!He||He.fid!==M.fid)&&Vr(I,M.fid),M})).apply(this,arguments)}function Jt(I){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,K.Z)(function*(I){const M=Zn(I),X=(yield Zt()).transaction(Br,"readwrite");yield X.objectStore(Br).delete(M),yield X.done})).apply(this,arguments)}function Wt(I,M){return er.apply(this,arguments)}function er(){return(er=(0,K.Z)(function*(I,M){const k=Zn(I),pe=(yield Zt()).transaction(Br,"readwrite"),Ce=pe.objectStore(Br),He=yield Ce.get(k),Rt=M(He);return void 0===Rt?yield Ce.delete(k):yield Ce.put(Rt,k),yield pe.done,Rt&&(!He||He.fid!==Rt.fid)&&Vr(I,Rt.fid),Rt})).apply(this,arguments)}function he(I){return q.apply(this,arguments)}function q(){return q=(0,K.Z)(function*(I){let M;const k=yield Wt(I.appConfig,X=>{const pe=function Z(I){return rn(I||{fid:gn(),registrationStatus:0})}(X),Ce=function Y(I,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Bt.create("app-offline"))};const k={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},X=function J(I,M){return we.apply(this,arguments)}(I,k);return{installationEntry:k,registrationPromise:X}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:et(I)}:{installationEntry:M}}(I,pe);return M=Ce.registrationPromise,Ce.installationEntry});return k.fid===hr?{installationEntry:yield M}:{installationEntry:k,registrationPromise:M}}),q.apply(this,arguments)}function we(){return we=(0,K.Z)(function*(I,M){try{const k=yield function nn(I,M){return Un.apply(this,arguments)}(I,M);return Xr(I.appConfig,k)}catch(k){throw _n(k)&&409===k.customData.serverCode?yield Jt(I.appConfig):yield Xr(I.appConfig,{fid:M.fid,registrationStatus:0}),k}}),we.apply(this,arguments)}function et(I){return It.apply(this,arguments)}function It(){return(It=(0,K.Z)(function*(I){let M=yield Ht(I.appConfig);for(;1===M.registrationStatus;)yield zt(100),M=yield Ht(I.appConfig);if(0===M.registrationStatus){const{installationEntry:k,registrationPromise:X}=yield he(I);return X||k}return M})).apply(this,arguments)}function Ht(I){return Wt(I,M=>{if(!M)throw Bt.create("installation-not-found");return rn(M)})}function rn(I){return function Nn(I){return 1===I.registrationStatus&&I.registrationTime+qe<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function zn(){return(zn=(0,K.Z)(function*({appConfig:I,heartbeatServiceProvider:M},k){const X=function Dr(I,{fid:M}){return`${Xt(I)}/${M}/authTokens:generate`}(I,k),pe=function Rn(I,{refreshToken:M}){const k=xn(I);return k.append("Authorization",function Tn(I){return`${ye} ${I}`}(M)),k}(I,k),Ce=M.getImmediate({optional:!0});if(Ce){const tn=yield Ce.getHeartbeatsHeader();tn&&pe.append("x-firebase-client",tn)}const Rt={method:"POST",headers:pe,body:JSON.stringify({installation:{sdkVersion:Et,appId:I.appId}})},Nt=yield Ln(()=>fetch(X,Rt));if(Nt.ok)return _t(yield Nt.json());throw yield un("Generate Auth Token",Nt)})).apply(this,arguments)}function Jr(I){return oi.apply(this,arguments)}function oi(){return oi=(0,K.Z)(function*(I,M=!1){let k;const X=yield Wt(I.appConfig,Ce=>{if(!Ot(Ce))throw Bt.create("not-registered");const He=Ce.authToken;if(!M&&function wn(I){return 2===I.requestStatus&&!function Pr(I){const M=Date.now();return M<I.creationTime||I.creationTime+I.expiresIn<M+Be}(I)}(He))return Ce;if(1===He.requestStatus)return k=function Ve(I,M){return Se.apply(this,arguments)}(I,M),Ce;{if(!navigator.onLine)throw Bt.create("app-offline");const Rt=function Yn(I){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:M})}(Ce);return k=function Mt(I,M){return on.apply(this,arguments)}(I,Rt),Rt}});return k?yield k:X.authToken}),oi.apply(this,arguments)}function Se(){return(Se=(0,K.Z)(function*(I,M){let k=yield ut(I.appConfig);for(;1===k.authToken.requestStatus;)yield zt(100),k=yield ut(I.appConfig);const X=k.authToken;return 0===X.requestStatus?Jr(I,M):X})).apply(this,arguments)}function ut(I){return Wt(I,M=>{if(!Ot(M))throw Bt.create("not-registered");return function ai(I){return 1===I.requestStatus&&I.requestTime+qe<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function on(){return on=(0,K.Z)(function*(I,M){try{const k=yield function sn(I,M){return zn.apply(this,arguments)}(I,M),X=Object.assign(Object.assign({},M),{authToken:k});return yield Xr(I.appConfig,X),k}catch(k){if(!_n(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const X=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield Xr(I.appConfig,X)}else yield Jt(I.appConfig);throw k}}),on.apply(this,arguments)}function Ot(I){return void 0!==I&&2===I.registrationStatus}function Zi(){return(Zi=(0,K.Z)(function*(I){const M=I,{installationEntry:k,registrationPromise:X}=yield he(M);return X?X.catch(console.error):Jr(M).catch(console.error),k.fid})).apply(this,arguments)}function Ei(){return Ei=(0,K.Z)(function*(I,M=!1){const k=I;return yield function ui(I){return Ii.apply(this,arguments)}(k),(yield Jr(k,M)).token}),Ei.apply(this,arguments)}function Ii(){return(Ii=(0,K.Z)(function*(I){const{registrationPromise:M}=yield he(I);M&&(yield M)})).apply(this,arguments)}function me(I){return Bt.create("missing-app-config-values",{valueName:I})}const Te="installations",gt=I=>{const M=I.getProvider("app").getImmediate(),k=function ge(I){if(!I||!I.options)throw me("App Configuration");if(!I.name)throw me("App Name");const M=["projectId","apiKey","appId"];for(const k of M)if(!I.options[k])throw me(k);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(M);return{app:M,appConfig:k,heartbeatServiceProvider:(0,be.qX)(M,"heartbeat"),_delete:()=>Promise.resolve()}},Ft=I=>{const M=I.getProvider("app").getImmediate(),k=(0,be.qX)(M,Te).getImmediate();return{getId:()=>function as(I){return Zi.apply(this,arguments)}(k),getToken:pe=>function Wr(I){return Ei.apply(this,arguments)}(k,pe)}};(function Sn(){(0,be.Xd)(new ne.wA(Te,gt,"PUBLIC")),(0,be.Xd)(new ne.wA("installations-internal",Ft,"PRIVATE"))})(),(0,be.KN)(Ae,ln),(0,be.KN)(Ae,ln,"esm2017");const yn="@firebase/remote-config",ar=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mn{constructor(M,k,X,pe){this.client=M,this.storage=k,this.storageCache=X,this.logger=pe}isCachedDataFresh(M,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const X=Date.now()-k,pe=X<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${X}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${pe}.`),pe}fetch(M){var k=this;return(0,K.Z)(function*(){const[X,pe]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(pe&&k.isCachedDataFresh(M.cacheMaxAgeMillis,X))return pe;M.eTag=pe&&pe.eTag;const Ce=yield k.client.fetch(M),He=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ce.status&&He.push(k.storage.setLastSuccessfulFetchResponse(Ce)),yield Promise.all(He),Ce})()}}function Qn(I=navigator){return I.languages&&I.languages[0]||I.language}class cn{constructor(M,k,X,pe,Ce,He){this.firebaseInstallations=M,this.sdkVersion=k,this.namespace=X,this.projectId=pe,this.apiKey=Ce,this.appId=He}fetch(M){var k=this;return(0,K.Z)(function*(){const[X,pe]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),He=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},Nt={sdk_version:k.sdkVersion,app_instance_id:X,app_instance_id_token:pe,app_id:k.appId,language_code:Qn()},tn={method:"POST",headers:Rt,body:JSON.stringify(Nt)},Cn=fetch(He,tn),kn=new Promise((ra,au)=>{M.signal.addEventListener(()=>{const Vi=new Error("The operation was aborted.");Vi.name="AbortError",au(Vi)})});let Mo;try{yield Promise.race([Cn,kn]),Mo=yield Cn}catch(ra){let au="fetch-client-network";throw"AbortError"===ra?.name&&(au="fetch-timeout"),ar.create(au,{originalErrorMessage:ra?.message})}let Us=Mo.status;const Lc=Mo.headers.get("ETag")||void 0;let Ml,na;if(200===Mo.status){let ra;try{ra=yield Mo.json()}catch(au){throw ar.create("fetch-client-parse",{originalErrorMessage:au?.message})}Ml=ra.entries,na=ra.state}if("INSTANCE_STATE_UNSPECIFIED"===na?Us=500:"NO_CHANGE"===na?Us=304:("NO_TEMPLATE"===na||"EMPTY_CONFIG"===na)&&(Ml={}),304!==Us&&200!==Us)throw ar.create("fetch-status",{httpStatus:Us});return{status:Us,eTag:Lc,config:Ml}})()}}class _o{constructor(M,k){this.client=M,this.storage=k}fetch(M){var k=this;return(0,K.Z)(function*(){const X=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(M,X)})()}attemptFetch(M,{throttleEndTimeMillis:k,backoffCount:X}){var pe=this;return(0,K.Z)(function*(){yield function ns(I,M){return new Promise((k,X)=>{const pe=Math.max(M-Date.now(),0),Ce=setTimeout(k,pe);I.addEventListener(()=>{clearTimeout(Ce),X(ar.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,k);try{const Ce=yield pe.client.fetch(M);return yield pe.storage.deleteThrottleMetadata(),Ce}catch(Ce){if(!function kr(I){if(!(I instanceof _e.ZR&&I.customData))return!1;const M=Number(I.customData.httpStatus);return 429===M||500===M||503===M||504===M}(Ce))throw Ce;const He={throttleEndTimeMillis:Date.now()+(0,_e.$s)(X),backoffCount:X+1};return yield pe.storage.setThrottleMetadata(He),pe.attemptFetch(M,He)}})()}}class ua{constructor(M,k,X,pe,Ce){this.app=M,this._client=k,this._storageCache=X,this._storage=pe,this._logger=Ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ps(I,M){const k=I.target.error||void 0;return ar.create(M,{originalErrorMessage:k&&k?.message})}const ur="app_namespace_store";class ci{constructor(M,k,X,pe=function Wn(){return new Promise((I,M)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=X=>{M(Ps(X,"storage-open"))},k.onsuccess=X=>{I(X.target.result)},k.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(ur,{keyPath:"compositeKey"})}}catch(k){M(ar.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=M,this.appName=k,this.namespace=X,this.openDbPromise=pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var k=this;return(0,K.Z)(function*(){const X=yield k.openDbPromise;return new Promise((pe,Ce)=>{const Rt=X.transaction([ur],"readonly").objectStore(ur),Nt=k.createCompositeKey(M);try{const tn=Rt.get(Nt);tn.onerror=Cn=>{Ce(Ps(Cn,"storage-get"))},tn.onsuccess=Cn=>{const kn=Cn.target.result;pe(kn?kn.value:void 0)}}catch(tn){Ce(ar.create("storage-get",{originalErrorMessage:tn?.message}))}})})()}set(M,k){var X=this;return(0,K.Z)(function*(){const pe=yield X.openDbPromise;return new Promise((Ce,He)=>{const Nt=pe.transaction([ur],"readwrite").objectStore(ur),tn=X.createCompositeKey(M);try{const Cn=Nt.put({compositeKey:tn,value:k});Cn.onerror=kn=>{He(Ps(kn,"storage-set"))},Cn.onsuccess=()=>{Ce()}}catch(Cn){He(ar.create("storage-set",{originalErrorMessage:Cn?.message}))}})})()}delete(M){var k=this;return(0,K.Z)(function*(){const X=yield k.openDbPromise;return new Promise((pe,Ce)=>{const Rt=X.transaction([ur],"readwrite").objectStore(ur),Nt=k.createCompositeKey(M);try{const tn=Rt.delete(Nt);tn.onerror=Cn=>{Ce(Ps(Cn,"storage-delete"))},tn.onsuccess=()=>{pe()}}catch(tn){Ce(ar.create("storage-delete",{originalErrorMessage:tn?.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class ro{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,K.Z)(function*(){const k=M.storage.getLastFetchStatus(),X=M.storage.getLastSuccessfulFetchTimestampMillis(),pe=M.storage.getActiveConfig(),Ce=yield k;Ce&&(M.lastFetchStatus=Ce);const He=yield X;He&&(M.lastSuccessfulFetchTimestampMillis=He);const Rt=yield pe;Rt&&(M.activeConfig=Rt)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Yi(){return jr.apply(this,arguments)}function jr(){return(jr=(0,K.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}!function Si(){(0,be.Xd)(new ne.wA("remote-config",function I(M,{instanceIdentifier:k}){const X=M.getProvider("app").getImmediate(),pe=M.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ar.create("registration-window");if(!(0,_e.hl)())throw ar.create("indexed-db-unavailable");const{projectId:Ce,apiKey:He,appId:Rt}=X.options;if(!Ce)throw ar.create("registration-project-id");if(!He)throw ar.create("registration-api-key");if(!Rt)throw ar.create("registration-app-id");const Nt=new ci(Rt,X.name,k=k||"firebase"),tn=new ro(Nt),Cn=new ae.Yd(yn);Cn.logLevel=ae.in.ERROR;const kn=new cn(pe,be.Jn,k,Ce,He,Rt),Mo=new _o(kn,Nt),Us=new mn(Mo,Nt,tn,Cn),Lc=new ua(X,Us,tn,Nt,Cn);return function ys(I){const M=(0,_e.m9)(I);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(Lc),Lc},"PUBLIC").setMultipleInstances(!0)),(0,be.KN)(yn,"0.4.4"),(0,be.KN)(yn,"0.4.4","esm2017")}();const hn=(I,M)=>M.some(k=>I instanceof k);let rs,ks;const Hs=new WeakMap,gi=new WeakMap,ki=new WeakMap,vs=new WeakMap,Ea=new WeakMap;let Zr={get(I,M,k){if(I instanceof IDBTransaction){if("done"===M)return gi.get(I);if("objectStoreNames"===M)return I.objectStoreNames||ki.get(I);if("store"===M)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return mi(I[M])},set:(I,M,k)=>(I[M]=k,!0),has:(I,M)=>I instanceof IDBTransaction&&("done"===M||"store"===M)||M in I};function Go(I){return"function"==typeof I?function Pn(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Sr(){return ks||(ks=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...M){return I.apply(_s(this),M),mi(Hs.get(this))}:function(...M){return mi(I.apply(_s(this),M))}:function(M,...k){const X=I.call(_s(this),M,...k);return ki.set(X,M.sort?M.sort():[M]),mi(X)}}(I):(I instanceof IDBTransaction&&function is(I){if(gi.has(I))return;const M=new Promise((k,X)=>{const pe=()=>{I.removeEventListener("complete",Ce),I.removeEventListener("error",He),I.removeEventListener("abort",He)},Ce=()=>{k(),pe()},He=()=>{X(I.error||new DOMException("AbortError","AbortError")),pe()};I.addEventListener("complete",Ce),I.addEventListener("error",He),I.addEventListener("abort",He)});gi.set(I,M)}(I),hn(I,function Fs(){return rs||(rs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Zr):I)}function mi(I){if(I instanceof IDBRequest)return function cs(I){const M=new Promise((k,X)=>{const pe=()=>{I.removeEventListener("success",Ce),I.removeEventListener("error",He)},Ce=()=>{k(mi(I.result)),pe()},He=()=>{X(I.error),pe()};I.addEventListener("success",Ce),I.addEventListener("error",He)});return M.then(k=>{k instanceof IDBCursor&&Hs.set(k,I)}).catch(()=>{}),Ea.set(M,I),M}(I);if(vs.has(I))return vs.get(I);const M=Go(I);return M!==I&&(vs.set(I,M),Ea.set(M,I)),M}const _s=I=>Ea.get(I);function Yr(I,M,{blocked:k,upgrade:X,blocking:pe,terminated:Ce}={}){const He=indexedDB.open(I,M),Rt=mi(He);return X&&He.addEventListener("upgradeneeded",Nt=>{X(mi(He.result),Nt.oldVersion,Nt.newVersion,mi(He.transaction))}),k&&He.addEventListener("blocked",()=>k()),Rt.then(Nt=>{Ce&&Nt.addEventListener("close",()=>Ce()),pe&&Nt.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Rt}function Rr(I,{blocked:M}={}){const k=indexedDB.deleteDatabase(I);return M&&k.addEventListener("blocked",()=>M()),mi(k).then(()=>{})}const Hi=["get","getKey","getAll","getAllKeys","count"],io=["put","add","delete","clear"],li=new Map;function zo(I,M){if(!(I instanceof IDBDatabase)||M in I||"string"!=typeof M)return;if(li.get(M))return li.get(M);const k=M.replace(/FromIndex$/,""),X=M!==k,pe=io.includes(k);if(!(k in(X?IDBIndex:IDBObjectStore).prototype)||!pe&&!Hi.includes(k))return;const Ce=function(){var He=(0,K.Z)(function*(Rt,...Nt){const tn=this.transaction(Rt,pe?"readwrite":"readonly");let Cn=tn.store;return X&&(Cn=Cn.index(Nt.shift())),(yield Promise.all([Cn[k](...Nt),pe&&tn.done]))[0]});return function(Nt){return He.apply(this,arguments)}}();return li.set(M,Ce),Ce}!function Ls(I){Zr=I(Zr)}(I=>({...I,get:(M,k,X)=>zo(M,k)||I.get(M,k,X),has:(M,k)=>!!zo(M,k)||I.has(M,k)}));const di="/firebase-messaging-sw.js",ri="/firebase-cloud-messaging-push-scope",U="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",V="https://fcmregistrations.googleapis.com/v1",te="google.c.a.c_id",ce="google.c.a.c_l",De="google.c.a.ts";var A=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(A||{});function j(I){const M=new Uint8Array(I);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function se(I){const k=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),X=atob(k),pe=new Uint8Array(X.length);for(let Ce=0;Ce<X.length;++Ce)pe[Ce]=X.charCodeAt(Ce);return pe}const ct="fcm_token_details_db",Lt=5,Xn="fcm_token_object_Store";function Cr(){return Cr=(0,K.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ce=>Ce.name).includes(ct))return null;let M=null;return(yield Yr(ct,Lt,{upgrade:(X=(0,K.Z)(function*(pe,Ce,He,Rt){var Nt;if(Ce<2||!pe.objectStoreNames.contains(Xn))return;const tn=Rt.objectStore(Xn),Cn=yield tn.index("fcmSenderId").get(I);if(yield tn.clear(),Cn)if(2===Ce){const kn=Cn;if(!kn.auth||!kn.p256dh||!kn.endpoint)return;M={token:kn.fcmToken,createTime:null!==(Nt=kn.createTime)&&void 0!==Nt?Nt:Date.now(),subscriptionOptions:{auth:kn.auth,p256dh:kn.p256dh,endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:"string"==typeof kn.vapidKey?kn.vapidKey:j(kn.vapidKey)}}}else if(3===Ce){const kn=Cn;M={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:j(kn.auth),p256dh:j(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:j(kn.vapidKey)}}}else if(4===Ce){const kn=Cn;M={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:j(kn.auth),p256dh:j(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:j(kn.vapidKey)}}}}),function(Ce,He,Rt,Nt){return X.apply(this,arguments)})})).close(),yield Rr(ct),yield Rr("fcm_vapid_details_db"),yield Rr("undefined"),function yi(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:M}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}(M)?M:null;var X}),Cr.apply(this,arguments)}const nr="firebase-messaging-database",Gi=1,Nr="firebase-messaging-store";let Ai=null;function ii(){return Ai||(Ai=Yr(nr,Gi,{upgrade:(I,M)=>{0===M&&I.createObjectStore(Nr)}})),Ai}function Eo(I){return zi.apply(this,arguments)}function zi(){return zi=(0,K.Z)(function*(I){const M=wo(I),X=yield(yield ii()).transaction(Nr).objectStore(Nr).get(M);if(X)return X;{const pe=yield function Er(I){return Cr.apply(this,arguments)}(I.appConfig.senderId);if(pe)return yield No(I,pe),pe}}),zi.apply(this,arguments)}function No(I,M){return so.apply(this,arguments)}function so(){return(so=(0,K.Z)(function*(I,M){const k=wo(I),pe=(yield ii()).transaction(Nr,"readwrite");return yield pe.objectStore(Nr).put(M,k),yield pe.done,M})).apply(this,arguments)}function ca(){return(ca=(0,K.Z)(function*(I){const M=wo(I),X=(yield ii()).transaction(Nr,"readwrite");yield X.objectStore(Nr).delete(M),yield X.done})).apply(this,arguments)}function wo({appConfig:I}){return I.appId}const Qi=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pa(I,M){return fr.apply(this,arguments)}function fr(){return(fr=(0,K.Z)(function*(I,M){const k=yield Wo(I),X=Fa(M),pe={method:"POST",headers:k,body:JSON.stringify(X)};let Ce;try{Ce=yield(yield fetch(ss(I.appConfig),pe)).json()}catch(He){throw Qi.create("token-subscribe-failed",{errorInfo:He?.toString()})}if(Ce.error)throw Qi.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Qi.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function ls(){return(ls=(0,K.Z)(function*(I,M){const k=yield Wo(I),X=Fa(M.subscriptionOptions),pe={method:"PATCH",headers:k,body:JSON.stringify(X)};let Ce;try{Ce=yield(yield fetch(`${ss(I.appConfig)}/${M.token}`,pe)).json()}catch(He){throw Qi.create("token-update-failed",{errorInfo:He?.toString()})}if(Ce.error)throw Qi.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Qi.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function Do(I,M){return ka.apply(this,arguments)}function ka(){return(ka=(0,K.Z)(function*(I,M){const X={method:"DELETE",headers:yield Wo(I)};try{const Ce=yield(yield fetch(`${ss(I.appConfig)}/${M}`,X)).json();if(Ce.error)throw Qi.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(pe){throw Qi.create("token-unsubscribe-failed",{errorInfo:pe?.toString()})}})).apply(this,arguments)}function ss({projectId:I}){return`${V}/projects/${I}/registrations`}function Wo(I){return rr.apply(this,arguments)}function rr(){return(rr=(0,K.Z)(function*({appConfig:I,installations:M}){const k=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Fa({p256dh:I,auth:M,endpoint:k,vapidKey:X}){const pe={web:{endpoint:k,auth:M,p256dh:I}};return X!==U&&(pe.web.applicationPubKey=X),pe}const qo=6048e5;function la(){return la=(0,K.Z)(function*(I){const M=yield function wi(I,M){return da.apply(this,arguments)}(I.swRegistration,I.vapidKey),k={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:M.endpoint,auth:j(M.getKey("auth")),p256dh:j(M.getKey("p256dh"))},X=yield Eo(I.firebaseDependencies);if(X){if(function w(I,M){return M.vapidKey===I.vapidKey&&M.endpoint===I.endpoint&&M.auth===I.auth&&M.p256dh===I.p256dh}(X.subscriptionOptions,k))return Date.now()>=X.createTime+qo?function Ko(I,M){return Co.apply(this,arguments)}(I,{token:X.token,createTime:Date.now(),subscriptionOptions:k}):X.token;try{yield Do(I.firebaseDependencies,X.token)}catch(pe){console.warn(pe)}return Es(I.firebaseDependencies,k)}return Es(I.firebaseDependencies,k)}),la.apply(this,arguments)}function ao(){return ao=(0,K.Z)(function*(I){const M=yield Eo(I.firebaseDependencies);M&&(yield Do(I.firebaseDependencies,M.token),yield function Io(I){return ca.apply(this,arguments)}(I.firebaseDependencies));const k=yield I.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),ao.apply(this,arguments)}function Co(){return Co=(0,K.Z)(function*(I,M){try{const k=yield function Oo(I,M){return ls.apply(this,arguments)}(I.firebaseDependencies,M),X=Object.assign(Object.assign({},M),{token:k,createTime:Date.now()});return yield No(I.firebaseDependencies,X),k}catch(k){throw yield function La(I){return ao.apply(this,arguments)}(I),k}}),Co.apply(this,arguments)}function Es(I,M){return Is.apply(this,arguments)}function Is(){return(Is=(0,K.Z)(function*(I,M){const X={token:yield Pa(I,M),createTime:Date.now(),subscriptionOptions:M};return yield No(I,X),X.token})).apply(this,arguments)}function da(){return(da=(0,K.Z)(function*(I,M){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:se(M)})})).apply(this,arguments)}function H(I){const M={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function R(I,M){if(!M.notification)return;I.notification={};const k=M.notification.title;k&&(I.notification.title=k);const X=M.notification.body;X&&(I.notification.body=X);const pe=M.notification.image;pe&&(I.notification.image=pe);const Ce=M.notification.icon;Ce&&(I.notification.icon=Ce)}(M,I),function B(I,M){M.data&&(I.data=M.data)}(M,I),function oe(I,M){var k,X,pe,Ce,He;if(!(M.fcmOptions||null!==(k=M.notification)&&void 0!==k&&k.click_action))return;I.fcmOptions={};const Rt=null!==(pe=null===(X=M.fcmOptions)||void 0===X?void 0:X.link)&&void 0!==pe?pe:null===(Ce=M.notification)||void 0===Ce?void 0:Ce.click_action;Rt&&(I.fcmOptions.link=Rt);const Nt=null===(He=M.fcmOptions)||void 0===He?void 0:He.analytics_label;Nt&&(I.fcmOptions.analyticsLabel=Nt)}(M,I),M}function tt(I,M){const k=[];for(let X=0;X<I.length;X++)k.push(I.charAt(X)),X<M.length&&k.push(M.charAt(X));return k.join("")}function Fr(I){return Qi.create("missing-app-config-values",{valueName:I})}tt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kr{constructor(M,k,X){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const pe=function Yt(I){if(!I||!I.options)throw Fr("App Configuration Object");if(!I.name)throw Fr("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:k}=I;for(const X of M)if(!k[X])throw Fr(X);return{appName:I.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:pe,installations:k,analyticsProvider:X}}_delete(){return Promise.resolve()}}function An(){return(An=(0,K.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(di,{scope:ri}),I.swRegistration.update().catch(()=>{})}catch(M){throw Qi.create("failed-service-worker-registration",{browserErrorMessage:M?.message})}})).apply(this,arguments)}function mr(){return(mr=(0,K.Z)(function*(I,M){if(!M&&!I.swRegistration&&(yield function gr(I){return An.apply(this,arguments)}(I)),M||!I.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw Qi.create("invalid-sw-registration");I.swRegistration=M}})).apply(this,arguments)}function ds(){return(ds=(0,K.Z)(function*(I,M){M?I.vapidKey=M:I.vapidKey||(I.vapidKey=U)})).apply(this,arguments)}function Or(){return Or=(0,K.Z)(function*(I,M){if(!navigator)throw Qi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qi.create("permission-blocked");return yield function Mi(I,M){return ds.apply(this,arguments)}(I,M?.vapidKey),yield function Lr(I,M){return mr.apply(this,arguments)}(I,M?.serviceWorkerRegistration),function oo(I){return la.apply(this,arguments)}(I)}),Or.apply(this,arguments)}function xi(){return(xi=(0,K.Z)(function*(I,M,k){const X=function Po(I){switch(I){case A.NOTIFICATION_CLICKED:return"notification_open";case A.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(M);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(X,{message_id:k[te],message_name:k[ce],message_time:k[De],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pt(){return pt=(0,K.Z)(function*(I,M){const k=M.data;if(!k.isFirebaseMessaging)return;I.onMessageHandler&&k.messageType===A.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(H(k)):I.onMessageHandler.next(H(k)));const X=k.data;(function Le(I){return"object"==typeof I&&!!I&&te in I})(X)&&"1"===X["google.c.a.e"]&&(yield function $r(I,M,k){return xi.apply(this,arguments)}(I,k.messageType,X))}),pt.apply(this,arguments)}const Di="@firebase/messaging",Va=I=>{const M=new Kr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Ia(I,M){return pt.apply(this,arguments)}(M,k)),M},Vt=I=>{const M=I.getProvider("messaging").getImmediate();return{getToken:X=>function uo(I,M){return Or.apply(this,arguments)}(M,X)}};function Eu(){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,K.Z)(function*(){try{yield(0,_e.eu)()}catch{return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function en(){(0,be.Xd)(new ne.wA("messaging",Va,"PUBLIC")),(0,be.Xd)(new ne.wA("messaging-internal",Vt,"PRIVATE")),(0,be.KN)(Di,"0.12.4"),(0,be.KN)(Di,"0.12.4","esm2017")}();const Iu="analytics",ju="firebase_id",Zo="origin",bo=6e4,Wi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wu="https://www.googletagmanager.com/gtag/js",qt=new ae.Yd("@firebase/analytics"),Xi=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function hi(I){if(!I.startsWith(wu)){const M=Xi.create("invalid-gtag-resource",{gtagURL:I});return qt.warn(M.message),""}return I}function jt(I){return Promise.all(I.map(M=>M.catch(k=>k)))}function Dt(){return(Dt=(0,K.Z)(function*(I,M,k,X,pe,Ce){const He=X[pe];try{if(He)yield M[He];else{const Nt=(yield jt(k)).find(tn=>tn.measurementId===pe);Nt&&(yield M[Nt.appId])}}catch(Rt){qt.error(Rt)}I("config",pe,Ce)})).apply(this,arguments)}function Ca(){return(Ca=(0,K.Z)(function*(I,M,k,X,pe){try{let Ce=[];if(pe&&pe.send_to){let He=pe.send_to;Array.isArray(He)||(He=[He]);const Rt=yield jt(k);for(const Nt of He){const tn=Rt.find(kn=>kn.measurementId===Nt),Cn=tn&&M[tn.appId];if(!Cn){Ce=[];break}Ce.push(Cn)}}0===Ce.length&&(Ce=Object.values(M)),yield Promise.all(Ce),I("event",X,pe||{})}catch(Ce){qt.error(Ce)}})).apply(this,arguments)}const ba=30,ac=new class oc{constructor(M={},k=1e3){this.throttleMetadata=M,this.intervalMillis=k}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,k){this.throttleMetadata[M]=k}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function lo(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function lt(){return(lt=(0,K.Z)(function*(I){var M;const{appId:k,apiKey:X}=I,pe={method:"GET",headers:lo(X)},Ce=Wi.replace("{app-id}",k),He=yield fetch(Ce,pe);if(200!==He.status&&304!==He.status){let Rt="";try{const Nt=yield He.json();null!==(M=Nt.error)&&void 0!==M&&M.message&&(Rt=Nt.error.message)}catch{}throw Xi.create("config-fetch-failed",{httpStatus:He.status,responseMessage:Rt})}return He.json()})).apply(this,arguments)}function To(){return(To=(0,K.Z)(function*(I,M=ac,k){const{appId:X,apiKey:pe,measurementId:Ce}=I.options;if(!X)throw Xi.create("no-app-id");if(!pe){if(Ce)return{measurementId:Ce,appId:X};throw Xi.create("no-api-key")}const He=M.getThrottleMetadata(X)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Rt=new ko;return setTimeout((0,K.Z)(function*(){Rt.abort()}),void 0!==k?k:bo),eu({appId:X,apiKey:pe,measurementId:Ce},He,Rt,M)})).apply(this,arguments)}function eu(I,M,k){return Me.apply(this,arguments)}function Me(){return Me=(0,K.Z)(function*(I,{throttleEndTimeMillis:M,backoffCount:k},X,pe=ac){var Ce;const{appId:He,measurementId:Rt}=I;try{yield function tu(I,M){return new Promise((k,X)=>{const pe=Math.max(M-Date.now(),0),Ce=setTimeout(k,pe);I.addEventListener(()=>{clearTimeout(Ce),X(Xi.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(X,M)}catch(Nt){if(Rt)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rt} provided in the "measurementId" field in the local Firebase config. [${Nt?.message}]`),{appId:He,measurementId:Rt};throw Nt}try{const Nt=yield function uc(I){return lt.apply(this,arguments)}(I);return pe.deleteThrottleMetadata(He),Nt}catch(Nt){const tn=Nt;if(!function Ji(I){if(!(I instanceof _e.ZR&&I.customData))return!1;const M=Number(I.customData.httpStatus);return 429===M||500===M||503===M||504===M}(tn)){if(pe.deleteThrottleMetadata(He),Rt)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rt} provided in the "measurementId" field in the local Firebase config. [${tn?.message}]`),{appId:He,measurementId:Rt};throw Nt}const Cn=503===Number(null===(Ce=tn?.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,_e.$s)(k,pe.intervalMillis,ba):(0,_e.$s)(k,pe.intervalMillis),kn={throttleEndTimeMillis:Date.now()+Cn,backoffCount:k+1};return pe.setThrottleMetadata(He,kn),qt.debug(`Calling attemptFetch again in ${Cn} millis`),eu(I,kn,X,pe)}}),Me.apply(this,arguments)}class ko{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let Qo,T;function Ba(){return(Ba=(0,K.Z)(function*(I,M,k,X,pe){if(pe&&pe.global)I("event",k,X);else{const Ce=yield M;I("event",k,Object.assign(Object.assign({},X),{send_to:Ce}))}})).apply(this,arguments)}function Pe(){return(Pe=(0,K.Z)(function*(){if(!(0,_e.hl)())return qt.warn(Xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(I){return qt.warn(Xi.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function xt(){return xt=(0,K.Z)(function*(I,M,k,X,pe,Ce,He){var Rt;const Nt=function pr(I){return To.apply(this,arguments)}(I);Nt.then(Us=>{k[Us.measurementId]=Us.appId,I.options.measurementId&&Us.measurementId!==I.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Us.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Us=>qt.error(Us)),M.push(Nt);const tn=function ie(){return Pe.apply(this,arguments)}().then(Us=>{if(Us)return X.getId()}),[Cn,kn]=yield Promise.all([Nt,tn]);(function Ua(I){const M=window.document.getElementsByTagName("script");for(const k of Object.values(M))if(k.src&&k.src.includes(wu)&&k.src.includes(I))return k;return null})(Ce)||function yr(I,M){const k=function wa(I,M){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(I,M)),k}("firebase-js-sdk-policy",{createScriptURL:hi}),X=document.createElement("script"),pe=`${wu}?l=${I}&id=${M}`;X.src=k?k?.createScriptURL(pe):pe,X.async=!0,document.head.appendChild(X)}(Ce,Cn.measurementId),T&&(pe("consent","default",T),function P(I){T=I}(void 0)),pe("js",new Date);const Mo=null!==(Rt=He?.config)&&void 0!==Rt?Rt:{};return Mo[Zo]="firebase",Mo.update=!0,null!=kn&&(Mo[ju]=kn),pe("config",Cn.measurementId,Mo),Qo&&(pe("set",Qo),function G(I){Qo=I}(void 0)),Cn.measurementId}),xt.apply(this,arguments)}class En{constructor(M){this.app=M}_delete(){return delete ir[this.app.options.appId],Promise.resolve()}}let ir={},sr=[];const Vo={};let Cu,Ds,ws="dataLayer",os=!1;function Rh(I,M,k){!function Ri(){const I=[];if((0,_e.ru)()&&I.push("This is a browser extension environment."),(0,_e.zI)()||I.push("Cookies are not available."),I.length>0){const M=I.map((X,pe)=>`(${pe+1}) ${X}`).join(" "),k=Xi.create("invalid-analytics-context",{errorInfo:M});qt.warn(k.message)}}();const X=I.options.appId;if(!X)throw Xi.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Xi.create("no-api-key");qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ir[X])throw Xi.create("already-exists",{id:X});if(!os){!function $u(I){let M=[];Array.isArray(window[I])?M=window[I]:window[I]=M}(ws);const{wrappedGtag:Ce,gtagCore:He}=function sc(I,M,k,X,pe){let Ce=function(...He){window[X].push(arguments)};return window[pe]&&"function"==typeof window[pe]&&(Ce=window[pe]),window[pe]=function Yo(I,M,k,X){function Ce(){return Ce=(0,K.Z)(function*(He,...Rt){try{if("event"===He){const[Nt,tn]=Rt;yield function Da(I,M,k,X,pe){return Ca.apply(this,arguments)}(I,M,k,Nt,tn)}else if("config"===He){const[Nt,tn]=Rt;yield function Gt(I,M,k,X,pe,Ce){return Dt.apply(this,arguments)}(I,M,k,X,Nt,tn)}else if("consent"===He){const[Nt]=Rt;I("consent","update",Nt)}else if("get"===He){const[Nt,tn,Cn]=Rt;I("get",Nt,tn,Cn)}else if("set"===He){const[Nt]=Rt;I("set",Nt)}else I(He,...Rt)}catch(Nt){qt.error(Nt)}}),Ce.apply(this,arguments)}return function pe(He){return Ce.apply(this,arguments)}}(Ce,I,M,k),{gtagCore:Ce,wrappedGtag:window[pe]}}(ir,sr,Vo,ws,"gtag");Ds=Ce,Cu=He,os=!0}return ir[X]=function Ne(I,M,k,X,pe,Ce,He){return xt.apply(this,arguments)}(I,sr,Vo,M,Cu,ws,k),new En(I)}function Td(){return bu.apply(this,arguments)}function bu(){return(bu=(0,K.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}const Ha="@firebase/analytics";!function Hr(){(0,be.Xd)(new ne.wA(Iu,(M,{options:k})=>Rh(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,be.Xd)(new ne.wA("analytics-internal",function I(M){try{const k=M.getProvider(Iu).getImmediate();return{logEvent:(X,pe,Ce)=>function Su(I,M,k,X){I=(0,_e.m9)(I),function Fo(I,M,k,X,pe){return Ba.apply(this,arguments)}(Ds,ir[I.app.options.appId],M,k,X).catch(pe=>qt.error(pe))}(k,X,pe,Ce)}}catch(k){throw Xi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,be.KN)(Ha,"0.10.0"),(0,be.KN)(Ha,"0.10.0","esm2017")}();var nu=W(7394);class ru extends nu.w0{constructor(M,k){super()}schedule(M,k=0){return this}}const zs={setInterval(I,M,...k){const{delegate:X}=zs;return X?.setInterval?X.setInterval(I,M,...k):setInterval(I,M,...k)},clearInterval(I){const{delegate:M}=zs;return(M?.clearInterval||clearInterval)(I)},delegate:void 0};var lc=W(9039);class Cl extends ru{constructor(M,k){super(M,k),this.scheduler=M,this.work=k,this.pending=!1}schedule(M,k=0){var X;if(this.closed)return this;this.state=M;const pe=this.id,Ce=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(Ce,pe,k)),this.pending=!0,this.delay=k,this.id=null!==(X=this.id)&&void 0!==X?X:this.requestAsyncId(Ce,this.id,k),this}requestAsyncId(M,k,X=0){return zs.setInterval(M.flush.bind(M,this),X)}recycleAsyncId(M,k,X=0){if(null!=X&&this.delay===X&&!1===this.pending)return k;null!=k&&zs.clearInterval(k)}execute(M,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(M,k);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(M,k){let pe,X=!1;try{this.work(M)}catch(Ce){X=!0,pe=Ce||new Error("Scheduled action threw falsy error")}if(X)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:M,scheduler:k}=this,{actions:X}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,lc.P)(X,this),null!=M&&(this.id=this.recycleAsyncId(k,M,null)),this.delay=null,super.unsubscribe()}}}const bl={now:()=>(bl.delegate||Date).now(),delegate:void 0};class So{constructor(M,k=So.now){this.schedulerActionCtor=M,this.now=k}schedule(M,k=0,X){return new this.schedulerActionCtor(this,M).schedule(X,k)}}So.now=bl.now;class qi extends So{constructor(M,k=So.now){super(M,k),this.actions=[],this._active=!1}flush(M){const{actions:k}=this;if(this._active)return void k.push(M);let X;this._active=!0;do{if(X=M.execute(M.state,M.delay))break}while(M=k.shift());if(this._active=!1,X){for(;M=k.shift();)M.unsubscribe();throw X}}}const fa=new class Xo extends qi{}(class ps extends Cl{constructor(M,k){super(M,k),this.scheduler=M,this.work=k}schedule(M,k=0){return k>0?super.schedule(M,k):(this.delay=k,this.state=M,this.scheduler.flush(this),this)}execute(M,k){return k>0||this.closed?super.execute(M,k):this._execute(M,k)}requestAsyncId(M,k,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(M,k,X):(M.flush(this),0)}}),Jo=new qi(Cl);var Ao=W(5592),Ga=W(9397),za=W(5137),pa=W(3093);const ga=new y.GfV("7.6.1"),bs="__angularfire_symbol__analyticsIsSupportedValue",ea="__angularfire_symbol__analyticsIsSupported",iu="__angularfire_symbol__remoteConfigIsSupportedValue",ma="__angularfire_symbol__remoteConfigIsSupported",Wa="__angularfire_symbol__messagingIsSupportedValue",Sa="__angularfire_symbol__messagingIsSupported";function kc(I,M,k){if(M){if(1===M.length)return M[0];const Ce=M.filter(He=>He.app===k);if(1===Ce.length)return Ce[0]}return k.container.getProvider(I).getImmediate({optional:!0})}globalThis[ea]||(globalThis[ea]=Td().then(I=>globalThis[bs]=I).catch(()=>globalThis[bs]=!1)),globalThis[Sa]||(globalThis[Sa]=Eu().then(I=>globalThis[Wa]=I).catch(()=>globalThis[Wa]=!1)),globalThis[ma]||(globalThis[ma]=Yi().then(I=>globalThis[iu]=I).catch(()=>globalThis[iu]=!1));const Au=(I,M)=>{const k=M?[M]:(0,ue.C6)(),X=[];return k.forEach(pe=>{pe.container.getProvider(I).instances.forEach(He=>{X.includes(He)||X.push(He)})}),X};function ya(){}class Aa{constructor(M,k=fa){this.zone=M,this.delegate=k}now(){return this.delegate.now()}schedule(M,k,X){const pe=this.zone;return this.delegate.schedule(function(He){pe.runGuarded(()=>{M.apply(this,[He])})},k,X)}}class ou{constructor(M){this.zone=M,this.task=null}call(M,k){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ya,{},ya,ya)),k.pipe((0,Ga.b)({next:X,complete:X,error:X})).subscribe(M).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ad=(()=>{class I{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Aa(Zone.current)),this.insideAngular=k.run(()=>new Aa(Zone.current,Jo)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(k){return new(k||I)(y.LFG(y.R0b))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Ma(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function si(I){return Ma().ngZone.run(()=>I())}function qa(I){return Ma(),function Hu(I){return function(k){return(k=k.lift(new ou(I.ngZone))).pipe((0,za.R)(I.outsideAngular),(0,pa.Q)(I.insideAngular))}}(Ma())(I)}const dc=(I,M)=>function(){const X=arguments;return M&&setTimeout(()=>{"scheduled"===M.state&&M.invoke()},10),si(()=>I.apply(void 0,X))},Mu=(I,M)=>function(){let k;const X=arguments;for(let Ce=0;Ce<arguments.length;Ce++)"function"==typeof X[Ce]&&(M&&(k||(k=si(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ya,{},ya,ya)))),X[Ce]=dc(X[Ce],k));const pe=function Fc(I){return Ma().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,X));if(!M){if(pe instanceof Ao.y){const Ce=Ma();return pe.pipe((0,za.R)(Ce.outsideAngular),(0,pa.Q)(Ce.insideAngular))}return si(()=>pe)}return pe instanceof Ao.y?pe.pipe(qa):pe instanceof Promise?si(()=>new Promise((Ce,He)=>pe.then(Rt=>si(()=>Ce(Rt)),Rt=>si(()=>He(Rt))))):"function"==typeof pe&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),pe.apply(this,arguments)}:si(()=>pe)}},9058:(an,Xe,W)=>{W.d(Xe,{$s:()=>Jt,BH:()=>Ye,L:()=>je,LL:()=>ft,P0:()=>jn,Pz:()=>ot,Sg:()=>at,UG:()=>it,US:()=>ne,ZR:()=>Ke,aH:()=>We,b$:()=>Tr,eu:()=>Fe,hl:()=>ye,m9:()=>er,ne:()=>Zn,pd:()=>gn,q4:()=>Fn,ru:()=>Mn,tV:()=>fe,uI:()=>rt,vZ:()=>Un,w1:()=>Ae,xO:()=>bn,xb:()=>Tn,z$:()=>mt,zI:()=>Be,zd:()=>hr});const be=function(he){const q=[];let Z=0;for(let Y=0;Y<he.length;Y++){let J=he.charCodeAt(Y);J<128?q[Z++]=J:J<2048?(q[Z++]=J>>6|192,q[Z++]=63&J|128):55296==(64512&J)&&Y+1<he.length&&56320==(64512&he.charCodeAt(Y+1))?(J=65536+((1023&J)<<10)+(1023&he.charCodeAt(++Y)),q[Z++]=J>>18|240,q[Z++]=J>>12&63|128,q[Z++]=J>>6&63|128,q[Z++]=63&J|128):(q[Z++]=J>>12|224,q[Z++]=J>>6&63|128,q[Z++]=63&J|128)}return q},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(he,q){if(!Array.isArray(he))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let J=0;J<he.length;J+=3){const we=he[J],et=J+1<he.length,It=et?he[J+1]:0,Ht=J+2<he.length,rn=Ht?he[J+2]:0;let zn=(15&It)<<2|rn>>6,Dr=63&rn;Ht||(Dr=64,et||(zn=64)),Y.push(Z[we>>2],Z[(3&we)<<4|It>>4],Z[zn],Z[Dr])}return Y.join("")},encodeString(he,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(he):this.encodeByteArray(be(he),q)},decodeString(he,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(he):function(he){const q=[];let Z=0,Y=0;for(;Z<he.length;){const J=he[Z++];if(J<128)q[Y++]=String.fromCharCode(J);else if(J>191&&J<224){const we=he[Z++];q[Y++]=String.fromCharCode((31&J)<<6|63&we)}else if(J>239&&J<365){const Ht=((7&J)<<18|(63&he[Z++])<<12|(63&he[Z++])<<6|63&he[Z++])-65536;q[Y++]=String.fromCharCode(55296+(Ht>>10)),q[Y++]=String.fromCharCode(56320+(1023&Ht))}else{const we=he[Z++],et=he[Z++];q[Y++]=String.fromCharCode((15&J)<<12|(63&we)<<6|63&et)}}return q.join("")}(this.decodeStringToByteArray(he,q))},decodeStringToByteArray(he,q){this.init_();const Z=q?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let J=0;J<he.length;){const we=Z[he.charAt(J++)],It=J<he.length?Z[he.charAt(J)]:0;++J;const rn=J<he.length?Z[he.charAt(J)]:64;++J;const sn=J<he.length?Z[he.charAt(J)]:64;if(++J,null==we||null==It||null==rn||null==sn)throw new ae;Y.push(we<<2|It>>4),64!==rn&&(Y.push(It<<4&240|rn>>2),64!==sn&&Y.push(rn<<6&192|sn))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let he=0;he<this.ENCODED_VALS.length;he++)this.byteToCharMap_[he]=this.ENCODED_VALS.charAt(he),this.charToByteMap_[this.byteToCharMap_[he]]=he,this.byteToCharMapWebSafe_[he]=this.ENCODED_VALS_WEBSAFE.charAt(he),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[he]]=he,he>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(he)]=he,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(he)]=he)}}};class ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(he){return function(he){const q=be(he);return ne.encodeByteArray(q,!0)}(he).replace(/\./g,"")},fe=function(he){try{return ne.decodeString(he,!0)}catch(q){console.error("base64Decode failed: ",q)}return null},Kt=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const he=process.env.__FIREBASE_DEFAULTS__;return he?JSON.parse(he):void 0})()||(()=>{if(typeof document>"u")return;let he;try{he=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=he&&fe(he[1]);return q&&JSON.parse(q)})()}catch(he){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${he}`)}},Fn=he=>{var q,Z;return null===(Z=null===(q=Kt())||void 0===q?void 0:q.emulatorHosts)||void 0===Z?void 0:Z[he]},jn=he=>{const q=Fn(he);if(!q)return;const Z=q.lastIndexOf(":");if(Z<=0||Z+1===q.length)throw new Error(`Invalid host ${q} with no separate hostname and port!`);const Y=parseInt(q.substring(Z+1),10);return"["===q[0]?[q.substring(1,Z-1),Y]:[q.substring(0,Z),Y]},We=()=>{var he;return null===(he=Kt())||void 0===he?void 0:he.config},ot=he=>{var q;return null===(q=Kt())||void 0===q?void 0:q[`_${he}`]};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,Z)=>{this.resolve=q,this.reject=Z})}wrapCallback(q){return(Z,Y)=>{Z?this.reject(Z):this.resolve(Y),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(Z):q(Z,Y))}}}function at(he,q){if(he.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=q||"demo-project",J=he.iat||0,we=he.sub||he.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:J,exp:J+3600,auth_time:J,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},he);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(et)),""].join(".")}function mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function it(){var he;const q=null===(he=Kt())||void 0===he?void 0:he.forceEnvironment;if("node"===q)return!0;if("browser"===q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mn(){const he="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof he&&void 0!==he.id}function Tr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){const he=mt();return he.indexOf("MSIE ")>=0||he.indexOf("Trident/")>=0}function ye(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((he,q)=>{try{let Z=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(Y);J.onsuccess=()=>{J.result.close(),Z||self.indexedDB.deleteDatabase(Y),he(!0)},J.onupgradeneeded=()=>{Z=!1},J.onerror=()=>{var we;q((null===(we=J.error)||void 0===we?void 0:we.message)||"")}}catch(Z){q(Z)}})}function Be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ke extends Error{constructor(q,Z,Y){super(Z),this.code=q,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ft.prototype.create)}}class ft{constructor(q,Z,Y){this.service=q,this.serviceName=Z,this.errors=Y}create(q,...Z){const Y=Z[0]||{},J=`${this.service}/${q}`,we=this.errors[q],et=we?function Bt(he,q){return he.replace(_n,(Z,Y)=>{const J=q[Y];return null!=J?String(J):`<${Y}?>`})}(we,Y):"Error";return new Ke(J,`${this.serviceName}: ${et} (${J}).`,Y)}}const _n=/\{\$([^}]+)}/g;function Tn(he){for(const q in he)if(Object.prototype.hasOwnProperty.call(he,q))return!1;return!0}function Un(he,q){if(he===q)return!0;const Z=Object.keys(he),Y=Object.keys(q);for(const J of Z){if(!Y.includes(J))return!1;const we=he[J],et=q[J];if(zt(we)&&zt(et)){if(!Un(we,et))return!1}else if(we!==et)return!1}for(const J of Y)if(!Z.includes(J))return!1;return!0}function zt(he){return null!==he&&"object"==typeof he}function bn(he){const q=[];for(const[Z,Y]of Object.entries(he))Array.isArray(Y)?Y.forEach(J=>{q.push(encodeURIComponent(Z)+"="+encodeURIComponent(J))}):q.push(encodeURIComponent(Z)+"="+encodeURIComponent(Y));return q.length?"&"+q.join("&"):""}function hr(he){const q={};return he.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[J,we]=Y.split("=");q[decodeURIComponent(J)]=decodeURIComponent(we)}}),q}function gn(he){const q=he.indexOf("?");if(!q)return"";const Z=he.indexOf("#",q);return he.substring(q,Z>0?Z:void 0)}function Zn(he,q){const Z=new wr(he,q);return Z.subscribe.bind(Z)}class wr{constructor(q,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{q(this)}).catch(Y=>{this.error(Y)})}next(q){this.forEachObserver(Z=>{Z.next(q)})}error(q){this.forEachObserver(Z=>{Z.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,Z,Y){let J;if(void 0===q&&void 0===Z&&void 0===Y)throw new Error("Missing Observer.");J=function In(he,q){if("object"!=typeof he||null===he)return!1;for(const Z of q)if(Z in he&&"function"==typeof he[Z])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:Z,complete:Y},void 0===J.next&&(J.next=tr),void 0===J.error&&(J.error=tr),void 0===J.complete&&(J.complete=tr);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),we}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,q)}sendOne(q,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{Z(this.observers[q])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tr(){}const _r=1e3,Zt=2,Xr=144e5,_i=.5;function Jt(he,q=_r,Z=Zt){const Y=q*Math.pow(Z,he),J=Math.round(_i*Y*(Math.random()-.5)*2);return Math.min(Xr,Y+J)}function er(he){return he&&he._delegate?he._delegate:he}},8976:(an,Xe,W)=>{W.d(Xe,{b:()=>y});class y{constructor(K,be,_e,ne,ae,Ge){this.nombre=K,this.apellido=be,this.edad=_e,this.dni=ne,this.mail=ae,this.tipoUsuario=Ge}toJSON(){return{nombre:this.nombre,apellido:this.apellido,edad:this.edad,dni:this.dni,mail:this.mail,tipoUsuario:this.tipoUsuario}}}},1448:(an,Xe,W)=>{W.d(Xe,{r:()=>ue});var y=W(8976);class ue extends y.b{constructor(be,_e,ne,ae,Ge,je,fe,le,ke){super(be,_e,ne,ae,Ge,je),this.especialidades=fe,this.disponibilidadPorEspecialidad=le,this.accesoConcedido=ke}toJSON(){return{nombre:this.nombre,apellido:this.apellido,edad:this.edad,dni:this.dni,mail:this.mail,tipoUsuario:this.tipoUsuario,especialidades:this.especialidades,disponibilidadPorEspecialidad:this.disponibilidadPorEspecialidad.map(be=>({especialidad:be.especialidad,diasAtencion:be.diasAtencion,duracionTurno:be.duracionTurno,desdeJornada:be.desdeJornada,hastaJornada:be.hastaJornada})),accesoConcedido:this.accesoConcedido}}}},9213:(an,Xe,W)=>{W.d(Xe,{H:()=>be});var y=W(4946),ue=W(5609),K=W(5592);let be=(()=>{class _e{constructor(){this.auth=(0,y.f3M)(ue.gx),this.usuarioAutenticado=!1,this.usuarioEmail=""}ngOnInit(){console.log("oninit servicio"),this.usuarioEmail=this.auth.currentUser?.email}isLoggedIn(){return this.usuarioEmail=this.auth.currentUser?.email,null!=this.auth.currentUser}estadoLogObservable(){return new K.y(ae=>{const Ge=(0,ue.Aj)(this.auth,je=>{je?(this.usuarioAutenticado=!0,this.usuarioEmail=je.email,ae.next(je)):(this.usuarioAutenticado=!1,this.usuarioEmail=null,ae.next(null))});return()=>{Ge()}})}registro({email:ae,password:Ge}){return(0,ue.Xb)(this.auth,ae,Ge).then(je=>{const fe=this.auth.currentUser;if(fe)return(0,ue.w$)(fe).then(()=>je).catch(le=>{throw new Error("Error al enviar el correo de verificaci\xf3n: "+le.message)});throw new Error("Error: No se pudo obtener el usuario actual")}).catch(je=>{throw new Error("Error al registrar el usuario: "+je.message)})}login({email:ae,password:Ge}){return(0,ue.e5)(this.auth,ae,Ge)}logout(){return this.auth.signOut()}enviarEmailVerificacion(){const ae=this.auth.currentUser;ae?(0,ue.w$)(ae):console.log("No hay usuario autenticado para enviar correo de verificaci\xf3n")}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)};static#t=this.\u0275prov=y.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},1487:(an,Xe,W)=>{W.d(Xe,{i:()=>be});var y=W(4946),ue=W(5723),K=W(1448);let be=(()=>{class _e{constructor(){this.firestore=(0,y.f3M)(ue.gg),this.instanciaFirestore=(0,ue.hJ)(this.firestore,"usuarios")}todos(ae){const Ge=(0,ue.IO)(this.instanciaFirestore,(0,ue.ar)("tipoUsuario","==",ae));return(0,ue.BS)(Ge)}guardar(ae){const je=(0,ue.JU)(this.instanciaFirestore);return console.log(je.id),console.log(je),(0,ue.pl)(je,{id:je.id,...ae})}traerUno(ae){const Ge=(0,ue.IO)(this.instanciaFirestore,(0,ue.ar)("mail","==",ae));return(0,ue.BS)(Ge)}traerEspecialistasPorEspecialidad(ae){const Ge=(0,ue.IO)(this.instanciaFirestore,(0,ue.ar)("especialidades","array-contains",ae));return(0,ue.BS)(Ge)}verificarAcceso(ae){const Ge=(0,ue.IO)(this.instanciaFirestore,(0,ue.ar)("mail","==",ae));return(0,ue.BS)(Ge).subscribe(je=>(this.usuario=je[0],!!(this.usuario instanceof K.r&&this.usuario.accesoConcedido))),!1}verificarAccesoAdministrador(ae){const Ge=(0,ue.IO)(this.instanciaFirestore,(0,ue.ar)("mail","==",ae));return(0,ue.BS)(Ge).subscribe(je=>(this.usuario=je[0],!(!this.usuario||"admin"!==this.usuario.tipoUsuario||(console.log(this.usuario),0)))),!1}darAcceso(ae){return new Promise((Ge,je)=>{this.traerUnoSubscription=this.traerUno(ae).subscribe(fe=>{if(!1===fe[0].accesoConcedido){const le=fe[0].id,ke=(0,ue.hJ)(this.firestore,"usuarios"),ze=(0,ue.JU)(ke,le);(0,ue.r7)(ze,{accesoConcedido:!0}).then(()=>{console.log("acceso"),Ge()}).catch(Ee=>{console.error("Error:",Ee),je(Ee)}).finally(()=>{this.traerUnoSubscription&&(this.traerUnoSubscription.unsubscribe(),this.traerUnoSubscription=void 0)})}})})}static#e=this.\u0275fac=function(Ge){return new(Ge||_e)};static#t=this.\u0275prov=y.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},1300:(an,Xe,W)=>{var y=W(6593),ue=W(5920),K=W(4946),be=W(9213);const ne=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{class Ae{constructor(qe){this.UserAuthService=qe,this.usuario="",this.rolUsuario=""}ngOnInit(){this.UserAuthService.estadoLogObservable().subscribe(qe=>{this.usuario=qe?qe.email:""})}static#e=this.\u0275fac=function(Et){return new(Et||Ae)(K.Y36(be.H))};static#t=this.\u0275cmp=K.Xpm({type:Ae,selectors:[["app-home"]],decls:19,vars:0,consts:[["id","hero",1,"d-flex","align-items-center"],[1,"container"],["id","main"],["id","why-us",1,"why-us"],[1,"row"],[1,"col-lg-4","d-flex","align-items-stretch"],[1,"content"],[1,"text-center"],["href","#",1,"more-btn"],[1,"bx","bx-chevron-right"]],template:function(Et,ye){1&Et&&(K.TgZ(0,"section",0)(1,"div",1)(2,"h1"),K._uU(3,"Bienvenido a Cl\xednica Online"),K.qZA(),K._UZ(4,"h2"),K.qZA()(),K.TgZ(5,"main",2)(6,"section",3)(7,"div",1)(8,"div",4)(9,"div",5)(10,"div",6)(11,"h3"),K._uU(12,"\xa1Bienvenido a Cl\xednica Online!"),K.qZA(),K.TgZ(13,"p"),K._uU(14," Cl\xednica Online ofrece servicios de salud con consultorios y laboratorios. Abierta de lunes a s\xe1bado, nuestros profesionales atienden a pacientes con turnos solicitados en l\xednea. La duraci\xf3n m\xednima del turno es de 30 minutos, ajustable por especialidad. \xa1Descubre m\xe1s sobre nuestros servicios! "),K.qZA(),K.TgZ(15,"div",7)(16,"a",8),K._uU(17,"Lorem"),K._UZ(18,"i",9),K.qZA()()()()()()()())},styles:['#hero[_ngcontent-%COMP%]{width:100%;height:90vh;background:url(hero-bg.eacf2d179bfbb6be.jpg) top center;background-size:auto;margin-bottom:-300px}#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}#hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:-150px 0 0;font-size:48px;font-weight:700;line-height:56px;text-transform:uppercase;color:#2c4964}#hero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c4964;margin:10px 0 0;font-size:24px}section[_ngcontent-%COMP%]{padding:60px 0;overflow:hidden}.section-bg[_ngcontent-%COMP%]{background-color:#f1f7fd}.section-title[_ngcontent-%COMP%]{text-align:center;padding-bottom:30px}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:20px;padding-bottom:20px;position:relative;color:#2c4964}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";position:absolute;display:block;width:120px;height:1px;background:#ddd;bottom:1px;left:calc(50% - 60px)}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;width:40px;height:3px;background:#1977cc;bottom:0;left:calc(50% - 20px)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:30px;background:#1977cc;border-radius:4px;color:#fff}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:34px;margin-bottom:30px}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]{display:inline-block;background:rgba(255,255,255,.2);padding:6px 30px 8px;color:#fff;border-radius:50px;transition:all ease-in-out .4s}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]:hover{color:#1977cc;background:#fff}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{text-align:center;border-radius:10px;background:#fff;box-shadow:0 2px 15px #0000001a;padding:40px 30px;width:100%}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;color:#1977cc;margin-bottom:30px}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:0 0 30px}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#848484}']})}return Ae})()},{path:"auth",loadChildren:()=>Promise.all([W.e(657),W.e(392),W.e(524)]).then(W.bind(W,6392)).then(Ae=>Ae.AuthModule)},{path:"usuarios",loadChildren:()=>Promise.all([W.e(657),W.e(450),W.e(392),W.e(596)]).then(W.bind(W,9596)).then(Ae=>Ae.UsuariosAdminModule)},{path:"turnos",loadChildren:()=>Promise.all([W.e(657),W.e(739)]).then(W.bind(W,9739)).then(Ae=>Ae.TurnosModule)},{path:"mis_turnos",loadChildren:()=>Promise.all([W.e(657),W.e(492)]).then(W.bind(W,5492)).then(Ae=>Ae.MisTurnosModule)},{path:"mi_perfil",loadChildren:()=>Promise.all([W.e(450),W.e(296)]).then(W.bind(W,2296)).then(Ae=>Ae.MiPerfilModule)},{path:"mis_pacientes",loadChildren:()=>Promise.all([W.e(450),W.e(811)]).then(W.bind(W,6811)).then(Ae=>Ae.MisPacientesModule)}];let ae=(()=>{class Ae{static#e=this.\u0275fac=function(Et){return new(Et||Ae)};static#t=this.\u0275mod=K.oAB({type:Ae});static#n=this.\u0275inj=K.cJS({imports:[ue.Bz.forRoot(ne),ue.Bz]})}return Ae})();var Ge=W(6814),je=W(1487);function fe(Ae,ln){if(1&Ae){const qe=K.EpF();K.ynx(0),K.TgZ(1,"li")(2,"a",8),K.NdJ("click",function(){K.CHM(qe);const ye=K.oxw();return K.KtG(ye.usuariosAdmin())}),K._uU(3,"Usuarios"),K.qZA()(),K.BQk()}}function le(Ae,ln){if(1&Ae){const qe=K.EpF();K.ynx(0),K.TgZ(1,"li")(2,"a",8),K.NdJ("click",function(){K.CHM(qe);const ye=K.oxw();return K.KtG(ye.misTurnos())}),K._uU(3,"Mis Turnos"),K.qZA()(),K.BQk()}}function ke(Ae,ln){if(1&Ae){const qe=K.EpF();K.ynx(0),K.TgZ(1,"li")(2,"a",8),K.NdJ("click",function(){K.CHM(qe);const ye=K.oxw();return K.KtG(ye.turnosAdmin())}),K._uU(3,"Turnos"),K.qZA()(),K.BQk()}}function ze(Ae,ln){if(1&Ae){const qe=K.EpF();K.ynx(0),K.TgZ(1,"li")(2,"a",8),K.NdJ("click",function(){K.CHM(qe);const ye=K.oxw();return K.KtG(ye.turnos())}),K._uU(3,"Solicitar Turno"),K.qZA()(),K.BQk()}}function Ee(Ae,ln){if(1&Ae){const qe=K.EpF();K.ynx(0),K.TgZ(1,"li")(2,"a",8),K.NdJ("click",function(){K.CHM(qe);const ye=K.oxw();return K.KtG(ye.miPerfil())}),K._uU(3,"Mi Perfil"),K.qZA()(),K.BQk()}}function vt(Ae,ln){if(1&Ae){const qe=K.EpF();K.ynx(0),K.TgZ(1,"li")(2,"a",8),K.NdJ("click",function(){K.CHM(qe);const ye=K.oxw();return K.KtG(ye.misPacientes())}),K._uU(3,"Pacientes"),K.qZA()(),K.BQk()}}function nt(Ae,ln){1&Ae&&(K.ynx(0),K.TgZ(1,"li")(2,"a",9),K._uU(3,"Estadisticas"),K.qZA()(),K.BQk())}function Ct(Ae,ln){if(1&Ae){const qe=K.EpF();K.ynx(0),K.TgZ(1,"button",10),K.NdJ("click",function(){K.CHM(qe);const ye=K.oxw();return K.KtG(ye.login())}),K._uU(2,"Ingresar"),K.qZA(),K.BQk()}}function Kt(Ae,ln){if(1&Ae){const qe=K.EpF();K.ynx(0),K.TgZ(1,"button",10),K.NdJ("click",function(){K.CHM(qe);const ye=K.oxw();return K.KtG(ye.register())}),K._uU(2,"Registrarse"),K.qZA(),K.BQk()}}function Fn(Ae,ln){if(1&Ae){const qe=K.EpF();K.ynx(0),K.TgZ(1,"button",10),K.NdJ("click",function(){K.CHM(qe);const ye=K.oxw();return K.KtG(ye.cerrarSesion())}),K._uU(2,"Cerrar Sesion"),K.qZA(),K.BQk()}}let jn=(()=>{class Ae{constructor(qe,Et,ye){this.UserAuthService=qe,this.UsuarioService=Et,this.router=ye,this.usuarioEmail="",this.usuarioLogueado=!1,this.rolUsuario=""}ngOnInit(){this.UserAuthService.estadoLogObservable().subscribe(qe=>{qe?this.UsuarioService.traerUno(qe.email).subscribe(Et=>{Et[0]&&(this.usuarioEmail=Et[0].mail,this.rolUsuario=Et[0].tipoUsuario,this.usuarioLogueado=!0)}):this.usuarioLogueado=!1})}login(){this.router.navigateByUrl("auth/login")}register(){this.router.navigateByUrl("auth/register")}usuariosAdmin(){this.router.navigateByUrl("usuarios")}turnos(){this.router.navigateByUrl("turnos")}turnosAdmin(){this.router.navigateByUrl("turnos_admin")}misTurnos(){this.router.navigateByUrl("mis_turnos")}miPerfil(){this.router.navigateByUrl("mi_perfil")}misPacientes(){this.router.navigateByUrl("mis_pacientes")}cerrarSesion(){this.UserAuthService.logout().then(()=>{this.router.navigateByUrl("auth/login")}).catch(qe=>console.error(qe))}static#e=this.\u0275fac=function(Et){return new(Et||Ae)(K.Y36(be.H),K.Y36(je.i),K.Y36(ue.F0))};static#t=this.\u0275cmp=K.Xpm({type:Ae,selectors:[["app-navbar"]],decls:21,vars:11,consts:[[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-md-between","gradient-custom"],["href","/",1,"d-flex","align-items-center","col-md-2","mb-2","mb-md-0","text-dark","text-decoration-none"],["src","assets/logo.avif","width","80","height","80","alt",""],[1,"nav","col-12","col-md-auto","mb-2","justify-content-center","mb-md-0"],["href","#",1,"nav-link","px-2","link-secondary"],[4,"ngIf"],[1,"nav-link","px-2","link-dark","disabled"],[1,"col-md-3","text-end"],[1,"nav-link","px-2","link-dark",3,"click"],["href","#",1,"nav-link","px-2","link-dark","disabled"],["type","button",1,"btn","btn-light","me-2",3,"click"]],template:function(Et,ye){1&Et&&(K.TgZ(0,"header",0)(1,"a",1),K._UZ(2,"img",2),K.qZA(),K.TgZ(3,"ul",3)(4,"li")(5,"a",4),K._uU(6,"Inicio"),K.qZA()(),K.YNc(7,fe,4,0,"ng-container",5),K.YNc(8,le,4,0,"ng-container",5),K.YNc(9,ke,4,0,"ng-container",5),K.YNc(10,ze,4,0,"ng-container",5),K.YNc(11,Ee,4,0,"ng-container",5),K.YNc(12,vt,4,0,"ng-container",5),K.YNc(13,nt,4,0,"ng-container",5),K.TgZ(14,"li")(15,"a",6),K._uU(16),K.qZA()()(),K.TgZ(17,"div",7),K.YNc(18,Ct,3,0,"ng-container",5),K.YNc(19,Kt,3,0,"ng-container",5),K.YNc(20,Fn,3,0,"ng-container",5),K.qZA()()),2&Et&&(K.xp6(7),K.Q6J("ngIf","admin"===ye.rolUsuario),K.xp6(1),K.Q6J("ngIf","admin"!==ye.rolUsuario&&""!==ye.rolUsuario),K.xp6(1),K.Q6J("ngIf","admin"===ye.rolUsuario),K.xp6(1),K.Q6J("ngIf","paciente"===ye.rolUsuario),K.xp6(1),K.Q6J("ngIf",""!==ye.rolUsuario),K.xp6(1),K.Q6J("ngIf","especialista"===ye.rolUsuario),K.xp6(1),K.Q6J("ngIf","admin"===ye.rolUsuario),K.xp6(3),K.Oqu(ye.usuarioEmail),K.xp6(2),K.Q6J("ngIf",!ye.usuarioLogueado),K.xp6(1),K.Q6J("ngIf",!ye.usuarioLogueado),K.xp6(1),K.Q6J("ngIf",ye.usuarioLogueado))},dependencies:[Ge.O5],styles:[".gradient-custom[_ngcontent-%COMP%]{background:linear-gradient(to left,#1977cc,#fff)}"]})}return Ae})();function We(Ae,ln){1&Ae&&(K.ynx(0),K.TgZ(1,"div",1)(2,"div",2)(3,"span",3),K._uU(4,"Cargando..."),K.qZA()()(),K.BQk())}function ot(Ae,ln){1&Ae&&(K.ynx(0),K._UZ(1,"app-navbar")(2,"router-outlet"),K.BQk())}let Ye=(()=>{class Ae{constructor(){this.title="tp_clinica_online",this.loading=!1}ngOnInit(){this.loading=!0,setTimeout(()=>{this.loading=!1},3e3)}static#e=this.\u0275fac=function(Et){return new(Et||Ae)};static#t=this.\u0275cmp=K.Xpm({type:Ae,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"loading-container"],["role","status",1,"spinner-grow","text-primary",2,"width","5rem","height","5rem"],[1,"visually-hidden"]],template:function(Et,ye){1&Et&&(K.YNc(0,We,5,0,"ng-container",0),K.YNc(1,ot,3,0,"ng-container",0)),2&Et&&(K.Q6J("ngIf",ye.loading),K.xp6(1),K.Q6J("ngIf",!ye.loading))},dependencies:[Ge.O5,ue.lC,jn],styles:['@charset "UTF-8";.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}']})}return Ae})();var at=W(95),mt=W(8726),rt=W(5723),it=W(9493),vn=W(5609);const Mn_firebase={apiKey:"AIzaSyB3cH7PV__i49hUwJNNojdkhgPvySEqegw",authDomain:"tp-clinica-online-d8dea.firebaseapp.com",projectId:"tp-clinica-online-d8dea",storageBucket:"tp-clinica-online-d8dea.appspot.com",messagingSenderId:"800419131731",appId:"1:800419131731:web:b752b510cf8add7e7d31a6"};let dt=(()=>{class Ae{static#e=this.\u0275fac=function(Et){return new(Et||Ae)};static#t=this.\u0275mod=K.oAB({type:Ae,bootstrap:[Ye]});static#n=this.\u0275inj=K.cJS({imports:[(0,mt.hX)(()=>(0,mt.ZF)(Mn_firebase)),y.b2,ae,at.u5,(0,vn.AR)(()=>(0,vn.v0)()),(0,rt.Cm)(()=>(0,rt.ad)()),(0,it.Vq)(()=>(0,it.cF)())]})}return Ae})();y.q6().bootstrapModule(dt).catch(Ae=>console.error(Ae))},5619:(an,Xe,W)=>{W.d(Xe,{X:()=>ue});var y=W(8645);class ue extends y.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const _e=super._subscribe(be);return!_e.closed&&be.next(this._value),_e}getValue(){const{hasError:be,thrownError:_e,_value:ne}=this;if(be)throw _e;return this._throwIfClosed(),ne}next(be){super.next(this._value=be)}}},5592:(an,Xe,W)=>{W.d(Xe,{y:()=>Ge});var y=W(305),ue=W(7394),K=W(4850),be=W(8407),_e=W(2653),ne=W(4674),ae=W(1441);let Ge=(()=>{class ke{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const vt=new ke;return vt.source=this,vt.operator=Ee,vt}subscribe(Ee,vt,nt){const Ct=function le(ke){return ke&&ke instanceof y.Lv||function fe(ke){return ke&&(0,ne.m)(ke.next)&&(0,ne.m)(ke.error)&&(0,ne.m)(ke.complete)}(ke)&&(0,ue.Nn)(ke)}(Ee)?Ee:new y.Hp(Ee,vt,nt);return(0,ae.x)(()=>{const{operator:Kt,source:Fn}=this;Ct.add(Kt?Kt.call(Ct,Fn):Fn?this._subscribe(Ct):this._trySubscribe(Ct))}),Ct}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(vt){Ee.error(vt)}}forEach(Ee,vt){return new(vt=je(vt))((nt,Ct)=>{const Kt=new y.Hp({next:Fn=>{try{Ee(Fn)}catch(jn){Ct(jn),Kt.unsubscribe()}},error:Ct,complete:nt});this.subscribe(Kt)})}_subscribe(Ee){var vt;return null===(vt=this.source)||void 0===vt?void 0:vt.subscribe(Ee)}[K.L](){return this}pipe(...Ee){return(0,be.U)(Ee)(this)}toPromise(Ee){return new(Ee=je(Ee))((vt,nt)=>{let Ct;this.subscribe(Kt=>Ct=Kt,Kt=>nt(Kt),()=>vt(Ct))})}}return ke.create=ze=>new ke(ze),ke})();function je(ke){var ze;return null!==(ze=ke??_e.config.Promise)&&void 0!==ze?ze:Promise}},8645:(an,Xe,W)=>{W.d(Xe,{x:()=>ae});var y=W(5592),ue=W(7394);const be=(0,W(2306).d)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=W(9039),ne=W(1441);let ae=(()=>{class je extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const ke=new Ge(this,this);return ke.operator=le,ke}_throwIfClosed(){if(this.closed)throw new be}next(le){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(le)}})}error(le){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:ke}=this;for(;ke.length;)ke.shift().error(le)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:ke,isStopped:ze,observers:Ee}=this;return ke||ze?ue.Lc:(this.currentObservers=null,Ee.push(le),new ue.w0(()=>{this.currentObservers=null,(0,_e.P)(Ee,le)}))}_checkFinalizedStatuses(le){const{hasError:ke,thrownError:ze,isStopped:Ee}=this;ke?le.error(ze):Ee&&le.complete()}asObservable(){const le=new y.y;return le.source=this,le}}return je.create=(fe,le)=>new Ge(fe,le),je})();class Ge extends ae{constructor(fe,le){super(),this.destination=fe,this.source=le}next(fe){var le,ke;null===(ke=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===ke||ke.call(le,fe)}error(fe){var le,ke;null===(ke=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===ke||ke.call(le,fe)}complete(){var fe,le;null===(le=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===le||le.call(fe)}_subscribe(fe){var le,ke;return null!==(ke=null===(le=this.source)||void 0===le?void 0:le.subscribe(fe))&&void 0!==ke?ke:ue.Lc}}},305:(an,Xe,W)=>{W.d(Xe,{Hp:()=>nt,Lv:()=>ke});var y=W(4674),ue=W(7394),K=W(2653),be=W(3894),_e=W(2420);const ne=je("C",void 0,void 0);function je(We,ot,Ye){return{kind:We,value:ot,error:Ye}}var fe=W(7599),le=W(1441);class ke extends ue.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ue.Nn)(ot)&&ot.add(this)):this.destination=jn}static create(ot,Ye,at){return new nt(ot,Ye,at)}next(ot){this.isStopped?Fn(function Ge(We){return je("N",We,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?Fn(function ae(We){return je("E",void 0,We)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?Fn(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ee(We,ot){return ze.call(We,ot)}class vt{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(ot)}catch(at){Ct(at)}}error(ot){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(ot)}catch(at){Ct(at)}else Ct(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(Ye){Ct(Ye)}}}class nt extends ke{constructor(ot,Ye,at){let mt;if(super(),(0,y.m)(ot)||!ot)mt={next:ot??void 0,error:Ye??void 0,complete:at??void 0};else{let rt;this&&K.config.useDeprecatedNextContext?(rt=Object.create(ot),rt.unsubscribe=()=>this.unsubscribe(),mt={next:ot.next&&Ee(ot.next,rt),error:ot.error&&Ee(ot.error,rt),complete:ot.complete&&Ee(ot.complete,rt)}):mt=ot}this.destination=new vt(mt)}}function Ct(We){K.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(We):(0,be.h)(We)}function Fn(We,ot){const{onStoppedNotification:Ye}=K.config;Ye&&fe.z.setTimeout(()=>Ye(We,ot))}const jn={closed:!0,next:_e.Z,error:function Kt(We){throw We},complete:_e.Z}},7394:(an,Xe,W)=>{W.d(Xe,{Lc:()=>ne,w0:()=>_e,Nn:()=>ae});var y=W(4674);const K=(0,W(2306).d)(je=>function(le){je(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((ke,ze)=>`${ze+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var be=W(9039);class _e{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Ee of le)Ee.remove(this);else le.remove(this);const{initialTeardown:ke}=this;if((0,y.m)(ke))try{ke()}catch(Ee){fe=Ee instanceof K?Ee.errors:[Ee]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ee of ze)try{Ge(Ee)}catch(vt){fe=fe??[],vt instanceof K?fe=[...fe,...vt.errors]:fe.push(vt)}}if(fe)throw new K(fe)}}add(fe){var le;if(fe&&fe!==this)if(this.closed)Ge(fe);else{if(fe instanceof _e){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(fe)}}_hasParent(fe){const{_parentage:le}=this;return le===fe||Array.isArray(le)&&le.includes(fe)}_addParent(fe){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(fe),le):le?[le,fe]:fe}_removeParent(fe){const{_parentage:le}=this;le===fe?this._parentage=null:Array.isArray(le)&&(0,be.P)(le,fe)}remove(fe){const{_finalizers:le}=this;le&&(0,be.P)(le,fe),fe instanceof _e&&fe._removeParent(this)}}_e.EMPTY=(()=>{const je=new _e;return je.closed=!0,je})();const ne=_e.EMPTY;function ae(je){return je instanceof _e||je&&"closed"in je&&(0,y.m)(je.remove)&&(0,y.m)(je.add)&&(0,y.m)(je.unsubscribe)}function Ge(je){(0,y.m)(je)?je():je.unsubscribe()}},2653:(an,Xe,W)=>{W.d(Xe,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(an,Xe,W)=>{W.d(Xe,{E:()=>ue});const ue=new(W(5592).y)(_e=>_e.complete())},2459:(an,Xe,W)=>{W.d(Xe,{D:()=>ot});var y=W(4829),ue=W(3093),K=W(5137),ne=W(5592),Ge=W(4971),je=W(4674),fe=W(7103);function ke(Ye,at){if(!Ye)throw new Error("Iterable cannot be null");return new ne.y(mt=>{(0,fe.f)(mt,at,()=>{const rt=Ye[Symbol.asyncIterator]();(0,fe.f)(mt,at,()=>{rt.next().then(it=>{it.done?mt.complete():mt.next(it.value)})},0,!0)})})}var ze=W(8382),Ee=W(4026),vt=W(4266),nt=W(3664),Ct=W(5726),Kt=W(9853),Fn=W(541);function ot(Ye,at){return at?function We(Ye,at){if(null!=Ye){if((0,ze.c)(Ye))return function be(Ye,at){return(0,y.Xf)(Ye).pipe((0,K.R)(at),(0,ue.Q)(at))}(Ye,at);if((0,vt.z)(Ye))return function ae(Ye,at){return new ne.y(mt=>{let rt=0;return at.schedule(function(){rt===Ye.length?mt.complete():(mt.next(Ye[rt++]),mt.closed||this.schedule())})})}(Ye,at);if((0,Ee.t)(Ye))return function _e(Ye,at){return(0,y.Xf)(Ye).pipe((0,K.R)(at),(0,ue.Q)(at))}(Ye,at);if((0,Ct.D)(Ye))return ke(Ye,at);if((0,nt.T)(Ye))return function le(Ye,at){return new ne.y(mt=>{let rt;return(0,fe.f)(mt,at,()=>{rt=Ye[Ge.h](),(0,fe.f)(mt,at,()=>{let it,vn;try{({value:it,done:vn}=rt.next())}catch(Mn){return void mt.error(Mn)}vn?mt.complete():mt.next(it)},0,!0)}),()=>(0,je.m)(rt?.return)&&rt.return()})}(Ye,at);if((0,Fn.L)(Ye))return function jn(Ye,at){return ke((0,Fn.Q)(Ye),at)}(Ye,at)}throw(0,Kt.z)(Ye)}(Ye,at):(0,y.Xf)(Ye)}},4829:(an,Xe,W)=>{W.d(Xe,{Xf:()=>ze});var y=W(7582),ue=W(4266),K=W(4026),be=W(5592),_e=W(8382),ne=W(5726),ae=W(9853),Ge=W(3664),je=W(541),fe=W(4674),le=W(3894),ke=W(4850);function ze(We){if(We instanceof be.y)return We;if(null!=We){if((0,_e.c)(We))return function Ee(We){return new be.y(ot=>{const Ye=We[ke.L]();if((0,fe.m)(Ye.subscribe))return Ye.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,ue.z)(We))return function vt(We){return new be.y(ot=>{for(let Ye=0;Ye<We.length&&!ot.closed;Ye++)ot.next(We[Ye]);ot.complete()})}(We);if((0,K.t)(We))return function nt(We){return new be.y(ot=>{We.then(Ye=>{ot.closed||(ot.next(Ye),ot.complete())},Ye=>ot.error(Ye)).then(null,le.h)})}(We);if((0,ne.D)(We))return Kt(We);if((0,Ge.T)(We))return function Ct(We){return new be.y(ot=>{for(const Ye of We)if(ot.next(Ye),ot.closed)return;ot.complete()})}(We);if((0,je.L)(We))return function Fn(We){return Kt((0,je.Q)(We))}(We)}throw(0,ae.z)(We)}function Kt(We){return new be.y(ot=>{(function jn(We,ot){var Ye,at,mt,rt;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,y.KL)(We);!(at=yield Ye.next()).done;)if(ot.next(at.value),ot.closed)return}catch(it){mt={error:it}}finally{try{at&&!at.done&&(rt=Ye.return)&&(yield rt.call(Ye))}finally{if(mt)throw mt.error}}ot.complete()})})(We,ot).catch(Ye=>ot.error(Ye))})}},2096:(an,Xe,W)=>{W.d(Xe,{of:()=>K});var y=W(4564),ue=W(2459);function K(...be){const _e=(0,y.yG)(be);return(0,ue.D)(be,_e)}},8251:(an,Xe,W)=>{W.d(Xe,{x:()=>ue});var y=W(305);function ue(be,_e,ne,ae,Ge){return new K(be,_e,ne,ae,Ge)}class K extends y.Lv{constructor(_e,ne,ae,Ge,je,fe){super(_e),this.onFinalize=je,this.shouldUnsubscribe=fe,this._next=ne?function(le){try{ne(le)}catch(ke){_e.error(ke)}}:super._next,this._error=Ge?function(le){try{Ge(le)}catch(ke){_e.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(le){_e.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},7398:(an,Xe,W)=>{W.d(Xe,{U:()=>K});var y=W(9360),ue=W(8251);function K(be,_e){return(0,y.e)((ne,ae)=>{let Ge=0;ne.subscribe((0,ue.x)(ae,je=>{ae.next(be.call(_e,je,Ge++))}))})}},7537:(an,Xe,W)=>{W.d(Xe,{J:()=>K});var y=W(1631),ue=W(2737);function K(be=1/0){return(0,y.z)(ue.y,be)}},1631:(an,Xe,W)=>{W.d(Xe,{z:()=>Ge});var y=W(7398),ue=W(4829),K=W(9360),be=W(7103),_e=W(8251),ae=W(4674);function Ge(je,fe,le=1/0){return(0,ae.m)(fe)?Ge((ke,ze)=>(0,y.U)((Ee,vt)=>fe(ke,Ee,ze,vt))((0,ue.Xf)(je(ke,ze))),le):("number"==typeof fe&&(le=fe),(0,K.e)((ke,ze)=>function ne(je,fe,le,ke,ze,Ee,vt,nt){const Ct=[];let Kt=0,Fn=0,jn=!1;const We=()=>{jn&&!Ct.length&&!Kt&&fe.complete()},ot=at=>Kt<ke?Ye(at):Ct.push(at),Ye=at=>{Ee&&fe.next(at),Kt++;let mt=!1;(0,ue.Xf)(le(at,Fn++)).subscribe((0,_e.x)(fe,rt=>{ze?.(rt),Ee?ot(rt):fe.next(rt)},()=>{mt=!0},void 0,()=>{if(mt)try{for(Kt--;Ct.length&&Kt<ke;){const rt=Ct.shift();vt?(0,be.f)(fe,vt,()=>Ye(rt)):Ye(rt)}We()}catch(rt){fe.error(rt)}}))};return je.subscribe((0,_e.x)(fe,ot,()=>{jn=!0,We()})),()=>{nt?.()}}(ke,ze,je,le)))}},3093:(an,Xe,W)=>{W.d(Xe,{Q:()=>be});var y=W(7103),ue=W(9360),K=W(8251);function be(_e,ne=0){return(0,ue.e)((ae,Ge)=>{ae.subscribe((0,K.x)(Ge,je=>(0,y.f)(Ge,_e,()=>Ge.next(je),ne),()=>(0,y.f)(Ge,_e,()=>Ge.complete(),ne),je=>(0,y.f)(Ge,_e,()=>Ge.error(je),ne)))})}},5137:(an,Xe,W)=>{W.d(Xe,{R:()=>ue});var y=W(9360);function ue(K,be=0){return(0,y.e)((_e,ne)=>{ne.add(K.schedule(()=>_e.subscribe(ne),be))})}},4664:(an,Xe,W)=>{W.d(Xe,{w:()=>be});var y=W(4829),ue=W(9360),K=W(8251);function be(_e,ne){return(0,ue.e)((ae,Ge)=>{let je=null,fe=0,le=!1;const ke=()=>le&&!je&&Ge.complete();ae.subscribe((0,K.x)(Ge,ze=>{je?.unsubscribe();let Ee=0;const vt=fe++;(0,y.Xf)(_e(ze,vt)).subscribe(je=(0,K.x)(Ge,nt=>Ge.next(ne?ne(ze,nt,vt,Ee++):nt),()=>{je=null,ke()}))},()=>{le=!0,ke()}))})}},9397:(an,Xe,W)=>{W.d(Xe,{b:()=>_e});var y=W(4674),ue=W(9360),K=W(8251),be=W(2737);function _e(ne,ae,Ge){const je=(0,y.m)(ne)||ae||Ge?{next:ne,error:ae,complete:Ge}:ne;return je?(0,ue.e)((fe,le)=>{var ke;null===(ke=je.subscribe)||void 0===ke||ke.call(je);let ze=!0;fe.subscribe((0,K.x)(le,Ee=>{var vt;null===(vt=je.next)||void 0===vt||vt.call(je,Ee),le.next(Ee)},()=>{var Ee;ze=!1,null===(Ee=je.complete)||void 0===Ee||Ee.call(je),le.complete()},Ee=>{var vt;ze=!1,null===(vt=je.error)||void 0===vt||vt.call(je,Ee),le.error(Ee)},()=>{var Ee,vt;ze&&(null===(Ee=je.unsubscribe)||void 0===Ee||Ee.call(je)),null===(vt=je.finalize)||void 0===vt||vt.call(je)}))}):be.y}},7599:(an,Xe,W)=>{W.d(Xe,{z:()=>y});const y={setTimeout(ue,K,...be){const{delegate:_e}=y;return _e?.setTimeout?_e.setTimeout(ue,K,...be):setTimeout(ue,K,...be)},clearTimeout(ue){const{delegate:K}=y;return(K?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},4971:(an,Xe,W)=>{W.d(Xe,{h:()=>ue});const ue=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(an,Xe,W)=>{W.d(Xe,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(an,Xe,W)=>{W.d(Xe,{_6:()=>ne,jO:()=>be,yG:()=>_e});var y=W(4674);function K(ae){return ae[ae.length-1]}function be(ae){return(0,y.m)(K(ae))?ae.pop():void 0}function _e(ae){return function ue(ae){return ae&&(0,y.m)(ae.schedule)}(K(ae))?ae.pop():void 0}function ne(ae,Ge){return"number"==typeof K(ae)?ae.pop():Ge}},7453:(an,Xe,W)=>{W.d(Xe,{D:()=>_e});const{isArray:y}=Array,{getPrototypeOf:ue,prototype:K,keys:be}=Object;function _e(ae){if(1===ae.length){const Ge=ae[0];if(y(Ge))return{args:Ge,keys:null};if(function ne(ae){return ae&&"object"==typeof ae&&ue(ae)===K}(Ge)){const je=be(Ge);return{args:je.map(fe=>Ge[fe]),keys:je}}}return{args:ae,keys:null}}},9039:(an,Xe,W)=>{function y(ue,K){if(ue){const be=ue.indexOf(K);0<=be&&ue.splice(be,1)}}W.d(Xe,{P:()=>y})},2306:(an,Xe,W)=>{function y(ue){const be=ue(_e=>{Error.call(_e),_e.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}W.d(Xe,{d:()=>y})},2714:(an,Xe,W)=>{function y(ue,K){return ue.reduce((be,_e,ne)=>(be[_e]=K[ne],be),{})}W.d(Xe,{n:()=>y})},1441:(an,Xe,W)=>{W.d(Xe,{O:()=>be,x:()=>K});var y=W(2653);let ue=null;function K(_e){if(y.config.useDeprecatedSynchronousErrorHandling){const ne=!ue;if(ne&&(ue={errorThrown:!1,error:null}),_e(),ne){const{errorThrown:ae,error:Ge}=ue;if(ue=null,ae)throw Ge}}else _e()}function be(_e){y.config.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=_e)}},7103:(an,Xe,W)=>{function y(ue,K,be,_e=0,ne=!1){const ae=K.schedule(function(){be(),ne?ue.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(ue.add(ae),!ne)return ae}W.d(Xe,{f:()=>y})},2737:(an,Xe,W)=>{function y(ue){return ue}W.d(Xe,{y:()=>y})},4266:(an,Xe,W)=>{W.d(Xe,{z:()=>y});const y=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},5726:(an,Xe,W)=>{W.d(Xe,{D:()=>ue});var y=W(4674);function ue(K){return Symbol.asyncIterator&&(0,y.m)(K?.[Symbol.asyncIterator])}},4674:(an,Xe,W)=>{function y(ue){return"function"==typeof ue}W.d(Xe,{m:()=>y})},8382:(an,Xe,W)=>{W.d(Xe,{c:()=>K});var y=W(4850),ue=W(4674);function K(be){return(0,ue.m)(be[y.L])}},3664:(an,Xe,W)=>{W.d(Xe,{T:()=>K});var y=W(4971),ue=W(4674);function K(be){return(0,ue.m)(be?.[y.h])}},4026:(an,Xe,W)=>{W.d(Xe,{t:()=>ue});var y=W(4674);function ue(K){return(0,y.m)(K?.then)}},541:(an,Xe,W)=>{W.d(Xe,{L:()=>be,Q:()=>K});var y=W(7582),ue=W(4674);function K(_e){return(0,y.FC)(this,arguments,function*(){const ae=_e.getReader();try{for(;;){const{value:Ge,done:je}=yield(0,y.qq)(ae.read());if(je)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ge)}}finally{ae.releaseLock()}})}function be(_e){return(0,ue.m)(_e?.getReader)}},9360:(an,Xe,W)=>{W.d(Xe,{A:()=>ue,e:()=>K});var y=W(4674);function ue(be){return(0,y.m)(be?.lift)}function K(be){return _e=>{if(ue(_e))return _e.lift(function(ne){try{return be(ne,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(an,Xe,W)=>{W.d(Xe,{Z:()=>be});var y=W(7398);const{isArray:ue}=Array;function be(_e){return(0,y.U)(ne=>function K(_e,ne){return ue(ne)?_e(...ne):_e(ne)}(_e,ne))}},2420:(an,Xe,W)=>{function y(){}W.d(Xe,{Z:()=>y})},8407:(an,Xe,W)=>{W.d(Xe,{U:()=>K,z:()=>ue});var y=W(2737);function ue(...be){return K(be)}function K(be){return 0===be.length?y.y:1===be.length?be[0]:function(ne){return be.reduce((ae,Ge)=>Ge(ae),ne)}}},3894:(an,Xe,W)=>{W.d(Xe,{h:()=>K});var y=W(2653),ue=W(7599);function K(be){ue.z.setTimeout(()=>{const{onUnhandledError:_e}=y.config;if(!_e)throw be;_e(be)})}},9853:(an,Xe,W)=>{function y(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(Xe,{z:()=>y})},6814:(an,Xe,W)=>{W.d(Xe,{Do:()=>nt,EM:()=>Si,HT:()=>be,JF:()=>jr,K0:()=>ne,Mx:()=>as,O5:()=>Pi,PM:()=>pn,S$:()=>ze,V_:()=>Ge,Ye:()=>Ct,b0:()=>vt,bD:()=>Os,ez:()=>Ns,mk:()=>Ei,q:()=>K,sg:()=>es,w_:()=>_e});var y=W(4946);let ue=null;function K(){return ue}function be(w){ue||(ue=w)}class _e{}const ne=new y.OlP("DocumentToken");let ae=(()=>{class w{historyGo(R){throw new Error("Not implemented")}static#e=this.\u0275fac=function(B){return new(B||w)};static#t=this.\u0275prov=y.Yz7({token:w,factory:function(){return(0,y.f3M)(je)},providedIn:"platform"})}return w})();const Ge=new y.OlP("Location Initialized");let je=(()=>{class w extends ae{constructor(){super(),this._doc=(0,y.f3M)(ne),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(R){const B=K().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",R,!1),()=>B.removeEventListener("popstate",R)}onHashChange(R){const B=K().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",R,!1),()=>B.removeEventListener("hashchange",R)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(R){this._location.pathname=R}pushState(R,B,oe){this._history.pushState(R,B,oe)}replaceState(R,B,oe){this._history.replaceState(R,B,oe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}static#e=this.\u0275fac=function(B){return new(B||w)};static#t=this.\u0275prov=y.Yz7({token:w,factory:function(){return new w},providedIn:"platform"})}return w})();function fe(w,H){if(0==w.length)return H;if(0==H.length)return w;let R=0;return w.endsWith("/")&&R++,H.startsWith("/")&&R++,2==R?w+H.substring(1):1==R?w+H:w+"/"+H}function le(w){const H=w.match(/#|\?|$/),R=H&&H.index||w.length;return w.slice(0,R-("/"===w[R-1]?1:0))+w.slice(R)}function ke(w){return w&&"?"!==w[0]?"?"+w:w}let ze=(()=>{class w{historyGo(R){throw new Error("Not implemented")}static#e=this.\u0275fac=function(B){return new(B||w)};static#t=this.\u0275prov=y.Yz7({token:w,factory:function(){return(0,y.f3M)(vt)},providedIn:"root"})}return w})();const Ee=new y.OlP("appBaseHref");let vt=(()=>{class w extends ze{constructor(R,B){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return fe(this._baseHref,R)}path(R=!1){const B=this._platformLocation.pathname+ke(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&R?`${B}${oe}`:B}pushState(R,B,oe,Le){const tt=this.prepareExternalUrl(oe+ke(Le));this._platformLocation.pushState(R,B,tt)}replaceState(R,B,oe,Le){const tt=this.prepareExternalUrl(oe+ke(Le));this._platformLocation.replaceState(R,B,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static#e=this.\u0275fac=function(B){return new(B||w)(y.LFG(ae),y.LFG(Ee,8))};static#t=this.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),nt=(()=>{class w extends ze{constructor(R,B){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(R){const B=fe(this._baseHref,R);return B.length>0?"#"+B:B}pushState(R,B,oe,Le){let tt=this.prepareExternalUrl(oe+ke(Le));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.pushState(R,B,tt)}replaceState(R,B,oe,Le){let tt=this.prepareExternalUrl(oe+ke(Le));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.replaceState(R,B,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static#e=this.\u0275fac=function(B){return new(B||w)(y.LFG(ae),y.LFG(Ee,8))};static#t=this.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac})}return w})(),Ct=(()=>{class w{constructor(R){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const B=this._locationStrategy.getBaseHref();this._basePath=function We(w){if(new RegExp("^(https?:)?//").test(w)){const[,R]=w.split(/\/\/[^\/]+/);return R}return w}(le(jn(B))),this._locationStrategy.onPopState(oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:oe.state,type:oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,B=""){return this.path()==this.normalize(R+ke(B))}normalize(R){return w.stripTrailingSlash(function Fn(w,H){if(!w||!H.startsWith(w))return H;const R=H.substring(w.length);return""===R||["/",";","?","#"].includes(R[0])?R:H}(this._basePath,jn(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,B="",oe=null){this._locationStrategy.pushState(oe,"",R,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+ke(B)),oe)}replaceState(R,B="",oe=null){this._locationStrategy.replaceState(oe,"",R,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+ke(B)),oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)})),()=>{const B=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",B){this._urlChangeListeners.forEach(oe=>oe(R,B))}subscribe(R,B,oe){return this._subject.subscribe({next:R,error:B,complete:oe})}static#e=this.normalizeQueryParams=ke;static#t=this.joinWithSlash=fe;static#n=this.stripTrailingSlash=le;static#r=this.\u0275fac=function(B){return new(B||w)(y.LFG(ze))};static#i=this.\u0275prov=y.Yz7({token:w,factory:function(){return function Kt(){return new Ct((0,y.LFG)(ze))}()},providedIn:"root"})}return w})();function jn(w){return w.replace(/\/index.html$/,"")}function as(w,H){H=encodeURIComponent(H);for(const R of w.split(";")){const B=R.indexOf("="),[oe,Le]=-1==B?[R,""]:[R.slice(0,B),R.slice(B+1)];if(oe.trim()===H)return decodeURIComponent(Le)}return null}const Zi=/\s+/,Wr=[];let Ei=(()=>{class w{constructor(R,B,oe,Le){this._iterableDiffers=R,this._keyValueDiffers=B,this._ngEl=oe,this._renderer=Le,this.initialClasses=Wr,this.stateMap=new Map}set klass(R){this.initialClasses=null!=R?R.trim().split(Zi):Wr}set ngClass(R){this.rawClass="string"==typeof R?R.trim().split(Zi):R}ngDoCheck(){for(const B of this.initialClasses)this._updateState(B,!0);const R=this.rawClass;if(Array.isArray(R)||R instanceof Set)for(const B of R)this._updateState(B,!0);else if(null!=R)for(const B of Object.keys(R))this._updateState(B,!!R[B]);this._applyStateDiff()}_updateState(R,B){const oe=this.stateMap.get(R);void 0!==oe?(oe.enabled!==B&&(oe.changed=!0,oe.enabled=B),oe.touched=!0):this.stateMap.set(R,{enabled:B,changed:!0,touched:!0})}_applyStateDiff(){for(const R of this.stateMap){const B=R[0],oe=R[1];oe.changed?(this._toggleClass(B,oe.enabled),oe.changed=!1):oe.touched||(oe.enabled&&this._toggleClass(B,!1),this.stateMap.delete(B)),oe.touched=!1}}_toggleClass(R,B){(R=R.trim()).length>0&&R.split(Zi).forEach(oe=>{B?this._renderer.addClass(this._ngEl.nativeElement,oe):this._renderer.removeClass(this._ngEl.nativeElement,oe)})}static#e=this.\u0275fac=function(B){return new(B||w)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))};static#t=this.\u0275dir=y.lG2({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return w})();class On{constructor(H,R,B,oe){this.$implicit=H,this.ngForOf=R,this.index=B,this.count=oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let es=(()=>{class w{set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}constructor(R,B,oe){this._viewContainer=R,this._template=B,this._differs=oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const B=this._viewContainer;R.forEachOperation((oe,Le,tt)=>{if(null==oe.previousIndex)B.createEmbeddedView(this._template,new On(oe.item,this._ngForOf,-1,-1),null===tt?void 0:tt);else if(null==tt)B.remove(null===Le?void 0:Le);else if(null!==Le){const Yt=B.get(Le);B.move(Yt,tt),Bn(Yt,oe)}});for(let oe=0,Le=B.length;oe<Le;oe++){const Yt=B.get(oe).context;Yt.index=oe,Yt.count=Le,Yt.ngForOf=this._ngForOf}R.forEachIdentityChange(oe=>{Bn(B.get(oe.currentIndex),oe)})}static ngTemplateContextGuard(R,B){return!0}static#e=this.\u0275fac=function(B){return new(B||w)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))};static#t=this.\u0275dir=y.lG2({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return w})();function Bn(w,H){w.context.$implicit=H.item}let Pi=(()=>{class w{constructor(R,B){this._viewContainer=R,this._context=new pi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){xs("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){xs("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,B){return!0}static#e=this.\u0275fac=function(B){return new(B||w)(y.Y36(y.s_b),y.Y36(y.Rgc))};static#t=this.\u0275dir=y.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return w})();class pi{constructor(){this.$implicit=null,this.ngIf=null}}function xs(w,H){if(H&&!H.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,y.AaK)(H)}'.`)}let Ns=(()=>{class w{static#e=this.\u0275fac=function(B){return new(B||w)};static#t=this.\u0275mod=y.oAB({type:w});static#n=this.\u0275inj=y.cJS({})}return w})();const Os="browser",ua="server";function pn(w){return w===ua}let Si=(()=>{class w{static#e=this.\u0275prov=(0,y.Yz7)({token:w,providedIn:"root",factory:()=>new ni((0,y.LFG)(ne),window)})}return w})();class ni{constructor(H,R){this.document=H,this.window=R,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const R=function xr(w,H){const R=w.getElementById(H)||w.getElementsByName(H)[0];if(R)return R;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const B=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let oe=B.currentNode;for(;oe;){const Le=oe.shadowRoot;if(Le){const tt=Le.getElementById(H)||Le.querySelector(`[name="${H}"]`);if(tt)return tt}oe=B.nextNode()}}return null}(this.document,H);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(H){this.supportsScrolling()&&(this.window.history.scrollRestoration=H)}scrollToElement(H){const R=H.getBoundingClientRect(),B=R.left+this.window.pageXOffset,oe=R.top+this.window.pageYOffset,Le=this.offset();this.window.scrollTo(B-Le[0],oe-Le[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class jr{}},4946:(an,Xe,W)=>{W.d(Xe,{tb:()=>sE,AFp:()=>Ql,ip1:()=>Uw,hGG:()=>HT,z2F:()=>pp,Ojb:()=>Zv,sBO:()=>ST,Sil:()=>qb,EJc:()=>Gb,Xts:()=>eh,SBq:()=>ad,lqb:()=>gu,qLn:()=>Ou,vpe:()=>vu,XFs:()=>bt,OlP:()=>Jt,zs3:()=>yu,ZZ4:()=>dE,aQg:()=>hE,soG:()=>yv,YKP:()=>HI,h0i:()=>Mh,PXZ:()=>_T,R0b:()=>Ks,FiY:()=>xa,Lbi:()=>sh,g9A:()=>pf,Qsj:()=>og,FYo:()=>sy,JOm:()=>Kc,tp0:()=>po,Rgc:()=>vm,dDg:()=>gT,eoX:()=>qw,q4F:()=>Df,GfV:()=>oy,s_b:()=>gv,ifc:()=>ui,VuI:()=>eS,MMx:()=>zI,Lck:()=>SC,eFA:()=>Qw,Gpc:()=>rt,f3M:()=>Ot,$WT:()=>ns,_c5:()=>$T,qFp:()=>nS,rg0:()=>uo,c2e:()=>Bw,zSh:()=>Kp,HDt:()=>jw,wAp:()=>lp,vHH:()=>Ae,lri:()=>zw,rWj:()=>Ww,cg1:()=>N0,kL8:()=>pI,dqk:()=>Zt,Z0I:()=>Zn,eJc:()=>Z0,QGY:()=>Zy,F4k:()=>Xg,RDi:()=>Bm,AaK:()=>Ye,qOj:()=>Qf,Xq5:()=>Ac,TTD:()=>pt,_Bn:()=>$I,jDz:()=>WI,xp6:()=>Dg,uIk:()=>vh,ekj:()=>rv,Suo:()=>yw,Xpm:()=>$s,lG2:()=>$i,Yz7:()=>bn,cJS:()=>gn,oAB:()=>no,Yjl:()=>us,Y36:()=>hd,_UZ:()=>qy,BQk:()=>Qg,ynx:()=>Yg,qZA:()=>ip,TgZ:()=>rp,EpF:()=>e0,n5z:()=>Hu,LFG:()=>Mt,$8M:()=>M,$Z:()=>Lf,NdJ:()=>Jg,CRH:()=>vw,oxw:()=>tm,Q6J:()=>zy,iGM:()=>gw,MAs:()=>K_,KtG:()=>eu,CHM:()=>To,LSH:()=>Jd,P3R:()=>sf,YNc:()=>$y,W1O:()=>ww,_uU:()=>b0,Oqu:()=>sv,hij:()=>cm,AsE:()=>ov,Gf:()=>mw});var y=W(8645),ue=W(7394),K=W(5592),be=W(7537),_e=W(4829),ne=W(6232),ae=W(4564),Ge=W(2459),fe=W(5619),le=W(2096),ke=W(305),ze=W(9360);function Ee(t={}){const{connector:r=(()=>new y.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,_,S,F=0,z=!1,re=!1;const ve=()=>{_?.unsubscribe(),_=void 0},xe=()=>{ve(),g=S=void 0,z=re=!1},Je=()=>{const yt=g;xe(),yt?.unsubscribe()};return(0,ze.e)((yt,kt)=>{F++,!re&&!z&&ve();const fn=S=S??r();kt.add(()=>{F--,0===F&&!re&&!z&&(_=vt(Je,c))}),fn.subscribe(kt),!g&&F>0&&(g=new ke.Hp({next:ht=>fn.next(ht),error:ht=>{re=!0,ve(),_=vt(xe,s,ht),fn.error(ht)},complete:()=>{z=!0,ve(),_=vt(xe,a),fn.complete()}}),(0,_e.Xf)(yt).subscribe(g))})(d)}}function vt(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new ke.Hp({next:()=>{a.unsubscribe(),t()}});return(0,_e.Xf)(r(...s)).subscribe(a)}var nt=W(4664),Ct=W(2737),Kt=W(8251);function jn(t,r){return t===r}function We(t){for(let r in t)if(t[r]===We)return r;throw Error("Could not find renamed property on target object.")}function ot(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Ye(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ye).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function at(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const mt=We({__forward_ref__:We});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return Ye(this())},t}function it(t){return vn(t)?t():t}function vn(t){return"function"==typeof t&&t.hasOwnProperty(mt)&&t.__forward_ref__===rt}function Mn(t){return t&&!!t.\u0275providers}const dt="https://g.co/ng/security#xss";class Ae extends Error{constructor(r,s){super(function ln(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function qe(t){return"string"==typeof t?t:null==t?"":String(t)}function Re(t,r){throw new Ae(-201,!1)}function Tn(t,r){null==t&&function nn(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function bn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function dn(t){return wr(t,tr)||wr(t,$n)}function Zn(t){return null!==dn(t)}function wr(t,r){return t.hasOwnProperty(r)?t[r]:null}function In(t){return t&&(t.hasOwnProperty(Ur)||t.hasOwnProperty(Bi))?t[Ur]:null}const tr=We({\u0275prov:We}),Ur=We({\u0275inj:We}),$n=We({ngInjectableDef:We}),Bi=We({ngInjectorDef:We});var bt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(bt||{});let vi;function Mr(t){const r=vi;return vi=t,r}function Br(t,r,s){const a=dn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&bt.Optional?null:void 0!==r?r:void Re(Ye(t))}const Zt=globalThis;class Jt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=bn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ht={},rn="__NG_DI_FLAG__",Nn="ngTempTokenPath",zn=/\n/gm,Jr="__source";let oi;function Se(t){const r=oi;return oi=t,r}function ut(t,r=bt.Default){if(void 0===oi)throw new Ae(-203,!1);return null===oi?Br(t,void 0,r):oi.get(t,r&bt.Optional?null:void 0,r)}function Mt(t,r=bt.Default){return(function fi(){return vi}()||ut)(it(t),r)}function Ot(t,r=bt.Default){return Mt(t,wn(r))}function wn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Pr(t){const r=[];for(let s=0;s<t.length;s++){const a=it(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ae(900,!1);let c,d=bt.Default;for(let g=0;g<a.length;g++){const _=a[g],S=ai(_);"number"==typeof S?-1===S?c=_.token:d|=S:c=_}r.push(Mt(c,d))}else r.push(Mt(a))}return r}function Yn(t,r){return t[rn]=r,t.prototype[rn]=r,t}function ai(t){return t[rn]}function Wr(t){return{toString:t}.toString()}var Ei=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ei||{}),ui=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ui||{});const Ii={},On=[],es=We({\u0275cmp:We}),Bn=We({\u0275dir:We}),ji=We({\u0275pipe:We}),Pi=We({\u0275mod:We}),pi=We({\u0275fac:We}),xs=We({__NG_ELEMENT_ID__:We}),ge=We({__NG_ENV_ID__:We});function me(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function Te(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],_=s[a++];t.setAttribute(r,g,_,d)}else{const d=c,g=s[++a];gt(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Ze(t){return 3===t||4===t||6===t}function gt(t){return 64===t.charCodeAt(0)}function Ft(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Sn(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Sn(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const _=t[d++];if("number"==typeof _){if(_===r){g=-1;break}if(_>r){g=d-1;break}}}for(;d<t.length;){const _=t[d];if("number"==typeof _)break;if(_===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const yn="ng-template";function Dn(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==me(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Ti(t){return 4===t.type&&t.value!==yn}function ei(t,r,s){return r===(4!==t.type||s?t.value:yn)}function qr(t,r,s){let a=4;const c=t.attrs||[],d=function Rs(t){for(let r=0;r<t.length;r++)if(Ze(t[r]))return r;return t.length}(c);let g=!1;for(let _=0;_<r.length;_++){const S=r[_];if("number"!=typeof S){if(!g)if(4&a){if(a=2|1&a,""!==S&&!ei(t,S,s)||""===S&&1===r.length){if(ar(a))return!1;g=!0}}else{const F=8&a?S:r[++_];if(8&a&&null!==t.attrs){if(!Dn(t.attrs,F,s)){if(ar(a))return!1;g=!0}continue}const re=Qs(8&a?"class":S,c,Ti(t),s);if(-1===re){if(ar(a))return!1;g=!0;continue}if(""!==F){let ve;ve=re>d?"":c[re+1].toLowerCase();const xe=8&a?ve:null;if(xe&&-1!==me(xe,F,0)||2&a&&F!==ve){if(ar(a))return!1;g=!0}}}}else{if(!g&&!ar(a)&&!ar(S))return!1;if(g&&ar(S))continue;g=!1,a=S|1&a}}return ar(a)||g}function ar(t){return 0==(1&t)}function Qs(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let _=r[++c];for(;"string"==typeof _;)_=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function Xs(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function xo(t,r,s=!1){for(let a=0;a<r.length;a++)if(qr(t,r[a],s))return!0;return!1}function Ro(t,r){return t?":not("+r.trim()+")":r}function Js(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const _=t[++s];c+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!ar(g)&&(r+=Ro(d,c),c=""),a=g,d=d||!ar(a);s++}return""!==c&&(r+=Ro(d,c)),r}function $s(t){return Wr(()=>{const r=_o(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ei.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ui.Emulated,styles:t.styles||On,_:null,schemas:t.schemas||null,tView:null,id:""};Ns(s);const a=t.dependencies;return s.directiveDefs=Os(a,!1),s.pipeDefs=Os(a,!0),s.id=function Ps(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function to(t){return mn(t)||Qn(t)}function Ho(t){return null!==t}function no(t){return Wr(()=>({type:t.type,bootstrap:t.bootstrap||On,declarations:t.declarations||On,imports:t.imports||On,exports:t.exports||On,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ti(t,r){if(null==t)return Ii;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function $i(t){return Wr(()=>{const r=_o(t);return Ns(r),r})}function us(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function mn(t){return t[es]||null}function Qn(t){return t[Bn]||null}function cn(t){return t[ji]||null}function ns(t){const r=mn(t)||Qn(t)||cn(t);return null!==r&&r.standalone}function kr(t,r){const s=t[Pi]||null;if(!s&&!0===r)throw new Error(`Type ${Ye(t)} does not have '\u0275mod' property.`);return s}function _o(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ii,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||On,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ti(t.inputs,r),outputs:ti(t.outputs)}}function Ns(t){t.features?.forEach(r=>r(t))}function Os(t,r){if(!t)return null;const s=r?cn:to;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(Ho)}const ur=0,At=1,pn=2,Wn=3,ci=4,ro=5,Si=6,ni=7,xr=8,Yi=9,jr=10,hn=11,rs=12,ks=13,Fs=14,Sr=15,Hs=16,gi=17,ki=18,vs=19,Ea=20,cs=21,is=22,Zr=23,Ls=24,Pn=25,mi=1,_s=2,Yr=7,Hi=9,li=11;function di(t){return Array.isArray(t)&&"object"==typeof t[mi]}function ri(t){return Array.isArray(t)&&!0===t[mi]}function U(t){return 0!=(4&t.flags)}function V(t){return t.componentOffset>-1}function te(t){return 1==(1&t.flags)}function ce(t){return!!t.template}function De(t){return 0!=(512&t[pn])}function wo(t,r){return t.hasOwnProperty(pi)?t[pi]:null}let fr=null,Oo=!1;function ls(t){const r=fr;return fr=t,r}const Do={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ss(t){if(!Co(t)||t.dirty){if(!t.producerMustRecompute(t)&&!la(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Fa(t){t.dirty=!0,function Wo(t){if(void 0===t.liveConsumerNode)return;const r=Oo;Oo=!0;try{for(const s of t.liveConsumerNode)s.dirty||Fa(s)}finally{Oo=r}}(t),t.consumerMarkedDirty?.(t)}function qo(t){return t&&(t.nextProducerIndex=0),ls(t)}function oo(t,r){if(ls(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Co(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Ko(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function la(t){Es(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(ss(s),a!==s.version))return!0}return!1}function La(t){if(Es(t),Co(t))for(let r=0;r<t.producerNode.length;r++)Ko(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ko(t,r){if(function Is(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Es(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ko(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Es(c),c.producerIndexOfThis[a]=r}}function Co(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Es(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let oe=null;function uo(t){const r=ls(null);try{return t()}finally{ls(r)}}const $r=()=>{},xi=(()=>({...Do,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:$r}))();class Ia{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function pt(){return Di}function Di(t){return t.type.prototype.ngOnChanges&&(t.setInput=Va),co}function co(){const t=en(this),r=t?.current;if(r){const s=t.previous;if(s===Ii)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Va(t,r,s,a){const c=this.declaredInputs[s],d=en(t)||function Eu(t,r){return t[Vt]=r}(t,{previous:Ii,current:null}),g=d.current||(d.current={}),_=d.previous,S=_[c];g[c]=new Ia(S&&S.currentValue,r,_===Ii),t[a]=r}pt.ngInherit=!0;const Vt="__ngSimpleChanges__";function en(t){return t[Vt]||null}const st=function(t,r,s){};function cr(t){for(;Array.isArray(t);)t=t[ur];return t}function Bu(t,r){return cr(r[t])}function hs(t,r){return cr(r[t.index])}function ju(t,r){return t.data[r]}function bo(t,r){const s=r[t];return di(s)?s:s[ur]}function Vs(t,r){return null==r?null:t[r]}function Xi(t){t[gi]=0}function hi(t){1024&t[pn]||(t[pn]|=1024,wa(t,1))}function jt(t){1024&t[pn]&&(t[pn]&=-1025,wa(t,-1))}function wa(t,r){let s=t[Wn];if(null===s)return;s[ro]+=r;let a=s;for(s=s[Wn];null!==s&&(1===r&&1===a[ro]||-1===r&&0===a[ro]);)s[ro]+=r,a=s,s=s[Wn]}const Gt={lFrame:sr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ua(){return Gt.bindingsEnabled}function lt(){return Gt.lFrame.lView}function pr(){return Gt.lFrame.tView}function To(t){return Gt.lFrame.contextLView=t,t[xr]}function eu(t){return Gt.lFrame.contextLView=null,t}function Me(){let t=tu();for(;null!==t&&64===t.type;)t=t.parent;return t}function tu(){return Gt.lFrame.currentTNode}function ko(t,r){const s=Gt.lFrame;s.currentTNode=t,s.isParent=r}function Qo(){return Gt.lFrame.isParent}function Fo(){Gt.lFrame.isParent=!1}function Li(){return Gt.lFrame.bindingIndex++}function ho(t){const r=Gt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function m(t,r){const s=Gt.lFrame;s.bindingIndex=s.bindingRootIndex=t,P(r)}function P(t){Gt.lFrame.currentDirectiveIndex=t}function ie(){return Gt.lFrame.currentQueryIndex}function Pe(t){Gt.lFrame.currentQueryIndex=t}function Ne(t){const r=t[At];return 2===r.type?r.declTNode:1===r.type?t[Si]:null}function xt(t,r,s){if(s&bt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&bt.Host||(c=Ne(d),null===c||(d=d[Fs],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Gt.lFrame=ir();return a.currentTNode=r,a.lView=t,!0}function En(t){const r=ir(),s=t[At];Gt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ir(){const t=Gt.lFrame,r=null===t?null:t.child;return null===r?sr(t):r}function sr(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Vo(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ws=Vo;function Uo(){const t=Vo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function os(){return Gt.lFrame.selectedIndex}function $a(t){Gt.lFrame.selectedIndex=t}function Ri(){const t=Gt.lFrame;return ju(t.tView,t.selectedIndex)}let Sd=!0;function Tu(){return Sd}function Bo(t){Sd=t}function Ci(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:S,ngAfterViewChecked:F,ngOnDestroy:z}=d;g&&(t.contentHooks??=[]).push(-s,g),_&&((t.contentHooks??=[]).push(s,_),(t.contentCheckHooks??=[]).push(s,_)),S&&(t.viewHooks??=[]).push(-s,S),F&&((t.viewHooks??=[]).push(s,F),(t.viewCheckHooks??=[]).push(s,F)),null!=z&&(t.destroyHooks??=[]).push(s,z)}}function cc(t,r,s){Qr(t,r,3,s)}function ha(t,r,s,a){(3&t[pn])===s&&Qr(t,r,s,a)}function Su(t,r){let s=t[pn];(3&s)===r&&(s&=8191,s+=1,t[pn]=s)}function Qr(t,r,s,a){const d=a??-1,g=r.length-1;let _=0;for(let S=void 0!==a?65535&t[gi]:0;S<g;S++)if("number"==typeof r[S+1]){if(_=r[S],null!=a&&_>=a)break}else r[S]<0&&(t[gi]+=65536),(_<d||-1==d)&&(Cs(t,s,r,S),t[gi]=(4294901760&t[gi])+S+2),S++}function Ha(t,r){st(4,t,r);const s=ls(null);try{r.call(t)}finally{ls(s),st(5,t,r)}}function Cs(t,r,s,a){const c=s[a]<0,d=s[a+1],_=t[c?-s[a]:s[a]];c?t[pn]>>13<t[gi]>>16&&(3&t[pn])===r&&(t[pn]+=8192,Ha(_,d)):Ha(_,d)}const Hr=-1;class nu{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Xo(t){return t!==Hr}function fa(t){return 32767&t}function Jo(t,r){let s=function Tl(t){return t>>16}(t),a=r;for(;s>0;)a=a[Fs],s--;return a}let Pc=!0;function Ao(t){const r=Pc;return Pc=t,r}const za=255,pa=5;let ga=0;const bs={};function iu(t,r){const s=Wa(t,r);if(-1!==s)return s;const a=r[At];a.firstCreatePass&&(t.injectorIndex=r.length,ma(a.data,t),ma(r,null),ma(a.blueprint,null));const c=Sa(t,r),d=t.injectorIndex;if(Xo(c)){const g=fa(c),_=Jo(c,r),S=_[At].data;for(let F=0;F<8;F++)r[d+F]=_[g+F]|S[g+F]}return r[d+8]=c,d}function ma(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Wa(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Sa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=I(c),null===a)return Hr;if(s++,c=c[Fs],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Hr}function ta(t,r,s){!function ea(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(xs)&&(a=s[xs]),null==a&&(a=s[xs]=ga++);const c=a&za;r.data[t+(c>>pa)]|=1<<c}(t,r,s)}function su(t,r,s){if(s&bt.Optional||void 0!==t)return t;Re()}function Al(t,r,s,a){if(s&bt.Optional&&void 0===a&&(a=null),!(s&(bt.Self|bt.Host))){const c=t[Yi],d=Mr(void 0);try{return c?c.get(r,a,s&bt.Optional):Br(r,a,s&bt.Optional)}finally{Mr(d)}}return su(a,0,s)}function kc(t,r,s,a=bt.Default,c){if(null!==t){if(2048&r[pn]&&!(a&bt.Self)){const g=function Mu(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[pn]&&!(512&g[pn]);){const _=Au(d,g,s,a|bt.Self,bs);if(_!==bs)return _;let S=d.parent;if(!S){const F=g[Ea];if(F){const z=F.get(s,bs,a);if(z!==bs)return z}S=I(g),g=g[Fs]}d=S}return c}(t,r,s,a,bs);if(g!==bs)return g}const d=Au(t,r,s,a,bs);if(d!==bs)return d}return Al(r,s,a,c)}function Au(t,r,s,a,c){const d=function Ad(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(xs)?t[xs]:void 0;return"number"==typeof r?r>=0?r&za:qa:r}(s);if("function"==typeof d){if(!xt(r,t,a))return a&bt.Host?su(c,0,a):Al(r,s,a,c);try{let g;if(g=d(a),null!=g||a&bt.Optional)return g;Re()}finally{ws()}}else if("number"==typeof d){let g=null,_=Wa(t,r),S=Hr,F=a&bt.Host?r[Sr][Si]:null;for((-1===_||a&bt.SkipSelf)&&(S=-1===_?Sa(t,r):r[_+8],S!==Hr&&Fc(a,!1)?(g=r[At],_=fa(S),r=Jo(S,r)):_=-1);-1!==_;){const z=r[At];if(Ma(d,_,z.data)){const re=ya(_,r,s,g,a,F);if(re!==bs)return re}S=r[_+8],S!==Hr&&Fc(a,r[At].data[_+8]===F)&&Ma(d,_,r)?(g=z,_=fa(S),r=Jo(S,r)):_=-1}}return c}function ya(t,r,s,a,c,d){const g=r[At],_=g.data[t+8],z=Aa(_,g,s,null==a?V(_)&&Pc:a!=g&&0!=(3&_.type),c&bt.Host&&d===_);return null!==z?ou(r,g,z,_):bs}function Aa(t,r,s,a,c){const d=t.providerIndexes,g=r.data,_=1048575&d,S=t.directiveStart,z=d>>20,ve=c?_+z:t.directiveEnd;for(let xe=a?_:_+z;xe<ve;xe++){const Je=g[xe];if(xe<S&&s===Je||xe>=S&&Je.type===s)return xe}if(c){const xe=g[S];if(xe&&ce(xe)&&xe.type===s)return S}return null}function ou(t,r,s,a){let c=t[s];const d=r.data;if(function ru(t){return t instanceof nu}(c)){const g=c;g.resolving&&function ye(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():qe(t)}(d[s]));const _=Ao(g.canSeeViewProviders);g.resolving=!0;const F=g.injectImpl?Mr(g.injectImpl):null;xt(t,a,bt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Dl(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Di(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==F&&Mr(F),Ao(_),g.resolving=!1,ws()}}return c}function Ma(t,r,s){return!!(s[r+(t>>pa)]&1<<t)}function Fc(t,r){return!(t&bt.Self||t&bt.Host&&r)}class lr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return kc(this._tNode,this._lView,r,wn(a),s)}}function qa(){return new lr(Me(),lt())}function Hu(t){return Wr(()=>{const r=t.prototype.constructor,s=r[pi]||dc(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[pi]||dc(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function dc(t){return vn(t)?()=>{const r=dc(it(t));return r&&r()}:wo(t)}function I(t){const r=t[At],s=r.type;return 2===s?r.declTNode:1===s?t[Si]:null}function M(t){return function Sl(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Ze(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Me(),t)}const X="__parameters__";function Rt(t,r,s){return Wr(()=>{const a=function He(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return _.annotation=g,_;function _(S,F,z){const re=S.hasOwnProperty(X)?S[X]:Object.defineProperty(S,X,{value:[]})[X];for(;re.length<=z;)re.push(null);return(re[z]=re[z]||[]).push(g),S}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function uu(t,r){t.forEach(s=>Array.isArray(s)?uu(s,r):r(s))}function Vc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Uc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function fo(t,r,s){let a=du(t,r);return a>=0?t[1|a]=s:(a=~a,function fc(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function lu(t,r){const s=du(t,r);if(s>=0)return t[1|s]}function du(t,r){return function Bs(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const xa=Yn(Rt("Optional"),8),po=Yn(Rt("SkipSelf"),4);function Wc(t){return 128==(128&t.flags)}var Kc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kc||{});const xm=/^>|^->|<!--|-->|--!>|<!-$/g,E=/(<|>)/g,h="\u200b$1\u200b";const C=new Map;let $=0;const jo="__ngContext__";function Ki(t,r){di(r)?(t[jo]=r[vs],function Ie(t){C.set(t[vs],t)}(r)):t[jo]=r}let Yc;function yc(t,r){return Yc(t,r)}function jd(t){const r=t[Wn];return ri(r)?r[Wn]:r}function Tp(t){return pu(t[rs])}function Bl(t){return pu(t[ci])}function pu(t){for(;null!==t&&!ri(t);)t=t[ci];return t}function vc(t,r,s,a,c){if(null!=a){let d,g=!1;ri(a)?d=a:di(a)&&(g=!0,a=a[ur]);const _=cr(a);0===t&&null!==s?null==c?Qc(r,s,_):_a(r,s,_,c||null,!0):1===t&&null!==s?_a(r,s,_,c||null,!0):2===t?function Hl(t,r,s){const a=Za(t,r);a&&function Mv(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,_,g):3===t&&r.destroyNode(_),null!=d&&function Wh(t,r,s,a,c){const d=s[Yr];d!==cr(s)&&vc(r,t,a,d,c);for(let _=li;_<s.length;_++){const S=s[_];qd(S[At],S,t,r,a,d)}}(r,t,d,s,c)}}function Hh(t,r){return t.createComment(function p(t){return t.replace(xm,r=>r.replace(E,h))}(r))}function Hd(t,r,s){return t.createElement(r,s)}function Ap(t,r){const s=t[Hi],a=s.indexOf(r);jt(r),s.splice(a,1)}function $l(t,r){if(t.length<=li)return;const s=li+r,a=t[s];if(a){const c=a[Hs];null!==c&&c!==t&&Ap(c,a),r>0&&(t[s-1][ci]=a[ci]);const d=Uc(t,li+r);!function Nm(t,r){qd(t,r,r[hn],2,null,null),r[ur]=null,r[Si]=null}(a[At],a);const g=d[ki];null!==g&&g.detachView(d[At]),a[Wn]=null,a[ci]=null,a[pn]&=-129}return a}function Gh(t,r){if(!(256&r[pn])){const s=r[hn];r[Zr]&&La(r[Zr]),r[Ls]&&La(r[Ls]),s.destroyNode&&qd(t,r,s,3,null,null),function Gd(t){let r=t[rs];if(!r)return Mp(t[At],t);for(;r;){let s=null;if(di(r))s=r[rs];else{const a=r[li];a&&(s=a)}if(!s){for(;r&&!r[ci]&&r!==t;)di(r)&&Mp(r[At],r),r=r[Wn];null===r&&(r=t),di(r)&&Mp(r[At],r),s=r&&r[ci]}r=s}}(r)}}function Mp(t,r){if(!(256&r[pn])){r[pn]&=-129,r[pn]|=256,function Av(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof nu)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const _=c[d[g]],S=d[g+1];st(4,_,S);try{S.call(_)}finally{st(5,_,S)}}else{st(4,c,d);try{d.call(c)}finally{st(5,c,d)}}}}}(t,r),function Om(t,r){const s=t.cleanup,a=r[ni];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[ni]=null);const c=r[cs];if(null!==c){r[cs]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[At].type&&r[hn].destroy();const s=r[Hs];if(null!==s&&ri(r[Wn])){s!==r[Wn]&&Ap(s,r);const a=r[ki];null!==a&&a.detachView(t)}!function St(t){C.delete(t[vs])}(r)}}function xp(t,r,s){return function Pm(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[ur];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===ui.None||d===ui.Emulated)return null}return hs(a,s)}}(t,r.parent,s)}function _a(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Qc(t,r,s){t.appendChild(r,s)}function Rp(t,r,s,a,c){null!==a?_a(t,r,s,a,c):Qc(t,r,s)}function Za(t,r){return t.parentNode(r)}let Wu,Vp,Wl,zd=function Np(t,r,s){return 40&t.type?hs(t,s):null};function Nu(t,r,s,a){const c=xp(t,a,r),d=r[hn],_=function Fm(t,r,s){return zd(t,r,s)}(a.parent||r[Si],a,r);if(null!=c)if(Array.isArray(s))for(let S=0;S<s.length;S++)Rp(d,c,s[S],_,!1);else Rp(d,c,s,_,!1);void 0!==Wu&&Wu(d,a,r,s,c)}function qu(t,r){if(null!==r){const s=r.type;if(3&s)return hs(r,t);if(4&s)return Wd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return qu(t,a);{const c=t[r.index];return ri(c)?Wd(-1,c):cr(c)}}if(32&s)return yc(r,t)()||cr(t[r.index]);{const a=Op(t,r);return null!==a?Array.isArray(a)?a[0]:qu(jd(t[Sr]),a):qu(t,r.next)}}return null}function Op(t,r){return null!==r?t[Sr][Si].projection[r.projection]:null}function Wd(t,r){const s=li+t+1;if(s<r.length){const a=r[s],c=a[At].firstChild;if(null!==c)return qu(a,c)}return r[Yr]}function zh(t,r,s,a,c,d,g){for(;null!=s;){const _=a[s.index],S=s.type;if(g&&0===r&&(_&&Ki(cr(_),a),s.flags|=2),32!=(32&s.flags))if(8&S)zh(t,r,s.child,a,c,d,!1),vc(r,t,c,_,d);else if(32&S){const F=yc(s,a);let z;for(;z=F();)vc(r,t,c,z,d);vc(r,t,c,_,d)}else 16&S?kp(t,r,a,s,c,d):vc(r,t,c,_,d);s=g?s.projectionNext:s.next}}function qd(t,r,s,a,c,d){zh(s,a,t.firstChild,r,c,d,!1)}function kp(t,r,s,a,c,d){const g=s[Sr],S=g[Si].projection[a.projection];if(Array.isArray(S))for(let F=0;F<S.length;F++)vc(r,t,c,S[F],d);else{let F=S;const z=g[Wn];Wc(a)&&(F.flags|=128),zh(t,r,F,z,c,d,!0)}}function Vm(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Fp(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&Te(t,r,a),null!==c&&Vm(t,r,c),null!==d&&function Xc(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function Bm(t){Vp=t}function Zh(t){return function Yd(){if(void 0===Wl&&(Wl=null,Zt.trustedTypes))try{Wl=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wl}()?.createScriptURL(t)||t}class Bp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}function Ku(t){return t instanceof Bp?t.changingThisBreaksApplicationSecurity:t}function Zu(t,r){const s=function Xh(t){return t instanceof Bp&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${dt})`)}return s===r}const ql=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var nl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(nl||{});function Jd(t){const r=Dc();return r?r.sanitize(nl.URL,t)||"":Zu(t,"URL")?Ku(t):function tf(t){return(t=String(t)).match(ql)?t:"unsafe:"+t}(qe(t))}function qs(t){const r=Dc();if(r)return Zh(r.sanitize(nl.RESOURCE_URL,t)||"");if(Zu(t,"ResourceURL"))return Zh(Ku(t));throw new Ae(904,!1)}function sf(t,r,s){return function Wv(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?qs:Jd}(r,s)(t)}function Dc(){const t=lt();return t&&t[jr].sanitizer}const eh=new Jt("ENVIRONMENT_INITIALIZER"),Wp=new Jt("INJECTOR",-1),af=new Jt("INJECTOR_DEF_TYPES");class th{get(r,s=Ht){if(s===Ht){const a=new Error(`NullInjectorError: No provider for ${Ye(r)}!`);throw a.name="NullInjectorError",a}return s}}function uf(...t){return{\u0275providers:cf(0,t),\u0275fromNgModule:!0}}function cf(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return uu(r,g=>{const _=g;nh(_,d,[],a)&&(c||=[],c.push(_))}),void 0!==c&&lf(c,d),s}function lf(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];df(c,d=>{r(d,a)})}}function nh(t,r,s,a){if(!(t=it(t)))return!1;let c=null,d=In(t);const g=!d&&mn(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const S=t.ngModule;if(d=In(S),!d)return!1;c=S}const _=a.has(c);if(g){if(_)return!1;if(a.add(c),g.dependencies){const S="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const F of S)nh(F,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!_){let F;a.add(c);try{uu(d.imports,z=>{nh(z,r,s,a)&&(F||=[],F.push(z))})}finally{}void 0!==F&&lf(F,r)}if(!_){const F=wo(c)||(()=>new c);r({provide:c,useFactory:F,deps:On},c),r({provide:af,useValue:c,multi:!0},c),r({provide:eh,useValue:()=>Mt(c),multi:!0},c)}const S=d.providers;if(null!=S&&!_){const F=t;df(S,z=>{r(z,F)})}}}return c!==t&&void 0!==t.providers}function df(t,r){for(let s of t)Mn(s)&&(s=s.\u0275providers),Array.isArray(s)?df(s,r):r(s)}const Wm=We({provide:String,useValue:We});function rh(t){return null!==t&&"object"==typeof t&&Wm in t}function rl(t){return"function"==typeof t}const Kp=new Jt("Set Injector scope."),Qu={},Zl={};let ih;function il(){return void 0===ih&&(ih=new th),ih}class gu{}class sl extends gu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yl(r,g=>this.processProvider(g)),this.records.set(Wp,Cc(void 0,this)),c.has("environment")&&this.records.set(gu,Cc(void 0,this));const d=this.records.get(Kp);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(af.multi,On,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Se(this),a=Mr(void 0);try{return r()}finally{Se(s),Mr(a)}}get(r,s=Ht,a=bt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(ge))return r[ge](this);a=wn(a);const d=Se(this),g=Mr(void 0);try{if(!(a&bt.SkipSelf)){let S=this.records.get(r);if(void 0===S){const F=function Yp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Jt}(r)&&dn(r);S=F&&this.injectableDefInScope(F)?Cc(hf(r),Qu):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&bt.Self?il():this.parent).get(r,s=a&bt.Optional&&s===Ht?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Nn]=_[Nn]||[]).unshift(Ye(r)),d)throw _;return function as(t,r,s,a){const c=t[Nn];throw r[Jr]&&c.unshift(r[Jr]),t.message=function Zi(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Ye(r);if(Array.isArray(r))c=r.map(Ye).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let _=r[g];d.push(g+":"+("string"==typeof _?JSON.stringify(_):Ye(_)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(zn,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Nn]=null,t}(_,r,"R3InjectorError",this.source)}throw _}finally{Mr(g),Se(d)}}resolveInjectorInitializers(){const r=Se(this),s=Mr(void 0);try{const c=this.get(eh.multi,On,bt.Self);for(const d of c)d()}finally{Se(r),Mr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Ye(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(r){let s=rl(r=it(r))?r:it(r&&r.provide);const a=function Zp(t){return rh(t)?Cc(void 0,t.useValue):Cc(Zm(t),Qu)}(r);if(rl(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Cc(void 0,Qu,!0),c.factory=()=>Pr(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Qu&&(s.value=Zl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Qm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=it(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function hf(t){const r=dn(t),s=null!==r?r.factory:wo(t);if(null!==s)return s;if(t instanceof Jt)throw new Ae(204,!1);if(t instanceof Function)return function qv(t){const r=t.length;if(r>0)throw function hc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new Ae(204,!1);const s=function Vr(t){return t&&(t[tr]||t[$n])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ae(204,!1)}function Zm(t,r,s){let a;if(rl(t)){const c=it(t);return wo(c)||hf(c)}if(rh(t))a=()=>it(t.useValue);else if(function qp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Pr(t.deps||[]));else if(function qm(t){return!(!t||!t.useExisting)}(t))a=()=>Mt(it(t.useExisting));else{const c=it(t&&(t.useClass||t.provide));if(!function Ym(t){return!!t.deps}(t))return wo(c)||hf(c);a=()=>new c(...Pr(t.deps))}return a}function Cc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Yl(t,r){for(const s of t)Array.isArray(s)?Yl(s,r):s&&Mn(s)?Yl(s.\u0275providers,r):r(s)}const Ql=new Jt("AppId",{providedIn:"root",factory:()=>ff}),ff="ng",pf=new Jt("Platform Initializer"),sh=new Jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zv=new Jt("CSP nonce",{providedIn:"root",factory:()=>function zl(){if(void 0!==Vp)return Vp;if(typeof document<"u")return document;throw new Ae(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let yf=(t,r,s)=>null;function td(t,r,s=!1){return yf(t,r,s)}class Xv{}class Ef{}class id{resolveComponentFactory(r){throw function If(t){const r=Error(`No component factory found for ${Ye(t)}.`);return r.ngComponent=t,r}(r)}}let sd=(()=>{class t{static#e=this.NULL=new id}return t})();function e_(){return od(Me(),lt())}function od(t,r){return new ad(hs(t,r))}let ad=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=e_}return t})();function iy(t){return t instanceof ad?t.nativeElement:t}class sy{}let og=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function t_(){const t=lt(),s=bo(Me().index,t);return(di(s)?s:t)[hn]}()}return t})(),ag=(()=>{class t{static#e=this.\u0275prov=bn({token:t,providedIn:"root",factory:()=>null})}return t})();class oy{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Df=new oy("16.2.11"),ug={};function ll(t,r=null,s=null,a){const c=uy(t,r,s,a);return c.resolveInjectorInitializers(),c}function uy(t,r=null,s=null,a,c=new Set){const d=[s||On,uf(t)];return a=a||("object"==typeof t?void 0:Ye(t)),new sl(d,r||il(),a||null,c)}let yu=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ht;static#t=this.NULL=new th;static create(s,a){if(Array.isArray(s))return ll({name:""},a,s,"");{const c=s.name??"";return ll({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=bn({token:t,providedIn:"any",factory:()=>Mt(Wp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ch(t){return t.ngOriginalError}class Ou{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&ch(r);for(;s&&ch(s);)s=ch(s);return s||null}}function fg(t){return r=>{setTimeout(t,void 0,r)}}const vu=class hg extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const S=r;c=S.next?.bind(S),d=S.error?.bind(S),g=S.complete?.bind(S)}this.__isAsync&&(d=fg(d),c&&(c=fg(c)),g&&(g=fg(g)));const _=super.subscribe({next:c,error:d,complete:g});return r instanceof ue.w0&&r.add(_),_}};function dy(...t){}class Ks{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vu(!1),this.onMicrotaskEmpty=new vu(!1),this.onStable=new vu(!1),this.onError=new vu(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function hy(){const t="function"==typeof Zt.requestAnimationFrame;let r=Zt[t?"requestAnimationFrame":"setTimeout"],s=Zt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function o_(t){const r=()=>{!function s_(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gg(t),t.isCheckStableRunning=!0,pg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,_)=>{if(function a_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(_))return s.invokeTask(c,d,g,_);try{return Af(t),s.invokeTask(c,d,g,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Mf(t)}},onInvoke:(s,a,c,d,g,_,S)=>{try{return Af(t),s.invoke(c,d,g,_,S)}finally{t.shouldCoalesceRunChangeDetection&&r(),Mf(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,gg(t),pg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ks.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(Ks.isInAngularZone())throw new Ae(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,fy,dy,dy);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const fy={};function pg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Af(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mf(t){t._nesting--,pg(t)}class mg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vu,this.onMicrotaskEmpty=new vu,this.onStable=new vu,this.onError=new vu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const py=new Jt("",{providedIn:"root",factory:xf});function xf(){const t=Ot(Ks);let r=!0;return function je(...t){const r=(0,ae.yG)(t),s=(0,ae._6)(t,1/0),a=t;return a.length?1===a.length?(0,_e.Xf)(a[0]):(0,be.J)(s)((0,Ge.D)(a,r)):ne.E}(new K.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new K.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Ks.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Ks.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(Ee()))}function Xu(t){return t instanceof Function?t():t}let _g=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=bn({token:t,providedIn:"root",factory:()=>new t})}return t})();function hl(t){for(;t;){t[pn]|=64;const r=jd(t);if(De(t)&&!r)return t;t=r}return null}const fl=new Jt("",{providedIn:"root",factory:()=>!1});let dd=null;function Iy(t,r){return t[r]??wg()}function kf(t,r){const s=wg();s.producerNode?.length&&(t[r]=dd,s.lView=t,dd=Ff())}const d_={...Do,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hl(t.lView)},lView:null};function Ff(){return Object.create(d_)}function wg(){return dd??=Ff(),dd}const qn={};function Dg(t){wy(pr(),lt(),os()+t,!1)}function wy(t,r,s,a){if(!a)if(3==(3&r[pn])){const d=t.preOrderCheckHooks;null!==d&&cc(r,d,s)}else{const d=t.preOrderHooks;null!==d&&ha(r,d,0,s)}$a(s)}function hd(t,r=bt.Default){const s=lt();return null===s?Mt(t,r):kc(Me(),s,it(t),r)}function Lf(){throw new Error("invalid")}function fd(t,r,s,a,c,d,g,_,S,F,z){const re=r.blueprint.slice();return re[ur]=c,re[pn]=140|a,(null!==F||t&&2048&t[pn])&&(re[pn]|=2048),Xi(re),re[Wn]=re[Fs]=t,re[xr]=s,re[jr]=g||t&&t[jr],re[hn]=_||t&&t[hn],re[Yi]=S||t&&t[Yi]||null,re[Si]=d,re[vs]=function ee(){return $++}(),re[is]=z,re[Ea]=F,re[Sr]=2==r.type?t[Sr]:re,re}function Sc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function lh(t,r,s,a,c){const d=tu(),g=Qo(),S=t.data[r]=function Tg(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,_=0;return function ba(){return null!==Gt.skipHydrationRootTNode}()&&(_|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=S),null!==d&&(g?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S,S.prev=d)),S}(t,r,s,a,c),function v(){return Gt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Ji(){const t=Gt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ko(d,!0),d}function dh(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function hh(t,r,s,a,c){const d=Iy(r,Zr),g=os(),_=2&a;try{$a(-1),_&&r.length>Pn&&wy(t,r,Pn,!1),st(_?2:0,c);const F=_?d:null,z=qo(F);try{null!==F&&(F.dirty=!1),s(a,c)}finally{oo(F,z)}}finally{_&&null===r[Zr]&&kf(r,Zr),$a(g),st(_?3:1,c)}}function Cg(t,r,s){if(U(r)){const a=ls(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const _=t.data[g];_.contentQueries&&_.contentQueries(1,s[g],g)}}finally{ls(a)}}}function Vf(t,r,s){Ua()&&(function Ng(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;V(s)&&function I_(t,r,s){const a=hs(r,t),c=pl(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const _=gl(t,fd(t,c,null,g,a,r,null,t[jr].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=_}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||iu(s,r),Ki(a,r);const g=s.initialInputs;for(let _=c;_<d;_++){const S=t.data[_],F=ou(r,t,_,s);Ki(F,r),null!==g&&Ay(0,_-c,F,S,0,g),ce(S)&&(bo(s.index,r)[xr]=ou(r,t,_,s))}}(t,r,s,hs(s,r)),64==(64&s.flags)&&Ty(t,r,s))}function Uf(t,r,s=hs){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],_=-1===g?s(r,t):t[g];t[c++]=_}}}function pl(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Bf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Bf(t,r,s,a,c,d,g,_,S,F,z){const re=Pn+a,ve=re+c,xe=function jf(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:qn);return s}(re,ve),Je="function"==typeof F?F():F;return xe[At]={type:t,blueprint:xe,template:s,queries:null,viewQuery:_,declTNode:r,data:xe.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:Je,incompleteFirstPass:!1,ssrId:z}}let Dy=t=>null;function Hf(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Sg(s,r,c,d):a.hasOwnProperty(c)&&Sg(s,r,a[c],d)}return s}function Sg(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function Gf(t,r,s,a){if(Ua()){const c=null===a?null:{"":-1},d=function y_(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(xo(r,g.selectors,!1))if(a||(a=[]),ce(g))if(null!==g.findHostDirectiveDefs){const _=[];c=c||new Map,g.findHostDirectiveDefs(g,_,c),a.unshift(..._,g),Wf(t,r,_.length)}else a.unshift(g),Wf(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,_;null===d?g=_=null:[g,_]=d,null!==g&&zf(t,r,s,g,c,_),c&&function v_(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Ae(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=Ft(s.mergedAttrs,s.attrs)}function zf(t,r,s,a,c,d){for(let F=0;F<a.length;F++)ta(iu(s,r),t,a[F].type);!function __(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let F=0;F<a.length;F++){const z=a[F];z.providersResolver&&z.providersResolver(z)}let g=!1,_=!1,S=dh(t,r,a.length,null);for(let F=0;F<a.length;F++){const z=a[F];s.mergedAttrs=Ft(s.mergedAttrs,z.hostAttrs),E_(t,s,r,S,z),Sy(S,z,c),null!==z.contentQueries&&(s.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(s.flags|=64);const re=z.type.prototype;!g&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!_&&(re.ngOnChanges||re.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),_=!0),S++}!function Ag(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,_=[];let S=null,F=null;for(let z=r.directiveStart;z<c;z++){const re=d[z],ve=s?s.get(re):null,Je=ve?ve.outputs:null;S=Hf(re.inputs,z,S,ve?ve.inputs:null),F=Hf(re.outputs,z,F,Je);const yt=null===S||null===g||Ti(r)?null:w_(S,z,g);_.push(yt)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=8),S.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=_,r.inputs=S,r.outputs=F}(t,s,d)}function Ty(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function T(){return Gt.lFrame.currentDirectiveIndex}();try{$a(d);for(let _=a;_<c;_++){const S=t.data[_],F=r[_];P(_),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&m_(S,F)}}finally{$a(-1),P(g)}}function m_(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Wf(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Sy(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;ce(r)&&(s[""]=t)}}function E_(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=wo(c.type)),g=new nu(d,ce(c),hd);t.blueprint[a]=g,s[a]=g,function by(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const _=~r.index;(function pd(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=_&&g.push(_),g.push(s,a,d)}}(t,r,a,dh(t,s,c.hostVars,qn),c)}function ku(t,r,s,a,c,d){const g=hs(t,r);!function qf(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const _=null==g?qe(d):g(d,a||"",c);t.setAttribute(r,c,_,s)}}(r[hn],g,d,t.value,s,a,c)}function Ay(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let _=0;_<g.length;)Kf(a,s,g[_++],g[_++],g[_++])}function Kf(t,r,s,a,c){const d=ls(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{ls(d)}}function w_(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let _=0;_<g.length;_+=2)if(g[_]===r){a.push(d,g[_+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Og(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Pg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];Pe(s[a]),g.contentQueries(2,r[d],d)}}}function gl(t,r){return t[rs]?t[ks][ci]=r:t[rs]=r,t[ks]=r,r}function Ar(t,r,s){Pe(0);const a=ls(null);try{r(t,s)}finally{ls(a)}}function kg(t){return t[ni]||(t[ni]=[])}function gd(t){return t.cleanup||(t.cleanup=[])}function gs(t,r){const s=t[Yi],a=s?s.get(Ou,null):null;a&&a.handleError(r)}function Zs(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],_=s[d++];Kf(t.data[g],r[g],a,_,c)}}function mo(t,r,s){const a=Bu(r,t);!function jl(t,r,s){t.setValue(r,s)}(t[hn],a,s)}function C_(t,r){const s=bo(r,t),a=s[At];!function IE(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[ur];null!==c&&null===s[is]&&(s[is]=td(c,s[Yi])),Zf(a,s,s[xr])}function Zf(t,r,s){En(r);try{const a=t.viewQuery;null!==a&&Ar(1,a,s);const c=t.template;null!==c&&hh(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pg(t,r),t.staticViewQueries&&Ar(2,t.viewQuery,s);const d=t.components;null!==d&&function wE(t,r){for(let s=0;s<r.length;s++)C_(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[pn]&=-5,Uo()}}let Fg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function Or(t,r,s){const a=Object.create(xi);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>Fa(a),run:()=>{if(a.dirty=!1,a.hasRun&&!la(a))return;a.hasRun=!0;const g=qo(a);try{a.cleanupFn(),a.cleanupFn=$r,a.fn(c)}finally{oo(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,F=>{this.all.has(F)&&this.queue.set(F,d)},c);let _;this.all.add(g),g.notify();const S=()=>{g.cleanup(),_?.(),this.all.delete(g),this.queue.delete(g)};return _=a?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=bn({token:t,providedIn:"root",factory:()=>new t})}return t})();function md(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const _=r[g];"number"==typeof _?d=_:1==d?c=at(c,_):2==d&&(a=at(a,_+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function fh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(cr(d)),ri(d)&&T_(d,a);const g=s.type;if(8&g)fh(t,r,s.child,a);else if(32&g){const _=yc(s,r);let S;for(;S=_();)a.push(S)}else if(16&g){const _=Op(r,s);if(Array.isArray(_))a.push(..._);else{const S=jd(r[Sr]);fh(S[At],S,_,a,!0)}}s=c?s.projectionNext:s.next}return a}function T_(t,r){for(let s=li;s<t.length;s++){const a=t[s],c=a[At].firstChild;null!==c&&fh(a[At],a,c,r)}t[Yr]!==t[ur]&&r.push(t[Yr])}function bi(t,r,s,a=!0){const c=r[jr],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{As(t,r,t.template,s)}catch(S){throw a&&gs(r,S),S}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function As(t,r,s,a){const c=r[pn];if(256!=(256&c)){r[jr].effectManager?.flush(),En(r);try{Xi(r),function Nc(t){return Gt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&hh(t,r,s,2,a);const g=3==(3&c);if(g){const F=t.preOrderCheckHooks;null!==F&&cc(r,F,null)}else{const F=t.preOrderHooks;null!==F&&ha(r,F,0,null),Su(r,0)}if(function DE(t){for(let r=Tp(t);null!==r;r=Bl(r)){if(!r[_s])continue;const s=r[Hi];for(let a=0;a<s.length;a++){hi(s[a])}}}(r),Lg(r,2),null!==t.contentQueries&&Pg(t,r),g){const F=t.contentCheckHooks;null!==F&&cc(r,F)}else{const F=t.contentHooks;null!==F&&ha(r,F,1),Su(r,1)}!function h_(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Iy(r,Ls);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)$a(~d);else{const g=d,_=s[++c],S=s[++c];m(_,g),a.dirty=!1;const F=qo(a);try{S(2,r[g])}finally{oo(a,F)}}}}finally{null===r[Ls]&&kf(r,Ls),$a(-1)}}(t,r);const _=t.components;null!==_&&A_(r,_,0);const S=t.viewQuery;if(null!==S&&Ar(2,S,a),g){const F=t.viewCheckHooks;null!==F&&cc(r,F)}else{const F=t.viewHooks;null!==F&&ha(r,F,2),Su(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[pn]&=-73,jt(r)}finally{Uo()}}}function Lg(t,r){for(let s=Tp(t);null!==s;s=Bl(s))for(let a=li;a<s.length;a++)Vg(s[a],r)}function CE(t,r,s){Vg(bo(r,t),s)}function Vg(t,r){if(!function wu(t){return 128==(128&t[pn])}(t))return;const s=t[At],a=t[pn];if(80&a&&0===r||1024&a||2===r)As(s,t,s.template,t[xr]);else if(t[ro]>0){Lg(t,1);const c=s.components;null!==c&&A_(t,c,1)}}function A_(t,r,s){for(let a=0;a<r.length;a++)CE(t,r[a],s)}class Yf{get rootNodes(){const r=this._lView,s=r[At];return fh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xr]}set context(r){this._lView[xr]=r}get destroyed(){return 256==(256&this._lView[pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Wn];if(ri(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&($l(r,a),Uc(s,a))}this._attachedToViewContainer=!1}Gh(this._lView[At],this._lView)}onDestroy(r){!function yr(t,r){if(256==(256&t[pn]))throw new Ae(911,!1);null===t[cs]&&(t[cs]=[]),t[cs].push(r)}(this._lView,r)}markForCheck(){hl(this._cdRefInjectingView||this._lView)}detach(){this._lView[pn]&=-129}reattach(){this._lView[pn]|=128}detectChanges(){bi(this._lView[At],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tv(t,r){qd(t,r,r[hn],2,null,null)}(this._lView[At],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=r}}class bE extends Yf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;bi(r[At],r,r[xr],!1)}checkNoChanges(){}get context(){return null}}class M_ extends sd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=mn(r);return new yd(s,this.ngModule)}}function x_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class SE{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=wn(a);const c=this.injector.get(r,ug,a);return c!==ug||s===ug?c:this.parentInjector.get(r,s,a)}}class yd extends Ef{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=x_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return x_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function ms(t){return t.map(Js).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof gu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new SE(r,d):r,_=g.get(sy,null);if(null===_)throw new Ae(407,!1);const re={rendererFactory:_,sanitizer:g.get(ag,null),effectManager:g.get(Fg,null),afterRenderEventManager:g.get(_g,null)},ve=_.createRenderer(null,this.componentDef),xe=this.componentDef.selectors[0][0]||"div",Je=a?function f_(t,r,s,a){const d=a.get(fl,!1)||s===ui.ShadowDom,g=t.selectRootElement(r,d);return function p_(t){Dy(t)}(g),g}(ve,a,this.componentDef.encapsulation,g):Hd(ve,xe,function TE(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(xe)),fn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ht=null;null!==Je&&(ht=td(Je,g,!0));const Jn=Bf(0,null,null,1,0,null,null,null,null,null,null),br=fd(null,Jn,null,fn,null,null,re,ve,g,null,ht);let Oi,Xa;En(br);try{const wl=this.componentDef;let gp,pE=null;wl.findHostDirectiveDefs?(gp=[],pE=new Map,wl.findHostDirectiveDefs(wl,gp,pE),gp.push(wl)):gp=[wl];const rS=function R_(t,r){const s=t[At],a=Pn;return t[a]=r,Sc(s,a,2,"#host",null)}(br,Je),iS=function ml(t,r,s,a,c,d,g){const _=c[At];!function vd(t,r,s,a){for(const c of t)r.mergedAttrs=Ft(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(md(r,r.mergedAttrs,!0),null!==s&&Fp(a,s,r))}(a,t,r,g);let S=null;null!==r&&(S=td(r,c[Yi]));const F=d.rendererFactory.createRenderer(r,s);let z=16;s.signals?z=4096:s.onPush&&(z=64);const re=fd(c,pl(s),null,z,c[t.index],t,d,F,null,null,S);return _.firstCreatePass&&Wf(_,t,a.length-1),gl(c,re),c[t.index]=re}(rS,Je,wl,gp,br,re,ve);Xa=ju(Jn,Pn),Je&&function Ug(t,r,s,a){if(a)Te(t,s,["ng-version",Df.full]);else{const{attrs:c,classes:d}=function ys(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!ar(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Te(t,s,c),d&&d.length>0&&Vm(t,s,d.join(" "))}}(ve,wl,Je,a),void 0!==s&&function Bg(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Xa,this.ngContentSelectors,s),Oi=function AE(t,r,s,a,c,d){const g=Me(),_=c[At],S=hs(g,c);zf(_,c,g,s,null,a);for(let z=0;z<s.length;z++)Ki(ou(c,_,g.directiveStart+z,g),c);Ty(_,c,g),S&&Ki(S,c);const F=ou(c,_,g.directiveStart+g.componentOffset,g);if(t[xr]=c[xr]=F,null!==d)for(const z of d)z(F,r);return Cg(_,g,t),F}(iS,wl,gp,pE,br,[N_]),Zf(Jn,br,null)}finally{Uo()}return new ph(this.componentType,Oi,od(Xa,br),br,Xa)}}class ph extends Xv{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new bE(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Zs(d[At],d,c,r,s),this.previousInputValues.set(r,s),hl(bo(this._tNode.index,d))}}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function N_(){const t=Me();Ci(lt()[At],t)}function Qf(t){let r=function xy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(ce(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ae(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=yl(t.inputs),g.inputTransforms=yl(t.inputTransforms),g.declaredInputs=yl(t.declaredInputs),g.outputs=yl(t.outputs);const _=c.hostBindings;_&&jg(t,_);const S=c.viewQuery,F=c.contentQueries;if(S&&O_(t,S),F&&_d(t,F),ot(t.inputs,c.inputs),ot(t.declaredInputs,c.declaredInputs),ot(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),ot(g.inputTransforms,c.inputTransforms)),ce(c)&&c.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const _=d[g];_&&_.ngInherit&&_(t),_===Qf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Ry(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Ft(c.hostAttrs,s=Ft(s,c.hostAttrs))}}(a)}function yl(t){return t===Ii?{}:t===On?[]:t}function O_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function _d(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function jg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Ac(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function mh(t){return!!zg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function zg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function yo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function vh(t,r,s,a){const c=lt();return yo(c,Li(),r)&&(pr(),ku(Ri(),c,t,r,s,a)),vh}function Fu(t,r,s,a,c,d){const _=function vl(t,r,s,a){const c=yo(t,r,s);return yo(t,r+1,a)||c}(t,function Lo(){return Gt.lFrame.bindingIndex}(),s,c);return ho(2),_?r+qe(s)+a+qe(c)+d:qn}function $y(t,r,s,a,c,d,g,_){const S=lt(),F=pr(),z=t+Pn,re=F.firstCreatePass?function BE(t,r,s,a,c,d,g,_,S){const F=r.consts,z=Sc(r,t,4,g||null,Vs(F,_));Gf(r,s,z,Vs(F,S)),Ci(r,z);const re=z.tView=Bf(2,z,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,F,null);return null!==r.queries&&(r.queries.template(r,z),re.queries=r.queries.embeddedTView(z)),z}(z,F,S,r,s,a,c,d,g):F.data[z];ko(re,!1);const ve=Hy(F,S,re,t);Tu()&&Nu(F,S,ve,re),Ki(ve,S),gl(S,S[z]=Og(ve,S,ve,re)),te(re)&&Vf(F,S,re),null!=g&&Uf(S,re,_)}let Hy=function Gy(t,r,s,a){return Bo(!0),r[hn].createComment("")};function K_(t){return function Zo(t,r){return t[r]}(function Ba(){return Gt.lFrame.contextLView}(),Pn+t)}function zy(t,r,s){const a=lt();return yo(a,Li(),r)&&function $o(t,r,s,a,c,d,g,_){const S=hs(r,s);let z,F=r.inputs;!_&&null!=F&&(z=F[a])?(Zs(t,s,z,a,c),V(r)&&function xg(t,r){const s=bo(r,t);16&s[pn]||(s[pn]|=64)}(s,r.index)):3&r.type&&(a=function Mg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(S,a,c))}(pr(),Ri(),a,t,r,a[hn],s,!1),zy}function Wy(t,r,s,a,c){const g=c?"class":"style";Zs(t,s,r.inputs[g],g,a)}function rp(t,r,s,a){const c=lt(),d=pr(),g=Pn+t,_=c[hn],S=d.firstCreatePass?function Z_(t,r,s,a,c,d){const g=r.consts,S=Sc(r,t,2,a,Vs(g,c));return Gf(r,s,S,Vs(g,d)),null!==S.attrs&&md(S,S.attrs,!1),null!==S.mergedAttrs&&md(S,S.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,S),S}(g,d,c,r,s,a):d.data[g],F=Ky(d,c,S,_,r,t);c[g]=F;const z=te(S);return ko(S,!0),Fp(_,F,S),32!=(32&S.flags)&&Tu()&&Nu(d,c,F,S),0===function Ca(){return Gt.lFrame.elementDepthCount}()&&Ki(F,c),function Yo(){Gt.lFrame.elementDepthCount++}(),z&&(Vf(d,c,S),Cg(d,S,c)),null!==a&&Uf(c,S),rp}function ip(){let t=Me();Qo()?Fo():(t=t.parent,ko(t,!1));const r=t;(function Ta(t){return Gt.skipHydrationRootTNode===t})(r)&&function uc(){Gt.skipHydrationRootTNode=null}(),function sc(){Gt.lFrame.elementDepthCount--}();const s=pr();return s.firstCreatePass&&(Ci(s,t),U(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ps(t){return 0!=(8&t.flags)}(r)&&Wy(s,r,lt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function bl(t){return 0!=(16&t.flags)}(r)&&Wy(s,r,lt(),r.stylesWithoutHost,!1),ip}function qy(t,r,s,a){return rp(t,r,s,a),ip(),qy}let Ky=(t,r,s,a,c,d)=>(Bo(!0),Hd(a,c,function bu(){return Gt.lFrame.currentNamespace}()));function Yg(t,r,s){const a=lt(),c=pr(),d=t+Pn,g=c.firstCreatePass?function Q_(t,r,s,a,c){const d=r.consts,g=Vs(d,a),_=Sc(r,t,8,"ng-container",g);return null!==g&&md(_,g,!0),Gf(r,s,_,Vs(d,c)),null!==r.queries&&r.queries.elementStart(r,_),_}(d,c,a,r,s):c.data[d];ko(g,!0);const _=J_(c,a,g,t);return a[d]=_,Tu()&&Nu(c,a,_,g),Ki(_,a),te(g)&&(Vf(c,a,g),Cg(c,g,a)),null!=s&&Uf(a,g),Yg}function Qg(){let t=Me();const r=pr();return Qo()?Fo():(t=t.parent,ko(t,!1)),r.firstCreatePass&&(Ci(r,t),U(t)&&r.queries.elementEnd(t)),Qg}let J_=(t,r,s,a)=>(Bo(!0),Hh(r[hn],""));function e0(){return lt()}function Zy(t){return!!t&&"function"==typeof t.then}function Xg(t){return!!t&&"function"==typeof t.subscribe}function Jg(t,r,s,a){const c=lt(),d=pr(),g=Me();return function op(t,r,s,a,c,d,g){const _=te(a),F=t.firstCreatePass&&gd(t),z=r[xr],re=kg(r);let ve=!0;if(3&a.type||g){const yt=hs(a,r),kt=g?g(yt):yt,fn=re.length,ht=g?br=>g(cr(br[a.index])):a.index;let Jn=null;if(!g&&_&&(Jn=function t0(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const _=r[ni],S=c[d+2];return _.length>S?_[S]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=d,Jn.__ngLastListenerFn__=d,ve=!1;else{d=n0(a,r,z,d,!1);const br=s.listen(kt,c,d);re.push(d,br),F&&F.push(c,ht,fn,fn+1)}}else d=n0(a,r,z,d,!1);const xe=a.outputs;let Je;if(ve&&null!==xe&&(Je=xe[c])){const yt=Je.length;if(yt)for(let kt=0;kt<yt;kt+=2){const Oi=r[Je[kt]][Je[kt+1]].subscribe(d),Xa=re.length;re.push(d,Oi),F&&F.push(c,a.index,Xa,-(Xa+1))}}}(d,c,c[hn],g,t,r,a),Jg}function Yy(t,r,s,a){try{return st(6,r,s),!1!==s(a)}catch(c){return gs(t,c),!1}finally{st(7,r,s)}}function n0(t,r,s,a,c){return function d(g){if(g===Function)return a;hl(t.componentOffset>-1?bo(t.index,r):r);let S=Yy(r,s,a,g),F=d.__ngNextListenerFn__;for(;F;)S=Yy(r,s,F,g)&&S,F=F.__ngNextListenerFn__;return c&&!1===S&&g.preventDefault(),S}}function tm(t=1){return function Cu(t){return(Gt.lFrame.contextLView=function Ds(t,r){for(;t>0;)r=r[Fs],t--;return r}(t,Gt.lFrame.contextLView))[xr]}(t)}function El(t,r){return t<<17|r<<2}function tc(t){return t>>17&32767}function Th(t){return 2|t}function Il(t){return(131068&t)>>2}function om(t,r){return-131069&t|r<<2}function am(t){return 1|t}function c0(t,r,s,a,c){const d=t[s+1],g=null===r;let _=a?tc(d):Il(d),S=!1;for(;0!==_&&(!1===S||g);){const z=t[_+1];ZE(t[_],r)&&(S=!0,t[_+1]=a?am(z):Th(z)),_=a?tc(z):Il(z)}S&&(t[s+1]=a?Th(d):am(d))}function ZE(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&du(t,r)>=0}function rv(t,r){return function Vu(t,r,s,a){const c=lt(),d=pr(),g=ho(2);d.firstUpdatePass&&function v0(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[os()],g=function y0(t,r){return r>=t.expandoStartIndex}(t,s);(function C0(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function rI(t,r,s,a){const c=function G(t){const r=Gt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=up(s=iv(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=iv(c,t,r,s,a),null===d){let S=function iI(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Il(a))return t[tc(a)]}(t,r,a);void 0!==S&&Array.isArray(S)&&(S=iv(null,t,r,S[1],a),S=up(S,r.attrs,a),function sI(t,r,s,a){t[tc(s?r.classBindings:r.styleBindings)]=a}(t,r,a,S))}else d=function _0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=up(a,t[d].hostAttrs,s);return up(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function qE(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,_=tc(g),S=Il(g);t[a]=s;let z,F=!1;if(Array.isArray(s)?(z=s[1],(null===z||du(s,z)>0)&&(F=!0)):z=s,c)if(0!==S){const ve=tc(t[_+1]);t[a+1]=El(ve,_),0!==ve&&(t[ve+1]=om(t[ve+1],a)),t[_+1]=function GE(t,r){return 131071&t|r<<17}(t[_+1],a)}else t[a+1]=El(_,0),0!==_&&(t[_+1]=om(t[_+1],a)),_=a;else t[a+1]=El(S,0),0===_?_=a:t[S+1]=om(t[S+1],a),S=a;F&&(t[a+1]=Th(t[a+1])),c0(t,z,a,!0),c0(t,z,a,!1),function KE(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&du(d,r)>=0&&(s[a+1]=am(s[a+1]))}(r,z,t,a,d),g=El(_,S),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==qn&&yo(c,g,r)&&function I0(t,r,s,a,c,d,g,_){if(!(3&r.type))return;const S=t.data,F=S[_+1],z=function u0(t){return 1==(1&t)}(F)?w0(S,r,s,c,Il(F),g):void 0;um(z)||(um(d)||function a0(t){return 2==(2&t)}(F)&&(d=w0(S,null,s,c,_,g)),function Kd(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Kc.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Kc.Important),t.setStyle(s,a,c,d))}}(a,g,Bu(os(),s),c,d))}(d,d.data[os()],c,c[hn],t,c[g+1]=function D0(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ye(Ku(t)))),t}(r,s),a,g)}(t,r,null,!0),rv}function iv(t,r,s,a,c){let d=null;const g=s.directiveEnd;let _=s.directiveStylingLast;for(-1===_?_=s.directiveStart:_++;_<g&&(d=r[_],a=up(a,d.hostAttrs,c),d!==t);)_++;return null!==t&&(s.directiveStylingLast=_),a}function up(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fo(t,g,!!s||r[++d]))}return void 0===t?null:t}function w0(t,r,s,a,c,d){const g=null===r;let _;for(;c>0;){const S=t[c],F=Array.isArray(S),z=F?S[1]:S,re=null===z;let ve=s[c+1];ve===qn&&(ve=re?On:void 0);let xe=re?lu(ve,a):z===a?ve:void 0;if(F&&!um(xe)&&(xe=lu(S,a)),um(xe)&&(_=xe,g))return _;const Je=t[c+1];c=g?tc(Je):Il(Je)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(_=lu(S,a))}return _}function um(t){return void 0!==t}function b0(t,r=""){const s=lt(),a=pr(),c=t+Pn,d=a.firstCreatePass?Sc(a,c,1,r,null):a.data[c],g=T0(a,s,d,r,t);s[c]=g,Tu()&&Nu(a,s,g,d),ko(d,!1)}let T0=(t,r,s,a,c)=>(Bo(!0),function $d(t,r){return t.createText(r)}(r[hn],a));function sv(t){return cm("",t,""),sv}function cm(t,r,s){const a=lt(),c=function wd(t,r,s,a){return yo(t,Li(),s)?r+qe(s)+a:qn}(a,t,r,s);return c!==qn&&mo(a,os(),c),cm}function ov(t,r,s,a,c){const d=lt(),g=Fu(d,t,r,s,a,c);return g!==qn&&mo(d,os(),g),ov}const Ah=void 0;var SD=["en",[["a","p"],["AM","PM"],Ah],[["AM","PM"],Ah,Ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ah,"{1} 'at' {0}",Ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let cp={};function N0(t){const r=function AD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=gI(r);if(s)return s;const a=r.split("-")[0];if(s=gI(a),s)return s;if("en"===a)return SD;throw new Ae(701,!1)}function pI(t){return N0(t)[lp.PluralCase]}function gI(t){return t in cp||(cp[t]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[t]),cp[t]}var lp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(lp||{});const dp="en-US";let mI=dp;function k0(t,r,s,a,c){if(t=it(t),Array.isArray(t))for(let d=0;d<t.length;d++)k0(t[d],r,s,a,c);else{const d=pr(),g=lt(),_=Me();let S=rl(t)?t:it(t.provide);const F=Zm(t),z=1048575&_.providerIndexes,re=_.directiveStart,ve=_.providerIndexes>>20;if(rl(t)||!t.multi){const xe=new nu(F,c,hd),Je=L0(S,r,c?z:z+ve,re);-1===Je?(ta(iu(_,g),d,S),F0(d,t,r.length),r.push(S),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),s.push(xe),g.push(xe)):(s[Je]=xe,g[Je]=xe)}else{const xe=L0(S,r,z+ve,re),Je=L0(S,r,z,z+ve),kt=Je>=0&&s[Je];if(c&&!kt||!c&&!(xe>=0&&s[xe])){ta(iu(_,g),d,S);const fn=function TC(t,r,s,a,c){const d=new nu(t,s,hd);return d.multi=[],d.index=r,d.componentProviders=0,jI(d,c,a&&!s),d}(c?bC:CC,s.length,c,a,F);!c&&kt&&(s[Je].providerFactory=fn),F0(d,t,r.length,0),r.push(S),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),s.push(fn),g.push(fn)}else F0(d,t,xe>-1?xe:Je,jI(s[c?Je:xe],F,!c&&a));!c&&a&&kt&&s[Je].componentProviders++}}}function F0(t,r,s,a){const c=rl(r),d=function Km(t){return!!t.useClass}(r);if(c||d){const S=(d?it(r.useClass):r).prototype.ngOnDestroy;if(S){const F=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const z=F.indexOf(s);-1===z?F.push(s,[a,S]):F[z+1].push(a,S)}else F.push(s,S)}}}function jI(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function L0(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function CC(t,r,s,a){return V0(this.multi,[])}function bC(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=ou(s,s[At],this.providerFactory.index,a);d=_.slice(0,g),V0(c,d);for(let S=g;S<_.length;S++)d.push(_[S])}else d=[],V0(c,d);return d}function V0(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function $I(t,r=[]){return s=>{s.providersResolver=(a,c)=>function DC(t,r,s){const a=pr();if(a.firstCreatePass){const c=ce(t);k0(s,a.data,a.blueprint,c,!0),k0(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Mh{}class HI{}function SC(t,r){return new U0(t,r??null,[])}class U0 extends Mh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new M_(this);const c=kr(r);this._bootstrapComponents=Xu(c.bootstrap),this._r3Injector=uy(r,s,[{provide:Mh,useValue:this},{provide:sd,useValue:this.componentFactoryResolver},...a],Ye(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class B0 extends HI{constructor(r){super(),this.moduleType=r}create(r){return new U0(this.moduleType,r,[])}}class GI extends Mh{constructor(r){super(),this.componentFactoryResolver=new M_(this),this.instance=null;const s=new sl([...r.providers,{provide:Mh,useValue:this},{provide:sd,useValue:this.componentFactoryResolver}],r.parent||il(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function zI(t,r,s=null){return new GI({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let MC=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=cf(0,s.type),c=a.length>0?zI([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=bn({token:t,providedIn:"environment",factory:()=>new t(Mt(gu))})}return t})();function WI(t){t.getStandaloneInjector=r=>r.get(MC).getOrCreateStandaloneInjector(t)}function tb(){return this._results[Symbol.iterator]()}class $0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new vu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=$0.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=tb)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Ws(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function xu(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function rb(t,r,s,a=!0){const c=r[At];if(function Sp(t,r,s,a){const c=li+a,d=s.length;a>0&&(s[c-1][ci]=r),a<d-li?(r[ci]=s[c],Vc(s,li+a,r)):(s.push(r),r[ci]=null),r[Wn]=s;const g=r[Hs];null!==g&&s!==g&&function Sv(t,r){const s=t[Hi];r[Sr]!==r[Wn][Wn][Sr]&&(t[_s]=!0),null===s?t[Hi]=[r]:s.push(r)}(g,r);const _=r[ki];null!==_&&_.insertView(t),r[pn]|=128}(c,r,t,s),a){const d=Wd(s,t),g=r[hn],_=Za(g,t[Yr]);null!==_&&function bv(t,r,s,a,c,d){a[ur]=c,a[Si]=r,qd(t,a,s,1,c,d)}(c,t[Si],g,r,_,d)}}let vm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ob}return t})();const ib=vm,sb=class extends ib{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function nb(t,r,s,a){const c=r.tView,_=fd(t,c,s,4096&t[pn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);_[Hs]=t[r.index];const F=t[ki];return null!==F&&(_[ki]=F.createEmbeddedView(c)),Zf(c,_,s),_}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Yf(c)}};function ob(){return fv(Me(),lt())}function fv(t,r){return 4&t.type?new sb(r,t,od(t,r)):null}let gv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hb}return t})();function hb(){return lw(Me(),lt())}const fb=gv,uw=class extends fb{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){const r=Sa(this._hostTNode,this._hostLView);if(Xo(r)){const s=Jo(r,this._hostLView),a=fa(r);return new lr(s[At].data[a+8],s)}return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=cw(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-li}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const _=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(_,c,false),_}createComponent(r,s,a,c,d){const g=r&&!function Ka(t){return"function"==typeof t}(r);let _;if(g)_=s;else{const yt=s||{};_=yt.index,a=yt.injector,c=yt.projectableNodes,d=yt.environmentInjector||yt.ngModuleRef}const S=g?r:new yd(mn(r)),F=a||this.parentInjector;if(!d&&null==S.ngModule){const kt=(g?F:this.parentInjector).get(gu,null);kt&&(d=kt)}mn(S.componentType??{});const xe=S.create(F,c,null,d);return this.insertImpl(xe.hostView,_,false),xe}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function qt(t){return ri(t[Wn])}(c)){const S=this.indexOf(r);if(-1!==S)this.detach(S);else{const F=c[Wn],z=new uw(F,F[Si],F[Wn]);z.detach(z.indexOf(r))}}const g=this._adjustIndex(s),_=this._lContainer;return rb(_,c,g,!a),r.attachToViewContainerRef(),Vc(H0(_),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=cw(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=$l(this._lContainer,s);a&&(Uc(H0(this._lContainer),s),Gh(a[At],a))}detach(r){const s=this._adjustIndex(r,-1),a=$l(this._lContainer,s);return a&&null!=Uc(H0(this._lContainer),s)?new Yf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function cw(t){return t[8]}function H0(t){return t[8]||(t[8]=[])}function lw(t,r){let s;const a=r[t.index];return ri(a)?s=a:(s=Og(a,r,null,t),r[t.index]=s,gl(r,s)),dw(s,r,t,a),new uw(s,t,r)}let dw=function hw(t,r,s,a){if(t[Yr])return;let c;c=8&s.type?cr(a):function pb(t,r){const s=t[hn],a=s.createComment(""),c=hs(r,t);return _a(s,Za(s,c),a,function km(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Yr]=c};class G0{constructor(r){this.queryList=r,this.matches=null}clone(){return new G0(this.queryList)}setDirty(){this.queryList.setDirty()}}class z0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new z0(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Iw(r,s).matches&&this.queries[s].setDirty()}}class fw{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class W0{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new W0(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class q0{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new q0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,yb(s,d)),this.matchTNodeWithReadOption(r,s,Aa(s,r,d,!1,!1))}else a===vm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Aa(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===ad||c===gv||c===vm&&4&s.type)this.addMatch(s.index,-2);else{const d=Aa(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function yb(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function _b(t,r,s,a){return-1===s?function vb(t,r){return 11&t.type?od(t,r):4&t.type?fv(t,r):null}(r,t):-2===s?function Eb(t,r,s){return s===ad?od(r,t):s===vm?fv(r,t):s===gv?lw(r,t):void 0}(t,r,a):ou(t,t[At],s,r)}function pw(t,r,s,a){const c=r[ki].queries[a];if(null===c.matches){const d=t.data,g=s.matches,_=[];for(let S=0;S<g.length;S+=2){const F=g[S];_.push(F<0?null:_b(r,d[F],g[S+1],s.metadata.read))}c.matches=_}return c.matches}function K0(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=pw(t,r,c,s);for(let _=0;_<d.length;_+=2){const S=d[_];if(S>0)a.push(g[_/2]);else{const F=d[_+1],z=r[-S];for(let re=li;re<z.length;re++){const ve=z[re];ve[Hs]===ve[Wn]&&K0(ve[At],ve,F,a)}if(null!==z[Hi]){const re=z[Hi];for(let ve=0;ve<re.length;ve++){const xe=re[ve];K0(xe[At],xe,F,a)}}}}}return a}function gw(t){const r=lt(),s=pr(),a=ie();Pe(a+1);const c=Iw(s,a);if(t.dirty&&function Wi(t){return 4==(4&t[pn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?K0(s,r,a,[]):pw(s,r,c,a);t.reset(d,iy),t.notifyOnChanges()}return!0}return!1}function mw(t,r,s){const a=pr();a.firstCreatePass&&(Ew(a,new fw(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),_w(a,lt(),r)}function yw(t,r,s,a){const c=pr();if(c.firstCreatePass){const d=Me();Ew(c,new fw(r,s,a),d.index),function wb(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}_w(c,lt(),s)}function vw(){return function Ib(t,r){return t[ki].queries[r].queryList}(lt(),ie())}function _w(t,r,s){const a=new $0(4==(4&s));(function bg(t,r,s,a){const c=kg(r);c.push(s),t.firstCreatePass&&gd(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[ki]&&(r[ki]=new z0),r[ki].queries.push(new G0(a))}function Ew(t,r,s){null===t.queries&&(t.queries=new W0),t.queries.track(new q0(r,s))}function Iw(t,r){return t.queries.getByIndex(r)}function ww(t,r){return fv(t,r)}function Z0(t){return!!kr(t)}const Uw=new Jt("Application Initializer");let eE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Ot(Uw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(Zy(d))s.push(d);else if(Xg(d)){const g=new Promise((_,S)=>{d.subscribe({complete:_,error:S})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const yv=new Jt("LocaleId",{providedIn:"root",factory:()=>Ot(yv,bt.Optional|bt.SkipSelf)||function Hb(){return typeof $localize<"u"&&$localize.locale||dp}()}),Gb=new Jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let jw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Wb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let qb=(()=>{class t{compileModuleSync(s){return new B0(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Xu(kr(s).declarations).reduce((g,_)=>{const S=mn(_);return S&&g.push(new yd(S)),g},[]);return new Wb(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zw=new Jt(""),Ww=new Jt("");let rE,gT=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rE||(function mT(t){rE=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ks.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Mt(Ks),Mt(qw),Mt(Ww))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})(),qw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return rE?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),bd=null;const Kw=new Jt("AllowMultipleToken"),iE=new Jt("PlatformDestroyListeners"),sE=new Jt("appBootstrapListener");class _T{constructor(r,s){this.name=r,this.token=s}}function Qw(t,r,s=[]){const a=`Platform: ${r}`,c=new Jt(a);return(d=[])=>{let g=oE();if(!g||g.injector.get(Kw,!1)){const _=[...s,...d,{provide:c,useValue:!0}];t?t(_):function ET(t){if(bd&&!bd.get(Kw,!1))throw new Ae(400,!1);(function Zw(){!function tt(t){oe=t}(()=>{throw new Ae(600,!1)})})(),bd=t;const r=t.get(Jw);(function Yw(t){t.get(pf,null)?.forEach(s=>s())})(t)}(function Xw(t=[],r){return yu.create({name:r,providers:[{provide:Kp,useValue:"platform"},{provide:iE,useValue:new Set([()=>bd=null])},...t]})}(_,a))}return function wT(t){const r=oE();if(!r)throw new Ae(401,!1);return r}()}}function oE(){return bd?.get(Jw)??null}let Jw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function DT(t="zone.js",r){return"noop"===t?new mg:"zone.js"===t?new Ks(r):t}(a?.ngZone,function eD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function AC(t,r,s){return new U0(t,r,s)}(s.moduleType,this.injector,function sD(t){return[{provide:Ks,useFactory:t},{provide:eh,multi:!0,useFactory:()=>{const r=Ot(bT,{optional:!0});return()=>r.initialize()}},{provide:iD,useFactory:CT},{provide:py,useFactory:xf}]}(()=>c)),g=d.injector.get(Ou,null);return c.runOutsideAngular(()=>{const _=c.onError.subscribe({next:S=>{g.handleError(S)}});d.onDestroy(()=>{_v(this._modules,d),_.unsubscribe()})}),function tD(t,r,s){try{const a=s();return Zy(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const _=d.injector.get(eE);return _.runInitializers(),_.donePromise.then(()=>(function yI(t){Tn(t,"Expected localeId to be defined"),"string"==typeof t&&(mI=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(yv,dp)||dp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=nD({},a);return function yT(t,r,s){const a=new B0(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(pp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Ae(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(iE,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Mt(yu))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function nD(t,r){return Array.isArray(r)?r.reduce(nD,t):{...t,...r}}let pp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ot(iD),this.zoneIsStable=Ot(py),this.componentTypes=[],this.components=[],this.isStable=Ot(jw).hasPendingTasks.pipe((0,nt.w)(s=>s?(0,le.of)(!1):this.zoneIsStable),function Fn(t,r=Ct.y){return t=t??jn,(0,ze.e)((s,a)=>{let c,d=!0;s.subscribe((0,Kt.x)(a,g=>{const _=r(g);(d||!t(c,_))&&(d=!1,c=_,a.next(g))}))})}(),Ee()),this._injector=Ot(gu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Ef;if(!this._injector.get(eE).done)throw!c&&ns(s),new Ae(405,!1);let g;g=c?s:this._injector.get(sd).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const _=function vT(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Mh),F=g.create(yu.NULL,[],a||g.selector,_),z=F.location.nativeElement,re=F.injector.get(zw,null);return re?.registerApplication(z),F.onDestroy(()=>{this.detachView(F.hostView),_v(this.components,F),re?.unregisterApplication(z)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;_v(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(sE,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>_v(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ae(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _v(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const iD=new Jt("",{providedIn:"root",factory:()=>Ot(Ou).handleError.bind(void 0)});function CT(){const t=Ot(Ks),r=Ot(Ou);return s=>t.runOutsideAngular(()=>r.handleError(s))}let bT=(()=>{class t{constructor(){this.zone=Ot(Ks),this.applicationRef=Ot(pp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let ST=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=AT}return t})();function AT(t){return function MT(t,r,s){if(V(t)&&!s){const a=bo(t.index,r);return new Yf(a,a)}return 47&t.type?new Yf(r[Sr],r):null}(Me(),lt(),16==(16&t))}class cD{constructor(){}supports(r){return mh(r)}create(r){return new kT(r)}}const PT=(t,r)=>r;class kT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||PT}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<dD(a,c,d)?s:a,_=dD(g,c,d),S=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const F=_-c,z=S-c;if(F!=z){for(let ve=0;ve<F;ve++){const xe=ve<d.length?d[ve]:d[ve]=0,Je=xe+ve;z<=Je&&Je<F&&(d[ve]=xe+1)}d[g.previousIndex]=z-F}}_!==S&&r(g,_,S)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!mh(r))throw new Ae(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let _=0;_<this.length;_++)d=r[_],g=this._trackByFn(_,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,_)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,_),a=!0),s=s._next}else c=0,function yh(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,_=>{g=this._trackByFn(c,_),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,_,g,c)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new FT(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new lD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class FT{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class lD{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new LT,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dD(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class hD{constructor(){}supports(r){return r instanceof Map||zg(r)}create(){return new VT}}class VT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||zg(r)))throw new Ae(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new UT(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class UT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fD(){return new dE([new cD])}let dE=(()=>{class t{static#e=this.\u0275prov=bn({token:t,providedIn:"root",factory:fD});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||fD()),deps:[[t,new po,new xa]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Ae(901,!1)}}return t})();function pD(){return new hE([new hD])}let hE=(()=>{class t{static#e=this.\u0275prov=bn({token:t,providedIn:"root",factory:pD});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||pD()),deps:[[t,new po,new xa]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Ae(901,!1)}}return t})();const $T=Qw(null,"core",[]);let HT=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(Mt(pp))};static#t=this.\u0275mod=no({type:t});static#n=this.\u0275inj=gn({})}return t})();function eS(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function nS(t){const r=mn(t);if(!r)return null;const s=new yd(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},95:(an,Xe,W)=>{W.d(Xe,{Wl:()=>Ct,Fj:()=>We,CE:()=>kr,qu:()=>ri,NI:()=>Ft,u:()=>Os,cw:()=>Ht,sg:()=>mn,x0:()=>cn,u5:()=>ce,Fd:()=>ks,qQ:()=>Sr,JJ:()=>gn,JL:()=>dn,F:()=>Te,On:()=>Xs,YN:()=>pn,wV:()=>Js,UX:()=>De,EJ:()=>At,kI:()=>it,_Y:()=>ts,Kr:()=>xr});var y=W(4946),ue=W(6814),K=W(2459),be=W(5592),_e=W(7453),ne=W(4829),ae=W(4564),Ge=W(8251),je=W(7400),fe=W(2714),ke=W(7398);let ze=(()=>{class x{constructor(A,j){this._renderer=A,this._elementRef=j,this.onChange=se=>{},this.onTouched=()=>{}}setProperty(A,j){this._renderer.setProperty(this._elementRef.nativeElement,A,j)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(y.Qsj),y.Y36(y.SBq))};static#t=this.\u0275dir=y.lG2({type:x})}return x})(),Ee=(()=>{class x extends ze{static#e=this.\u0275fac=function(){let A;return function(se){return(A||(A=y.n5z(x)))(se||x)}}();static#t=this.\u0275dir=y.lG2({type:x,features:[y.qOj]})}return x})();const vt=new y.OlP("NgValueAccessor"),nt={provide:vt,useExisting:(0,y.Gpc)(()=>Ct),multi:!0};let Ct=(()=>{class x extends Ee{writeValue(A){this.setProperty("checked",A)}static#e=this.\u0275fac=function(){let A;return function(se){return(A||(A=y.n5z(x)))(se||x)}}();static#t=this.\u0275dir=y.lG2({type:x,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(j,se){1&j&&y.NdJ("change",function(Lt){return se.onChange(Lt.target.checked)})("blur",function(){return se.onTouched()})},features:[y._Bn([nt]),y.qOj]})}return x})();const Kt={provide:vt,useExisting:(0,y.Gpc)(()=>We),multi:!0},jn=new y.OlP("CompositionEventMode");let We=(()=>{class x extends ze{constructor(A,j,se){super(A,j),this._compositionMode=se,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fn(){const x=(0,ue.q)()?(0,ue.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(jn,8))};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(j,se){1&j&&y.NdJ("input",function(Lt){return se._handleInput(Lt.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(Lt){return se._compositionEnd(Lt.target.value)})},features:[y._Bn([Kt]),y.qOj]})}return x})();function ot(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}function Ye(x){return null!=x&&"number"==typeof x.length}const at=new y.OlP("NgValidators"),mt=new y.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class it{static min(O){return vn(O)}static max(O){return Mn(O)}static required(O){return function Tr(x){return ot(x.value)?{required:!0}:null}(O)}static requiredTrue(O){return function dt(x){return!0===x.value?null:{required:!0}}(O)}static email(O){return function Ae(x){return ot(x.value)||rt.test(x.value)?null:{email:!0}}(O)}static minLength(O){return function ln(x){return O=>ot(O.value)||!Ye(O.value)?null:O.value.length<x?{minlength:{requiredLength:x,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function qe(x){return O=>Ye(O.value)&&O.value.length>x?{maxlength:{requiredLength:x,actualLength:O.value.length}}:null}(O)}static pattern(O){return function Et(x){if(!x)return ye;let O,A;return"string"==typeof x?(A="","^"!==x.charAt(0)&&(A+="^"),A+=x,"$"!==x.charAt(x.length-1)&&(A+="$"),O=new RegExp(A)):(A=x.toString(),O=x),j=>{if(ot(j.value))return null;const se=j.value;return O.test(se)?null:{pattern:{requiredPattern:A,actualValue:se}}}}(O)}static nullValidator(O){return null}static compose(O){return _n(O)}static composeAsync(O){return _t(O)}}function vn(x){return O=>{if(ot(O.value)||ot(x))return null;const A=parseFloat(O.value);return!isNaN(A)&&A<x?{min:{min:x,actual:O.value}}:null}}function Mn(x){return O=>{if(ot(O.value)||ot(x))return null;const A=parseFloat(O.value);return!isNaN(A)&&A>x?{max:{max:x,actual:O.value}}:null}}function ye(x){return null}function Fe(x){return null!=x}function Be(x){return(0,y.QGY)(x)?(0,K.D)(x):x}function Re(x){let O={};return x.forEach(A=>{O=null!=A?{...O,...A}:O}),0===Object.keys(O).length?null:O}function Ke(x,O){return O.map(A=>A(x))}function Bt(x){return x.map(O=>function ft(x){return!x.validate}(O)?O:A=>O.validate(A))}function _n(x){if(!x)return null;const O=x.filter(Fe);return 0==O.length?null:function(A){return Re(Ke(A,O))}}function Xt(x){return null!=x?_n(Bt(x)):null}function _t(x){if(!x)return null;const O=x.filter(Fe);return 0==O.length?null:function(A){return function le(...x){const O=(0,ae.jO)(x),{args:A,keys:j}=(0,_e.D)(x),se=new be.y(ct=>{const{length:Lt}=A;if(!Lt)return void ct.complete();const Xn=new Array(Lt);let Er=Lt,Cr=Lt;for(let yi=0;yi<Lt;yi++){let nr=!1;(0,ne.Xf)(A[yi]).subscribe((0,Ge.x)(ct,Gi=>{nr||(nr=!0,Cr--),Xn[yi]=Gi},()=>Er--,void 0,()=>{(!Er||!nr)&&(Cr||ct.next(j?(0,fe.n)(j,Xn):Xn),ct.complete())}))}});return O?se.pipe((0,je.Z)(O)):se}(Ke(A,O).map(Be)).pipe((0,ke.U)(Re))}}function un(x){return null!=x?_t(Bt(x)):null}function Kn(x,O){return null===x?[O]:Array.isArray(x)?[...x,O]:[x,O]}function xn(x){return x._rawValidators}function Rn(x){return x._rawAsyncValidators}function Ln(x){return x?Array.isArray(x)?x:[x]:[]}function Vn(x,O){return Array.isArray(x)?x.includes(O):x===O}function Ir(x,O){const A=Ln(O);return Ln(x).forEach(se=>{Vn(A,se)||A.push(se)}),A}function Tn(x,O){return Ln(O).filter(A=>!Vn(x,A))}class nn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Xt(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O=void 0){this.control&&this.control.reset(O)}hasError(O,A){return!!this.control&&this.control.hasError(O,A)}getError(O,A){return this.control?this.control.getError(O,A):null}}class Un extends nn{get formDirective(){return null}get path(){return null}}class zt extends nn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zr{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gn=(()=>{class x extends zr{constructor(A){super(A)}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(zt,2))};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(j,se){2&j&&y.ekj("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)},features:[y.qOj]})}return x})(),dn=(()=>{class x extends zr{constructor(A){super(A)}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(Un,10))};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(j,se){2&j&&y.ekj("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)("ng-submitted",se.isSubmitted)},features:[y.qOj]})}return x})();const Jt="VALID",Gn="INVALID",Wt="PENDING",er="DISABLED";function he(x){return(J(x)?x.validators:x)||null}function Z(x,O){return(J(O)?O.asyncValidators:x)||null}function J(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}function we(x,O,A){const j=x.controls;if(!(O?Object.keys(j):j).length)throw new y.vHH(1e3,"");if(!j[A])throw new y.vHH(1001,"")}function et(x,O,A){x._forEachChild((j,se)=>{if(void 0===A[se])throw new y.vHH(1002,"")})}class It{constructor(O,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(O),this._assignAsyncValidators(A)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===Jt}get invalid(){return this.status===Gn}get pending(){return this.status==Wt}get disabled(){return this.status===er}get enabled(){return this.status!==er}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._assignValidators(O)}setAsyncValidators(O){this._assignAsyncValidators(O)}addValidators(O){this.setValidators(Ir(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(Ir(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(Tn(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(Tn(O,this._rawAsyncValidators))}hasValidator(O){return Vn(this._rawValidators,O)}hasAsyncValidator(O){return Vn(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=Wt,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=er,this.errors=null,this._forEachChild(j=>{j.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:A}),this._onDisabledChange.forEach(j=>j(!0))}enable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=Jt,this._forEachChild(j=>{j.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:A}),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jt||this.status===Wt)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?er:Jt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=Wt,this._hasOwnPendingAsyncValidator=!0;const A=Be(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(j=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(j,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,A={}){this.errors=O,this._updateControlsErrors(!1!==A.emitEvent)}get(O){let A=O;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((j,se)=>j&&j._find(se),this)}getError(O,A){const j=A?this.get(A):this;return j&&j.errors?j.errors[O]:null}hasError(O,A){return!!this.getError(O,A)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?er:this.errors?Gn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wt)?Wt:this._anyControlsHaveStatus(Gn)?Gn:Jt}_anyControlsHaveStatus(O){return this._anyControls(A=>A.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){J(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}_assignValidators(O){this._rawValidators=Array.isArray(O)?O.slice():O,this._composedValidatorFn=function q(x){return Array.isArray(x)?Xt(x):x||null}(this._rawValidators)}_assignAsyncValidators(O){this._rawAsyncValidators=Array.isArray(O)?O.slice():O,this._composedAsyncValidatorFn=function Y(x){return Array.isArray(x)?un(x):x||null}(this._rawAsyncValidators)}}class Ht extends It{constructor(O,A,j){super(he(A),Z(j,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,A){return this.controls[O]?this.controls[O]:(this.controls[O]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(O,A,j={}){this.registerControl(O,A),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(O,A={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(O,A,j={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],A&&this.registerControl(O,A),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,A={}){et(this,0,O),Object.keys(O).forEach(j=>{we(this,!0,j),this.controls[j].setValue(O[j],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(Object.keys(O).forEach(j=>{const se=this.controls[j];se&&se.patchValue(O[j],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O={},A={}){this._forEachChild((j,se)=>{j.reset(O?O[se]:null,{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(O,A,j)=>(O[j]=A.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(A,j)=>!!j._syncPendingControls()||A);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(A=>{const j=this.controls[A];j&&O(j,A)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[A,j]of Object.entries(this.controls))if(this.contains(A)&&O(j))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,j,se)=>((j.enabled||this.disabled)&&(A[se]=j.value),A))}_reduceChildren(O,A){let j=O;return this._forEachChild((se,ct)=>{j=A(j,se,ct)}),j}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}class sn extends Ht{}const Dr=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Jr}),Jr="always";function oi(x,O){return[...O.path,x]}function Ve(x,O,A=Jr){on(x,O),O.valueAccessor.writeValue(x.value),(x.disabled||"always"===A)&&O.valueAccessor.setDisabledState?.(x.disabled),function wn(x,O){O.valueAccessor.registerOnChange(A=>{x._pendingValue=A,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&Yn(x,O)})}(x,O),function ai(x,O){const A=(j,se)=>{O.valueAccessor.writeValue(j),se&&O.viewToModelUpdate(j)};x.registerOnChange(A),O._registerOnDestroy(()=>{x._unregisterOnChange(A)})}(x,O),function Pr(x,O){O.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&Yn(x,O),"submit"!==x.updateOn&&x.markAsTouched()})}(x,O),function Mt(x,O){if(O.valueAccessor.setDisabledState){const A=j=>{O.valueAccessor.setDisabledState(j)};x.registerOnDisabledChange(A),O._registerOnDestroy(()=>{x._unregisterOnDisabledChange(A)})}}(x,O)}function Se(x,O,A=!0){const j=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(j),O.valueAccessor.registerOnTouched(j)),Ot(x,O),x&&(O._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function ut(x,O){x.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(O)})}function on(x,O){const A=xn(x);null!==O.validator?x.setValidators(Kn(A,O.validator)):"function"==typeof A&&x.setValidators([A]);const j=Rn(x);null!==O.asyncValidator?x.setAsyncValidators(Kn(j,O.asyncValidator)):"function"==typeof j&&x.setAsyncValidators([j]);const se=()=>x.updateValueAndValidity();ut(O._rawValidators,se),ut(O._rawAsyncValidators,se)}function Ot(x,O){let A=!1;if(null!==x){if(null!==O.validator){const se=xn(x);if(Array.isArray(se)&&se.length>0){const ct=se.filter(Lt=>Lt!==O.validator);ct.length!==se.length&&(A=!0,x.setValidators(ct))}}if(null!==O.asyncValidator){const se=Rn(x);if(Array.isArray(se)&&se.length>0){const ct=se.filter(Lt=>Lt!==O.asyncValidator);ct.length!==se.length&&(A=!0,x.setAsyncValidators(ct))}}}const j=()=>{};return ut(O._rawValidators,j),ut(O._rawAsyncValidators,j),A}function Yn(x,O){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function as(x,O){on(x,O)}function es(x,O){if(!x.hasOwnProperty("model"))return!1;const A=x.model;return!!A.isFirstChange()||!Object.is(O,A.currentValue)}function ji(x,O){x._syncPendingControls(),O.forEach(A=>{const j=A.control;"submit"===j.updateOn&&j._pendingChange&&(A.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}function Pi(x,O){if(!O)return null;let A,j,se;return Array.isArray(O),O.forEach(ct=>{ct.constructor===We?A=ct:function Bn(x){return Object.getPrototypeOf(x.constructor)===Ee}(ct)?j=ct:se=ct}),se||j||A||null}const ge={provide:Un,useExisting:(0,y.Gpc)(()=>Te)},me=(()=>Promise.resolve())();let Te=(()=>{class x extends Un{constructor(A,j,se){super(),this.callSetDisabledState=se,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new Ht({},Xt(A),un(j))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(A){me.then(()=>{const j=this._findContainer(A.path);A.control=j.registerControl(A.name,A.control),Ve(A.control,A,this.callSetDisabledState),A.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(A)})}getControl(A){return this.form.get(A.path)}removeControl(A){me.then(()=>{const j=this._findContainer(A.path);j&&j.removeControl(A.name),this._directives.delete(A)})}addFormGroup(A){me.then(()=>{const j=this._findContainer(A.path),se=new Ht({});as(se,A),j.registerControl(A.name,se),se.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(A){me.then(()=>{const j=this._findContainer(A.path);j&&j.removeControl(A.name)})}getFormGroup(A){return this.form.get(A.path)}updateModel(A,j){me.then(()=>{this.form.get(A.path).setValue(j)})}setValue(A){this.control.setValue(A)}onSubmit(A){return this.submitted=!0,ji(this.form,this._directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A=void 0){this.form.reset(A),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(A){return A.pop(),A.length?this.form.get(A):this.form}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(at,10),y.Y36(mt,10),y.Y36(Dr,8))};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(j,se){1&j&&y.NdJ("submit",function(Lt){return se.onSubmit(Lt)})("reset",function(){return se.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([ge]),y.qOj]})}return x})();function Ze(x,O){const A=x.indexOf(O);A>-1&&x.splice(A,1)}function gt(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const Ft=class extends It{constructor(O=null,A,j){super(he(A),Z(j,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),J(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=gt(O)?O.value:O)}setValue(O,A={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(O,A={}){this.setValue(O,A)}reset(O=this.defaultValue,A={}){this._applyFormState(O),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){Ze(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){Ze(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){gt(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}};let Dn=(()=>{class x extends Un{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return oi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let A;return function(se){return(A||(A=y.n5z(x)))(se||x)}}();static#t=this.\u0275dir=y.lG2({type:x,features:[y.qOj]})}return x})();const vo={provide:zt,useExisting:(0,y.Gpc)(()=>Xs)},Rs=(()=>Promise.resolve())();let Xs=(()=>{class x extends zt{constructor(A,j,se,ct,Lt,Xn){super(),this._changeDetectorRef=Lt,this.callSetDisabledState=Xn,this.control=new Ft,this._registered=!1,this.name="",this.update=new y.vpe,this._parent=A,this._setValidators(j),this._setAsyncValidators(se),this.valueAccessor=Pi(0,ct)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const j=A.name.previousValue;this.formDirective.removeControl({name:j,path:this._getPath(j)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),es(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ve(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){Rs.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(A){const j=A.isDisabled.currentValue,se=0!==j&&(0,y.VuI)(j);Rs.then(()=>{se&&!this.control.disabled?this.control.disable():!se&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(A){return this._parent?oi(A,this._parent):[A]}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(Un,9),y.Y36(at,10),y.Y36(mt,10),y.Y36(vt,10),y.Y36(y.sBO,8),y.Y36(Dr,8))};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([vo]),y.qOj,y.TTD]})}return x})(),ts=(()=>{class x{static#e=this.\u0275fac=function(j){return new(j||x)};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return x})();const Ro={provide:vt,useExisting:(0,y.Gpc)(()=>Js),multi:!0};let Js=(()=>{class x extends Ee{writeValue(A){this.setProperty("value",A??"")}registerOnChange(A){this.onChange=j=>{A(""==j?null:parseFloat(j))}}static#e=this.\u0275fac=function(){let A;return function(se){return(A||(A=y.n5z(x)))(se||x)}}();static#t=this.\u0275dir=y.lG2({type:x,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(j,se){1&j&&y.NdJ("input",function(Lt){return se.onChange(Lt.target.value)})("blur",function(){return se.onTouched()})},features:[y._Bn([Ro]),y.qOj]})}return x})(),$s=(()=>{class x{static#e=this.\u0275fac=function(j){return new(j||x)};static#t=this.\u0275mod=y.oAB({type:x});static#n=this.\u0275inj=y.cJS({})}return x})();const aa=new y.OlP("NgModelWithFormControlWarning"),us={provide:Un,useExisting:(0,y.Gpc)(()=>mn)};let mn=(()=>{class x extends Un{constructor(A,j,se){super(),this.callSetDisabledState=se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(A),this._setAsyncValidators(j)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ot(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const j=this.form.get(A.path);return Ve(j,A,this.callSetDisabledState),j.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),j}getControl(A){return this.form.get(A.path)}removeControl(A){Se(A.control||null,A,!1),function pi(x,O){const A=x.indexOf(O);A>-1&&x.splice(A,1)}(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,j){this.form.get(A.path).setValue(j)}onSubmit(A){return this.submitted=!0,ji(this.form,this.directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A=void 0){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const j=A.control,se=this.form.get(A.path);j!==se&&(Se(j||null,A),(x=>x instanceof Ft)(se)&&(Ve(se,A,this.callSetDisabledState),A.control=se))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const j=this.form.get(A.path);as(j,A),j.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const j=this.form.get(A.path);j&&function Zi(x,O){return Ot(x,O)}(j,A)&&j.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){on(this.form,this),this._oldForm&&Ot(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(at,10),y.Y36(mt,10),y.Y36(Dr,8))};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(j,se){1&j&&y.NdJ("submit",function(Lt){return se.onSubmit(Lt)})("reset",function(){return se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([us]),y.qOj,y.TTD]})}return x})();const Qn={provide:Un,useExisting:(0,y.Gpc)(()=>cn)};let cn=(()=>{class x extends Dn{constructor(A,j,se){super(),this.name=null,this._parent=A,this._setValidators(j),this._setAsyncValidators(se)}_checkParentType(){_o(this._parent)}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(Un,13),y.Y36(at,10),y.Y36(mt,10))};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[y._Bn([Qn]),y.qOj]})}return x})();const ns={provide:Un,useExisting:(0,y.Gpc)(()=>kr)};let kr=(()=>{class x extends Un{constructor(A,j,se){super(),this.name=null,this._parent=A,this._setValidators(j),this._setAsyncValidators(se)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return oi(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){_o(this._parent)}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(Un,13),y.Y36(at,10),y.Y36(mt,10))};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[y._Bn([ns]),y.qOj]})}return x})();function _o(x){return!(x instanceof cn||x instanceof mn||x instanceof kr)}const Ns={provide:zt,useExisting:(0,y.Gpc)(()=>Os)};let Os=(()=>{class x extends zt{set isDisabled(A){}static#e=this._ngModelWarningSentOnce=!1;constructor(A,j,se,ct,Lt){super(),this._ngModelWarningConfig=Lt,this._added=!1,this.name=null,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(j),this._setAsyncValidators(se),this.valueAccessor=Pi(0,ct)}ngOnChanges(A){this._added||this._setUpControl(),es(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return oi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(j){return new(j||x)(y.Y36(Un,13),y.Y36(at,10),y.Y36(mt,10),y.Y36(vt,10),y.Y36(aa,8))};static#n=this.\u0275dir=y.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([Ns]),y.qOj,y.TTD]})}return x})();const ua={provide:vt,useExisting:(0,y.Gpc)(()=>At),multi:!0};function Ps(x,O){return null==x?`${O}`:(O&&"object"==typeof O&&(O="Object"),`${x}: ${O}`.slice(0,50))}let At=(()=>{class x extends Ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){this.value=A;const se=Ps(this._getOptionId(A),A);this.setProperty("value",se)}registerOnChange(A){this.onChange=j=>{this.value=this._getOptionValue(j),A(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(A){for(const j of this._optionMap.keys())if(this._compareWith(this._optionMap.get(j),A))return j;return null}_getOptionValue(A){const j=function ur(x){return x.split(":")[0]}(A);return this._optionMap.has(j)?this._optionMap.get(j):A}static#e=this.\u0275fac=function(){let A;return function(se){return(A||(A=y.n5z(x)))(se||x)}}();static#t=this.\u0275dir=y.lG2({type:x,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(j,se){1&j&&y.NdJ("change",function(Lt){return se.onChange(Lt.target.value)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([ua]),y.qOj]})}return x})(),pn=(()=>{class x{constructor(A,j,se){this._element=A,this._renderer=j,this._select=se,this._select&&(this.id=this._select._registerOption())}set ngValue(A){null!=this._select&&(this._select._optionMap.set(this.id,A),this._setElementValue(Ps(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._setElementValue(A),this._select&&this._select.writeValue(this._select.value)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(At,9))};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return x})();const Wn={provide:vt,useExisting:(0,y.Gpc)(()=>ni),multi:!0};function ci(x,O){return null==x?`${O}`:("string"==typeof O&&(O=`'${O}'`),O&&"object"==typeof O&&(O="Object"),`${x}: ${O}`.slice(0,50))}let ni=(()=>{class x extends Ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(A){this._compareWith=A}writeValue(A){let j;if(this.value=A,Array.isArray(A)){const se=A.map(ct=>this._getOptionId(ct));j=(ct,Lt)=>{ct._setSelected(se.indexOf(Lt.toString())>-1)}}else j=(se,ct)=>{se._setSelected(!1)};this._optionMap.forEach(j)}registerOnChange(A){this.onChange=j=>{const se=[],ct=j.selectedOptions;if(void 0!==ct){const Lt=ct;for(let Xn=0;Xn<Lt.length;Xn++){const Cr=this._getOptionValue(Lt[Xn].value);se.push(Cr)}}else{const Lt=j.options;for(let Xn=0;Xn<Lt.length;Xn++){const Er=Lt[Xn];if(Er.selected){const Cr=this._getOptionValue(Er.value);se.push(Cr)}}}this.value=se,A(se)}}_registerOption(A){const j=(this._idCounter++).toString();return this._optionMap.set(j,A),j}_getOptionId(A){for(const j of this._optionMap.keys())if(this._compareWith(this._optionMap.get(j)._value,A))return j;return null}_getOptionValue(A){const j=function ro(x){return x.split(":")[0]}(A);return this._optionMap.has(j)?this._optionMap.get(j)._value:A}static#e=this.\u0275fac=function(){let A;return function(se){return(A||(A=y.n5z(x)))(se||x)}}();static#t=this.\u0275dir=y.lG2({type:x,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(j,se){1&j&&y.NdJ("change",function(Lt){return se.onChange(Lt.target)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([Wn]),y.qOj]})}return x})(),xr=(()=>{class x{constructor(A,j,se){this._element=A,this._renderer=j,this._select=se,this._select&&(this.id=this._select._registerOption(this))}set ngValue(A){null!=this._select&&(this._value=A,this._setElementValue(ci(this.id,A)),this._select.writeValue(this._select.value))}set value(A){this._select?(this._value=A,this._setElementValue(ci(this.id,A)),this._select.writeValue(this._select.value)):this._setElementValue(A)}_setElementValue(A){this._renderer.setProperty(this._element.nativeElement,"value",A)}_setSelected(A){this._renderer.setProperty(this._element.nativeElement,"selected",A)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(j){return new(j||x)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(ni,9))};static#t=this.\u0275dir=y.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return x})();function jr(x){return"number"==typeof x?x:parseFloat(x)}let hn=(()=>{class x{constructor(){this._validator=ye}ngOnChanges(A){if(this.inputName in A){const j=this.normalizeInput(A[this.inputName].currentValue);this._enabled=this.enabled(j),this._validator=this._enabled?this.createValidator(j):ye,this._onChange&&this._onChange()}}validate(A){return this._validator(A)}registerOnValidatorChange(A){this._onChange=A}enabled(A){return null!=A}static#e=this.\u0275fac=function(j){return new(j||x)};static#t=this.\u0275dir=y.lG2({type:x,features:[y.TTD]})}return x})();const rs={provide:at,useExisting:(0,y.Gpc)(()=>ks),multi:!0};let ks=(()=>{class x extends hn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=A=>jr(A),this.createValidator=A=>Mn(A)}static#e=this.\u0275fac=function(){let A;return function(se){return(A||(A=y.n5z(x)))(se||x)}}();static#t=this.\u0275dir=y.lG2({type:x,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(j,se){2&j&&y.uIk("max",se._enabled?se.max:null)},inputs:{max:"max"},features:[y._Bn([rs]),y.qOj]})}return x})();const Fs={provide:at,useExisting:(0,y.Gpc)(()=>Sr),multi:!0};let Sr=(()=>{class x extends hn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=A=>jr(A),this.createValidator=A=>vn(A)}static#e=this.\u0275fac=function(){let A;return function(se){return(A||(A=y.n5z(x)))(se||x)}}();static#t=this.\u0275dir=y.lG2({type:x,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(j,se){2&j&&y.uIk("min",se._enabled?se.min:null)},inputs:{min:"min"},features:[y._Bn([Fs]),y.qOj]})}return x})(),Hi=(()=>{class x{static#e=this.\u0275fac=function(j){return new(j||x)};static#t=this.\u0275mod=y.oAB({type:x});static#n=this.\u0275inj=y.cJS({imports:[$s]})}return x})();class io extends It{constructor(O,A,j){super(he(A),Z(j,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[this._adjustIndex(O)]}push(O,A={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(O,A,j={}){this.controls.splice(O,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:j.emitEvent})}removeAt(O,A={}){let j=this._adjustIndex(O);j<0&&(j=0),this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(O,A,j={}){let se=this._adjustIndex(O);se<0&&(se=0),this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),this.controls.splice(se,1),A&&(this.controls.splice(se,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,A={}){et(this,0,O),O.forEach((j,se)=>{we(this,!1,se),this.at(se).setValue(j,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(O.forEach((j,se)=>{this.at(se)&&this.at(se).patchValue(j,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O=[],A={}){this._forEachChild((j,se)=>{j.reset(O[se],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(O=>O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_adjustIndex(O){return O<0?O+this.length:O}_syncPendingControls(){let O=this.controls.reduce((A,j)=>!!j._syncPendingControls()||A,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){this.controls.forEach((A,j)=>{O(A,j)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(A=>A.enabled&&O(A))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}_find(O){return this.at(O)??null}}function di(x){return!!x&&(void 0!==x.asyncValidators||void 0!==x.validators||void 0!==x.updateOn)}let ri=(()=>{class x{constructor(){this.useNonNullable=!1}get nonNullable(){const A=new x;return A.useNonNullable=!0,A}group(A,j=null){const se=this._reduceControls(A);let ct={};return di(j)?ct=j:null!==j&&(ct.validators=j.validator,ct.asyncValidators=j.asyncValidator),new Ht(se,ct)}record(A,j=null){const se=this._reduceControls(A);return new sn(se,j)}control(A,j,se){let ct={};return this.useNonNullable?(di(j)?ct=j:(ct.validators=j,ct.asyncValidators=se),new Ft(A,{...ct,nonNullable:!0})):new Ft(A,j,se)}array(A,j,se){const ct=A.map(Lt=>this._createControl(Lt));return new io(ct,j,se)}_reduceControls(A){const j={};return Object.keys(A).forEach(se=>{j[se]=this._createControl(A[se])}),j}_createControl(A){return A instanceof Ft||A instanceof It?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}static#e=this.\u0275fac=function(j){return new(j||x)};static#t=this.\u0275prov=y.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),ce=(()=>{class x{static withConfig(A){return{ngModule:x,providers:[{provide:Dr,useValue:A.callSetDisabledState??Jr}]}}static#e=this.\u0275fac=function(j){return new(j||x)};static#t=this.\u0275mod=y.oAB({type:x});static#n=this.\u0275inj=y.cJS({imports:[Hi]})}return x})(),De=(()=>{class x{static withConfig(A){return{ngModule:x,providers:[{provide:aa,useValue:A.warnOnNgModelWithFormControl??"always"},{provide:Dr,useValue:A.callSetDisabledState??Jr}]}}static#e=this.\u0275fac=function(j){return new(j||x)};static#t=this.\u0275mod=y.oAB({type:x});static#n=this.\u0275inj=y.cJS({imports:[Hi]})}return x})()},6593:(an,Xe,W)=>{W.d(Xe,{Dx:()=>zt,b2:()=>Vn,q6:()=>Kn});var y=W(4946),ue=W(6814);class K extends ue.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends K{static makeCurrent(){(0,ue.HT)(new be)}onAndCancel(Z,Y,J){return Z.addEventListener(Y,J),()=>{Z.removeEventListener(Y,J)}}dispatchEvent(Z,Y){Z.dispatchEvent(Y)}remove(Z){Z.parentNode&&Z.parentNode.removeChild(Z)}createElement(Z,Y){return(Y=Y||this.getDefaultDocument()).createElement(Z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Z){return Z.nodeType===Node.ELEMENT_NODE}isShadowRoot(Z){return Z instanceof DocumentFragment}getGlobalEventTarget(Z,Y){return"window"===Y?window:"document"===Y?Z:"body"===Y?Z.body:null}getBaseHref(Z){const Y=function ne(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==Y?null:function Ge(q){ae=ae||document.createElement("a"),ae.setAttribute("href",q);const Z=ae.pathname;return"/"===Z.charAt(0)?Z:`/${Z}`}(Y)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(Z){return(0,ue.Mx)(document.cookie,Z)}}let ae,_e=null,fe=(()=>{class q{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(J){return new(J||q)};static#t=this.\u0275prov=y.Yz7({token:q,factory:q.\u0275fac})}return q})();const le=new y.OlP("EventManagerPlugins");let ke=(()=>{class q{constructor(Y,J){this._zone=J,this._eventNameToPlugin=new Map,Y.forEach(we=>{we.manager=this}),this._plugins=Y.slice().reverse()}addEventListener(Y,J,we){return this._findPluginFor(J).addEventListener(Y,J,we)}getZone(){return this._zone}_findPluginFor(Y){let J=this._eventNameToPlugin.get(Y);if(J)return J;if(J=this._plugins.find(et=>et.supports(Y)),!J)throw new y.vHH(5101,!1);return this._eventNameToPlugin.set(Y,J),J}static#e=this.\u0275fac=function(J){return new(J||q)(y.LFG(le),y.LFG(y.R0b))};static#t=this.\u0275prov=y.Yz7({token:q,factory:q.\u0275fac})}return q})();class ze{constructor(Z){this._doc=Z}}const Ee="ng-app-id";let vt=(()=>{class q{constructor(Y,J,we,et={}){this.doc=Y,this.appId=J,this.nonce=we,this.platformId=et,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ue.PM)(et),this.resetHostNodes()}addStyles(Y){for(const J of Y)1===this.changeUsageCount(J,1)&&this.onStyleAdded(J)}removeStyles(Y){for(const J of Y)this.changeUsageCount(J,-1)<=0&&this.onStyleRemoved(J)}ngOnDestroy(){const Y=this.styleNodesInDOM;Y&&(Y.forEach(J=>J.remove()),Y.clear());for(const J of this.getAllStyles())this.onStyleRemoved(J);this.resetHostNodes()}addHost(Y){this.hostNodes.add(Y);for(const J of this.getAllStyles())this.addStyleToHost(Y,J)}removeHost(Y){this.hostNodes.delete(Y)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Y){for(const J of this.hostNodes)this.addStyleToHost(J,Y)}onStyleRemoved(Y){const J=this.styleRef;J.get(Y)?.elements?.forEach(we=>we.remove()),J.delete(Y)}collectServerRenderedStyles(){const Y=this.doc.head?.querySelectorAll(`style[${Ee}="${this.appId}"]`);if(Y?.length){const J=new Map;return Y.forEach(we=>{null!=we.textContent&&J.set(we.textContent,we)}),J}return null}changeUsageCount(Y,J){const we=this.styleRef;if(we.has(Y)){const et=we.get(Y);return et.usage+=J,et.usage}return we.set(Y,{usage:J,elements:[]}),J}getStyleElement(Y,J){const we=this.styleNodesInDOM,et=we?.get(J);if(et?.parentNode===Y)return we.delete(J),et.removeAttribute(Ee),et;{const It=this.doc.createElement("style");return this.nonce&&It.setAttribute("nonce",this.nonce),It.textContent=J,this.platformIsServer&&It.setAttribute(Ee,this.appId),It}}addStyleToHost(Y,J){const we=this.getStyleElement(Y,J);Y.appendChild(we);const et=this.styleRef,It=et.get(J)?.elements;It?It.push(we):et.set(J,{elements:[we],usage:1})}resetHostNodes(){const Y=this.hostNodes;Y.clear(),Y.add(this.doc.head)}static#e=this.\u0275fac=function(J){return new(J||q)(y.LFG(ue.K0),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))};static#t=this.\u0275prov=y.Yz7({token:q,factory:q.\u0275fac})}return q})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ct=/%COMP%/g,ot=new y.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function mt(q,Z){return Z.map(Y=>Y.replace(Ct,q))}let rt=(()=>{class q{constructor(Y,J,we,et,It,Ht,rn,Nn=null){this.eventManager=Y,this.sharedStylesHost=J,this.appId=we,this.removeStylesOnCompDestroy=et,this.doc=It,this.platformId=Ht,this.ngZone=rn,this.nonce=Nn,this.rendererByCompId=new Map,this.platformIsServer=(0,ue.PM)(Ht),this.defaultRenderer=new it(Y,It,rn,this.platformIsServer)}createRenderer(Y,J){if(!Y||!J)return this.defaultRenderer;this.platformIsServer&&J.encapsulation===y.ifc.ShadowDom&&(J={...J,encapsulation:y.ifc.Emulated});const we=this.getOrCreateRenderer(Y,J);return we instanceof ln?we.applyToHost(Y):we instanceof Ae&&we.applyStyles(),we}getOrCreateRenderer(Y,J){const we=this.rendererByCompId;let et=we.get(J.id);if(!et){const It=this.doc,Ht=this.ngZone,rn=this.eventManager,Nn=this.sharedStylesHost,sn=this.removeStylesOnCompDestroy,zn=this.platformIsServer;switch(J.encapsulation){case y.ifc.Emulated:et=new ln(rn,Nn,J,this.appId,sn,It,Ht,zn);break;case y.ifc.ShadowDom:return new dt(rn,Nn,Y,J,It,Ht,this.nonce,zn);default:et=new Ae(rn,Nn,J,sn,It,Ht,zn)}we.set(J.id,et)}return et}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(J){return new(J||q)(y.LFG(ke),y.LFG(vt),y.LFG(y.AFp),y.LFG(ot),y.LFG(ue.K0),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))};static#t=this.\u0275prov=y.Yz7({token:q,factory:q.\u0275fac})}return q})();class it{constructor(Z,Y,J,we){this.eventManager=Z,this.doc=Y,this.ngZone=J,this.platformIsServer=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Z,Y){return Y?this.doc.createElementNS(nt[Y]||Y,Z):this.doc.createElement(Z)}createComment(Z){return this.doc.createComment(Z)}createText(Z){return this.doc.createTextNode(Z)}appendChild(Z,Y){(Tr(Z)?Z.content:Z).appendChild(Y)}insertBefore(Z,Y,J){Z&&(Tr(Z)?Z.content:Z).insertBefore(Y,J)}removeChild(Z,Y){Z&&Z.removeChild(Y)}selectRootElement(Z,Y){let J="string"==typeof Z?this.doc.querySelector(Z):Z;if(!J)throw new y.vHH(-5104,!1);return Y||(J.textContent=""),J}parentNode(Z){return Z.parentNode}nextSibling(Z){return Z.nextSibling}setAttribute(Z,Y,J,we){if(we){Y=we+":"+Y;const et=nt[we];et?Z.setAttributeNS(et,Y,J):Z.setAttribute(Y,J)}else Z.setAttribute(Y,J)}removeAttribute(Z,Y,J){if(J){const we=nt[J];we?Z.removeAttributeNS(we,Y):Z.removeAttribute(`${J}:${Y}`)}else Z.removeAttribute(Y)}addClass(Z,Y){Z.classList.add(Y)}removeClass(Z,Y){Z.classList.remove(Y)}setStyle(Z,Y,J,we){we&(y.JOm.DashCase|y.JOm.Important)?Z.style.setProperty(Y,J,we&y.JOm.Important?"important":""):Z.style[Y]=J}removeStyle(Z,Y,J){J&y.JOm.DashCase?Z.style.removeProperty(Y):Z.style[Y]=""}setProperty(Z,Y,J){Z[Y]=J}setValue(Z,Y){Z.nodeValue=Y}listen(Z,Y,J){if("string"==typeof Z&&!(Z=(0,ue.q)().getGlobalEventTarget(this.doc,Z)))throw new Error(`Unsupported event target ${Z} for event ${Y}`);return this.eventManager.addEventListener(Z,Y,this.decoratePreventDefault(J))}decoratePreventDefault(Z){return Y=>{if("__ngUnwrap__"===Y)return Z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Z(Y)):Z(Y))&&Y.preventDefault()}}}function Tr(q){return"TEMPLATE"===q.tagName&&void 0!==q.content}class dt extends it{constructor(Z,Y,J,we,et,It,Ht,rn){super(Z,et,It,rn),this.sharedStylesHost=Y,this.hostEl=J,this.shadowRoot=J.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nn=mt(we.id,we.styles);for(const sn of Nn){const zn=document.createElement("style");Ht&&zn.setAttribute("nonce",Ht),zn.textContent=sn,this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(Z){return Z===this.hostEl?this.shadowRoot:Z}appendChild(Z,Y){return super.appendChild(this.nodeOrShadowRoot(Z),Y)}insertBefore(Z,Y,J){return super.insertBefore(this.nodeOrShadowRoot(Z),Y,J)}removeChild(Z,Y){return super.removeChild(this.nodeOrShadowRoot(Z),Y)}parentNode(Z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ae extends it{constructor(Z,Y,J,we,et,It,Ht,rn){super(Z,et,It,Ht),this.sharedStylesHost=Y,this.removeStylesOnCompDestroy=we,this.styles=rn?mt(rn,J.styles):J.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ln extends Ae{constructor(Z,Y,J,we,et,It,Ht,rn){const Nn=we+"-"+J.id;super(Z,Y,J,et,It,Ht,rn,Nn),this.contentAttr=function Ye(q){return"_ngcontent-%COMP%".replace(Ct,q)}(Nn),this.hostAttr=function at(q){return"_nghost-%COMP%".replace(Ct,q)}(Nn)}applyToHost(Z){this.applyStyles(),this.setAttribute(Z,this.hostAttr,"")}createElement(Z,Y){const J=super.createElement(Z,Y);return super.setAttribute(J,this.contentAttr,""),J}}let qe=(()=>{class q extends ze{constructor(Y){super(Y)}supports(Y){return!0}addEventListener(Y,J,we){return Y.addEventListener(J,we,!1),()=>this.removeEventListener(Y,J,we)}removeEventListener(Y,J,we){return Y.removeEventListener(J,we)}static#e=this.\u0275fac=function(J){return new(J||q)(y.LFG(ue.K0))};static#t=this.\u0275prov=y.Yz7({token:q,factory:q.\u0275fac})}return q})();const Et=["alt","control","meta","shift"],ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fe={alt:q=>q.altKey,control:q=>q.ctrlKey,meta:q=>q.metaKey,shift:q=>q.shiftKey};let Be=(()=>{class q extends ze{constructor(Y){super(Y)}supports(Y){return null!=q.parseEventName(Y)}addEventListener(Y,J,we){const et=q.parseEventName(J),It=q.eventCallback(et.fullKey,we,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ue.q)().onAndCancel(Y,et.domEventName,It))}static parseEventName(Y){const J=Y.toLowerCase().split("."),we=J.shift();if(0===J.length||"keydown"!==we&&"keyup"!==we)return null;const et=q._normalizeKey(J.pop());let It="",Ht=J.indexOf("code");if(Ht>-1&&(J.splice(Ht,1),It="code."),Et.forEach(Nn=>{const sn=J.indexOf(Nn);sn>-1&&(J.splice(sn,1),It+=Nn+".")}),It+=et,0!=J.length||0===et.length)return null;const rn={};return rn.domEventName=we,rn.fullKey=It,rn}static matchEventFullKeyCode(Y,J){let we=ye[Y.key]||Y.key,et="";return J.indexOf("code.")>-1&&(we=Y.code,et="code."),!(null==we||!we)&&(we=we.toLowerCase()," "===we?we="space":"."===we&&(we="dot"),Et.forEach(It=>{It!==we&&(0,Fe[It])(Y)&&(et+=It+".")}),et+=we,et===J)}static eventCallback(Y,J,we){return et=>{q.matchEventFullKeyCode(et,Y)&&we.runGuarded(()=>J(et))}}static _normalizeKey(Y){return"esc"===Y?"escape":Y}static#e=this.\u0275fac=function(J){return new(J||q)(y.LFG(ue.K0))};static#t=this.\u0275prov=y.Yz7({token:q,factory:q.\u0275fac})}return q})();const Kn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:ue.bD},{provide:y.g9A,useValue:function _n(){be.makeCurrent()},multi:!0},{provide:ue.K0,useFactory:function _t(){return(0,y.RDi)(document),document},deps:[]}]),xn=new y.OlP(""),Rn=[{provide:y.rWj,useClass:class je{addToWindow(Z){y.dqk.getAngularTestability=(J,we=!0)=>{const et=Z.findTestabilityInTree(J,we);if(null==et)throw new y.vHH(5103,!1);return et},y.dqk.getAllAngularTestabilities=()=>Z.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>Z.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(J=>{const we=y.dqk.getAllAngularTestabilities();let et=we.length,It=!1;const Ht=function(rn){It=It||rn,et--,0==et&&J(It)};we.forEach(rn=>{rn.whenStable(Ht)})})}findTestabilityInTree(Z,Y,J){return null==Y?null:Z.getTestability(Y)??(J?(0,ue.q)().isShadowRoot(Y)?this.findTestabilityInTree(Z,Y.host,!0):this.findTestabilityInTree(Z,Y.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Ln=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function Xt(){return new y.qLn},deps:[]},{provide:le,useClass:qe,multi:!0,deps:[ue.K0,y.R0b,y.Lbi]},{provide:le,useClass:Be,multi:!0,deps:[ue.K0]},rt,vt,ke,{provide:y.FYo,useExisting:rt},{provide:ue.JF,useClass:fe,deps:[]},[]];let Vn=(()=>{class q{constructor(Y){}static withServerTransition(Y){return{ngModule:q,providers:[{provide:y.AFp,useValue:Y.appId}]}}static#e=this.\u0275fac=function(J){return new(J||q)(y.LFG(xn,12))};static#t=this.\u0275mod=y.oAB({type:q});static#n=this.\u0275inj=y.cJS({providers:[...Ln,...Rn],imports:[ue.ez,y.hGG]})}return q})(),zt=(()=>{class q{constructor(Y){this._doc=Y}getTitle(){return this._doc.title}setTitle(Y){this._doc.title=Y||""}static#e=this.\u0275fac=function(J){return new(J||q)(y.LFG(ue.K0))};static#t=this.\u0275prov=y.Yz7({token:q,factory:function(J){let we=null;return we=J?new J:function Un(){return new zt((0,y.LFG)(ue.K0))}(),we},providedIn:"root"})}return q})();typeof window<"u"&&window},5920:(an,Xe,W)=>{W.d(Xe,{F0:()=>cr,Bz:()=>Me,lC:()=>ro});var y=W(4946),ue=W(5592),K=W(4674),_e=W(2459),ne=W(2096),ae=W(5619),Ge=W(7453),je=W(2737),fe=W(7400),le=W(4564),ke=W(2714),ze=W(8251),Ee=W(7103);function vt(...v){const b=(0,le.yG)(v),m=(0,le.jO)(v),{args:T,keys:P}=(0,Ge.D)(v);if(0===T.length)return(0,_e.D)([],b);const G=new ue.y(function nt(v,b,m=je.y){return T=>{Ct(b,()=>{const{length:P}=v,G=new Array(P);let ie=P,Pe=P;for(let Ne=0;Ne<P;Ne++)Ct(b,()=>{const xt=(0,_e.D)(v[Ne],b);let En=!1;xt.subscribe((0,ze.x)(T,ir=>{G[Ne]=ir,En||(En=!0,Pe--),Pe||T.next(m(G.slice()))},()=>{--ie||T.complete()}))},T)},T)}}(T,b,P?ie=>(0,ke.n)(P,ie):je.y));return m?G.pipe((0,fe.Z)(m)):G}function Ct(v,b,m){v?(0,Ee.f)(m,v,b):b()}const Fn=(0,W(2306).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var jn=W(7537);function ot(...v){return function We(){return(0,jn.J)(1)}()((0,_e.D)(v,(0,le.yG)(v)))}var Ye=W(4829);function at(v){return new ue.y(b=>{(0,Ye.Xf)(v()).subscribe(b)})}var mt=W(8407);function rt(v,b){const m=(0,K.m)(v)?v:()=>v,T=P=>P.error(m());return new ue.y(b?P=>b.schedule(T,0,P):T)}var it=W(6232),vn=W(7394),Mn=W(9360);function Tr(){return(0,Mn.e)((v,b)=>{let m=null;v._refCount++;const T=(0,ze.x)(b,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(m=null);const P=v._connection,G=m;m=null,P&&(!G||P===G)&&P.unsubscribe(),b.unsubscribe()});v.subscribe(T),T.closed||(m=v.connect())})}class dt extends ue.y{constructor(b,m){super(),this.source=b,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Mn.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new vn.w0;const m=this.getSubject();b.add(this.source.subscribe((0,ze.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),b.closed&&(this._connection=null,b=vn.w0.EMPTY)}return b}refCount(){return Tr()(this)}}var Ae=W(8645),ln=W(6814),qe=W(7398),Et=W(4664);function ye(v){return v<=0?()=>it.E:(0,Mn.e)((b,m)=>{let T=0;b.subscribe((0,ze.x)(m,P=>{++T<=v&&(m.next(P),v<=T&&m.complete())}))})}function Be(v,b){return(0,Mn.e)((m,T)=>{let P=0;m.subscribe((0,ze.x)(T,G=>v.call(b,G,P++)&&T.next(G)))})}var Re=W(1631);function Ke(v){return(0,Mn.e)((b,m)=>{let T=!1;b.subscribe((0,ze.x)(m,P=>{T=!0,m.next(P)},()=>{T||m.next(v),m.complete()}))})}function ft(v=Bt){return(0,Mn.e)((b,m)=>{let T=!1;b.subscribe((0,ze.x)(m,P=>{T=!0,m.next(P)},()=>T?m.complete():m.error(v())))})}function Bt(){return new Fn}function _n(v,b){const m=arguments.length>=2;return T=>T.pipe(v?Be((P,G)=>v(P,G,T)):je.y,ye(1),m?Ke(b):ft(()=>new Fn))}function Xt(v,b){return(0,K.m)(b)?(0,Re.z)(v,b,1):(0,Re.z)(v,1)}var _t=W(9397);function un(v){return(0,Mn.e)((b,m)=>{let G,T=null,P=!1;T=b.subscribe((0,ze.x)(m,void 0,void 0,ie=>{G=(0,Ye.Xf)(v(ie,un(v)(b))),T?(T.unsubscribe(),T=null,G.subscribe(m)):P=!0})),P&&(T.unsubscribe(),T=null,G.subscribe(m))})}function Rn(v){return v<=0?()=>it.E:(0,Mn.e)((b,m)=>{let T=[];b.subscribe((0,ze.x)(m,P=>{T.push(P),v<T.length&&T.shift()},()=>{for(const P of T)m.next(P);m.complete()},void 0,()=>{T=null}))})}function Ir(v){return(0,Mn.e)((b,m)=>{try{b.subscribe(m)}finally{m.add(v)}})}var Tn=W(2420),Un=W(6593);const zt="primary",zr=Symbol("RouteTitle");class bn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const m=this.params[b];return Array.isArray(m)?m[0]:m}return null}getAll(b){if(this.has(b)){const m=this.params[b];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function hr(v){return new bn(v)}function gn(v,b,m){const T=m.path.split("/");if(T.length>v.length||"full"===m.pathMatch&&(b.hasChildren()||T.length<v.length))return null;const P={};for(let G=0;G<T.length;G++){const ie=T[G],Pe=v[G];if(ie.startsWith(":"))P[ie.substring(1)]=Pe;else if(ie!==Pe.path)return null}return{consumed:v.slice(0,T.length),posParams:P}}function Zn(v,b){const m=v?Object.keys(v):void 0,T=b?Object.keys(b):void 0;if(!m||!T||m.length!=T.length)return!1;let P;for(let G=0;G<m.length;G++)if(P=m[G],!wr(v[P],b[P]))return!1;return!0}function wr(v,b){if(Array.isArray(v)&&Array.isArray(b)){if(v.length!==b.length)return!1;const m=[...v].sort(),T=[...b].sort();return m.every((P,G)=>T[G]===P)}return v===b}function Vr(v){return v.length>0?v[v.length-1]:null}function In(v){return function be(v){return!!v&&(v instanceof ue.y||(0,K.m)(v.lift)&&(0,K.m)(v.subscribe))}(v)?v:(0,y.QGY)(v)?(0,_e.D)(Promise.resolve(v)):(0,ne.of)(v)}const tr={exact:function bt(v,b,m){if(!Jt(v.segments,b.segments)||!Br(v.segments,b.segments,m)||v.numberOfChildren!==b.numberOfChildren)return!1;for(const T in b.children)if(!v.children[T]||!bt(v.children[T],b.children[T],m))return!1;return!0},subset:fi},Ur={exact:function Bi(v,b){return Zn(v,b)},subset:function vi(v,b){return Object.keys(b).length<=Object.keys(v).length&&Object.keys(b).every(m=>wr(v[m],b[m]))},ignored:()=>!0};function $n(v,b,m){return tr[m.paths](v.root,b.root,m.matrixParams)&&Ur[m.queryParams](v.queryParams,b.queryParams)&&!("exact"===m.fragment&&v.fragment!==b.fragment)}function fi(v,b,m){return Mr(v,b,b.segments,m)}function Mr(v,b,m,T){if(v.segments.length>m.length){const P=v.segments.slice(0,m.length);return!(!Jt(P,m)||b.hasChildren()||!Br(P,m,T))}if(v.segments.length===m.length){if(!Jt(v.segments,m)||!Br(v.segments,m,T))return!1;for(const P in b.children)if(!v.children[P]||!fi(v.children[P],b.children[P],T))return!1;return!0}{const P=m.slice(0,v.segments.length),G=m.slice(v.segments.length);return!!(Jt(v.segments,P)&&Br(v.segments,P,T)&&v.children[zt])&&Mr(v.children[zt],b,G,T)}}function Br(v,b,m){return b.every((T,P)=>Ur[m](v[P].parameters,T.parameters))}class _r{constructor(b=new Zt([],{}),m={},T=null){this.root=b,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return he.serialize(this)}}class Zt{constructor(b,m){this.segments=b,this.children=m,this.parent=null,Object.values(m).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return q(this)}}class Xr{constructor(b,m){this.path=b,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=hr(this.parameters)),this._parameterMap}toString(){return rn(this)}}function Jt(v,b){return v.length===b.length&&v.every((m,T)=>m.path===b[T].path)}let Wt=(()=>{class v{static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:function(){return new er},providedIn:"root"})}return v})();class er{parse(b){const m=new on(b);return new _r(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(b){const m=`/${Z(b.root,!0)}`,T=function sn(v){const b=Object.keys(v).map(m=>{const T=v[m];return Array.isArray(T)?T.map(P=>`${J(m)}=${J(P)}`).join("&"):`${J(m)}=${J(T)}`}).filter(m=>!!m);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${m}${T}${"string"==typeof b.fragment?`#${function we(v){return encodeURI(v)}(b.fragment)}`:""}`}}const he=new er;function q(v){return v.segments.map(b=>rn(b)).join("/")}function Z(v,b){if(!v.hasChildren())return q(v);if(b){const m=v.children[zt]?Z(v.children[zt],!1):"",T=[];return Object.entries(v.children).forEach(([P,G])=>{P!==zt&&T.push(`${P}:${Z(G,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function Gn(v,b){let m=[];return Object.entries(v.children).forEach(([T,P])=>{T===zt&&(m=m.concat(b(P,T)))}),Object.entries(v.children).forEach(([T,P])=>{T!==zt&&(m=m.concat(b(P,T)))}),m}(v,(T,P)=>P===zt?[Z(v.children[zt],!1)]:[`${P}:${Z(T,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[zt]?`${q(v)}/${m[0]}`:`${q(v)}/(${m.join("//")})`}}function Y(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function J(v){return Y(v).replace(/%3B/gi,";")}function et(v){return Y(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function It(v){return decodeURIComponent(v)}function Ht(v){return It(v.replace(/\+/g,"%20"))}function rn(v){return`${et(v.path)}${function Nn(v){return Object.keys(v).map(b=>`;${et(b)}=${et(v[b])}`).join("")}(v.parameters)}`}const zn=/^[^\/()?;#]+/;function Dr(v){const b=v.match(zn);return b?b[0]:""}const Jr=/^[^\/()?;=#]+/,Ve=/^[^=?&#]+/,ut=/^[^&#]+/;class on{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(b.length>0||Object.keys(m).length>0)&&(T[zt]=new Zt(b,m)),T}parseSegment(){const b=Dr(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(b),new Xr(It(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const m=function oi(v){const b=v.match(Jr);return b?b[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const P=Dr(this.remaining);P&&(T=P,this.capture(T))}b[It(m)]=It(T)}parseQueryParam(b){const m=function Se(v){const b=v.match(Ve);return b?b[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const ie=function Mt(v){const b=v.match(ut);return b?b[0]:""}(this.remaining);ie&&(T=ie,this.capture(T))}const P=Ht(m),G=Ht(T);if(b.hasOwnProperty(P)){let ie=b[P];Array.isArray(ie)||(ie=[ie],b[P]=ie),ie.push(G)}else b[P]=G}parseParens(b){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Dr(this.remaining),P=this.remaining[T.length];if("/"!==P&&")"!==P&&";"!==P)throw new y.vHH(4010,!1);let G;T.indexOf(":")>-1?(G=T.slice(0,T.indexOf(":")),this.capture(G),this.capture(":")):b&&(G=zt);const ie=this.parseChildren();m[G]=1===Object.keys(ie).length?ie[zt]:new Zt([],ie),this.consumeOptional("//")}return m}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new y.vHH(4011,!1)}}function Ot(v){return v.segments.length>0?new Zt([],{[zt]:v}):v}function wn(v){const b={};for(const T of Object.keys(v.children)){const G=wn(v.children[T]);if(T===zt&&0===G.segments.length&&G.hasChildren())for(const[ie,Pe]of Object.entries(G.children))b[ie]=Pe;else(G.segments.length>0||G.hasChildren())&&(b[T]=G)}return function Pr(v){if(1===v.numberOfChildren&&v.children[zt]){const b=v.children[zt];return new Zt(v.segments.concat(b.segments),b.children)}return v}(new Zt(v.segments,b))}function Yn(v){return v instanceof _r}function as(v){let b;const P=Ot(function m(G){const ie={};for(const Ne of G.children){const xt=m(Ne);ie[Ne.outlet]=xt}const Pe=new Zt(G.url,ie);return G===v&&(b=Pe),Pe}(v.root));return b??P}function Zi(v,b,m,T){let P=v;for(;P.parent;)P=P.parent;if(0===b.length)return ui(P,P,P,m,T);const G=function es(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new On(!0,0,v);let b=0,m=!1;const T=v.reduce((P,G,ie)=>{if("object"==typeof G&&null!=G){if(G.outlets){const Pe={};return Object.entries(G.outlets).forEach(([Ne,xt])=>{Pe[Ne]="string"==typeof xt?xt.split("/"):xt}),[...P,{outlets:Pe}]}if(G.segmentPath)return[...P,G.segmentPath]}return"string"!=typeof G?[...P,G]:0===ie?(G.split("/").forEach((Pe,Ne)=>{0==Ne&&"."===Pe||(0==Ne&&""===Pe?m=!0:".."===Pe?b++:""!=Pe&&P.push(Pe))}),P):[...P,G]},[]);return new On(m,b,T)}(b);if(G.toRoot())return ui(P,P,new Zt([],{}),m,T);const ie=function ji(v,b,m){if(v.isAbsolute)return new Bn(b,!0,0);if(!m)return new Bn(b,!1,NaN);if(null===m.parent)return new Bn(m,!0,0);const T=Wr(v.commands[0])?0:1;return function Pi(v,b,m){let T=v,P=b,G=m;for(;G>P;){if(G-=P,T=T.parent,!T)throw new y.vHH(4005,!1);P=T.segments.length}return new Bn(T,!1,P-G)}(m,m.segments.length-1+T,v.numberOfDoubleDots)}(G,P,v),Pe=ie.processChildren?ge(ie.segmentGroup,ie.index,G.commands):xs(ie.segmentGroup,ie.index,G.commands);return ui(P,ie.segmentGroup,Pe,m,T)}function Wr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Ei(v){return"object"==typeof v&&null!=v&&v.outlets}function ui(v,b,m,T,P){let ie,G={};T&&Object.entries(T).forEach(([Ne,xt])=>{G[Ne]=Array.isArray(xt)?xt.map(En=>`${En}`):`${xt}`}),ie=v===b?m:Ii(v,b,m);const Pe=Ot(wn(ie));return new _r(Pe,G,P)}function Ii(v,b,m){const T={};return Object.entries(v.children).forEach(([P,G])=>{T[P]=G===b?m:Ii(G,b,m)}),new Zt(v.segments,T)}class On{constructor(b,m,T){if(this.isAbsolute=b,this.numberOfDoubleDots=m,this.commands=T,b&&T.length>0&&Wr(T[0]))throw new y.vHH(4003,!1);const P=T.find(Ei);if(P&&P!==Vr(T))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bn{constructor(b,m,T){this.segmentGroup=b,this.processChildren=m,this.index=T}}function xs(v,b,m){if(v||(v=new Zt([],{})),0===v.segments.length&&v.hasChildren())return ge(v,b,m);const T=function me(v,b,m){let T=0,P=b;const G={match:!1,pathIndex:0,commandIndex:0};for(;P<v.segments.length;){if(T>=m.length)return G;const ie=v.segments[P],Pe=m[T];if(Ei(Pe))break;const Ne=`${Pe}`,xt=T<m.length-1?m[T+1]:null;if(P>0&&void 0===Ne)break;if(Ne&&xt&&"object"==typeof xt&&void 0===xt.outlets){if(!Ft(Ne,xt,ie))return G;T+=2}else{if(!Ft(Ne,{},ie))return G;T++}P++}return{match:!0,pathIndex:P,commandIndex:T}}(v,b,m),P=m.slice(T.commandIndex);if(T.match&&T.pathIndex<v.segments.length){const G=new Zt(v.segments.slice(0,T.pathIndex),{});return G.children[zt]=new Zt(v.segments.slice(T.pathIndex),v.children),ge(G,0,P)}return T.match&&0===P.length?new Zt(v.segments,{}):T.match&&!v.hasChildren()?Te(v,b,m):T.match?ge(v,0,P):Te(v,b,m)}function ge(v,b,m){if(0===m.length)return new Zt(v.segments,{});{const T=function pi(v){return Ei(v[0])?v[0].outlets:{[zt]:v}}(m),P={};if(Object.keys(T).some(G=>G!==zt)&&v.children[zt]&&1===v.numberOfChildren&&0===v.children[zt].segments.length){const G=ge(v.children[zt],b,m);return new Zt(v.segments,G.children)}return Object.entries(T).forEach(([G,ie])=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(P[G]=xs(v.children[G],b,ie))}),Object.entries(v.children).forEach(([G,ie])=>{void 0===T[G]&&(P[G]=ie)}),new Zt(v.segments,P)}}function Te(v,b,m){const T=v.segments.slice(0,b);let P=0;for(;P<m.length;){const G=m[P];if(Ei(G)){const Ne=Ze(G.outlets);return new Zt(T,Ne)}if(0===P&&Wr(m[0])){T.push(new Xr(v.segments[b].path,gt(m[0]))),P++;continue}const ie=Ei(G)?G.outlets[zt]:`${G}`,Pe=P<m.length-1?m[P+1]:null;ie&&Pe&&Wr(Pe)?(T.push(new Xr(ie,gt(Pe))),P+=2):(T.push(new Xr(ie,{})),P++)}return new Zt(T,{})}function Ze(v){const b={};return Object.entries(v).forEach(([m,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(b[m]=Te(new Zt([],{}),0,T))}),b}function gt(v){const b={};return Object.entries(v).forEach(([m,T])=>b[m]=`${T}`),b}function Ft(v,b,m){return v==m.path&&Zn(b,m.parameters)}const Sn="imperative";class yn{constructor(b,m){this.id=b,this.url=m}}class Dn extends yn{constructor(b,m,T="imperative",P=null){super(b,m),this.type=0,this.navigationTrigger=T,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ti extends yn{constructor(b,m,T){super(b,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ei extends yn{constructor(b,m,T,P){super(b,m),this.reason=T,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qr extends yn{constructor(b,m,T,P){super(b,m),this.reason=T,this.code=P,this.type=16}}class ar extends yn{constructor(b,m,T,P){super(b,m),this.error=T,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qs extends yn{constructor(b,m,T,P){super(b,m),this.urlAfterRedirects=T,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xo extends yn{constructor(b,m,T,P){super(b,m),this.urlAfterRedirects=T,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vo extends yn{constructor(b,m,T,P,G){super(b,m),this.urlAfterRedirects=T,this.state=P,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rs extends yn{constructor(b,m,T,P){super(b,m),this.urlAfterRedirects=T,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xs extends yn{constructor(b,m,T,P){super(b,m),this.urlAfterRedirects=T,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ts{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ro{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Js{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ms{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ys{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eo{constructor(b,m,T){this.routerEvent=b,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class to{}class Ho{constructor(b){this.url=b}}class aa{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ti,this.attachRef=null}}let ti=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const P=this.getOrCreateContext(m);P.outlet=T,this.contexts.set(m,P)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new aa,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class $i{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const m=this.pathFromRoot(b);return m.length>1?m[m.length-2]:null}children(b){const m=us(b,this._root);return m?m.children.map(T=>T.value):[]}firstChild(b){const m=us(b,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(b){const m=mn(b,this._root);return m.length<2?[]:m[m.length-2].children.map(P=>P.value).filter(P=>P!==b)}pathFromRoot(b){return mn(b,this._root).map(m=>m.value)}}function us(v,b){if(v===b.value)return b;for(const m of b.children){const T=us(v,m);if(T)return T}return null}function mn(v,b){if(v===b.value)return[b];for(const m of b.children){const T=mn(v,m);if(T.length)return T.unshift(b),T}return[]}class Qn{constructor(b,m){this.value=b,this.children=m}toString(){return`TreeNode(${this.value})`}}function cn(v){const b={};return v&&v.children.forEach(m=>b[m.value.outlet]=m),b}class ns extends $i{constructor(b,m){super(b),this.snapshot=m,At(this,b)}toString(){return this.snapshot.toString()}}function kr(v,b){const m=function _o(v,b){const ie=new Ps([],{},{},"",{},zt,b,null,{});return new ur("",new Qn(ie,[]))}(0,b),T=new ae.X([new Xr("",{})]),P=new ae.X({}),G=new ae.X({}),ie=new ae.X({}),Pe=new ae.X(""),Ne=new Ns(T,P,ie,Pe,G,zt,b,m.root);return Ne.snapshot=m.root,new ns(new Qn(Ne,[]),m)}class Ns{constructor(b,m,T,P,G,ie,Pe,Ne){this.urlSubject=b,this.paramsSubject=m,this.queryParamsSubject=T,this.fragmentSubject=P,this.dataSubject=G,this.outlet=ie,this.component=Pe,this._futureSnapshot=Ne,this.title=this.dataSubject?.pipe((0,qe.U)(xt=>xt[zr]))??(0,ne.of)(void 0),this.url=b,this.params=m,this.queryParams=T,this.fragment=P,this.data=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.U)(b=>hr(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.U)(b=>hr(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Os(v,b="emptyOnly"){const m=v.pathFromRoot;let T=0;if("always"!==b)for(T=m.length-1;T>=1;){const P=m[T],G=m[T-1];if(P.routeConfig&&""===P.routeConfig.path)T--;else{if(G.component)break;T--}}return function ua(v){return v.reduce((b,m)=>({params:{...b.params,...m.params},data:{...b.data,...m.data},resolve:{...m.data,...b.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class Ps{get title(){return this.data?.[zr]}constructor(b,m,T,P,G,ie,Pe,Ne,xt){this.url=b,this.params=m,this.queryParams=T,this.fragment=P,this.data=G,this.outlet=ie,this.component=Pe,this.routeConfig=Ne,this._resolve=xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ur extends $i{constructor(b,m){super(m),this.url=b,At(this,m)}toString(){return pn(this._root)}}function At(v,b){b.value._routerState=v,b.children.forEach(m=>At(v,m))}function pn(v){const b=v.children.length>0?` { ${v.children.map(pn).join(", ")} } `:"";return`${v.value}${b}`}function Wn(v){if(v.snapshot){const b=v.snapshot,m=v._futureSnapshot;v.snapshot=m,Zn(b.queryParams,m.queryParams)||v.queryParamsSubject.next(m.queryParams),b.fragment!==m.fragment&&v.fragmentSubject.next(m.fragment),Zn(b.params,m.params)||v.paramsSubject.next(m.params),function dn(v,b){if(v.length!==b.length)return!1;for(let m=0;m<v.length;++m)if(!Zn(v[m],b[m]))return!1;return!0}(b.url,m.url)||v.urlSubject.next(m.url),Zn(b.data,m.data)||v.dataSubject.next(m.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function ci(v,b){const m=Zn(v.params,b.params)&&function _i(v,b){return Jt(v,b)&&v.every((m,T)=>Zn(m.parameters,b[T].parameters))}(v.url,b.url);return m&&!(!v.parent!=!b.parent)&&(!v.parent||ci(v.parent,b.parent))}let ro=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(ti),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(ni,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:T,previousValue:P}=m.name;if(T)return;this.isTrackedInParentContexts(P)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(P)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=m;const P=this.location,ie=m.snapshot.component,Pe=this.parentContexts.getOrCreateContext(this.name).children,Ne=new Si(m,Pe,P.injector);this.activated=P.createComponent(ie,{index:P.length,injector:Ne,environmentInjector:T??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275dir=y.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]})}return v})();class Si{constructor(b,m,T){this.route=b,this.childContexts=m,this.parent=T}get(b,m){return b===Ns?this.route:b===ti?this.childContexts:this.parent.get(b,m)}}const ni=new y.OlP("");let xr=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:T}=m,P=vt([T.queryParams,T.params,T.data]).pipe((0,Et.w)(([G,ie,Pe],Ne)=>(Pe={...G,...ie,...Pe},0===Ne?(0,ne.of)(Pe):Promise.resolve(Pe)))).subscribe(G=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==T||null===T.component)return void this.unsubscribeFromRouteData(m);const ie=(0,y.qFp)(T.component);if(ie)for(const{templateName:Pe}of ie.inputs)m.activatedComponentRef.setInput(Pe,G[Pe]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,P)}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac})}return v})();function jr(v,b,m){if(m&&v.shouldReuseRoute(b.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=b.value;const P=function hn(v,b,m){return b.children.map(T=>{for(const P of m.children)if(v.shouldReuseRoute(T.value,P.value.snapshot))return jr(v,T,P);return jr(v,T)})}(v,b,m);return new Qn(T,P)}{if(v.shouldAttach(b.value)){const G=v.retrieve(b.value);if(null!==G){const ie=G.route;return ie.value._futureSnapshot=b.value,ie.children=b.children.map(Pe=>jr(v,Pe)),ie}}const T=function rs(v){return new Ns(new ae.X(v.url),new ae.X(v.params),new ae.X(v.queryParams),new ae.X(v.fragment),new ae.X(v.data),v.outlet,v.component,v)}(b.value),P=b.children.map(G=>jr(v,G));return new Qn(T,P)}}const ks="ngNavigationCancelingError";function Fs(v,b){const{redirectTo:m,navigationBehaviorOptions:T}=Yn(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,P=Sr(!1,0,b);return P.url=m,P.navigationBehaviorOptions=T,P}function Sr(v,b,m){const T=new Error("NavigationCancelingError: "+(v||""));return T[ks]=!0,T.cancellationCode=b,m&&(T.url=m),T}function gi(v){return v&&v[ks]}let ki=(()=>{class v{static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275cmp=y.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(T,P){1&T&&y._UZ(0,"router-outlet")},dependencies:[ro],encapsulation:2})}return v})();function _s(v){const b=v.children&&v.children.map(_s),m=b?{...v,children:b}:{...v};return!m.component&&!m.loadComponent&&(b||m.loadChildren)&&m.outlet&&m.outlet!==zt&&(m.component=ki),m}function Yr(v){return v.outlet||zt}function Hi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let b=v.parent;b;b=b.parent){const m=b.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class zo{constructor(b,m,T,P,G){this.routeReuseStrategy=b,this.futureState=m,this.currState=T,this.forwardEvent=P,this.inputBindingEnabled=G}activate(b){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,b),Wn(this.futureState.root),this.activateChildRoutes(m,T,b)}deactivateChildRoutes(b,m,T){const P=cn(m);b.children.forEach(G=>{const ie=G.value.outlet;this.deactivateRoutes(G,P[ie],T),delete P[ie]}),Object.values(P).forEach(G=>{this.deactivateRouteAndItsChildren(G,T)})}deactivateRoutes(b,m,T){const P=b.value,G=m?m.value:null;if(P===G)if(P.component){const ie=T.getContext(P.outlet);ie&&this.deactivateChildRoutes(b,m,ie.children)}else this.deactivateChildRoutes(b,m,T);else G&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(b,m){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,m):this.deactivateRouteAndOutlet(b,m)}detachAndStoreRouteSubtree(b,m){const T=m.getContext(b.value.outlet),P=T&&b.value.component?T.children:m,G=cn(b);for(const ie of Object.keys(G))this.deactivateRouteAndItsChildren(G[ie],P);if(T&&T.outlet){const ie=T.outlet.detach(),Pe=T.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:ie,route:b,contexts:Pe})}}deactivateRouteAndOutlet(b,m){const T=m.getContext(b.value.outlet),P=T&&b.value.component?T.children:m,G=cn(b);for(const ie of Object.keys(G))this.deactivateRouteAndItsChildren(G[ie],P);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(b,m,T){const P=cn(m);b.children.forEach(G=>{this.activateRoutes(G,P[G.value.outlet],T),this.forwardEvent(new $s(G.value.snapshot))}),b.children.length&&this.forwardEvent(new ms(b.value.snapshot))}activateRoutes(b,m,T){const P=b.value,G=m?m.value:null;if(Wn(P),P===G)if(P.component){const ie=T.getOrCreateContext(P.outlet);this.activateChildRoutes(b,m,ie.children)}else this.activateChildRoutes(b,m,T);else if(P.component){const ie=T.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const Pe=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),ie.children.onOutletReAttached(Pe.contexts),ie.attachRef=Pe.componentRef,ie.route=Pe.route.value,ie.outlet&&ie.outlet.attach(Pe.componentRef,Pe.route.value),Wn(Pe.route.value),this.activateChildRoutes(b,null,ie.children)}else{const Pe=Hi(P.snapshot);ie.attachRef=null,ie.route=P,ie.injector=Pe,ie.outlet&&ie.outlet.activateWith(P,ie.injector),this.activateChildRoutes(b,null,ie.children)}}else this.activateChildRoutes(b,null,T)}}class di{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class ri{constructor(b,m){this.component=b,this.route=m}}function U(v,b,m){const T=v._root;return ce(T,b?b._root:null,m,[T.value])}function te(v,b){const m=Symbol(),T=b.get(v,m);return T===m?"function"!=typeof v||(0,y.Z0I)(v)?b.get(v):v:T}function ce(v,b,m,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const G=cn(b);return v.children.forEach(ie=>{(function De(v,b,m,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const G=v.value,ie=b?b.value:null,Pe=m?m.getContext(v.value.outlet):null;if(ie&&G.routeConfig===ie.routeConfig){const Ne=function x(v,b,m){if("function"==typeof m)return m(v,b);switch(m){case"pathParamsChange":return!Jt(v.url,b.url);case"pathParamsOrQueryParamsChange":return!Jt(v.url,b.url)||!Zn(v.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ci(v,b)||!Zn(v.queryParams,b.queryParams);default:return!ci(v,b)}}(ie,G,G.routeConfig.runGuardsAndResolvers);Ne?P.canActivateChecks.push(new di(T)):(G.data=ie.data,G._resolvedData=ie._resolvedData),ce(v,b,G.component?Pe?Pe.children:null:m,T,P),Ne&&Pe&&Pe.outlet&&Pe.outlet.isActivated&&P.canDeactivateChecks.push(new ri(Pe.outlet.component,ie))}else ie&&O(b,Pe,P),P.canActivateChecks.push(new di(T)),ce(v,null,G.component?Pe?Pe.children:null:m,T,P)})(ie,G[ie.value.outlet],m,T.concat([ie.value]),P),delete G[ie.value.outlet]}),Object.entries(G).forEach(([ie,Pe])=>O(Pe,m.getContext(ie),P)),P}function O(v,b,m){const T=cn(v),P=v.value;Object.entries(T).forEach(([G,ie])=>{O(ie,P.component?b?b.children.getContext(G):null:b,m)}),m.canDeactivateChecks.push(new ri(P.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,P))}function A(v){return"function"==typeof v}function nr(v){return v instanceof Fn||"EmptyError"===v?.name}const Gi=Symbol("INITIAL_VALUE");function Nr(){return(0,Et.w)(v=>vt(v.map(b=>b.pipe(ye(1),function Fe(...v){const b=(0,le.yG)(v);return(0,Mn.e)((m,T)=>{(b?ot(v,m,b):ot(v,m)).subscribe(T)})}(Gi)))).pipe((0,qe.U)(b=>{for(const m of b)if(!0!==m){if(m===Gi)return Gi;if(!1===m||m instanceof _r)return m}return!0}),Be(b=>b!==Gi),ye(1)))}function Gs(v){return(0,mt.z)((0,_t.b)(b=>{if(Yn(b))throw Fs(0,b)}),(0,qe.U)(b=>!0===b))}class Pa{constructor(b){this.segmentGroup=b||null}}class fr{constructor(b){this.urlTree=b}}function Oo(v){return rt(new Pa(v))}function ls(v){return rt(new fr(v))}class ss{constructor(b,m){this.urlSerializer=b,this.urlTree=m}noMatchError(b){return new y.vHH(4002,!1)}lineralizeSegments(b,m){let T=[],P=m.root;for(;;){if(T=T.concat(P.segments),0===P.numberOfChildren)return(0,ne.of)(T);if(P.numberOfChildren>1||!P.children[zt])return rt(new y.vHH(4e3,!1));P=P.children[zt]}}applyRedirectCommands(b,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),b,T)}applyRedirectCreateUrlTree(b,m,T,P){const G=this.createSegmentGroup(b,m.root,T,P);return new _r(G,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(b,m){const T={};return Object.entries(b).forEach(([P,G])=>{if("string"==typeof G&&G.startsWith(":")){const Pe=G.substring(1);T[P]=m[Pe]}else T[P]=G}),T}createSegmentGroup(b,m,T,P){const G=this.createSegments(b,m.segments,T,P);let ie={};return Object.entries(m.children).forEach(([Pe,Ne])=>{ie[Pe]=this.createSegmentGroup(b,Ne,T,P)}),new Zt(G,ie)}createSegments(b,m,T,P){return m.map(G=>G.path.startsWith(":")?this.findPosParam(b,G,P):this.findOrReturn(G,T))}findPosParam(b,m,T){const P=T[m.path.substring(1)];if(!P)throw new y.vHH(4001,!1);return P}findOrReturn(b,m){let T=0;for(const P of m){if(P.path===b.path)return m.splice(T),P;T++}return b}}const Wo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rr(v,b,m,T,P){const G=Fa(v,b,m);return G.matched?(T=function vs(v,b){return v.providers&&!v._injector&&(v._injector=(0,y.MMx)(v.providers,b,`Route: ${v.path}`)),v._injector??b}(b,T),function Qi(v,b,m,T){const P=b.canMatch;if(!P||0===P.length)return(0,ne.of)(!0);const G=P.map(ie=>{const Pe=te(ie,v);return In(function Er(v){return v&&A(v.canMatch)}(Pe)?Pe.canMatch(b,m):v.runInContext(()=>Pe(b,m)))});return(0,ne.of)(G).pipe(Nr(),Gs())}(T,b,m).pipe((0,qe.U)(ie=>!0===ie?G:{...Wo}))):(0,ne.of)(G)}function Fa(v,b,m){if(""===b.path)return"full"===b.pathMatch&&(v.hasChildren()||m.length>0)?{...Wo}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const P=(b.matcher||gn)(m,v,b);if(!P)return{...Wo};const G={};Object.entries(P.posParams??{}).forEach(([Pe,Ne])=>{G[Pe]=Ne.path});const ie=P.consumed.length>0?{...G,...P.consumed[P.consumed.length-1].parameters}:G;return{matched:!0,consumedSegments:P.consumed,remainingSegments:m.slice(P.consumed.length),parameters:ie,positionalParamSegments:P.posParams??{}}}function qo(v,b,m,T){return m.length>0&&function La(v,b,m){return m.some(T=>Ko(v,b,T)&&Yr(T)!==zt)}(v,m,T)?{segmentGroup:new Zt(b,la(T,new Zt(m,v.children))),slicedSegments:[]}:0===m.length&&function ao(v,b,m){return m.some(T=>Ko(v,b,T))}(v,m,T)?{segmentGroup:new Zt(v.segments,oo(v,0,m,T,v.children)),slicedSegments:m}:{segmentGroup:new Zt(v.segments,v.children),slicedSegments:m}}function oo(v,b,m,T,P){const G={};for(const ie of T)if(Ko(v,m,ie)&&!P[Yr(ie)]){const Pe=new Zt([],{});G[Yr(ie)]=Pe}return{...P,...G}}function la(v,b){const m={};m[zt]=b;for(const T of v)if(""===T.path&&Yr(T)!==zt){const P=new Zt([],{});m[Yr(T)]=P}return m}function Ko(v,b,m){return(!(v.hasChildren()||b.length>0)||"full"!==m.pathMatch)&&""===m.path}class wi{constructor(b,m,T,P,G,ie,Pe){this.injector=b,this.configLoader=m,this.rootComponentType=T,this.config=P,this.urlTree=G,this.paramsInheritanceStrategy=ie,this.urlSerializer=Pe,this.allowRedirects=!0,this.applyRedirects=new ss(this.urlSerializer,this.urlTree)}noMatchError(b){return new y.vHH(4002,!1)}recognize(){const b=qo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,zt).pipe(un(m=>{if(m instanceof fr)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof Pa?this.noMatchError(m):m}),(0,qe.U)(m=>{const T=new Ps([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,{}),P=new Qn(T,m),G=new ur("",P),ie=function ai(v,b,m=null,T=null){return Zi(as(v),b,m,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return ie.queryParams=this.urlTree.queryParams,G.url=this.urlSerializer.serialize(ie),this.inheritParamsAndData(G._root),{state:G,tree:ie}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,zt).pipe(un(T=>{throw T instanceof Pa?this.noMatchError(T):T}))}inheritParamsAndData(b){const m=b.value,T=Os(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),b.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(b,m,T,P){return 0===T.segments.length&&T.hasChildren()?this.processChildren(b,m,T):this.processSegment(b,m,T,T.segments,P,!0)}processChildren(b,m,T){const P=[];for(const G of Object.keys(T.children))"primary"===G?P.unshift(G):P.push(G);return(0,_e.D)(P).pipe(Xt(G=>{const ie=T.children[G],Pe=function Rr(v,b){const m=v.filter(T=>Yr(T)===b);return m.push(...v.filter(T=>Yr(T)!==b)),m}(m,G);return this.processSegmentGroup(b,Pe,ie,G)}),function xn(v,b){return(0,Mn.e)(function Kn(v,b,m,T,P){return(G,ie)=>{let Pe=m,Ne=b,xt=0;G.subscribe((0,ze.x)(ie,En=>{const ir=xt++;Ne=Pe?v(Ne,En,ir):(Pe=!0,En),T&&ie.next(Ne)},P&&(()=>{Pe&&ie.next(Ne),ie.complete()})))}}(v,b,arguments.length>=2,!0))}((G,ie)=>(G.push(...ie),G)),Ke(null),function Ln(v,b){const m=arguments.length>=2;return T=>T.pipe(v?Be((P,G)=>v(P,G,T)):je.y,Rn(1),m?Ke(b):ft(()=>new Fn))}(),(0,Re.z)(G=>{if(null===G)return Oo(T);const ie=H(G);return function da(v){v.sort((b,m)=>b.value.outlet===zt?-1:m.value.outlet===zt?1:b.value.outlet.localeCompare(m.value.outlet))}(ie),(0,ne.of)(ie)}))}processSegment(b,m,T,P,G,ie){return(0,_e.D)(m).pipe(Xt(Pe=>this.processSegmentAgainstRoute(Pe._injector??b,m,Pe,T,P,G,ie).pipe(un(Ne=>{if(Ne instanceof Pa)return(0,ne.of)(null);throw Ne}))),_n(Pe=>!!Pe),un(Pe=>{if(nr(Pe))return function Es(v,b,m){return 0===b.length&&!v.children[m]}(T,P,G)?(0,ne.of)([]):Oo(T);throw Pe}))}processSegmentAgainstRoute(b,m,T,P,G,ie,Pe){return function Co(v,b,m,T){return!!(Yr(v)===T||T!==zt&&Ko(b,m,v))&&("**"===v.path||Fa(b,v,m).matched)}(T,P,G,ie)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(b,P,T,G,ie,Pe):Pe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,P,m,T,G,ie):Oo(P):Oo(P)}expandSegmentAgainstRouteUsingRedirect(b,m,T,P,G,ie){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,T,P,ie):this.expandRegularSegmentAgainstRouteUsingRedirect(b,m,T,P,G,ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,m,T,P){const G=this.applyRedirects.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?ls(G):this.applyRedirects.lineralizeSegments(T,G).pipe((0,Re.z)(ie=>{const Pe=new Zt(ie,{});return this.processSegment(b,m,Pe,ie,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,m,T,P,G,ie){const{matched:Pe,consumedSegments:Ne,remainingSegments:xt,positionalParamSegments:En}=Fa(m,P,G);if(!Pe)return Oo(m);const ir=this.applyRedirects.applyRedirectCommands(Ne,P.redirectTo,En);return P.redirectTo.startsWith("/")?ls(ir):this.applyRedirects.lineralizeSegments(P,ir).pipe((0,Re.z)(sr=>this.processSegment(b,T,m,sr.concat(xt),ie,!1)))}matchSegmentAgainstRoute(b,m,T,P,G,ie){let Pe;if("**"===T.path){const Ne=P.length>0?Vr(P).parameters:{},xt=new Ps(P,Ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(T),Yr(T),T.component??T._loadedComponent??null,T,oe(T));Pe=(0,ne.of)({snapshot:xt,consumedSegments:[],remainingSegments:[]}),m.children={}}else Pe=rr(m,T,P,b).pipe((0,qe.U)(({matched:Ne,consumedSegments:xt,remainingSegments:En,parameters:ir})=>Ne?{snapshot:new Ps(xt,ir,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(T),Yr(T),T.component??T._loadedComponent??null,T,oe(T)),consumedSegments:xt,remainingSegments:En}:null));return Pe.pipe((0,Et.w)(Ne=>null===Ne?Oo(m):this.getChildConfig(b=T._injector??b,T,P).pipe((0,Et.w)(({routes:xt})=>{const En=T._loadedInjector??b,{snapshot:ir,consumedSegments:sr,remainingSegments:Vo}=Ne,{segmentGroup:ws,slicedSegments:Uo}=qo(m,sr,Vo,xt);if(0===Uo.length&&ws.hasChildren())return this.processChildren(En,xt,ws).pipe((0,qe.U)(Ds=>null===Ds?null:[new Qn(ir,Ds)]));if(0===xt.length&&0===Uo.length)return(0,ne.of)([new Qn(ir,[])]);const Cu=Yr(T)===G;return this.processSegment(En,xt,ws,Uo,Cu?zt:G,!0).pipe((0,qe.U)(Ds=>[new Qn(ir,Ds)]))}))))}getChildConfig(b,m,T){return m.children?(0,ne.of)({routes:m.children,injector:b}):m.loadChildren?void 0!==m._loadedRoutes?(0,ne.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function wo(v,b,m,T){const P=b.canLoad;if(void 0===P||0===P.length)return(0,ne.of)(!0);const G=P.map(ie=>{const Pe=te(ie,v);return In(function se(v){return v&&A(v.canLoad)}(Pe)?Pe.canLoad(b,m):v.runInContext(()=>Pe(b,m)))});return(0,ne.of)(G).pipe(Nr(),Gs())}(b,m,T).pipe((0,Re.z)(P=>P?this.configLoader.loadChildren(b,m).pipe((0,_t.b)(G=>{m._loadedRoutes=G.routes,m._loadedInjector=G.injector})):function ka(v){return rt(Sr(!1,3))}())):(0,ne.of)({routes:[],injector:b})}}function w(v){const b=v.value.routeConfig;return b&&""===b.path}function H(v){const b=[],m=new Set;for(const T of v){if(!w(T)){b.push(T);continue}const P=b.find(G=>T.value.routeConfig===G.value.routeConfig);void 0!==P?(P.children.push(...T.children),m.add(P)):b.push(T)}for(const T of m){const P=H(T.children);b.push(new Qn(T.value,P))}return b.filter(T=>!m.has(T))}function B(v){return v.data||{}}function oe(v){return v.resolve||{}}function An(v){return"string"==typeof v.title||null===v.title}function Lr(v){return(0,Et.w)(b=>{const m=v(b);return m?(0,_e.D)(m).pipe((0,qe.U)(()=>b)):(0,ne.of)(b)})}const mr=new y.OlP("ROUTES");let Mi=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,ne.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=In(m.loadComponent()).pipe((0,qe.U)(Or),(0,_t.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=G}),Ir(()=>{this.componentLoaders.delete(m)})),P=new dt(T,()=>new Ae.x).pipe(Tr());return this.componentLoaders.set(m,P),P}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,ne.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const G=function ds(v,b,m,T){return In(v.loadChildren()).pipe((0,qe.U)(Or),(0,Re.z)(P=>P instanceof y.YKP||Array.isArray(P)?(0,ne.of)(P):(0,_e.D)(b.compileModuleAsync(P))),(0,qe.U)(P=>{T&&T(v);let G,ie,Pe=!1;return Array.isArray(P)?(ie=P,!0):(G=P.create(m).injector,ie=G.get(mr,[],{optional:!0,self:!0}).flat()),{routes:ie.map(_s),injector:G}}))}(T,this.compiler,m,this.onLoadEndListener).pipe(Ir(()=>{this.childrenLoaders.delete(T)})),ie=new dt(G,()=>new Ae.x).pipe(Tr());return this.childrenLoaders.set(T,ie),ie}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Or(v){return function uo(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let $r=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae.x,this.transitionAbortSubject=new Ae.x,this.configLoader=(0,y.f3M)(Mi),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(Wt),this.rootContexts=(0,y.f3M)(ti),this.inputBindingEnabled=null!==(0,y.f3M)(ni,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ne.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=P=>this.events.next(new Ro(P)),this.configLoader.onLoadStartListener=P=>this.events.next(new ts(P))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:T})}setupNavigations(m,T,P){return this.transitions=new ae.X({id:0,currentUrlTree:T,currentRawUrl:T,currentBrowserUrl:T,extractedUrl:m.urlHandlingStrategy.extract(T),urlAfterRedirects:m.urlHandlingStrategy.extract(T),rawUrl:T,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sn,restoredState:null,currentSnapshot:P.snapshot,targetSnapshot:null,currentRouterState:P,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Be(G=>0!==G.id),(0,qe.U)(G=>({...G,extractedUrl:m.urlHandlingStrategy.extract(G.rawUrl)})),(0,Et.w)(G=>{this.currentTransition=G;let ie=!1,Pe=!1;return(0,ne.of)(G).pipe((0,_t.b)(Ne=>{this.currentNavigation={id:Ne.id,initialUrl:Ne.rawUrl,extractedUrl:Ne.extractedUrl,trigger:Ne.source,extras:Ne.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Et.w)(Ne=>{const xt=Ne.currentBrowserUrl.toString(),En=!m.navigated||Ne.extractedUrl.toString()!==xt||xt!==Ne.currentUrlTree.toString();if(!En&&"reload"!==(Ne.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const sr="";return this.events.next(new qr(Ne.id,this.urlSerializer.serialize(Ne.rawUrl),sr,0)),Ne.resolve(null),it.E}if(m.urlHandlingStrategy.shouldProcessUrl(Ne.rawUrl))return(0,ne.of)(Ne).pipe((0,Et.w)(sr=>{const Vo=this.transitions?.getValue();return this.events.next(new Dn(sr.id,this.urlSerializer.serialize(sr.extractedUrl),sr.source,sr.restoredState)),Vo!==this.transitions?.getValue()?it.E:Promise.resolve(sr)}),function Le(v,b,m,T,P,G){return(0,Re.z)(ie=>function Is(v,b,m,T,P,G,ie="emptyOnly"){return new wi(v,b,m,T,P,ie,G).recognize()}(v,b,m,T,ie.extractedUrl,P,G).pipe((0,qe.U)(({state:Pe,tree:Ne})=>({...ie,targetSnapshot:Pe,urlAfterRedirects:Ne}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,_t.b)(sr=>{G.targetSnapshot=sr.targetSnapshot,G.urlAfterRedirects=sr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:sr.urlAfterRedirects};const Vo=new Qs(sr.id,this.urlSerializer.serialize(sr.extractedUrl),this.urlSerializer.serialize(sr.urlAfterRedirects),sr.targetSnapshot);this.events.next(Vo)}));if(En&&m.urlHandlingStrategy.shouldProcessUrl(Ne.currentRawUrl)){const{id:sr,extractedUrl:Vo,source:ws,restoredState:Uo,extras:Cu}=Ne,Ds=new Dn(sr,this.urlSerializer.serialize(Vo),ws,Uo);this.events.next(Ds);const os=kr(0,this.rootComponentType).snapshot;return this.currentTransition=G={...Ne,targetSnapshot:os,urlAfterRedirects:Vo,extras:{...Cu,skipLocationChange:!1,replaceUrl:!1}},(0,ne.of)(G)}{const sr="";return this.events.next(new qr(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),sr,1)),Ne.resolve(null),it.E}}),(0,_t.b)(Ne=>{const xt=new xo(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(xt)}),(0,qe.U)(Ne=>(this.currentTransition=G={...Ne,guards:U(Ne.targetSnapshot,Ne.currentSnapshot,this.rootContexts)},G)),function Ai(v,b){return(0,Re.z)(m=>{const{targetSnapshot:T,currentSnapshot:P,guards:{canActivateChecks:G,canDeactivateChecks:ie}}=m;return 0===ie.length&&0===G.length?(0,ne.of)({...m,guardsResult:!0}):function ii(v,b,m,T){return(0,_e.D)(v).pipe((0,Re.z)(P=>function ca(v,b,m,T,P){const G=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,ne.of)(!0);const ie=G.map(Pe=>{const Ne=Hi(b)??P,xt=te(Pe,Ne);return In(function Xn(v){return v&&A(v.canDeactivate)}(xt)?xt.canDeactivate(v,b,m,T):Ne.runInContext(()=>xt(v,b,m,T))).pipe(_n())});return(0,ne.of)(ie).pipe(Nr())}(P.component,P.route,m,b,T)),_n(P=>!0!==P,!0))}(ie,T,P,v).pipe((0,Re.z)(Pe=>Pe&&function j(v){return"boolean"==typeof v}(Pe)?function Eo(v,b,m,T){return(0,_e.D)(b).pipe(Xt(P=>ot(function No(v,b){return null!==v&&b&&b(new Js(v)),(0,ne.of)(!0)}(P.route.parent,T),function zi(v,b){return null!==v&&b&&b(new ys(v)),(0,ne.of)(!0)}(P.route,T),function Io(v,b,m){const T=b[b.length-1],G=b.slice(0,b.length-1).reverse().map(ie=>function V(v){const b=v.routeConfig?v.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:v,guards:b}:null}(ie)).filter(ie=>null!==ie).map(ie=>at(()=>{const Pe=ie.guards.map(Ne=>{const xt=Hi(ie.node)??m,En=te(Ne,xt);return In(function Lt(v){return v&&A(v.canActivateChild)}(En)?En.canActivateChild(T,v):xt.runInContext(()=>En(T,v))).pipe(_n())});return(0,ne.of)(Pe).pipe(Nr())}));return(0,ne.of)(G).pipe(Nr())}(v,P.path,m),function so(v,b,m){const T=b.routeConfig?b.routeConfig.canActivate:null;if(!T||0===T.length)return(0,ne.of)(!0);const P=T.map(G=>at(()=>{const ie=Hi(b)??m,Pe=te(G,ie);return In(function ct(v){return v&&A(v.canActivate)}(Pe)?Pe.canActivate(b,v):ie.runInContext(()=>Pe(b,v))).pipe(_n())}));return(0,ne.of)(P).pipe(Nr())}(v,P.route,m))),_n(P=>!0!==P,!0))}(T,G,v,b):(0,ne.of)(Pe)),(0,qe.U)(Pe=>({...m,guardsResult:Pe})))})}(this.environmentInjector,Ne=>this.events.next(Ne)),(0,_t.b)(Ne=>{if(G.guardsResult=Ne.guardsResult,Yn(Ne.guardsResult))throw Fs(0,Ne.guardsResult);const xt=new vo(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot,!!Ne.guardsResult);this.events.next(xt)}),Be(Ne=>!!Ne.guardsResult||(this.cancelNavigationTransition(Ne,"",3),!1)),Lr(Ne=>{if(Ne.guards.canActivateChecks.length)return(0,ne.of)(Ne).pipe((0,_t.b)(xt=>{const En=new Rs(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(En)}),(0,Et.w)(xt=>{let En=!1;return(0,ne.of)(xt).pipe(function tt(v,b){return(0,Re.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:P}}=m;if(!P.length)return(0,ne.of)(m);let G=0;return(0,_e.D)(P).pipe(Xt(ie=>function Yt(v,b,m,T){const P=v.routeConfig,G=v._resolve;return void 0!==P?.title&&!An(P)&&(G[zr]=P.title),function Fr(v,b,m,T){const P=function Kr(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===P.length)return(0,ne.of)({});const G={};return(0,_e.D)(P).pipe((0,Re.z)(ie=>function gr(v,b,m,T){const P=Hi(b)??T,G=te(v,P);return In(G.resolve?G.resolve(b,m):P.runInContext(()=>G(b,m)))}(v[ie],b,m,T).pipe(_n(),(0,_t.b)(Pe=>{G[ie]=Pe}))),Rn(1),function Vn(v){return(0,qe.U)(()=>v)}(G),un(ie=>nr(ie)?it.E:rt(ie)))}(G,v,b,T).pipe((0,qe.U)(ie=>(v._resolvedData=ie,v.data=Os(v,m).resolve,P&&An(P)&&(v.data[zr]=P.title),null)))}(ie.route,T,v,b)),(0,_t.b)(()=>G++),Rn(1),(0,Re.z)(ie=>G===P.length?(0,ne.of)(m):it.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,_t.b)({next:()=>En=!0,complete:()=>{En||this.cancelNavigationTransition(xt,"",2)}}))}),(0,_t.b)(xt=>{const En=new Xs(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(En)}))}),Lr(Ne=>{const xt=En=>{const ir=[];En.routeConfig?.loadComponent&&!En.routeConfig._loadedComponent&&ir.push(this.configLoader.loadComponent(En.routeConfig).pipe((0,_t.b)(sr=>{En.component=sr}),(0,qe.U)(()=>{})));for(const sr of En.children)ir.push(...xt(sr));return ir};return vt(xt(Ne.targetSnapshot.root)).pipe(Ke(),ye(1))}),Lr(()=>this.afterPreactivation()),(0,qe.U)(Ne=>{const xt=function Yi(v,b,m){const T=jr(v,b._root,m?m._root:void 0);return new ns(T,b)}(m.routeReuseStrategy,Ne.targetSnapshot,Ne.currentRouterState);return this.currentTransition=G={...Ne,targetRouterState:xt},G}),(0,_t.b)(()=>{this.events.next(new to)}),((v,b,m,T)=>(0,qe.U)(P=>(new zo(b,P.targetRouterState,P.currentRouterState,m,T).activate(v),P)))(this.rootContexts,m.routeReuseStrategy,Ne=>this.events.next(Ne),this.inputBindingEnabled),ye(1),(0,_t.b)({next:Ne=>{ie=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ti(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects))),m.titleStrategy?.updateTitle(Ne.targetRouterState.snapshot),Ne.resolve(!0)},complete:()=>{ie=!0}}),function nn(v){return(0,Mn.e)((b,m)=>{(0,Ye.Xf)(v).subscribe((0,ze.x)(m,()=>m.complete(),Tn.Z)),!m.closed&&b.subscribe(m)})}(this.transitionAbortSubject.pipe((0,_t.b)(Ne=>{throw Ne}))),Ir(()=>{ie||Pe||this.cancelNavigationTransition(G,"",1),this.currentNavigation?.id===G.id&&(this.currentNavigation=null)}),un(Ne=>{if(Pe=!0,gi(Ne))this.events.next(new ei(G.id,this.urlSerializer.serialize(G.extractedUrl),Ne.message,Ne.cancellationCode)),function Hs(v){return gi(v)&&Yn(v.url)}(Ne)?this.events.next(new Ho(Ne.url)):G.resolve(!1);else{this.events.next(new ar(G.id,this.urlSerializer.serialize(G.extractedUrl),Ne,G.targetSnapshot??void 0));try{G.resolve(m.errorHandler(Ne))}catch(xt){G.reject(xt)}}return it.E}))}))}cancelNavigationTransition(m,T,P){const G=new ei(m.id,this.urlSerializer.serialize(m.extractedUrl),T,P);this.events.next(G),m.resolve(!1)}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function xi(v){return v!==Sn}let Po=(()=>{class v{buildTitle(m){let T,P=m.root;for(;void 0!==P;)T=this.getResolvedTitleForRoute(P)??T,P=P.children.find(G=>G.outlet===zt);return T}getResolvedTitleForRoute(m){return m.data[zr]}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:function(){return(0,y.f3M)(Ia)},providedIn:"root"})}return v})(),Ia=(()=>{class v extends Po{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}static#e=this.\u0275fac=function(T){return new(T||v)(y.LFG(Un.Dx))};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),pt=(()=>{class v{static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:function(){return(0,y.f3M)(co)},providedIn:"root"})}return v})();class Di{shouldDetach(b){return!1}store(b,m){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,m){return b.routeConfig===m.routeConfig}}let co=(()=>{class v extends Di{static#e=this.\u0275fac=function(){let m;return function(P){return(m||(m=y.n5z(v)))(P||v)}}();static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const Va=new y.OlP("",{providedIn:"root",factory:()=>({})});let Vt=(()=>{class v{static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:function(){return(0,y.f3M)(en)},providedIn:"root"})}return v})(),en=(()=>{class v{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,T){return m}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var Eu=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(Eu||{});function Tt(v,b){v.events.pipe(Be(m=>m instanceof Ti||m instanceof ei||m instanceof ar||m instanceof qr),(0,qe.U)(m=>m instanceof Ti||m instanceof qr?Eu.COMPLETE:m instanceof ei&&(0===m.code||1===m.code)?Eu.REDIRECTING:Eu.FAILED),Be(m=>m!==Eu.REDIRECTING),ye(1)).subscribe(()=>{b()})}function Ue(v){throw v}function st(v,b,m){return b.parse("/")}const Fi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ic={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this._events=new Ae.x,this.options=(0,y.f3M)(Va,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||Ue,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||st,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(Vt),this.routeReuseStrategy=(0,y.f3M)(pt),this.titleStrategy=(0,y.f3M)(Po),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,y.f3M)(mr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,y.f3M)($r),this.urlSerializer=(0,y.f3M)(Wt),this.location=(0,y.f3M)(ln.Ye),this.componentInputBindingEnabled=!!(0,y.f3M)(ni,{optional:!0}),this.eventsSubscription=new vn.w0,this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(T=>{try{const{currentTransition:P}=this.navigationTransitions;if(null===P)return void(Bu(T)&&this._events.next(T));if(T instanceof Dn)xi(P.source)&&(this.browserUrlTree=P.extractedUrl);else if(T instanceof qr)this.rawUrlTree=P.rawUrl;else if(T instanceof Qs){if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(G,P)}this.browserUrlTree=P.urlAfterRedirects}}else if(T instanceof to)this.currentUrlTree=P.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P),this.browserUrlTree=P.urlAfterRedirects);else if(T instanceof ei)0!==T.code&&1!==T.code&&(this.navigated=!0),(3===T.code||2===T.code)&&this.restoreHistory(P);else if(T instanceof Ho){const G=this.urlHandlingStrategy.merge(T.url,P.currentRawUrl),ie={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xi(P.source)};this.scheduleNavigation(G,Sn,null,ie,{resolve:P.resolve,reject:P.reject,promise:P.promise})}T instanceof ar&&this.restoreHistory(P,!0),T instanceof Ti&&(this.navigated=!0),Bu(T)&&this._events.next(T)}catch(P){this.navigationTransitions.transitionAbortSubject.next(P)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Sn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,T,m.state)},0)}))}navigateToSyncWithBrowser(m,T,P){const G={replaceUrl:!0},ie=P?.navigationId?P:null;if(P){const Ne={...P};delete Ne.navigationId,delete Ne.\u0275routerPageId,0!==Object.keys(Ne).length&&(G.state=Ne)}const Pe=this.parseUrl(m);this.scheduleNavigation(Pe,T,ie,G)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(_s),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,T={}){const{relativeTo:P,queryParams:G,fragment:ie,queryParamsHandling:Pe,preserveFragment:Ne}=T,xt=Ne?this.currentUrlTree.fragment:ie;let ir,En=null;switch(Pe){case"merge":En={...this.currentUrlTree.queryParams,...G};break;case"preserve":En=this.currentUrlTree.queryParams;break;default:En=G||null}null!==En&&(En=this.removeEmptyProps(En));try{ir=as(P?P.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),ir=this.currentUrlTree.root}return Zi(ir,m,En,xt??null)}navigateByUrl(m,T={skipLocationChange:!1}){const P=Yn(m)?m:this.parseUrl(m),G=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(G,Sn,null,T)}navigate(m,T={skipLocationChange:!1}){return function Ja(v){for(let b=0;b<v.length;b++)if(null==v[b])throw new y.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(P){T=this.malformedUriErrorHandler(P,this.urlSerializer,m)}return T}isActive(m,T){let P;if(P=!0===T?{...Fi}:!1===T?{...ic}:T,Yn(m))return $n(this.currentUrlTree,m,P);const G=this.parseUrl(m);return $n(this.currentUrlTree,G,P)}removeEmptyProps(m){return Object.keys(m).reduce((T,P)=>{const G=m[P];return null!=G&&(T[P]=G),T},{})}scheduleNavigation(m,T,P,G,ie){if(this.disposed)return Promise.resolve(!1);let Pe,Ne,xt;ie?(Pe=ie.resolve,Ne=ie.reject,xt=ie.promise):xt=new Promise((ir,sr)=>{Pe=ir,Ne=sr});const En=this.pendingTasks.add();return Tt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(En))}),this.navigationTransitions.handleNavigationRequest({source:T,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:G,resolve:Pe,reject:Ne,promise:xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xt.catch(ir=>Promise.reject(ir))}setBrowserUrl(m,T){const P=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(P)||T.extras.replaceUrl){const ie={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(P,"",ie)}else{const G={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId+1)};this.location.go(P,"",G)}}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-this.browserPageId;0!==G?this.location.historyGo(G):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===G&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Bu(v){return!(v instanceof to||v instanceof Ho)}class Zo{}let wu=(()=>{class v{constructor(m,T,P,G,ie){this.router=m,this.injector=P,this.preloadingStrategy=G,this.loader=ie}setUpPreloading(){this.subscription=this.router.events.pipe(Be(m=>m instanceof Ti),Xt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const P=[];for(const G of T){G.providers&&!G._injector&&(G._injector=(0,y.MMx)(G.providers,m,`Route: ${G.path}`));const ie=G._injector??m,Pe=G._loadedInjector??ie;(G.loadChildren&&!G._loadedRoutes&&void 0===G.canLoad||G.loadComponent&&!G._loadedComponent)&&P.push(this.preloadConfig(ie,G)),(G.children||G._loadedRoutes)&&P.push(this.processRoutes(Pe,G.children??G._loadedRoutes))}return(0,_e.D)(P).pipe((0,jn.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let P;P=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):(0,ne.of)(null);const G=P.pipe((0,Re.z)(ie=>null===ie?(0,ne.of)(void 0):(T._loadedRoutes=ie.routes,T._loadedInjector=ie.injector,this.processRoutes(ie.injector??m,ie.routes))));if(T.loadComponent&&!T._loadedComponent){const ie=this.loader.loadComponent(T);return(0,_e.D)([G,ie]).pipe((0,jn.J)())}return G})}static#e=this.\u0275fac=function(T){return new(T||v)(y.LFG(cr),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(Zo),y.LFG(Mi))};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const qt=new y.OlP("");let Vs=(()=>{class v{constructor(m,T,P,G,ie={}){this.urlSerializer=m,this.transitions=T,this.viewportScroller=P,this.zone=G,this.options=ie,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ie.scrollPositionRestoration=ie.scrollPositionRestoration||"disabled",ie.anchorScrolling=ie.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Dn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Ti?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof qr&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof eo&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eo(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(T){y.$Z()};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac})}return v})();function jt(v,b){return{\u0275kind:v,\u0275providers:b}}function Dt(){const v=(0,y.f3M)(y.zs3);return b=>{const m=v.get(y.z2F);if(b!==m.components[0])return;const T=v.get(cr),P=v.get(Da);1===v.get(Ca)&&T.initialNavigation(),v.get(ba,null,y.XFs.Optional)?.setUpPreloading(),v.get(qt,null,y.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),P.closed||(P.next(),P.complete(),P.unsubscribe())}}const Da=new y.OlP("",{factory:()=>new Ae.x}),Ca=new y.OlP("",{providedIn:"root",factory:()=>1}),ba=new y.OlP("");function Ta(v){return jt(0,[{provide:ba,useExisting:wu},{provide:Zo,useExisting:v}])}const pr=new y.OlP("ROUTER_FORROOT_GUARD"),To=[ln.Ye,{provide:Wt,useClass:er},cr,ti,{provide:Ns,useFactory:function hi(v){return v.routerState.root},deps:[cr]},Mi,[]];function eu(){return new y.PXZ("Router",cr)}let Me=(()=>{class v{constructor(m){}static forRoot(m,T){return{ngModule:v,providers:[To,[],{provide:mr,multi:!0,useValue:m},{provide:pr,useFactory:Qo,deps:[[cr,new y.FiY,new y.tp0]]},{provide:Va,useValue:T||{}},T?.useHash?{provide:ln.S$,useClass:ln.Do}:{provide:ln.S$,useClass:ln.b0},{provide:qt,useFactory:()=>{const v=(0,y.f3M)(ln.EM),b=(0,y.f3M)(y.R0b),m=(0,y.f3M)(Va),T=(0,y.f3M)($r),P=(0,y.f3M)(Wt);return m.scrollOffset&&v.setOffset(m.scrollOffset),new Vs(P,T,v,b,m)}},T?.preloadingStrategy?Ta(T.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:eu},T?.initialNavigation?Fo(T):[],T?.bindToComponentInputs?jt(8,[xr,{provide:ni,useExisting:xr}]).\u0275providers:[],[{provide:Ba,useFactory:Dt},{provide:y.tb,multi:!0,useExisting:Ba}]]}}static forChild(m){return{ngModule:v,providers:[{provide:mr,multi:!0,useValue:m}]}}static#e=this.\u0275fac=function(T){return new(T||v)(y.LFG(pr,8))};static#t=this.\u0275mod=y.oAB({type:v});static#n=this.\u0275inj=y.cJS({})}return v})();function Qo(v){return"guarded"}function Fo(v){return["disabled"===v.initialNavigation?jt(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const b=(0,y.f3M)(cr);return()=>{b.setUpLocationChangeListener()}}},{provide:Ca,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?jt(2,[{provide:Ca,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:b=>{const m=b.get(ln.V_,Promise.resolve());return()=>m.then(()=>new Promise(T=>{const P=b.get(cr),G=b.get(Da);Tt(P,()=>{T(!0)}),b.get($r).afterPreactivation=()=>(T(!0),G.closed?(0,ne.of)(void 0):G),P.initialNavigation()}))}}]).\u0275providers:[]]}const Ba=new y.OlP("")},534:(an,Xe,W)=>{W.d(Xe,{Jn:()=>fi,qX:()=>tr,Xd:()=>In,Mq:()=>Br,C6:()=>_r,ZF:()=>Mr,KN:()=>_i});var y=W(5861),ue=W(4537),K=W(7879),be=W(9058);const _e=(Ve,Se)=>Se.some(ut=>Ve instanceof ut);let ne,ae;const fe=new WeakMap,le=new WeakMap,ke=new WeakMap,ze=new WeakMap,Ee=new WeakMap;let Ct={get(Ve,Se,ut){if(Ve instanceof IDBTransaction){if("done"===Se)return le.get(Ve);if("objectStoreNames"===Se)return Ve.objectStoreNames||ke.get(Ve);if("store"===Se)return ut.objectStoreNames[1]?void 0:ut.objectStore(ut.objectStoreNames[0])}return We(Ve[Se])},set:(Ve,Se,ut)=>(Ve[Se]=ut,!0),has:(Ve,Se)=>Ve instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in Ve};function jn(Ve){return"function"==typeof Ve?function Fn(Ve){return Ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ve)?function(...Se){return Ve.apply(ot(this),Se),We(fe.get(this))}:function(...Se){return We(Ve.apply(ot(this),Se))}:function(Se,...ut){const Mt=Ve.call(ot(this),Se,...ut);return ke.set(Mt,Se.sort?Se.sort():[Se]),We(Mt)}}(Ve):(Ve instanceof IDBTransaction&&function nt(Ve){if(le.has(Ve))return;const Se=new Promise((ut,Mt)=>{const on=()=>{Ve.removeEventListener("complete",Ot),Ve.removeEventListener("error",wn),Ve.removeEventListener("abort",wn)},Ot=()=>{ut(),on()},wn=()=>{Mt(Ve.error||new DOMException("AbortError","AbortError")),on()};Ve.addEventListener("complete",Ot),Ve.addEventListener("error",wn),Ve.addEventListener("abort",wn)});le.set(Ve,Se)}(Ve),_e(Ve,function Ge(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ve,Ct):Ve)}function We(Ve){if(Ve instanceof IDBRequest)return function vt(Ve){const Se=new Promise((ut,Mt)=>{const on=()=>{Ve.removeEventListener("success",Ot),Ve.removeEventListener("error",wn)},Ot=()=>{ut(We(Ve.result)),on()},wn=()=>{Mt(Ve.error),on()};Ve.addEventListener("success",Ot),Ve.addEventListener("error",wn)});return Se.then(ut=>{ut instanceof IDBCursor&&fe.set(ut,Ve)}).catch(()=>{}),Ee.set(Se,Ve),Se}(Ve);if(ze.has(Ve))return ze.get(Ve);const Se=jn(Ve);return Se!==Ve&&(ze.set(Ve,Se),Ee.set(Se,Ve)),Se}const ot=Ve=>Ee.get(Ve),mt=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],it=new Map;function vn(Ve,Se){if(!(Ve instanceof IDBDatabase)||Se in Ve||"string"!=typeof Se)return;if(it.get(Se))return it.get(Se);const ut=Se.replace(/FromIndex$/,""),Mt=Se!==ut,on=rt.includes(ut);if(!(ut in(Mt?IDBIndex:IDBObjectStore).prototype)||!on&&!mt.includes(ut))return;const Ot=function(){var wn=(0,y.Z)(function*(Pr,...Yn){const ai=this.transaction(Pr,on?"readwrite":"readonly");let as=ai.store;return Mt&&(as=as.index(Yn.shift())),(yield Promise.all([as[ut](...Yn),on&&ai.done]))[0]});return function(Yn){return wn.apply(this,arguments)}}();return it.set(Se,Ot),Ot}!function Kt(Ve){Ct=Ve(Ct)}(Ve=>({...Ve,get:(Se,ut,Mt)=>vn(Se,ut)||Ve.get(Se,ut,Mt),has:(Se,ut)=>!!vn(Se,ut)||Ve.has(Se,ut)}));class Mn{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function Tr(Ve){const Se=Ve.getComponent();return"VERSION"===Se?.type}(ut)){const Mt=ut.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(ut=>ut).join(" ")}}const dt="@firebase/app",ln=new K.Yd("@firebase/app"),hr="[DEFAULT]",gn={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dn=new Map,Zn=new Map;function wr(Ve,Se){try{Ve.container.addComponent(Se)}catch(ut){ln.debug(`Component ${Se.name} failed to register with FirebaseApp ${Ve.name}`,ut)}}function In(Ve){const Se=Ve.name;if(Zn.has(Se))return ln.debug(`There were multiple attempts to register component ${Se}.`),!1;Zn.set(Se,Ve);for(const ut of dn.values())wr(ut,Ve);return!0}function tr(Ve,Se){const ut=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),Ve.container.getProvider(Se)}const bt=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vi{constructor(Se,ut,Mt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new ue.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw bt.create("app-deleted",{appName:this._name})}}const fi="9.23.0";function Mr(Ve,Se={}){let ut=Ve;"object"!=typeof Se&&(Se={name:Se});const Mt=Object.assign({name:hr,automaticDataCollectionEnabled:!1},Se),on=Mt.name;if("string"!=typeof on||!on)throw bt.create("bad-app-name",{appName:String(on)});if(ut||(ut=(0,be.aH)()),!ut)throw bt.create("no-options");const Ot=dn.get(on);if(Ot){if((0,be.vZ)(ut,Ot.options)&&(0,be.vZ)(Mt,Ot.config))return Ot;throw bt.create("duplicate-app",{appName:on})}const wn=new ue.H0(on);for(const Yn of Zn.values())wn.addComponent(Yn);const Pr=new vi(ut,Mt,wn);return dn.set(on,Pr),Pr}function Br(Ve=hr){const Se=dn.get(Ve);if(!Se&&Ve===hr&&(0,be.aH)())return Mr();if(!Se)throw bt.create("no-app",{appName:Ve});return Se}function _r(){return Array.from(dn.values())}function _i(Ve,Se,ut){var Mt;let on=null!==(Mt=gn[Ve])&&void 0!==Mt?Mt:Ve;ut&&(on+=`-${ut}`);const Ot=on.match(/\s|\//),wn=Se.match(/\s|\//);if(Ot||wn){const Pr=[`Unable to register library "${on}" with version "${Se}":`];return Ot&&Pr.push(`library name "${on}" contains illegal characters (whitespace or "/")`),Ot&&wn&&Pr.push("and"),wn&&Pr.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void ln.warn(Pr.join(" "))}In(new ue.wA(`${on}-version`,()=>({library:on,version:Se}),"VERSION"))}const Wt="firebase-heartbeat-database",er=1,he="firebase-heartbeat-store";let q=null;function Z(){return q||(q=function Ye(Ve,Se,{blocked:ut,upgrade:Mt,blocking:on,terminated:Ot}={}){const wn=indexedDB.open(Ve,Se),Pr=We(wn);return Mt&&wn.addEventListener("upgradeneeded",Yn=>{Mt(We(wn.result),Yn.oldVersion,Yn.newVersion,We(wn.transaction),Yn)}),ut&&wn.addEventListener("blocked",Yn=>ut(Yn.oldVersion,Yn.newVersion,Yn)),Pr.then(Yn=>{Ot&&Yn.addEventListener("close",()=>Ot()),on&&Yn.addEventListener("versionchange",ai=>on(ai.oldVersion,ai.newVersion,ai))}).catch(()=>{}),Pr}(Wt,er,{upgrade:(Ve,Se)=>{0===Se&&Ve.createObjectStore(he)}}).catch(Ve=>{throw bt.create("idb-open",{originalErrorMessage:Ve.message})})),q}function J(){return(J=(0,y.Z)(function*(Ve){try{return yield(yield Z()).transaction(he).objectStore(he).get(It(Ve))}catch(Se){if(Se instanceof be.ZR)ln.warn(Se.message);else{const ut=bt.create("idb-get",{originalErrorMessage:Se?.message});ln.warn(ut.message)}}})).apply(this,arguments)}function we(Ve,Se){return et.apply(this,arguments)}function et(){return(et=(0,y.Z)(function*(Ve,Se){try{const Mt=(yield Z()).transaction(he,"readwrite");yield Mt.objectStore(he).put(Se,It(Ve)),yield Mt.done}catch(ut){if(ut instanceof be.ZR)ln.warn(ut.message);else{const Mt=bt.create("idb-set",{originalErrorMessage:ut?.message});ln.warn(Mt.message)}}})).apply(this,arguments)}function It(Ve){return`${Ve.name}!${Ve.options.appId}`}class Nn{constructor(Se){this.container=Se,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new Dr(ut),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Se=this;return(0,y.Z)(function*(){const Mt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),on=sn();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==on&&!Se._heartbeatsCache.heartbeats.some(Ot=>Ot.date===on))return Se._heartbeatsCache.heartbeats.push({date:on,agent:Mt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Ot=>{const wn=new Date(Ot.date).valueOf();return Date.now()-wn<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,y.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const ut=sn(),{heartbeatsToSend:Mt,unsentEntries:on}=function zn(Ve,Se=1024){const ut=[];let Mt=Ve.slice();for(const on of Ve){const Ot=ut.find(wn=>wn.agent===on.agent);if(Ot){if(Ot.dates.push(on.date),Jr(ut)>Se){Ot.dates.pop();break}}else if(ut.push({agent:on.agent,dates:[on.date]}),Jr(ut)>Se){ut.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:ut,unsentEntries:Mt}}(Se._heartbeatsCache.heartbeats),Ot=(0,be.L)(JSON.stringify({version:2,heartbeats:Mt}));return Se._heartbeatsCache.lastSentHeartbeatDate=ut,on.length>0?(Se._heartbeatsCache.heartbeats=on,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Ot})()}}function sn(){return(new Date).toISOString().substring(0,10)}class Dr{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,y.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Y(Ve){return J.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var ut=this;return(0,y.Z)(function*(){var Mt;if(yield ut._canUseIndexedDBPromise){const Ot=yield ut.read();return we(ut.app,{lastSentHeartbeatDate:null!==(Mt=Se.lastSentHeartbeatDate)&&void 0!==Mt?Mt:Ot.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var ut=this;return(0,y.Z)(function*(){var Mt;if(yield ut._canUseIndexedDBPromise){const Ot=yield ut.read();return we(ut.app,{lastSentHeartbeatDate:null!==(Mt=Se.lastSentHeartbeatDate)&&void 0!==Mt?Mt:Ot.lastSentHeartbeatDate,heartbeats:[...Ot.heartbeats,...Se.heartbeats]})}})()}}function Jr(Ve){return(0,be.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function oi(Ve){In(new ue.wA("platform-logger",Se=>new Mn(Se),"PRIVATE")),In(new ue.wA("heartbeat",Se=>new Nn(Se),"PRIVATE")),_i(dt,"0.9.13",Ve),_i(dt,"0.9.13","esm2017"),_i("fire-js","")}("")},4537:(an,Xe,W)=>{W.d(Xe,{H0:()=>Ge,wA:()=>K});var y=W(5861),ue=W(9058);class K{constructor(fe,le,ke){this.name=fe,this.instanceFactory=le,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const be="[DEFAULT]";class _e{constructor(fe,le){this.name=fe,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const le=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(le)){const ke=new ue.BH;if(this.instancesDeferred.set(le,ke),this.isInitialized(le)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:le});ze&&ke.resolve(ze)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(fe){var le;const ke=this.normalizeInstanceIdentifier(fe?.identifier),ze=null!==(le=fe?.optional)&&void 0!==le&&le;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(Ee){if(ze)return null;throw Ee}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function ae(je){return"EAGER"===je.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[le,ke]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(le);try{const Ee=this.getOrInitializeService({instanceIdentifier:ze});ke.resolve(Ee)}catch{}}}}clearInstance(fe=be){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,y.Z)(function*(){const le=Array.from(fe.instances.values());yield Promise.all([...le.filter(ke=>"INTERNAL"in ke).map(ke=>ke.INTERNAL.delete()),...le.filter(ke=>"_delete"in ke).map(ke=>ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=be){return this.instances.has(fe)}getOptions(fe=be){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:le={}}=fe,ke=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(ke))throw Error(`${this.name}(${ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ke,options:le});for(const[Ee,vt]of this.instancesDeferred.entries())ke===this.normalizeInstanceIdentifier(Ee)&&vt.resolve(ze);return ze}onInit(fe,le){var ke;const ze=this.normalizeInstanceIdentifier(le),Ee=null!==(ke=this.onInitCallbacks.get(ze))&&void 0!==ke?ke:new Set;Ee.add(fe),this.onInitCallbacks.set(ze,Ee);const vt=this.instances.get(ze);return vt&&fe(vt,ze),()=>{Ee.delete(fe)}}invokeOnInitCallbacks(fe,le){const ke=this.onInitCallbacks.get(le);if(ke)for(const ze of ke)try{ze(fe,le)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:le={}}){let ke=this.instances.get(fe);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:(je=fe,je===be?void 0:je),options:le}),this.instances.set(fe,ke),this.instancesOptions.set(fe,le),this.invokeOnInitCallbacks(ke,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,ke)}catch{}var je;return ke||null}normalizeInstanceIdentifier(fe=be){return this.component?this.component.multipleInstances?fe:be:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ge{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const le=this.getProvider(fe.name);if(le.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);le.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const le=new _e(fe,this);return this.providers.set(fe,le),le}getProviders(){return Array.from(this.providers.values())}}},7879:(an,Xe,W)=>{W.d(Xe,{Yd:()=>ae,in:()=>ue});const y=[];var ue=function(fe){return fe[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",fe}(ue||{});const K={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},be=ue.INFO,_e={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},ne=(fe,le,...ke)=>{if(le<fe.logLevel)return;const ze=(new Date).toISOString(),Ee=_e[le];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Ee](`[${ze}]  ${fe.name}:`,...ke)};class ae{constructor(le){this.name=le,this._logLevel=be,this._logHandler=ne,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in ue))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?K[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...le),this._logHandler(this,ue.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...le),this._logHandler(this,ue.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...le),this._logHandler(this,ue.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...le),this._logHandler(this,ue.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...le),this._logHandler(this,ue.ERROR,...le)}}},3182:(an,Xe,W)=>{W.d(Xe,{C6:()=>y.C6,KN:()=>y.KN,Mq:()=>y.Mq,ZF:()=>y.ZF});var y=W(534);(0,y.KN)("firebase","9.23.0","app")},5861:(an,Xe,W)=>{function y(K,be,_e,ne,ae,Ge,je){try{var fe=K[Ge](je),le=fe.value}catch(ke){return void _e(ke)}fe.done?be(le):Promise.resolve(le).then(ne,ae)}function ue(K){return function(){var be=this,_e=arguments;return new Promise(function(ne,ae){var Ge=K.apply(be,_e);function je(le){y(Ge,ne,ae,je,fe,"next",le)}function fe(le){y(Ge,ne,ae,je,fe,"throw",le)}je(void 0)})}}W.d(Xe,{Z:()=>ue})},7582:(an,Xe,W)=>{function be(ye,Fe){var Be={};for(var Re in ye)Object.prototype.hasOwnProperty.call(ye,Re)&&Fe.indexOf(Re)<0&&(Be[Re]=ye[Re]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Re=Object.getOwnPropertySymbols(ye);Ke<Re.length;Ke++)Fe.indexOf(Re[Ke])<0&&Object.prototype.propertyIsEnumerable.call(ye,Re[Ke])&&(Be[Re[Ke]]=ye[Re[Ke]])}return Be}function ke(ye,Fe,Be,Re){return new(Be||(Be=Promise))(function(ft,Bt){function _n(un){try{_t(Re.next(un))}catch(Kn){Bt(Kn)}}function Xt(un){try{_t(Re.throw(un))}catch(Kn){Bt(Kn)}}function _t(un){un.done?ft(un.value):function Ke(ft){return ft instanceof Be?ft:new Be(function(Bt){Bt(ft)})}(un.value).then(_n,Xt)}_t((Re=Re.apply(ye,Fe||[])).next())})}function We(ye){return this instanceof We?(this.v=ye,this):new We(ye)}function ot(ye,Fe,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Re=Be.apply(ye,Fe||[]),ft=[];return Ke={},Bt("next"),Bt("throw"),Bt("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function Bt(xn){Re[xn]&&(Ke[xn]=function(Rn){return new Promise(function(Ln,Vn){ft.push([xn,Rn,Ln,Vn])>1||_n(xn,Rn)})})}function _n(xn,Rn){try{!function Xt(xn){xn.value instanceof We?Promise.resolve(xn.value.v).then(_t,un):Kn(ft[0][2],xn)}(Re[xn](Rn))}catch(Ln){Kn(ft[0][3],Ln)}}function _t(xn){_n("next",xn)}function un(xn){_n("throw",xn)}function Kn(xn,Rn){xn(Rn),ft.shift(),ft.length&&_n(ft[0][0],ft[0][1])}}function at(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Fe=ye[Symbol.asyncIterator];return Fe?Fe.call(ye):(ye=function nt(ye){var Fe="function"==typeof Symbol&&Symbol.iterator,Be=Fe&&ye[Fe],Re=0;if(Be)return Be.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Re>=ye.length&&(ye=void 0),{value:ye&&ye[Re++],done:!ye}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),Be={},Re("next"),Re("throw"),Re("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function Re(ft){Be[ft]=ye[ft]&&function(Bt){return new Promise(function(_n,Xt){!function Ke(ft,Bt,_n,Xt){Promise.resolve(Xt).then(function(_t){ft({value:_t,done:_n})},Bt)}(_n,Xt,(Bt=ye[ft](Bt)).done,Bt.value)})}}}W.d(Xe,{FC:()=>ot,KL:()=>at,_T:()=>be,mG:()=>ke,qq:()=>We}),"function"==typeof SuppressedError&&SuppressedError}},an=>{an(an.s=1300)}]);