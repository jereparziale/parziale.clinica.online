"use strict";(self.webpackChunktp_clinica_online=self.webpackChunktp_clinica_online||[]).push([[811],{6811:(A,p,o)=>{o.r(p),o.d(p,{MisPacientesModule:()=>Z});var r=o(6814),u=o(5920),t=o(4946),g=o(1487),m=o(9213),h=o(3530),d=o(420);function f(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){const a=t.CHM(i).$implicit,l=t.oxw(3);return t.KtG(l.seleccionarPaciente(a))}),t._uU(1),t.qZA()}if(2&e){const i=s.$implicit;t.xp6(1),t.hij(" ",i.nombre+" "+i.apellido+" DNI: "+i.dni," ")}}function v(e,s){if(1&e&&(t.TgZ(0,"div",6),t.YNc(1,f,2,1,"div",7),t.qZA()),2&e){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.pacientes)}}function P(e,s){1&e&&(t.TgZ(0,"div",9),t._uU(1," Aun no atendio ningun paciente. "),t.qZA())}function x(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"h3",3),t._uU(2,"Seleccione el paciente a buscar historia medica"),t.qZA(),t.YNc(3,v,2,1,"div",4),t.YNc(4,P,2,0,"div",5),t.BQk()),2&e){const i=t.oxw();t.xp6(3),t.Q6J("ngIf",i.pacientes.length>0),t.xp6(1),t.Q6J("ngIf",0===i.pacientes.length)}}function _(e,s){if(1&e&&(t.ynx(0),t._UZ(1,"app-historia-clinica",10),t.BQk()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("paciente",i.pacienteSeleccionado)}}const C=[{path:"",redirectTo:"",pathMatch:"full"},{path:"",component:(()=>{class e{constructor(i,n,c){this.usuarioService=i,this.userAuthService=n,this.turnosService=c,this.pacientes=[],this.pacientesSinDuplicados=[],this.mostrarHistoriaPaciente=!1}ngOnInit(){this.obtenerPacientes()}obtenerPacientes(){this.userAuthService.estadoLogObservable().subscribe(i=>{i&&this.turnosService.traerPorEspecialista(i.email).subscribe(n=>{const c=n.map(a=>a.pacienteEmail);this.obtenerPacientesPorEmails(c)})})}obtenerPacientesPorEmails(i){const n=[];i.forEach(a=>{this.usuarioService.traerUno(a).subscribe(l=>{n.push(l[0]),n.length===i.length&&(console.log(n),this.pacientes=[...n])})})}seleccionarPaciente(i){this.pacienteSeleccionado=i,console.log(this.pacienteSeleccionado),this.mostrarHistoriaPaciente=!0}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(g.i),t.Y36(m.H),t.Y36(h.D))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-page"]],decls:4,vars:2,consts:[[1,"row"],[1,"col-lg-6","mx-auto"],[4,"ngIf"],[1,"display-6"],["class","list-group list-group-flush ",4,"ngIf"],["class","alert alert-warning mt-3",4,"ngIf"],[1,"list-group","list-group-flush"],["class","list-group-item list-group-item-action list-group-item-light",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","list-group-item-light",3,"click"],[1,"alert","alert-warning","mt-3"],[3,"paciente"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,x,5,2,"ng-container",2),t.YNc(3,_,2,1,"ng-container",2),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngIf",!c.mostrarHistoriaPaciente),t.xp6(1),t.Q6J("ngIf",c.mostrarHistoriaPaciente))},dependencies:[r.sg,r.O5,d.p]})}return e})()}];let S=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[[u.Bz.forChild(C)],r.ez,u.Bz]})}return e})();var T=o(8524);let Z=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[r.ez,S,T.m]})}return e})()}}]);