"use strict";(self.webpackChunktp_clinica_online=self.webpackChunktp_clinica_online||[]).push([[392],{6392:(M,C,s)=>{s.r(C),s.d(C,{AuthModule:()=>Q});var _=s(6814),b=s(5920),i=s(4946),h=s(5723),y=s(3519),g=s.n(y),e=s(9213),v=s(1487),m=s(95),x=s(4113);let T=(()=>{class c{constructor(r){this.ImagenesService=r,this.usuarioEmail="",this.contrasenia="",this.urlImagen="",this.seleccionarUsuario=new i.vpe}ngOnInit(){this.ImagenesService.getImagen("imagesUsuarios",this.usuarioEmail,"1").then(r=>{this.urlImagen=r})}onImagenClick(){this.seleccionarUsuario.emit({email:this.usuarioEmail,password:this.contrasenia})}static#e=this.\u0275fac=function(u){return new(u||c)(i.Y36(x.j))};static#i=this.\u0275cmp=i.Xpm({type:c,selectors:[["app-accesos-rapidos"]],inputs:{usuarioEmail:"usuarioEmail",contrasenia:"contrasenia"},outputs:{seleccionarUsuario:"seleccionarUsuario"},decls:2,vars:1,consts:[[1,"usuario-rapido"],["alt","Imagen de perfil",1,"img-fluid",3,"src","click"]],template:function(u,d){1&u&&(i.TgZ(0,"div",0)(1,"img",1),i.NdJ("click",function(){return d.onImagenClick()}),i.qZA()()),2&u&&(i.xp6(1),i.Q6J("src",d.urlImagen,i.LSH))},styles:['@charset "UTF-8";.usuario-rapido[_ngcontent-%COMP%]{width:100px;height:100px;margin:5px;border-radius:5px;display:flex;flex-direction:column;align-items:center;cursor:pointer}.usuario-rapido[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:5px}']})}return c})();function N(c,Z){if(1&c){const r=i.EpF();i.TgZ(0,"div")(1,"app-accesos-rapidos",14),i.NdJ("seleccionarUsuario",function(d){i.CHM(r);const f=i.oxw();return i.KtG(f.cargarUsuarioSeleccionado(d))}),i.qZA()()}if(2&c){const r=Z.$implicit;i.xp6(1),i.Q6J("usuarioEmail",r.email)("contrasenia",r.password)}}function w(c,Z){if(1&c){const r=i.EpF();i.TgZ(0,"div")(1,"app-accesos-rapidos",14),i.NdJ("seleccionarUsuario",function(d){i.CHM(r);const f=i.oxw();return i.KtG(f.cargarUsuarioSeleccionado(d))}),i.qZA()()}if(2&c){const r=Z.$implicit;i.xp6(1),i.Q6J("usuarioEmail",r.email)("contrasenia",r.password)}}function J(c,Z){if(1&c){const r=i.EpF();i.TgZ(0,"div")(1,"app-accesos-rapidos",14),i.NdJ("seleccionarUsuario",function(d){i.CHM(r);const f=i.oxw();return i.KtG(f.cargarUsuarioSeleccionado(d))}),i.qZA()()}if(2&c){const r=Z.$implicit;i.xp6(1),i.Q6J("usuarioEmail",r.email)("contrasenia",r.password)}}const q=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class c{constructor(r,u,d){this.UserAuthService=r,this.router=u,this.UsuarioService=d,this.firestore=(0,i.f3M)(h.gg),this.emailAccesoRapido="",this.passwordAccesoRapido="",this.cargando=!1,this.usuario={email:"",password:""},this.usuariosPaciente=[{email:"mfggwrmjxlamfmvmvn@cwmxc.com",password:"12345678"},{email:"daxojin269@bixolabs.com",password:"12345678"},{email:"xskiehvdakadgmorea@cazlg.com",password:"12345678"}],this.usuariosAdmin=[{email:"angpowhmmjtxnwjvls@cazlp.com",password:"12345678"}],this.usuariosEspecialista=[{email:"wynvnzrvewuxpoxihk@cazlv.com",password:"12345678"},{email:"yecet48204@eachart.com",password:"12345678"}]}login(){this.cargando=!0,this.observable=this.UsuarioService.traerUno(this.usuario.email).subscribe(r=>{r[0]?"paciente"===r[0].tipoUsuario||"admin"===r[0].tipoUsuario&&r[0].accesoConcedido||"especialista"===r[0].tipoUsuario&&r[0].accesoConcedido?this.autenticar():(g().fire({icon:"info",title:"Acceso Denegado",text:"Contactate con el administrador para recibir el acceso"}),this.cargando=!1):(this.cargando=!1,g().fire({icon:"error",title:"Usuario inexistente",text:"Revisa el mail ingresado"}))})}autenticar(){this.UserAuthService.login(this.usuario).then(r=>{r.user.emailVerified?this.router.navigateByUrl("home"):g().fire({icon:"info",title:"Registro Pendiente",text:"Debes verificar tu direccion de correo para continuar"})}).catch(r=>{console.error(r.message)}).finally(()=>{this.cargando=!1})}registro(){}ngOnDestroy(){this.observable&&this.observable.unsubscribe()}cargarUsuarioSeleccionado(r){this.usuario.email=r.email,this.usuario.password=r.password}static#e=this.\u0275fac=function(u){return new(u||c)(i.Y36(e.H),i.Y36(b.F0),i.Y36(v.i))};static#i=this.\u0275cmp=i.Xpm({type:c,selectors:[["app-login"]],decls:33,vars:7,consts:[[1,"container"],[1,"row"],[1,"col-md-7"],[1,"form-outline","mb-4"],["for","form2Example17",1,"form-label"],["type","email","id","form2Example17","name","email",1,"form-control","form-control-lg",3,"ngModel","value","ngModelChange"],["for","form2Example27",1,"form-label"],["name","password","type","password","id","form2Example27",1,"form-control","form-control-lg",3,"ngModel","value","ngModelChange"],["type","button",1,"btn","btn-dark","btn-lg","btn-block",3,"click"],[1,"col-md-5"],[1,"grupo-usuarios"],[1,"display-6"],[4,"ngFor","ngForOf"],[1,"d-flex"],[3,"usuarioEmail","contrasenia","seleccionarUsuario"]],template:function(u,d){1&u&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),i._uU(4,"INGRESA CON TU CUENTA"),i.qZA(),i.TgZ(5,"form")(6,"div",3)(7,"label",4),i._uU(8,"Email"),i.qZA(),i.TgZ(9,"input",5),i.NdJ("ngModelChange",function(U){return d.usuario.email=U}),i.qZA()(),i.TgZ(10,"div",3)(11,"label",6),i._uU(12,"Contrase\xf1a"),i.qZA(),i.TgZ(13,"input",7),i.NdJ("ngModelChange",function(U){return d.usuario.password=U}),i.qZA()(),i.TgZ(14,"button",8),i.NdJ("click",function(){return d.login()}),i._uU(15,"Ingresar"),i.qZA()()(),i.TgZ(16,"div",9)(17,"h2"),i._uU(18,"ACCESOS RAPIDOS"),i.qZA(),i.TgZ(19,"div",10)(20,"span",11),i._uU(21,"Administrador"),i.qZA(),i.YNc(22,N,2,2,"div",12),i.qZA(),i.TgZ(23,"div",10)(24,"span",11),i._uU(25,"Paciente"),i.qZA(),i.TgZ(26,"div",13),i.YNc(27,w,2,2,"div",12),i.qZA()(),i.TgZ(28,"div",10)(29,"span",11),i._uU(30,"Especialista"),i.qZA(),i.TgZ(31,"div",13),i.YNc(32,J,2,2,"div",12),i.qZA()()()()()),2&u&&(i.xp6(9),i.Q6J("ngModel",d.usuario.email)("value",d.emailAccesoRapido),i.xp6(4),i.Q6J("ngModel",d.usuario.password)("value",d.passwordAccesoRapido),i.xp6(9),i.Q6J("ngForOf",d.usuariosAdmin),i.xp6(5),i.Q6J("ngForOf",d.usuariosPaciente),i.xp6(5),i.Q6J("ngForOf",d.usuariosEspecialista))},dependencies:[_.sg,m._Y,m.Fj,m.JJ,m.JL,m.On,m.F,T],styles:[".gradient-custom[_ngcontent-%COMP%]{background:linear-gradient(to left,#1977cc,#fff)}.grupo-usuarios[_ngcontent-%COMP%]{margin-bottom:20px}.accesosRapidos[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})}return c})()},{path:"register",component:s(7007).y}];let k=(()=>{class c{static#e=this.\u0275fac=function(u){return new(u||c)};static#i=this.\u0275mod=i.oAB({type:c});static#n=this.\u0275inj=i.cJS({imports:[[b.Bz.forChild(q)],_.ez,b.Bz]})}return c})();var E=s(8524);let Q=(()=>{class c{static#e=this.\u0275fac=function(u){return new(u||c)};static#i=this.\u0275mod=i.oAB({type:c});static#n=this.\u0275inj=i.cJS({imports:[_.ez,k,m.UX,m.u5,E.m]})}return c})()},7007:(M,C,s)=>{s.d(C,{y:()=>K});var _=s(3519),b=s.n(_),i=s(95),h=s(8976);class y extends h.b{constructor(l,n,o,t,p,A,P){super(l,n,o,t,p,A),this.obraSocial=P}toJSON(){return{nombre:this.nombre,apellido:this.apellido,edad:this.edad,dni:this.dni,mail:this.mail,tipoUsuario:this.tipoUsuario,obraSocial:this.obraSocial}}}var g=s(1448),e=s(4946),v=s(9213),m=s(1487),x=s(5723);let T=(()=>{class a{constructor(){this.firestore=(0,e.f3M)(x.gg),this.instanciaFirestore=(0,x.hJ)(this.firestore,"obrasSociales")}todos(){return(0,x.BS)(this.instanciaFirestore)}static#e=this.\u0275fac=function(o){return new(o||a)};static#i=this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var N=s(6656),w=s(4113),J=s(5920),I=s(6814);let S=(()=>{class a{constructor(){this.imagenes=[{path:"./assets/captcha_1.png",textoSubrayado:"mxyxq"},{path:"./assets/captcha_2.png",textoSubrayado:"x2cnn"},{path:"./assets/captcha_3.png",textoSubrayado:"74853"},{path:"./assets/captcha_4.png",textoSubrayado:"n4xx5"}],this.captchaVerificado=new e.vpe,this.imagenSeleccionada="",this.respuestaUsuario="",this.seleccionarImagenAleatoria()}seleccionarImagenAleatoria(){const n=Math.floor(Math.random()*this.imagenes.length);this.imagenSeleccionada=this.imagenes[n].path}verificarCaptcha(){this.imagenes.find(o=>o.path===this.imagenSeleccionada&&o.textoSubrayado===this.respuestaUsuario)?(this.captchaVerificado.emit(!0),console.log("Captcha v\xe1lido. \xa1No es un robot!")):(this.captchaVerificado.emit(!0),console.log("Captcha inv\xe1lido. Podr\xeda ser un robot."),this.seleccionarImagenAleatoria(),this.respuestaUsuario="")}static#e=this.\u0275fac=function(o){return new(o||a)};static#i=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-captcha"]],outputs:{captchaVerificado:"captchaVerificado"},decls:8,vars:2,consts:[[1,"form-control-group","col-5","mt-4"],["alt","Captcha Image",3,"src"],[1,"form-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-dark","mt-2",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"img",1)(2,"br"),e.TgZ(3,"label",2),e._uU(4,"Ingrese el texto de la imagen"),e.qZA(),e.TgZ(5,"input",3),e.NdJ("ngModelChange",function(A){return t.respuestaUsuario=A}),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return t.verificarCaptcha()}),e._uU(7,"Verificar"),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("src",t.imagenSeleccionada,e.LSH),e.xp6(4),e.Q6J("ngModel",t.respuestaUsuario))},dependencies:[i.Fj,i.JJ,i.On]})}return a})();function q(a,l){1&a&&(e.ynx(0),e.TgZ(1,"div")(2,"div",2)(3,"span",3),e._uU(4,"Cargando..."),e.qZA()()(),e.BQk())}function k(a,l){if(1&a){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"p",5),e._uU(3," Seleccione el tipo de usuario a registrar "),e.qZA(),e.TgZ(4,"div",6)(5,"button",7),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.registrarProfesional())}),e._uU(6,"Profesional"),e.qZA(),e.TgZ(7,"button",8),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.registrarPaciente())}),e._uU(8,"Paciente"),e.qZA()()(),e.BQk()}}function E(a,l){if(1&a&&(e.TgZ(0,"option",58),e._uU(1),e.qZA()),2&a){const n=l.$implicit;e.Q6J("value",n.especialidad),e.xp6(1),e.hij("",n.especialidad," ")}}function Q(a,l){if(1&a&&(e.TgZ(0,"div",59),e._UZ(1,"input",60),e.TgZ(2,"label",61),e._uU(3),e.qZA()()),2&a){const n=l.$implicit;e.xp6(1),e.Q6J("formControlName",n)("id",n)("value",n),e.xp6(1),e.Q6J("for",n),e.xp6(1),e.Oqu(n)}}function c(a,l){1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2,"S\xf3lo debe contener solo letras"),e.qZA(),e.BQk())}function Z(a,l){1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2,"S\xf3lo debe contener solo letras"),e.qZA(),e.BQk())}function r(a,l){if(1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2),e.qZA(),e.BQk()),2&a){const n=e.oxw(3);e.xp6(2),e.hij(" El dni debe tener maximo ",null==n.dni?null:n.dni.getError("maxlength").requiredLength," caracteres ")}}function u(a,l){if(1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2),e.qZA(),e.BQk()),2&a){const n=e.oxw(3);e.xp6(2),e.hij(" El dni debe tener minimo ",null==n.dni?null:n.dni.getError("minlength").requiredLength," caracteres ")}}function d(a,l){1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2," El n\xfamero de dni solo debe contener n\xfameros. "),e.qZA(),e.BQk())}function f(a,l){1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2," Edad invalida. "),e.qZA(),e.BQk())}function U(a,l){1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2," La edad debe ser mayor o igual a 0. "),e.qZA(),e.BQk())}function R(a,l){if(1&a&&(e.TgZ(0,"option",58),e._uU(1),e.qZA()),2&a){const n=l.$implicit;e.Q6J("value",n.obraSocial),e.xp6(1),e.Oqu(n.obraSocial)}}function F(a,l){if(1&a&&(e.ynx(0),e.TgZ(1,"div",43)(2,"label",63),e._uU(3,"Obra Social"),e.qZA(),e.TgZ(4,"select",64),e.YNc(5,R,2,2,"option",24),e.qZA()(),e.BQk()),2&a){const n=e.oxw(3);e.xp6(5),e.Q6J("ngForOf",n.obrasSociales)}}function O(a,l){1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2,"Formato inv\xe1lido"),e.qZA(),e.BQk())}function Y(a,l){1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2,"Formato inv\xe1lido"),e.qZA(),e.BQk())}function B(a,l){1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2,"Debe tener minimo 8 caracteres"),e.qZA(),e.BQk())}function L(a,l){if(1&a&&(e.ynx(0),e.TgZ(1,"fieldset")(2,"legend"),e._uU(3,"Horarios de atencion cargados"),e.qZA(),e._UZ(4,"input",65),e.TgZ(5,"button",66),e._uU(6," Agregar horario de atencion "),e.qZA()(),e.BQk()),2&a){const n=e.oxw(3);e.xp6(4),e.Q6J("value",n.especialidadesSeleccionadas.toString())}}function j(a,l){if(1&a){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",38)(2,"label",67),e._uU(3,"Imagen de perfil N\xb02"),e.qZA(),e.TgZ(4,"input",68),e.NdJ("change",function(t){e.CHM(n);const p=e.oxw(3);return e.KtG(p.cargarImagen2(t))}),e.qZA()(),e.BQk()}}function D(a,l){1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2," Captcha incorrecto "),e.qZA(),e.BQk())}function G(a,l){1&a&&(e.ynx(0),e.TgZ(1,"small",62),e._uU(2," Todos los campos son obligatorios y deben tener el formato correcto. "),e.qZA(),e._UZ(3,"br"),e.BQk())}function H(a,l){if(1&a){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",9)(2,"div",10),e._UZ(3,"i",11),e.TgZ(4,"span",12),e._uU(5,"Registrate"),e.qZA()(),e.TgZ(6,"div",13)(7,"div",14)(8,"div",15)(9,"div",16)(10,"h5",17),e._uU(11,"Atencion"),e.qZA(),e._UZ(12,"button",18),e.qZA(),e.TgZ(13,"div",19)(14,"form",20)(15,"div",21)(16,"label",22),e._uU(17,"Especialidad"),e.qZA(),e.TgZ(18,"select",23),e.YNc(19,E,2,2,"option",24),e.qZA()(),e.TgZ(20,"div",21)(21,"button",25),e._uU(22," Dias de Atencion "),e.qZA(),e.TgZ(23,"div",26)(24,"label",27),e._uU(25,"D\xedas de la Semana"),e.qZA(),e.YNc(26,Q,4,5,"div",28),e.qZA()(),e.TgZ(27,"div",21)(28,"label",29),e._uU(29,"Duracion del turno (minutos)"),e.qZA(),e._UZ(30,"input",30),e.qZA(),e.TgZ(31,"div",21)(32,"label",29),e._uU(33,"Inicio Jornada (08 a 18 hs)"),e.qZA(),e._UZ(34,"input",31),e.qZA(),e.TgZ(35,"div",21)(36,"label",29),e._uU(37,"Fin Jornada (08 a 18 hs)"),e.qZA(),e._UZ(38,"input",32),e.qZA()()(),e.TgZ(39,"div",33)(40,"button",34),e._uU(41,"Cerrar"),e.qZA(),e.TgZ(42,"button",35),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.enviarDisponibilidad())}),e._uU(43,"Guardar especialidad"),e.qZA()()()()(),e.TgZ(44,"form",36),e.NdJ("ngSubmit",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.enviarForm())}),e.TgZ(45,"div",37)(46,"div",38)(47,"label",39),e._uU(48,"Nombre"),e.qZA(),e._UZ(49,"input",40),e.YNc(50,c,3,0,"ng-container",1),e.qZA(),e.TgZ(51,"div",38)(52,"label",41),e._uU(53,"Apellido"),e.qZA(),e._UZ(54,"input",42),e.YNc(55,Z,3,0,"ng-container",1),e.qZA()(),e.TgZ(56,"div",37)(57,"div",43)(58,"label",44),e._uU(59,"DNI"),e.qZA(),e._UZ(60,"input",45),e.YNc(61,r,3,1,"ng-container",1),e.YNc(62,u,3,1,"ng-container",1),e.YNc(63,d,3,0,"ng-container",1),e.qZA(),e.TgZ(64,"div",46)(65,"label",47),e._uU(66,"Edad"),e.qZA(),e._UZ(67,"input",48),e.YNc(68,f,3,0,"ng-container",1),e.YNc(69,U,3,0,"ng-container",1),e.qZA(),e.YNc(70,F,6,1,"ng-container",1),e.qZA(),e.TgZ(71,"div",37)(72,"div",38)(73,"label",49),e._uU(74,"Mail"),e.qZA(),e._UZ(75,"input",50),e.YNc(76,O,3,0,"ng-container",1),e.qZA(),e.TgZ(77,"div",38)(78,"label",51),e._uU(79,"Contrase\xf1a"),e.qZA(),e._UZ(80,"input",52),e.YNc(81,Y,3,0,"ng-container",1),e.YNc(82,B,3,0,"ng-container",1),e.qZA()(),e.YNc(83,L,7,1,"ng-container",1),e.TgZ(84,"div",37)(85,"div",38)(86,"label",53),e._uU(87,"Imagen de perfil N\xb01"),e.qZA(),e.TgZ(88,"input",54),e.NdJ("change",function(t){e.CHM(n);const p=e.oxw(2);return e.KtG(p.cargarImagen1(t))}),e.qZA()(),e.YNc(89,j,5,0,"ng-container",1),e.qZA(),e.TgZ(90,"app-captcha",55),e.NdJ("captchaVerificado",function(t){e.CHM(n);const p=e.oxw(2);return e.KtG(p.actualizarValorCaptcha(t))}),e.qZA(),e._UZ(91,"input",56),e.YNc(92,D,3,0,"ng-container",1),e.YNc(93,G,4,0,"ng-container",1),e.TgZ(94,"button",57),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.enviarForm())}),e._uU(95," Enviar "),e.qZA()()(),e.BQk()}if(2&a){const n=e.oxw(2);let o,t,p;e.xp6(14),e.Q6J("formGroup",n.formDisponibilidad),e.xp6(5),e.Q6J("ngForOf",n.especialidades),e.xp6(7),e.Q6J("ngForOf",n.diasSemana),e.xp6(16),e.Q6J("disabled",n.formDisponibilidad.invalid),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(6),e.Q6J("ngIf",null==n.nombre?null:n.nombre.hasError("pattern")),e.xp6(5),e.Q6J("ngIf",null==n.apellido?null:n.apellido.hasError("pattern")),e.xp6(6),e.Q6J("ngIf",null==n.dni?null:n.dni.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==n.dni?null:n.dni.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",null==n.dni?null:n.dni.hasError("pattern")),e.xp6(5),e.Q6J("ngIf",null==(o=n.form.get("edad"))?null:o.hasError("max")),e.xp6(1),e.Q6J("ngIf",null==(t=n.form.get("edad"))?null:t.hasError("min")),e.xp6(1),e.Q6J("ngIf","paciente"==n.tipoUsuario),e.xp6(6),e.Q6J("ngIf",null==n.mail?null:n.mail.hasError("email")),e.xp6(5),e.Q6J("ngIf",null==n.password?null:n.password.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",null==n.password?null:n.password.hasError("minlength")),e.xp6(1),e.Q6J("ngIf","especialista"==n.tipoUsuario),e.xp6(6),e.Q6J("ngIf","paciente"==n.tipoUsuario),e.xp6(3),e.Q6J("ngIf",!1===(null==(p=n.form.get("captcha"))?null:p.value)),e.xp6(1),e.Q6J("ngIf",n.form.invalid),e.xp6(1),e.Q6J("disabled",n.form.invalid)}}function z(a,l){if(1&a&&(e.ynx(0),e.YNc(1,H,96,21,"ng-container",1),e.BQk()),2&a){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",""!==n.tipoUsuario)}}let K=(()=>{class a{constructor(n,o,t,p,A,P){this.UserAuthService=n,this.UsuarioService=o,this.ObrasSocialesService=t,this.EspecialidadService=p,this.ImagenesService=A,this.router=P,this.especialidadesSeleccionadas=[],this.usuarioEmail="",this.tipoUsuario="",this.especialidades=[],this.obrasSociales=[],this.diasSemana=["lunes","martes","miercoles","jueves","viernes","sabado"],this.cargando=!1,this.usuario={email:"",password:""},this.disponibilidadPorEspecialidadArray=[]}ngOnInit(){this.usuarioAdmin&&(this.tipoUsuario="admin"),console.log(this.tipoUsuario),this.form=new i.cw({nombre:new i.NI("",[i.kI.pattern("^[a-zA-Z]+$"),i.kI.required]),apellido:new i.NI("",[i.kI.pattern("^[a-zA-Z]+$"),i.kI.required]),edad:new i.NI(0,[i.kI.max(120),i.kI.min(0),i.kI.required]),dni:new i.NI(0,[i.kI.minLength(7),i.kI.maxLength(8),i.kI.pattern("^[0-9]+$"),i.kI.required]),mail:new i.NI("",[i.kI.email,i.kI.required]),password:new i.NI("",[i.kI.pattern("^[a-zA-Z0-9]+$"),i.kI.minLength(8),i.kI.required]),captcha:new i.NI(null,i.kI.required)}),"admin"===this.tipoUsuario&&this.form.addControl("imagenPerfil1",new i.NI("",i.kI.required)),this.formDisponibilidad=new i.cw({especialidad:new i.NI("",i.kI.required),duracionTurno:new i.NI(30,[i.kI.required,i.kI.min(30),i.kI.max(60)]),desdeJornada:new i.NI(8,[i.kI.required,i.kI.min(8),i.kI.max(17)]),hastaJornada:new i.NI(18,[i.kI.required,i.kI.min(9),i.kI.max(18)]),lunes:new i.NI(""),martes:new i.NI(""),miercoles:new i.NI(""),jueves:new i.NI(""),viernes:new i.NI(""),sabado:new i.NI("")}),console.log(this.form)}get especialidadesCargadas(){return this.form.get("especialidadesCargadas")}get obraSocial(){return this.form.get("obraSocial")}get apellido(){return this.form.get("apellido")}get nombre(){return this.form.get("nombre")}get edad(){return this.form.get("edad")}get mail(){return this.form.get("mail")}get dni(){return this.form.get("dni")}get password(){return this.form.get("password")}enviarForm(){let n;if(this.cargando=!0,console.log(this.form),this.form.valid){const o=this.form.value;"especialista"===this.tipoUsuario?n=new g.r(o.nombre,o.apellido,o.edad,o.dni,o.mail,this.tipoUsuario,this.especialidadesSeleccionadas,this.disponibilidadPorEspecialidadArray,!1):"paciente"===this.tipoUsuario?n=new y(o.nombre,o.apellido,o.edad,o.dni,o.mail,this.tipoUsuario,o.obraSocial):"admin"===this.tipoUsuario&&(n=new h.b(o.nombre,o.apellido,o.edad,o.dni,o.mail,this.tipoUsuario)),this.usuario.email=o.mail,this.usuario.password=o.password,this.UserAuthService.registro(this.usuario).then(()=>{this.UsuarioService.guardar(n.toJSON()).then(()=>{this.UserAuthService.logout(),b().fire({icon:"success",title:"Registro exitoso",text:"Por favor dir\xedjase a su casilla de correo para verificar su correo"}),this.subirImagenes(n),this.form.reset()}).catch(t=>{console.error("Error al intentar guardar:",t)})}).catch(t=>{console.log(t.message)}).finally(()=>{this.cargando=!1})}}subirImagenes(n){this.ImagenesService.uploadImage(this.imagenPerfil1,this.usuario.email,"1").then(o=>{console.log(o)}),"paciente"===n.tipoUsuario&&this.ImagenesService.uploadImage(this.imagenPerfil2,this.usuario.email,"2").then(o=>{console.log(o)})}enviarDisponibilidad(){if(this.formDisponibilidad.valid){const o=this.formDisponibilidad.value,t=function n(o){const t=[];return o.lunes&&t.push("lunes"),o.martes&&t.push("martes"),o.miercoles&&t.push("miercoles"),o.jueves&&t.push("jueves"),o.viernes&&t.push("viernes"),o.sabado&&t.push("sabado"),t.join(", ")}(o),p={especialidad:o.especialidad,diasAtencion:t,duracionTurno:o.duracionTurno,desdeJornada:o.desdeJornada,hastaJornada:o.hastaJornada};this.especialidadesSeleccionadas.push(o.especialidad),this.disponibilidadPorEspecialidadArray.push(p),console.log(this.disponibilidadPorEspecialidadArray),this.formDisponibilidad.reset()}}registrarProfesional(){this.tipoUsuario="especialista","especialista"===this.tipoUsuario&&(this.EspecialidadService.todos().subscribe(n=>{this.especialidades=n}),this.form.addControl("especialidadesCargadas",new i.NI("",i.kI.required)),this.form.addControl("imagenPerfil1",new i.NI("",i.kI.required)))}registrarPaciente(){this.tipoUsuario="paciente","paciente"===this.tipoUsuario&&(this.form.addControl("obraSocial",new i.NI("",i.kI.required)),this.form.addControl("imagenPerfil1",new i.NI("",i.kI.required)),this.form.addControl("imagenPerfil2",new i.NI("",i.kI.required)),this.ObrasSocialesService.todos().subscribe(n=>{this.obrasSociales=n}))}actualizarValorCaptcha(n){this.form.get("captcha")?.setValue(n)}cargarImagen1(n){this.imagenPerfil1=n.target.files[0]}cargarImagen2(n){this.imagenPerfil2=n.target.files[0]}static#e=this.\u0275fac=function(o){return new(o||a)(e.Y36(v.H),e.Y36(m.i),e.Y36(T),e.Y36(N.T),e.Y36(w.j),e.Y36(J.F0))};static#i=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-register"]],inputs:{usuarioAdmin:"usuarioAdmin"},decls:4,vars:3,consts:[[1,"container"],[4,"ngIf"],["role","status",1,"spinner-grow",2,"width","4rem","height","4rem"],[1,"visually-hidden"],[1,"col-lg-8","mx-auto"],[1,"display-6","mb-4"],[1,"d-grid","gap-2","d-sm-flex","justify-content-sm-center"],["type","button",1,"botonimagen","imagenProfesional",3,"click"],["type","button",1,"botonimagen","imagenPaciente",3,"click"],[1,"card","p-4","mt-4","border","border-dark","border-5",2,"border-radius","1rem"],[1,"d-flex","align-items-center","text-center","mb-3","pb-1"],[1,"fas","fa-cubes","fa-2x","me-3",2,"color","#ff6219"],[1,"display-4","fw-bold","mb-0"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"form-control-group"],["for","especialidad"],["id","especialidad","formControlName","especialidad",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseExample","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-primary","mt-4"],["id","collapseExample",1,"collapse"],["for","dias"],["class","form-check",4,"ngFor","ngForOf"],["for","hora"],["type","number","formControlName","duracionTurno","id","duracionTurno","min","15","max","60",1,"form-control",3,"value"],["type","number","formControlName","desdeJornada","id","desdeJornada","min","08","max","18",1,"form-control"],["type","number","formControlName","hastaJornada","id","hastaJornada","min","08","max","18",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"form-control-group","col-5"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido",1,"form-control"],[1,"form-control-group","col-4"],["for","dni",1,"form-label"],["type","text","id","dni","formControlName","dni",1,"form-control"],[1,"form-control-group","col-2"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad",1,"form-control"],["for","mail",1,"form-label"],["type","email","id","mail","formControlName","mail",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],["for","imagenPerfil1",1,"form-label"],["type","file","id","imagenPerfil1","formControlName","imagenPerfil1",1,"form-control",3,"change"],[3,"captchaVerificado"],["type","hidden","formControlName","captcha"],["type","button",1,"btn","btn-primary","w-25","mt-4",3,"disabled","click"],[3,"value"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"formControlName","id","value"],[1,"form-check-label",3,"for"],[1,"text-danger"],["for","obraSocial",1,"form-label"],["formControlName","obraSocial","id","obraSocial","name","obraSocial",1,"form-select","form-control"],["type","text","id","especialidadesCargadas","formControlName","especialidadesCargadas","readonly","",1,"form-control",3,"value"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-secondary","mt-4"],["for","imagenPerfil2",1,"form-label"],["type","file","id","imagenPerfil2","formControlName","imagenPerfil2",1,"form-control",3,"change"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.YNc(1,q,5,0,"ng-container",1),e.YNc(2,k,9,0,"ng-container",1),e.YNc(3,z,2,1,"ng-container",1),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",t.cargando),e.xp6(1),e.Q6J("ngIf",""===t.tipoUsuario),e.xp6(1),e.Q6J("ngIf",!t.cargando))},dependencies:[I.sg,I.O5,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.Wl,i.EJ,i.JJ,i.JL,i.qQ,i.Fd,i.sg,i.u,S],styles:[".botonimagen[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;height:350px;width:350px;background-position:center;transition:opacity .2s ease-in-out;font-weight:700;font-size:2rem}.imagenEspecialidad[_ngcontent-%COMP%]{background-image:url(especialidad.73b8973773c7c766.jpg)}.imagenProfesional[_ngcontent-%COMP%]{background-image:url(profesional.35465c3b3cb6e055.jpg)}.imagenPaciente[_ngcontent-%COMP%]{background-image:url(paciente.5c48cd21d6ffe785.jpg)}.botonimagen[_ngcontent-%COMP%]:hover{opacity:.7}"]})}return a})()},4113:(M,C,s)=>{s.d(C,{j:()=>i});var _=s(9493),b=s(4946);let i=(()=>{class h{constructor(g){this.storage=g}uploadImage(g,e,v){const m=(0,_.iH)(this.storage,`imagesUsuarios/${e}_${v}`);return(0,_.KV)(m,g)}getImagen(g,e,v){try{const x=(0,_.iH)(this.storage,`${g}/${e}_${v}`);return(0,_.Jt)(x)}catch(m){throw console.error("Error al obtener la URL de la imagen:",m),m}}static#e=this.\u0275fac=function(e){return new(e||h)(b.LFG(_.Ke))};static#i=this.\u0275prov=b.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()}}]);