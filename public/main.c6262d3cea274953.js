"use strict";(self.webpackChunktp_clinica_online=self.webpackChunktp_clinica_online||[]).push([[179],{7247:(bn,dt,X)=>{X.d(dt,{nm:()=>Ar});var _=X(456),Se=(X(4946),X(8726),X(3182),X(5861)),ue=X(534),fe=X(4537),Ye=X(9058),Je=X(7879);const ve=new Map,me={activated:!1,tokenObservers:[]},We={initialized:!1,enabled:!1};function nt(be){return ve.get(be)||Object.assign({},me)}function Mt(){return We}const gt="https://content-firebaseappcheck.googleapis.com/v1",tr="exchangeDebugToken",Jt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rt{constructor(Te,ke,at,Tt,tn){if(this.operation=Te,this.retryPolicy=ke,this.getWaitDuration=at,this.lowerBound=Tt,this.upperBound=tn,this.pending=null,this.nextErrorWaitInterval=Tt,Tt>tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Te){var ke=this;return(0,Se.Z)(function*(){ke.stop();try{ke.pending=new Ye.BH,yield function et(be){return new Promise(Te=>{setTimeout(Te,be)})}(ke.getNextRun(Te)),ke.pending.resolve(),yield ke.pending.promise,ke.pending=new Ye.BH,yield ke.operation(),ke.pending.resolve(),yield ke.pending.promise,ke.process(!0).catch(()=>{})}catch(at){ke.retryPolicy(at)?ke.process(!1).catch(()=>{}):ke.stop()}})()}getNextRun(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ke=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ke}}}const bt=new Ye.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mt(be){if(!nt(be).activated)throw bt.create("use-before-activation",{appName:be.name})}function Sn(be,Te){return It.apply(this,arguments)}function It(){return(It=(0,Se.Z)(function*({url:be,body:Te},ke){const at={"Content-Type":"application/json"},Tt=ke.getImmediate({optional:!0});if(Tt){const ti=yield Tt.getHeartbeatsHeader();ti&&(at["X-Firebase-Client"]=ti)}const tn={method:"POST",body:JSON.stringify(Te),headers:at};let zn,On;try{zn=yield fetch(be,tn)}catch(ti){throw bt.create("fetch-network-error",{originalErrorMessage:ti?.message})}if(200!==zn.status)throw bt.create("fetch-status-error",{httpStatus:zn.status});try{On=yield zn.json()}catch(ti){throw bt.create("fetch-parse-error",{originalErrorMessage:ti?.message})}const Un=On.ttl.match(/^([\d.]+)(s)$/);if(!Un||!Un[2]||isNaN(Number(Un[1])))throw bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${On.ttl}`});const Hi=1e3*Number(Un[1]),hi=Date.now();return{token:On.token,expireTimeMillis:hi+Hi,issuedAtTimeMillis:hi}})).apply(this,arguments)}function Ct(be,Te){const{projectId:ke,appId:at,apiKey:Tt}=be.options;return{url:`${gt}/projects/${ke}/apps/${at}:${tr}?key=${Tt}`,body:{debug_token:Te}}}const En="firebase-app-check-database",Ve=1,Ge="firebase-app-check-store";let Ue=null;function Dn(){return(Dn=(0,Se.Z)(function*(be,Te){const at=(yield function ot(){return Ue||(Ue=new Promise((be,Te)=>{try{const ke=indexedDB.open(En,Ve);ke.onsuccess=at=>{be(at.target.result)},ke.onerror=at=>{var Tt;Te(bt.create("storage-open",{originalErrorMessage:null===(Tt=at.target.error)||void 0===Tt?void 0:Tt.message}))},ke.onupgradeneeded=at=>{0===at.oldVersion&&at.target.result.createObjectStore(Ge,{keyPath:"compositeKey"})}}catch(ke){Te(bt.create("storage-open",{originalErrorMessage:ke?.message}))}}),Ue)}()).transaction(Ge,"readwrite"),tn=at.objectStore(Ge).put({compositeKey:be,value:Te});return new Promise((zn,On)=>{tn.onsuccess=Un=>{zn()},at.onerror=Un=>{var Hi;On(bt.create("storage-set",{originalErrorMessage:null===(Hi=Un.target.error)||void 0===Hi?void 0:Hi.message}))}})})).apply(this,arguments)}const nr=new Je.Yd("@firebase/app-check");function Kn(be,Te){return(0,Ye.hl)()?function en(be,Te){return function St(be,Te){return Dn.apply(this,arguments)}(function Qn(be){return`${be.options.appId}-${be.name}`}(be),Te)}(be,Te).catch(ke=>{nr.warn(`Failed to write token to IndexedDB. Error: ${ke}`)}):Promise.resolve()}function sn(){return Mt().enabled}function gi(){return qn.apply(this,arguments)}function qn(){return(qn=(0,Se.Z)(function*(){const be=Mt();if(be.enabled&&be.token)return be.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Rn={error:"UNKNOWN_ERROR"};function Tn(be){return Ye.US.encodeString(JSON.stringify(be),!1)}function gr(be){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,Se.Z)(function*(be,Te=!1){const ke=be.app;mt(ke);const at=nt(ke);let tn,Tt=at.token;if(Tt&&!xi(Tt)&&(at.token=void 0,Tt=void 0),!Tt){const Un=yield at.cachedTokenPromise;Un&&(xi(Un)?Tt=Un:yield Kn(ke,void 0))}if(!Te&&Tt&&xi(Tt))return{token:Tt.token};let On,zn=!1;if(sn()){at.exchangeTokenPromise||(at.exchangeTokenPromise=Sn(Ct(ke,yield gi()),be.heartbeatServiceProvider).finally(()=>{at.exchangeTokenPromise=void 0}),zn=!0);const Un=yield at.exchangeTokenPromise;return yield Kn(ke,Un),at.token=Un,{token:Un.token}}try{at.exchangeTokenPromise||(at.exchangeTokenPromise=at.provider.getToken().finally(()=>{at.exchangeTokenPromise=void 0}),zn=!0),Tt=yield nt(ke).exchangeTokenPromise}catch(Un){"appCheck/throttled"===Un.code?nr.warn(Un.message):nr.error(Un),tn=Un}return Tt?tn?On=xi(Tt)?{token:Tt.token,internalError:tn}:Ci(tn):(On={token:Tt.token},at.token=Tt,yield Kn(ke,Tt)):On=Ci(tn),zn&&function Ot(be,Te){const ke=nt(be).tokenObservers;for(const at of ke)try{"EXTERNAL"===at.type&&null!=Te.error?at.error(Te.error):at.next(Te)}catch{}}(ke,On),On})).apply(this,arguments)}function ci(be){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,Se.Z)(function*(be){const Te=be.app;mt(Te);const{provider:ke}=nt(Te);if(sn()){const at=yield gi(),{token:Tt}=yield Sn(Ct(Te,at),be.heartbeatServiceProvider);return{token:Tt}}{const{token:at}=yield ke.getToken();return{token:at}}})).apply(this,arguments)}function li(be,Te){const ke=nt(be),at=ke.tokenObservers.filter(Tt=>Tt.next!==Te);0===at.length&&ke.tokenRefresher&&ke.tokenRefresher.isRunning()&&ke.tokenRefresher.stop(),ke.tokenObservers=at}function or(be){const{app:Te}=be,ke=nt(Te);let at=ke.tokenRefresher;at||(at=function Ei(be){const{app:Te}=be;return new rt((0,Se.Z)(function*(){let at;if(at=nt(Te).token?yield gr(be,!0):yield gr(be),at.error)throw at.error;if(at.internalError)throw at.internalError}),()=>!0,()=>{const ke=nt(Te);if(ke.token){let at=ke.token.issuedAtTimeMillis+.5*(ke.token.expireTimeMillis-ke.token.issuedAtTimeMillis)+3e5;return at=Math.min(at,ke.token.expireTimeMillis-3e5),Math.max(0,at-Date.now())}return 0},Jt.RETRIAL_MIN_WAIT,Jt.RETRIAL_MAX_WAIT)}(be),ke.tokenRefresher=at),!at.isRunning()&&ke.isTokenAutoRefreshEnabled&&at.start()}function xi(be){return be.expireTimeMillis-Date.now()>0}function Ci(be){return{token:Tn(Rn),error:be}}class qr{constructor(Te,ke){this.app=Te,this.heartbeatServiceProvider=ke}_delete(){const{tokenObservers:Te}=nt(this.app);for(const ke of Te)li(this.app,ke.next);return Promise.resolve()}}const kt="app-check-internal";!function vn(){(0,ue.Xd)(new fe.wA("app-check",be=>function fr(be,Te){return new qr(be,Te)}(be.getProvider("app").getImmediate(),be.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((be,Te,ke)=>{be.getProvider(kt).initialize()})),(0,ue.Xd)(new fe.wA(kt,be=>function Fr(be){return{getToken:Te=>gr(be,Te),getLimitedUseToken:()=>ci(be),addTokenListener:Te=>function Sr(be,Te,ke,at){const{app:Tt}=be,tn=nt(Tt);if(tn.tokenObservers=[...tn.tokenObservers,{next:ke,error:at,type:Te}],tn.token&&xi(tn.token)){const On=tn.token;Promise.resolve().then(()=>{ke({token:On.token}),or(be)}).catch(()=>{})}tn.cachedTokenPromise.then(()=>or(be))}(be,"INTERNAL",Te),removeTokenListener:Te=>li(be.app,Te)}}(be.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ue.KN)("@firebase/app-check","0.8.0")}();class Ar{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window},8726:(bn,dt,X)=>{X.d(dt,{Ot:()=>Oe,ZF:()=>Ft,hX:()=>nt,z6:()=>Se});var _=X(3182),ge=X(4946),Z=X(456);class Oe{constructor(rt){return rt}}class Se{constructor(){return(0,_.C6)()}}const Ye=new ge.OlP("angularfire2._apps"),Je={provide:Oe,useFactory:function fe(De){return De&&1===De.length?De[0]:new Oe((0,_.Mq)())},deps:[[new ge.FiY,Ye]]},ve={provide:Se,deps:[[new ge.FiY,Ye]]};function me(De){return(rt,et)=>{const pt=rt.runOutsideAngular(()=>De(et));return new Oe(pt)}}let We=(()=>{class De{constructor(et){(0,_.KN)("angularfire",Z.q4.full,"core"),(0,_.KN)("angularfire",Z.q4.full,"app"),(0,_.KN)("angular",ge.q4F.full,et.toString())}}return De.\u0275fac=function(et){return new(et||De)(ge.LFG(ge.Lbi))},De.\u0275mod=ge.oAB({type:De}),De.\u0275inj=ge.cJS({providers:[Je,ve]}),De})();function nt(De,...rt){return{ngModule:We,providers:[{provide:Ye,useFactory:me(De),multi:!0,deps:[ge.R0b,ge.zs3,Z.HU,...rt]}]}}const Ft=(0,Z.u3)(_.ZF,!0)},5609:(bn,dt,X)=>{X.d(dt,{gx:()=>hu,dh:()=>fu,Xb:()=>Rl,v0:()=>vp,Aj:()=>Gu,AR:()=>$c,w$:()=>qu,e5:()=>Am});var _=X(456),ge=X(4946),Z=X(8726),Oe=X(3182),Se=X(7247),ue=X(5861),fe=X(9058),Ye=X(534),Je=X(7582),ve=X(7879),me=X(4537);const Jt=function cn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},De=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new ve.Yd("@firebase/auth");function bt(D,...h){et.logLevel<=ve.in.ERROR&&et.error(`Auth (${Ye.Jn}): ${D}`,...h)}function ct(D,...h){throw Sn(D,...h)}function mt(D,...h){return Sn(D,...h)}function Sn(D,...h){if("string"!=typeof D){const p=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=D.name),D._errorFactory.create(p,...C)}return De.create(D,...h)}function It(D,h,...p){if(!D)throw Sn(h,...p)}function yt(D){const h="INTERNAL ASSERTION FAILED: "+D;throw bt(h),new Error(h)}function Wn(D,h){D||yt(h)}function Ct(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Ve(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Ue{constructor(h,p){this.shortDelay=h,this.longDelay=p,Wn(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function Ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function En(){return"http:"===Ve()||"https:"===Ve()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ot(D,h){Wn(D.emulator,"Emulator should always be set here");const{url:p}=D.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Dt{static initialize(h,p,C){this.fetchImpl=h,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Fn=new Ue(3e4,6e4);function fn(D,h){return D.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:D.tenantId}):h}function St(D,h,p,C){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,ue.Z)(function*(D,h,p,C,K={}){return pr(D,K,(0,ue.Z)(function*(){let se={},xe={};C&&("GET"===h?xe=C:se={body:JSON.stringify(C)});const Xe=(0,fe.xO)(Object.assign({key:D.config.apiKey},xe)).slice(1),jt=yield D._getAdditionalHeaders();return jt["Content-Type"]="application/json",D.languageCode&&(jt["X-Firebase-Locale"]=D.languageCode),Dt.fetch()(rr(D,D.config.apiHost,p,Xe),Object.assign({method:h,headers:jt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function pr(D,h,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,ue.Z)(function*(D,h,p){D._canInitEmulator=!1;const C=Object.assign(Object.assign({},en),h);try{const K=new zr(D),se=yield Promise.race([p(),K.promise]);K.clearNetworkTimeout();const xe=yield se.json();if("needConfirmation"in xe)throw Kn(D,"account-exists-with-different-credential",xe);if(se.ok&&!("errorMessage"in xe))return xe;{const Xe=se.ok?xe.errorMessage:xe.error.message,[jt,Qt]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jt)throw Kn(D,"credential-already-in-use",xe);if("EMAIL_EXISTS"===jt)throw Kn(D,"email-already-in-use",xe);if("USER_DISABLED"===jt)throw Kn(D,"user-disabled",xe);const un=C[jt]||jt.toLowerCase().replace(/[_\s]+/g,"-");if(Qt)throw function Bn(D,h,p){const C=Object.assign(Object.assign({},Jt()),{[h]:p});return new fe.LL("auth","Firebase",C).create(h,{appName:D.name})}(D,un,Qt);ct(D,un)}}catch(K){if(K instanceof fe.ZR)throw K;ct(D,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function Qn(D,h,p,C){return nr.apply(this,arguments)}function nr(){return(nr=(0,ue.Z)(function*(D,h,p,C,K={}){const se=yield St(D,h,p,C,K);return"mfaPendingCredential"in se&&ct(D,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function rr(D,h,p,C){const K=`${h}${p}?${C}`;return D.config.emulator?ot(D.config,K):`${D.config.apiScheme}://${K}`}class zr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(mt(this.auth,"network-request-failed")),Fn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(D,h,p){const C={appName:D.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const K=mt(D,h,C);return K.customData._tokenResponse=p,K}function ir(){return(ir=(0,ue.Z)(function*(D,h){return St(D,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function xr(){return(xr=(0,ue.Z)(function*(D,h){return St(D,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Rn(D){if(D)try{const h=new Date(Number(D));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Gr(){return(Gr=(0,ue.Z)(function*(D,h=!1){const p=(0,fe.m9)(D),C=yield p.getIdToken(h),K=Vn(C);It(K&&K.exp&&K.auth_time&&K.iat,p.auth,"internal-error");const se="object"==typeof K.firebase?K.firebase:void 0,xe=se?.sign_in_provider;return{claims:K,token:C,authTime:Rn(ci(K.auth_time)),issuedAtTime:Rn(ci(K.iat)),expirationTime:Rn(ci(K.exp)),signInProvider:xe||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function ci(D){return 1e3*Number(D)}function Vn(D){const[h,p,C]=D.split(".");if(void 0===h||void 0===p||void 0===C)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,fe.tV)(p);return K?JSON.parse(K):(bt("Failed to decode base64 JWT payload"),null)}catch(K){return bt("Caught error parsing JWT payload as JSON",K?.toString()),null}}function li(D,h){return or.apply(this,arguments)}function or(){return(or=(0,ue.Z)(function*(D,h,p=!1){if(p)return h;try{return yield h}catch(C){throw C instanceof fe.ZR&&function Ei({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(C)&&D.auth.currentUser===D&&(yield D.auth.signOut()),C}})).apply(this,arguments)}class Ot{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const K=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,ue.Z)(function*(){yield p.iteration()}),C)}iteration(){var h=this;return(0,ue.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class xi{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rn(this.lastLoginAt),this.creationTime=Rn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ci(D){return qr.apply(this,arguments)}function qr(){return qr=(0,ue.Z)(function*(D){var h;const p=D.auth,C=yield D.getIdToken(),K=yield li(D,function qn(D,h){return xr.apply(this,arguments)}(p,{idToken:C}));It(K?.users.length,p,"internal-error");const se=K.users[0];D._notifyReloadListener(se);const xe=null!==(h=se.providerUserInfo)&&void 0!==h&&h.length?function mi(D){return D.map(h=>{var{providerId:p}=h,C=(0,Je._T)(h,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(se.providerUserInfo):[],Xe=function ln(D,h){return[...D.filter(C=>!h.some(K=>K.providerId===C.providerId)),...h]}(D.providerData,xe),un=!!D.isAnonymous&&!(D.email&&se.passwordHash||Xe?.length),kr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Xe,metadata:new xi(se.createdAt,se.lastLoginAt),isAnonymous:un};Object.assign(D,kr)}),qr.apply(this,arguments)}function Fr(){return(Fr=(0,ue.Z)(function*(D){const h=(0,fe.m9)(D);yield Ci(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Zt(){return(Zt=(0,ue.Z)(function*(D,h){const p=yield pr(D,{},(0,ue.Z)(function*(){const C=(0,fe.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:K,apiKey:se}=D.config,xe=rr(D,K,"/v1/token",`key=${se}`),Xe=yield D._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",Dt.fetch()(xe,{method:"POST",headers:Xe,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ar{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){It(h.idToken,"internal-error"),It(typeof h.idToken<"u","internal-error"),It(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Sr(D){const h=Vn(D);return It(h,"internal-error"),It(typeof h.exp<"u","internal-error"),It(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var C=this;return(0,ue.Z)(function*(){return It(!C.accessToken||C.refreshToken,h,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var C=this;return(0,ue.Z)(function*(){const{accessToken:K,refreshToken:se,expiresIn:xe}=yield function Vi(D,h){return Zt.apply(this,arguments)}(h,p);C.updateTokensAndExpiration(K,se,Number(xe))})()}updateTokensAndExpiration(h,p,C){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,p){const{refreshToken:C,accessToken:K,expirationTime:se}=p,xe=new ar;return C&&(It("string"==typeof C,"internal-error",{appName:h}),xe.refreshToken=C),K&&(It("string"==typeof K,"internal-error",{appName:h}),xe.accessToken=K),se&&(It("number"==typeof se,"internal-error",{appName:h}),xe.expirationTime=se),xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ar,this.toJSON())}_performRefresh(){return yt("not implemented")}}function on(D,h){It("string"==typeof D||typeof D>"u","internal-error",{appName:h})}class wr{constructor(h){var{uid:p,auth:C,stsTokenManager:K}=h,se=(0,Je._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new xi(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,ue.Z)(function*(){const C=yield li(p,p.stsTokenManager.getToken(p.auth,h));return It(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(h){return function gr(D){return Gr.apply(this,arguments)}(this,h)}reload(){return function fr(D){return Fr.apply(this,arguments)}(this)}_assign(h){this!==h&&(It(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new wr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var C=this;return(0,ue.Z)(function*(){let K=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),K=!0),p&&(yield Ci(C)),yield C.auth._persistUserIfCurrent(C),K&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,ue.Z)(function*(){const p=yield h.getIdToken();return yield li(h,function _n(D,h){return ir.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var C,K,se,xe,Xe,jt,Qt,un;const kr=null!==(C=p.displayName)&&void 0!==C?C:void 0,no=null!==(K=p.email)&&void 0!==K?K:void 0,ta=null!==(se=p.phoneNumber)&&void 0!==se?se:void 0,Is=null!==(xe=p.photoURL)&&void 0!==xe?xe:void 0,gu=null!==(Xe=p.tenantId)&&void 0!==Xe?Xe:void 0,Zc=null!==(jt=p._redirectEventId)&&void 0!==jt?jt:void 0,Ll=null!==(Qt=p.createdAt)&&void 0!==Qt?Qt:void 0,Fd=null!==(un=p.lastLoginAt)&&void 0!==un?un:void 0,{uid:Vl,emailVerified:Ld,isAnonymous:Ul,providerData:Vd,stsTokenManager:Ud}=p;It(Vl&&Ud,h,"internal-error");const bp=ar.fromJSON(this.name,Ud);It("string"==typeof Vl,h,"internal-error"),on(kr,h.name),on(no,h.name),It("boolean"==typeof Ld,h,"internal-error"),It("boolean"==typeof Ul,h,"internal-error"),on(ta,h.name),on(Is,h.name),on(gu,h.name),on(Zc,h.name),on(Ll,h.name),on(Fd,h.name);const Bd=new wr({uid:Vl,auth:h,email:no,emailVerified:Ld,displayName:kr,isAnonymous:Ul,photoURL:Is,phoneNumber:ta,tenantId:gu,stsTokenManager:bp,createdAt:Ll,lastLoginAt:Fd});return Vd&&Array.isArray(Vd)&&(Bd.providerData=Vd.map(Yc=>Object.assign({},Yc))),Zc&&(Bd._redirectEventId=Zc),Bd}static _fromIdTokenResponse(h,p,C=!1){return(0,ue.Z)(function*(){const K=new ar;K.updateFromServerResponse(p);const se=new wr({uid:p.localId,auth:h,stsTokenManager:K,isAnonymous:C});return yield Ci(se),se})()}}const _e=new Map;function J(D){Wn(D instanceof Function,"Expected a class definition");let h=_e.get(D);return h?(Wn(h instanceof D,"Instance stored in cache mismatched with class"),h):(h=new D,_e.set(D,h),h)}const te=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ue.Z)(function*(){return!0})()}_set(p,C){var K=this;return(0,ue.Z)(function*(){K.storage[p]=C})()}_get(p){var C=this;return(0,ue.Z)(function*(){const K=C.storage[p];return void 0===K?null:K})()}_remove(p){var C=this;return(0,ue.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return D.type="NONE",D})();function re(D,h,p){return`firebase:${D}:${h}:${p}`}class Me{constructor(h,p,C){this.persistence=h,this.auth=p,this.userKey=C;const{config:K,name:se}=this.auth;this.fullUserKey=re(this.userKey,K.apiKey,se),this.fullPersistenceKey=re("persistence",K.apiKey,se),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,ue.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?wr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,ue.Z)(function*(){if(p.persistence===h)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,C="authUser"){return(0,ue.Z)(function*(){if(!p.length)return new Me(J(te),h,C);const K=(yield Promise.all(p.map(function(){var Qt=(0,ue.Z)(function*(un){if(yield un._isAvailable())return un});return function(un){return Qt.apply(this,arguments)}}()))).filter(Qt=>Qt);let se=K[0]||J(te);const xe=re(C,h.config.apiKey,h.name);let Xe=null;for(const Qt of p)try{const un=yield Qt._get(xe);if(un){const kr=wr._fromJSON(h,un);Qt!==se&&(Xe=kr),se=Qt;break}}catch{}const jt=K.filter(Qt=>Qt._shouldAllowMigration);return se._shouldAllowMigration&&jt.length?(se=jt[0],Xe&&(yield se._set(xe,Xe.toJSON())),yield Promise.all(p.map(function(){var Qt=(0,ue.Z)(function*(un){if(un!==se)try{yield un._remove(xe)}catch{}});return function(un){return Qt.apply(this,arguments)}}())),new Me(se,h,C)):new Me(se,h,C)})()}}function ht(D){const h=D.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Gn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(xt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Xn(h))return"Blackberry";if(Br(h))return"Webos";if(nn(h))return"Safari";if((h.includes("chrome/")||mn(h))&&!h.includes("edge/"))return"Chrome";if(pn(h))return"Android";{const C=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function xt(D=(0,fe.z$)()){return/firefox\//i.test(D)}function nn(D=(0,fe.z$)()){const h=D.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function mn(D=(0,fe.z$)()){return/crios\//i.test(D)}function Gn(D=(0,fe.z$)()){return/iemobile/i.test(D)}function pn(D=(0,fe.z$)()){return/android/i.test(D)}function Xn(D=(0,fe.z$)()){return/blackberry/i.test(D)}function Br(D=(0,fe.z$)()){return/webos/i.test(D)}function yi(D=(0,fe.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function _t(D=(0,fe.z$)()){return yi(D)||pn(D)||Br(D)||Xn(D)||/windows phone/i.test(D)||Gn(D)}function vn(D,h=[]){let p;switch(D){case"Browser":p=ht((0,fe.z$)());break;case"Worker":p=`${ht((0,fe.z$)())}-${D}`;break;default:p=D}const C=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Ye.Jn}/${C}`}function Ar(D,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,ue.Z)(function*(D,h){return St(D,"GET","/v2/recaptchaConfig",fn(D,h))})).apply(this,arguments)}function qi(D){return void 0!==D&&void 0!==D.enterprise}class us{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Oi(D){return new Promise((h,p)=>{const C=document.createElement("script");C.setAttribute("src",D),C.onload=h,C.onerror=K=>{const se=mt("internal-error");se.customData=K,p(se)},C.type="text/javascript",C.charset="UTF-8",function oi(){var D,h;return null!==(h=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==h?h:document}().appendChild(C)})}function di(D){return`__${D}${Math.floor(1e6*Math.random())}`}class ur{constructor(h){this.type="recaptcha-enterprise",this.auth=be(h)}verify(h="verify",p=!1){var C=this;return(0,ue.Z)(function*(){function se(){return se=(0,ue.Z)(function*(Xe){if(!p){if(null==Xe.tenantId&&null!=Xe._agentRecaptchaConfig)return Xe._agentRecaptchaConfig.siteKey;if(null!=Xe.tenantId&&void 0!==Xe._tenantRecaptchaConfigs[Xe.tenantId])return Xe._tenantRecaptchaConfigs[Xe.tenantId].siteKey}return new Promise(function(){var jt=(0,ue.Z)(function*(Qt,un){Ar(Xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kr=>{if(void 0!==kr.recaptchaKey){const no=new us(kr);return null==Xe.tenantId?Xe._agentRecaptchaConfig=no:Xe._tenantRecaptchaConfigs[Xe.tenantId]=no,Qt(no.siteKey)}un(new Error("recaptcha Enterprise site key undefined"))}).catch(kr=>{un(kr)})});return function(Qt,un){return jt.apply(this,arguments)}}())}),se.apply(this,arguments)}function xe(Xe,jt,Qt){const un=window.grecaptcha;qi(un)?un.enterprise.ready(()=>{un.enterprise.execute(Xe,{action:h}).then(kr=>{jt(kr)}).catch(()=>{jt("NO_RECAPTCHA")})}):Qt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xe,jt)=>{(function K(Xe){return se.apply(this,arguments)})(C.auth).then(Qt=>{if(!p&&qi(window.grecaptcha))xe(Qt,Xe,jt);else{if(typeof window>"u")return void jt(new Error("RecaptchaVerifier is only supported in browser"));Oi("https://www.google.com/recaptcha/enterprise.js?render="+Qt).then(()=>{xe(Qt,Xe,jt)}).catch(un=>{jt(un)})}}).catch(Qt=>{jt(Qt)})})})()}}function es(D,h,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,ue.Z)(function*(D,h,p,C=!1){const K=new ur(D);let se;try{se=yield K.verify(p)}catch{se=yield K.verify(p,!0)}const xe=Object.assign({},h);return Object.assign(xe,C?{captchaResp:se}:{captchaResponse:se}),Object.assign(xe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(xe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),xe})).apply(this,arguments)}class Nr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const C=se=>new Promise((xe,Xe)=>{try{xe(h(se))}catch(jt){Xe(jt)}});C.onAbort=p,this.queue.push(C);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,ue.Z)(function*(){if(p.auth.currentUser===h)return;const C=[];try{for(const K of p.queue)yield K(h),K.onAbort&&C.push(K.onAbort)}catch(K){C.reverse();for(const se of C)try{se()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}class xs{constructor(h,p,C,K){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Te(this),this.idTokenSubscription=new Te(this),this.beforeStateQueue=new Nr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=De,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(h,p){var C=this;return p&&(this._popupRedirectResolver=J(p)),this._initializationPromise=this.queue((0,ue.Z)(function*(){var K,se;if(!C._deleted&&(C.persistenceManager=yield Me.create(C,h),!C._deleted)){if(null!==(K=C._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(se=C.currentUser)||void 0===se?void 0:se.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,ue.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,ue.Z)(function*(){var C;const K=yield p.assertedPersistence.getCurrentUser();let se=K,xe=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Xe=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,jt=se?._redirectEventId,Qt=yield p.tryRedirectSignIn(h);(!Xe||Xe===jt)&&Qt?.user&&(se=Qt.user,xe=!0)}if(!se)return p.directlySetCurrentUser(null);if(!se._redirectEventId){if(xe)try{yield p.beforeStateQueue.runMiddleware(se)}catch(Xe){se=K,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Xe))}return se?p.reloadAndSetCurrentUserOrClear(se):p.directlySetCurrentUser(null)}return It(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===se._redirectEventId?p.directlySetCurrentUser(se):p.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(h){var p=this;return(0,ue.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,ue.Z)(function*(){try{yield Ci(h)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var h=this;return(0,ue.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,ue.Z)(function*(){const C=h?(0,fe.m9)(h):null;return C&&It(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(h,p=!1){var C=this;return(0,ue.Z)(function*(){if(!C._deleted)return h&&It(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,ue.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,ue.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,ue.Z)(function*(){yield p.assertedPersistence.setPersistence(J(h))}))}initializeRecaptchaConfig(){var h=this;return(0,ue.Z)(function*(){const p=yield Ar(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new us(p);null==h.tenantId?h._agentRecaptchaConfig=C:h._tenantRecaptchaConfigs[h.tenantId]=C,C.emailPasswordEnabled&&new ur(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new fe.LL("auth","Firebase",h())}onAuthStateChanged(h,p,C){return this.registerStateListener(this.authStateSubscription,h,p,C)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,C){return this.registerStateListener(this.idTokenSubscription,h,p,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var C=this;return(0,ue.Z)(function*(){const K=yield C.getOrInitRedirectPersistenceManager(p);return null===h?K.removeCurrentUser():K.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,ue.Z)(function*(){if(!p.redirectPersistenceManager){const C=h&&J(h)||p._popupRedirectResolver;It(C,p,"argument-error"),p.redirectPersistenceManager=yield Me.create(p,[J(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,ue.Z)(function*(){var C,K;return p._isInitialized&&(yield p.queue((0,ue.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===h?p._currentUser:(null===(K=p.redirectUser)||void 0===K?void 0:K._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,ue.Z)(function*(){if(h===p.currentUser)return p.queue((0,ue.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,C,K){if(this._deleted)return()=>{};const se="function"==typeof p?p:p.next.bind(p),xe=this._isInitialized?Promise.resolve():this._initializationPromise;return It(xe,this,"internal-error"),xe.then(()=>se(this.currentUser)),"function"==typeof p?h.addObserver(p,C,K):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,ue.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=vn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,ue.Z)(function*(){var p;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const K=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();K&&(C["X-Firebase-Client"]=K);const se=yield h._getAppCheckToken();return se&&(C["X-Firebase-AppCheck"]=se),C})()}_getAppCheckToken(){var h=this;return(0,ue.Z)(function*(){var p;const C=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function pt(D,...h){et.logLevel<=ve.in.WARN&&et.warn(`Auth (${Ye.Jn}): ${D}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function be(D){return(0,fe.m9)(D)}class Te{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,fe.ne)(p=>this.observer=p)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tn(D){const h=D.indexOf(":");return h<0?"":D.substr(0,h+1)}function On(D){if(!D)return null;const h=Number(D);return isNaN(h)?null:h}class Hi{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return yt("not implemented")}_getIdTokenResponse(h){return yt("not implemented")}_linkToIdToken(h,p){return yt("not implemented")}_getReauthenticationResolver(h){return yt("not implemented")}}function Ir(D,h){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,ue.Z)(function*(D,h){return St(D,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ns(D,h){return oo.apply(this,arguments)}function oo(){return(oo=(0,ue.Z)(function*(D,h){return Qn(D,"POST","/v1/accounts:signInWithPassword",fn(D,h))})).apply(this,arguments)}function vo(){return(vo=(0,ue.Z)(function*(D,h){return St(D,"POST","/v1/accounts:sendOobCode",fn(D,h))})).apply(this,arguments)}function Rs(){return(Rs=(0,ue.Z)(function*(D,h){return function ms(D,h){return vo.apply(this,arguments)}(D,h)})).apply(this,arguments)}function Ai(){return(Ai=(0,ue.Z)(function*(D,h){return Qn(D,"POST","/v1/accounts:signInWithEmailLink",fn(D,h))})).apply(this,arguments)}function Ds(){return(Ds=(0,ue.Z)(function*(D,h){return Qn(D,"POST","/v1/accounts:signInWithEmailLink",fn(D,h))})).apply(this,arguments)}class An extends Hi{constructor(h,p,C,K=null){super("password",C),this._email=h,this._password=p,this._tenantId=K}static _fromEmailAndPassword(h,p){return new An(h,p,"password")}static _fromEmailAndCode(h,p,C=null){return new An(h,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,ue.Z)(function*(){var C;switch(p.signInMethod){case"password":const K={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=h._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const se=yield es(h,K,"signInWithPassword");return Ns(h,se)}return Ns(h,K).catch(function(){var se=(0,ue.Z)(function*(xe){if("auth/missing-recaptcha-token"===xe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield es(h,K,"signInWithPassword");return Ns(h,Xe)}return Promise.reject(xe)});return function(xe){return se.apply(this,arguments)}}());case"emailLink":return function Wo(D,h){return Ai.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:ct(h,"internal-error")}})()}_linkToIdToken(h,p){var C=this;return(0,ue.Z)(function*(){switch(C.signInMethod){case"password":return Ir(h,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ts(D,h){return Ds.apply(this,arguments)}(h,{idToken:p,email:C._email,oobCode:C._password});default:ct(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function mr(D,h){return wn.apply(this,arguments)}function wn(){return(wn=(0,ue.Z)(function*(D,h){return Qn(D,"POST","/v1/accounts:signInWithIdp",fn(D,h))})).apply(this,arguments)}class Mi{constructor(h){var p,C,K,se,xe,Xe;const jt=(0,fe.zd)((0,fe.pd)(h)),Qt=null!==(p=jt.apiKey)&&void 0!==p?p:null,un=null!==(C=jt.oobCode)&&void 0!==C?C:null,kr=function Ys(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=jt.mode)&&void 0!==K?K:null);It(Qt&&un&&kr,"argument-error"),this.apiKey=Qt,this.operation=kr,this.code=un,this.continueUrl=null!==(se=jt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(xe=jt.languageCode)&&void 0!==xe?xe:null,this.tenantId=null!==(Xe=jt.tenantId)&&void 0!==Xe?Xe:null}static parseLink(h){const p=function Zi(D){const h=(0,fe.zd)((0,fe.pd)(D)).link,p=h?(0,fe.zd)((0,fe.pd)(h)).deep_link_id:null,C=(0,fe.zd)((0,fe.pd)(D)).deep_link_id;return(C?(0,fe.zd)((0,fe.pd)(C)).link:null)||C||p||h||D}(h);try{return new Mi(p)}catch{return null}}}let cs=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(p,C){return An._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const K=Mi.parseLink(C);return It(K,"argument-error"),An._fromEmailAndCode(p,K.code,K.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class fi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Cn extends fi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Ts(D,h){return _s.apply(this,arguments)}function _s(){return(_s=(0,ue.Z)(function*(D,h){return Qn(D,"POST","/v1/accounts:signUp",fn(D,h))})).apply(this,arguments)}class _i{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,C,K=!1){return(0,ue.Z)(function*(){const se=yield wr._fromIdTokenResponse(h,C,K),xe=Hs(C);return new _i({user:se,providerId:xe,_tokenResponse:C,operationType:p})})()}static _forOperation(h,p,C){return(0,ue.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const K=Hs(C);return new _i({user:h,providerId:K,_tokenResponse:C,operationType:p})})()}}function Hs(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}class vi extends fe.ZR{constructor(h,p,C,K){var se;super(p.code,p.message),this.operationType=C,this.user=K,Object.setPrototypeOf(this,vi.prototype),this.customData={appName:h.name,tenantId:null!==(se=h.tenantId)&&void 0!==se?se:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,p,C,K){return new vi(h,p,C,K)}}function vs(D,h,p,C){return("reauthenticate"===h?p._getReauthenticationResolver(D):p._getIdTokenResponse(D)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?vi._fromErrorAndOperation(D,se,h,C):se})}function Ni(){return(Ni=(0,ue.Z)(function*(D,h,p=!1){const C=yield li(D,h._linkToIdToken(D.auth,yield D.getIdToken()),p);return _i._forOperation(D,"link",C)})).apply(this,arguments)}function G(){return(G=(0,ue.Z)(function*(D,h,p=!1){const{auth:C}=D,K="reauthenticate";try{const se=yield li(D,vs(C,K,h,D),p);It(se.idToken,C,"internal-error");const xe=Vn(se.idToken);It(xe,C,"internal-error");const{sub:Xe}=xe;return It(D.uid===Xe,C,"user-mismatch"),_i._forOperation(D,K,se)}catch(se){throw"auth/user-not-found"===se?.code&&ct(C,"user-mismatch"),se}})).apply(this,arguments)}function z(D,h){return ae.apply(this,arguments)}function ae(){return(ae=(0,ue.Z)(function*(D,h,p=!1){const C="signIn",K=yield vs(D,C,h),se=yield _i._fromIdTokenResponse(D,C,K);return p||(yield D._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Ne(){return(Ne=(0,ue.Z)(function*(D,h){return z(be(D),h)})).apply(this,arguments)}function bo(D,h,p){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,ue.Z)(function*(D,h,p){var C;const K=be(D),se={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let xe;if(null!==(C=K._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Qt=yield es(K,se,"signUpPassword");xe=Ts(K,Qt)}else xe=Ts(K,se).catch(function(){var Qt=(0,ue.Z)(function*(un){if("auth/missing-recaptcha-token"===un.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kr=yield es(K,se,"signUpPassword");return Ts(K,kr)}return Promise.reject(un)});return function(un){return Qt.apply(this,arguments)}}());const Xe=yield xe.catch(Qt=>Promise.reject(Qt)),jt=yield _i._fromIdTokenResponse(K,"signIn",Xe);return yield K._updateCurrentUser(jt.user),jt}),Qs.apply(this,arguments)}function ls(D,h,p){return function pe(D,h){return Ne.apply(this,arguments)}((0,fe.m9)(D),cs.credential(h,p))}function y(D,h){return w.apply(this,arguments)}function w(){return w=(0,ue.Z)(function*(D,h){const p=(0,fe.m9)(D),K={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};h&&function Dr(D,h,p){var C;It((null===(C=p.url)||void 0===C?void 0:C.length)>0,D,"invalid-continue-uri"),It(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(It(p.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(It(p.android.packageName.length>0,D,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}(p.auth,K,h);const{email:se}=yield function ao(D,h){return Rs.apply(this,arguments)}(p.auth,K);se!==D.email&&(yield D.reload())}),w.apply(this,arguments)}function Tr(D,h,p,C){return(0,fe.m9)(D).onAuthStateChanged(h,p,C)}const Vt="__sak";class $e{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Vt,"1"),this.storage.removeItem(Vt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const tu=(()=>{class D extends $e{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lt(){const D=(0,fe.z$)();return nn(D)||yi(D)}()&&function kt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_t(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const K=this.storage.getItem(C),se=this.localCache[C];K!==se&&p(C,se,K)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((Xe,jt,Qt)=>{this.notifyListeners(Xe,Qt)});const K=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem(K);if(p.newValue!==Xe)null!==p.newValue?this.storage.setItem(K,p.newValue):this.storage.removeItem(K);else if(this.localCache[K]===p.newValue&&!C)return}const se=()=>{const Xe=this.storage.getItem(K);!C&&this.localCache[K]===Xe||this.notifyListeners(K,Xe)},xe=this.storage.getItem(K);!function Pe(){return(0,fe.w1)()&&10===document.documentMode}()||xe===p.newValue||p.newValue===p.oldValue?se():setTimeout(se,10)}notifyListeners(p,C){this.localCache[p]=C;const K=this.listeners[p];if(K)for(const se of Array.from(K))se(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var K=()=>super._set,se=this;return(0,ue.Z)(function*(){yield K().call(se,p,C),se.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,K=this;return(0,ue.Z)(function*(){const se=yield C().call(K,p);return K.localCache[p]=JSON.stringify(se),se})()}_remove(p){var C=()=>super._remove,K=this;return(0,ue.Z)(function*(){yield C().call(K,p),delete K.localCache[p]})()}}return D.type="LOCAL",D})(),zs=(()=>{class D extends $e{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return D.type="SESSION",D})();let $u=(()=>{class D{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(se=>se.isListeningto(p));if(C)return C;const K=new D(p);return this.receivers.push(K),K}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,ue.Z)(function*(){const K=p,{eventId:se,eventType:xe,data:Xe}=K.data,jt=C.handlersMap[xe];if(!jt?.size)return;K.ports[0].postMessage({status:"ack",eventId:se,eventType:xe});const Qt=Array.from(jt).map(function(){var kr=(0,ue.Z)(function*(no){return no(K.origin,Xe)});return function(no){return kr.apply(this,arguments)}}()),un=yield function Iu(D){return Promise.all(D.map(function(){var h=(0,ue.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return h.apply(this,arguments)}}()))}(Qt);K.ports[0].postMessage({status:"done",eventId:se,eventType:xe,response:un})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function oa(D="",h=10){let p="";for(let C=0;C<h;C++)p+=Math.floor(10*Math.random());return D+p}class $o{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,C=50){var K=this;return(0,ue.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let xe,Xe;return new Promise((jt,Qt)=>{const un=oa("",20);se.port1.start();const kr=setTimeout(()=>{Qt(new Error("unsupported_event"))},C);Xe={messageChannel:se,onMessage(no){const ta=no;if(ta.data.eventId===un)switch(ta.data.status){case"ack":clearTimeout(kr),xe=setTimeout(()=>{Qt(new Error("timeout"))},3e3);break;case"done":clearTimeout(xe),jt(ta.data.response);break;default:clearTimeout(kr),clearTimeout(xe),Qt(new Error("invalid_response"))}}},K.handlers.add(Xe),se.port1.addEventListener("message",Xe.onMessage),K.target.postMessage({eventType:h,eventId:un,data:p},[se.port2])}).finally(()=>{Xe&&K.removeMessageHandler(Xe)})})()}}function Es(){return window}function hn(){return typeof Es().WorkerGlobalScope<"u"&&"function"==typeof Es().importScripts}function As(){return(As=(0,ue.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ma="firebaseLocalStorageDb",Hu="firebaseLocalStorage",dn="fbase_key";class Ut{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function xa(D,h){return D.transaction([Hu],h?"readwrite":"readonly").objectStore(Hu)}function aa(){const D=indexedDB.open(Ma,1);return new Promise((h,p)=>{D.addEventListener("error",()=>{p(D.error)}),D.addEventListener("upgradeneeded",()=>{const C=D.result;try{C.createObjectStore(Hu,{keyPath:dn})}catch(K){p(K)}}),D.addEventListener("success",(0,ue.Z)(function*(){const C=D.result;C.objectStoreNames.contains(Hu)?h(C):(C.close(),yield function Na(){const D=indexedDB.deleteDatabase(Ma);return new Ut(D).toPromise()}(),h(yield aa()))}))})}function sc(D,h,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,ue.Z)(function*(D,h,p){const C=xa(D,!0).put({[dn]:h,value:p});return new Ut(C).toPromise()})).apply(this,arguments)}function Pa(){return(Pa=(0,ue.Z)(function*(D,h){const p=xa(D,!1).get(h),C=yield new Ut(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function oc(D,h){const p=xa(D,!0).delete(h);return new Ut(p).toPromise()}const Et=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,ue.Z)(function*(){return p.db||(p.db=yield aa()),p.db})()}_withRetries(p){var C=this;return(0,ue.Z)(function*(){let K=0;for(;;)try{const se=yield C._openDb();return yield p(se)}catch(se){if(K++>3)throw se;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,ue.Z)(function*(){return hn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,ue.Z)(function*(){p.receiver=$u._getInstance(function an(){return hn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,ue.Z)(function*(K,se){return{keyProcessed:(yield p._poll()).includes(se.key)}});return function(K,se){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,ue.Z)(function*(K,se){return["keyChanged"]});return function(K,se){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,ue.Z)(function*(){var C,K;if(p.activeServiceWorker=yield function go(){return As.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new $o(p.activeServiceWorker);const se=yield p.sender._send("ping",{},800);se&&null!==(C=se[0])&&void 0!==C&&C.fulfilled&&null!==(K=se[0])&&void 0!==K&&K.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,ue.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function $i(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ue.Z)(function*(){try{if(!indexedDB)return!1;const p=yield aa();return yield sc(p,Vt,"1"),yield oc(p,Vt),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,ue.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var K=this;return(0,ue.Z)(function*(){return K._withPendingWrite((0,ue.Z)(function*(){return yield K._withRetries(se=>sc(se,p,C)),K.localCache[p]=C,K.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,ue.Z)(function*(){const K=yield C._withRetries(se=>function Ra(D,h){return Pa.apply(this,arguments)}(se,p));return C.localCache[p]=K,K})()}_remove(p){var C=this;return(0,ue.Z)(function*(){return C._withPendingWrite((0,ue.Z)(function*(){return yield C._withRetries(K=>oc(K,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,ue.Z)(function*(){const C=yield p._withRetries(xe=>{const Xe=xa(xe,!1).getAll();return new Ut(Xe).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const K=[],se=new Set;for(const{fbase_key:xe,value:Xe}of C)se.add(xe),JSON.stringify(p.localCache[xe])!==JSON.stringify(Xe)&&(p.notifyListeners(xe,Xe),K.push(xe));for(const xe of Object.keys(p.localCache))p.localCache[xe]&&!se.has(xe)&&(p.notifyListeners(xe,null),K.push(xe));return K})()}notifyListeners(p,C){this.localCache[p]=C;const K=this.listeners[p];if(K)for(const se of Array.from(K))se(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,ue.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();di("rcb"),new Ue(3e4,6e4);class Jo extends Hi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return mr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return mr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return mr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Tu(D){return z(D.auth,new Jo(D),D.bypassAuthState)}function Js(D){const{auth:h,user:p}=D;return It(p,h,"internal-error"),function Di(D,h){return G.apply(this,arguments)}(p,new Jo(D),D.bypassAuthState)}function Ls(D){return za.apply(this,arguments)}function za(){return(za=(0,ue.Z)(function*(D){const{auth:h,user:p}=D;return It(p,h,"internal-error"),function lo(D,h){return Ni.apply(this,arguments)}(p,new Jo(D),D.bypassAuthState)})).apply(this,arguments)}class ss{constructor(h,p,C,K,se=!1){this.auth=h,this.resolver=C,this.user=K,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,ue.Z)(function*(C,K){h.pendingPromise={resolve:C,reject:K};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(se){h.reject(se)}});return function(C,K){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,ue.Z)(function*(){const{urlResponse:C,sessionId:K,postBody:se,tenantId:xe,error:Xe,type:jt}=h;if(Xe)return void p.reject(Xe);const Qt={auth:p.auth,requestUri:C,sessionId:K,tenantId:xe||void 0,postBody:se||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(jt)(Qt))}catch(un){p.reject(un)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Tu;case"linkViaPopup":case"linkViaRedirect":return Ls;case"reauthViaPopup":case"reauthViaRedirect":return Js;default:ct(this.auth,"internal-error")}}resolve(h){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ue(2e3,1e4);const Dl="pendingRedirect",Qi=new Map;class cc extends ss{constructor(h,p,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,ue.Z)(function*(){let C=Qi.get(p.auth._key());if(!C){try{const se=(yield function _a(D,h){return Au.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;C=()=>Promise.resolve(se)}catch(K){C=()=>Promise.reject(K)}Qi.set(p.auth._key(),C)}return p.bypassAuthState||Qi.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,C=this;return(0,ue.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(C,h);if("unknown"!==h.type){if(h.eventId){const K=yield C.auth._redirectUserForId(h.eventId);if(K)return C.user=K,p().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,ue.Z)(function*(){})()}cleanUp(){}}function Au(){return(Au=(0,ue.Z)(function*(D,h){const p=function su(D){return re(Dl,D.config.apiKey,D.name)}(h),C=function iu(D){return J(D._redirectPersistence)}(D);if(!(yield C._isAvailable()))return!1;const K="true"===(yield C._get(p));return yield C._remove(p),K})).apply(this,arguments)}function bi(D,h){Qi.set(D._key(),h)}function Oc(D,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,ue.Z)(function*(D,h,p=!1){const C=be(D),K=function Xs(D,h){return h?J(h):(It(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}(C,h),xe=yield new cc(C,K,p).execute();return xe&&!p&&(delete xe.user._redirectEventId,yield C._persistUserIfCurrent(xe.user),yield C._setRedirectUser(null,h)),xe})).apply(this,arguments)}class wa{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(p=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ou(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return da(D);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var C;if(h.error&&!da(h)){const K=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(mt(this.auth,K))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const C=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(to(h))}saveEventToCache(h){this.cachedEventUids.add(to(h)),this.lastProcessedEventTime=Date.now()}}function to(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(h=>h).join("-")}function da({type:D,error:h}){return"unknown"===D&&"auth/no-auth-event"===h?.code}function Ka(){return(Ka=(0,ue.Z)(function*(D,h={}){return St(D,"GET","/v1/projects",h)})).apply(this,arguments)}const Oa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ha=/^https?/;function au(){return au=(0,ue.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:h}=yield function Ia(D){return Ka.apply(this,arguments)}(D);for(const p of h)try{if(Al(p))return}catch{}ct(D,"unauthorized-domain")}),au.apply(this,arguments)}function Al(D){const h=Ct(),{protocol:p,hostname:C}=new URL(h);if(D.startsWith("chrome-extension://")){const xe=new URL(D);return""===xe.hostname&&""===C?"chrome-extension:"===p&&D.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&xe.hostname===C}if(!ha.test(p))return!1;if(Oa.test(D))return C===D;const K=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(C)}const kc=new Ue(3e4,6e4);function Mu(){const D=Es().___jsl;if(D?.H)for(const h of Object.keys(D.H))if(D.H[h].r=D.H[h].r||[],D.H[h].L=D.H[h].L||[],D.H[h].r=[...D.H[h].L],D.CP)for(let p=0;p<D.CP.length;p++)D.CP[p]=null}let ka=null;const Ad=new Ue(5e3,15e3),Fa="__/auth/iframe",Fc="emulator/auth/iframe",Li={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Md=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vr(D){const h=D.config;It(h.authDomain,D,"auth-domain-config-required");const p=h.emulator?ot(h,Fc):`https://${D.config.authDomain}/${Fa}`,C={apiKey:h.apiKey,appName:D.name,v:Ye.Jn},K=Md.get(D.config.apiHost);K&&(C.eid=K);const se=D._getFrameworks();return se.length&&(C.fw=se.join(",")),`${p}?${(0,fe.xO)(C).slice(1)}`}function zu(){return zu=(0,ue.Z)(function*(D){const h=yield function uu(D){return ka=ka||function Da(D){return new Promise((h,p)=>{var C,K,se;function xe(){Mu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Mu(),p(mt(D,"network-request-failed"))},timeout:kc.get()})}if(null!==(K=null===(C=Es().gapi)||void 0===C?void 0:C.iframes)&&void 0!==K&&K.Iframe)h(gapi.iframes.getContext());else{if(null===(se=Es().gapi)||void 0===se||!se.load){const Xe=di("iframefcb");return Es()[Xe]=()=>{gapi.load?xe():p(mt(D,"network-request-failed"))},Oi(`https://apis.google.com/js/api.js?onload=${Xe}`).catch(jt=>p(jt))}xe()}}).catch(h=>{throw ka=null,h})}(D),ka}(D),p=Es().gapi;return It(p,D,"internal-error"),h.open({where:document.body,url:Vr(D),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Li,dontclear:!0},C=>new Promise(function(){var K=(0,ue.Z)(function*(se,xe){yield C.restyle({setHideOnLeave:!1});const Xe=mt(D,"network-request-failed"),jt=Es().setTimeout(()=>{xe(Xe)},Ad.get());function Qt(){Es().clearTimeout(jt),se(C)}C.ping(Qt).then(Qt,()=>{xe(Xe)})});return function(se,xe){return K.apply(this,arguments)}}()))}),zu.apply(this,arguments)}const dc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ie{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tt="__/auth/handler",qt="emulator/auth/handler",Wt=encodeURIComponent("fac");function In(D,h,p,C,K,se){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,ue.Z)(function*(D,h,p,C,K,se){It(D.config.authDomain,D,"auth-domain-config-required"),It(D.config.apiKey,D,"invalid-api-key");const xe={apiKey:D.config.apiKey,appName:D.name,authType:p,redirectUrl:C,v:Ye.Jn,eventId:K};if(h instanceof fi){h.setDefaultLanguage(D.languageCode),xe.providerId=h.providerId||"",(0,fe.xb)(h.getCustomParameters())||(xe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[un,kr]of Object.entries(se||{}))xe[un]=kr}if(h instanceof Cn){const un=h.getScopes().filter(kr=>""!==kr);un.length>0&&(xe.scopes=un.join(","))}D.tenantId&&(xe.tid=D.tenantId);const Xe=xe;for(const un of Object.keys(Xe))void 0===Xe[un]&&delete Xe[un];const jt=yield D._getAppCheckToken(),Qt=jt?`#${Wt}=${encodeURIComponent(jt)}`:"";return`${function dr({config:D}){return D.emulator?ot(D,qt):`https://${D.authDomain}/${tt}`}(D)}?${(0,fe.xO)(Xe).slice(1)}${Qt}`})).apply(this,arguments)}const qo="webStorageSupport",Lc=class mo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zs,this._completeRedirectFn=Oc,this._overrideRedirectResult=bi}_openPopup(h,p,C,K){var se=this;return(0,ue.Z)(function*(){var xe;Wn(null===(xe=se.eventManagers[h._key()])||void 0===xe?void 0:xe.manager,"_initialize() not called before _openPopup()");const Xe=yield In(h,p,C,Ct(),K);return function we(D,h,p,C=500,K=600){const se=Math.max((window.screen.availHeight-K)/2,0).toString(),xe=Math.max((window.screen.availWidth-C)/2,0).toString();let Xe="";const jt=Object.assign(Object.assign({},dc),{width:C.toString(),height:K.toString(),top:se,left:xe}),Qt=(0,fe.z$)().toLowerCase();p&&(Xe=mn(Qt)?"_blank":p),xt(Qt)&&(h=h||"http://localhost",jt.scrollbars="yes");const un=Object.entries(jt).reduce((no,[ta,Is])=>`${no}${ta}=${Is},`,"");if(function Ke(D=(0,fe.z$)()){var h;return yi(D)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Qt)&&"_self"!==Xe)return function Re(D,h){const p=document.createElement("a");p.href=D,p.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(h||"",Xe),new ie(null);const kr=window.open(h||"",Xe,un);It(kr,D,"popup-blocked");try{kr.focus()}catch{}return new ie(kr)}(h,Xe,oa())})()}_openRedirect(h,p,C,K){var se=this;return(0,ue.Z)(function*(){return yield se._originValidation(h),function Du(D){Es().location.href=D}(yield In(h,p,C,Ct(),K)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:K,promise:se}=this.eventManagers[p];return K?Promise.resolve(K):(Wn(se,"If manager is not set, promise should be"),se)}const C=this.initAndGetManager(h);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(h){var p=this;return(0,ue.Z)(function*(){const C=yield function Za(D){return zu.apply(this,arguments)}(h),K=new wa(h);return C.register("authEvent",se=>(It(se?.authEvent,h,"invalid-auth-event"),{status:K.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:K},p.iframes[h._key()]=C,K})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(qo,{type:qo},K=>{var se;const xe=null===(se=K?.[0])||void 0===se?void 0:se[qo];void 0!==xe&&p(!!xe),ct(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Sl(D){return au.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return _t()||nn()||yi()}};var Nu="@firebase/auth";class lu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,ue.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const du=(0,fe.Pz)("authIdTokenMaxAge")||300;let Ph=null;const fc=D=>function(){var h=(0,ue.Z)(function*(p){const C=p&&(yield p.getIdTokenResult()),K=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(K&&K>du)return;const se=C?.token;Ph!==se&&(Ph=se,yield fetch(D,{method:se?"POST":"DELETE",headers:se?{Authorization:`Bearer ${se}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function yp(D=(0,Ye.Mq)()){const h=(0,Ye.qX)(D,"auth");if(h.isInitialized())return h.getImmediate();const p=function ke(D,h){const p=(0,Ye.qX)(D,"auth");if(p.isInitialized()){const K=p.getImmediate(),se=p.getOptions();if((0,fe.vZ)(se,h??{}))return K;ct(K,"already-initialized")}return p.initialize({options:h})}(D,{popupRedirectResolver:Lc,persistence:[Et,tu,zs]}),C=(0,fe.Pz)("authTokenSyncURL");if(C){const se=fc(C);(function kn(D,h,p){(0,fe.m9)(D).beforeAuthStateChanged(h,p)})(p,se,()=>se(p.currentUser)),function $n(D,h,p,C){(0,fe.m9)(D).onIdTokenChanged(h,p,C)}(p,xe=>se(xe))}const K=(0,fe.q4)("auth");return K&&function Tt(D,h,p){const C=be(D);It(C._canInitEmulator,C,"emulator-config-failed"),It(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const K=!!p?.disableWarnings,se=tn(h),{host:xe,port:Xe}=function zn(D){const h=tn(D),p=/(\/\/)?([^?#/]+)/.exec(D.substr(h.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(C);if(K){const se=K[1];return{host:se,port:On(C.substr(se.length+1))}}{const[se,xe]=C.split(":");return{host:se,port:On(xe)}}}(h);C.config.emulator={url:`${se}//${xe}${null===Xe?"":`:${Xe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:xe,port:Xe,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Un(){function D(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(p,`http://${K}`),p}!function Uc(D){(0,Ye.Xd)(new me.wA("auth",(h,{options:p})=>{const C=h.getProvider("app").getImmediate(),K=h.getProvider("heartbeat"),se=h.getProvider("app-check-internal"),{apiKey:xe,authDomain:Xe}=C.options;It(xe&&!xe.includes(":"),"invalid-api-key",{appName:C.name});const jt={apiKey:xe,authDomain:Xe,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vn(D)},Qt=new xs(C,K,se,jt);return function at(D,h){const p=h?.persistence||[],C=(Array.isArray(p)?p:[p]).map(J);h?.errorMap&&D._updateErrorMap(h.errorMap),D._initializeWithPersistence(C,h?.popupRedirectResolver)}(Qt,p),Qt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,C)=>{h.getProvider("auth-internal").initialize()})),(0,Ye.Xd)(new me.wA("auth-internal",h=>{const p=be(h.getProvider("auth").getImmediate());return new lu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ye.KN)(Nu,"0.23.2",function Vc(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,Ye.KN)(Nu,"0.23.2","esm2017")}("Browser");class hu{constructor(h){return h}}class fu{constructor(){return(0,_.vb)("auth")}}const yo=new ge.OlP("angularfire2.auth-instances");function xl(D){return(h,p)=>{const C=h.runOutsideAngular(()=>D(p));return new hu(C)}}const jc={provide:fu,deps:[[new ge.FiY,yo]]},Oh={provide:hu,useFactory:function xd(D,h){const p=(0,_.JM)("auth",D,h);return p&&new hu(p)},deps:[[new ge.FiY,yo],Z.Ot]};let Nd=(()=>{class D{constructor(){(0,Oe.KN)("angularfire",_.q4.full,"auth")}}return D.\u0275fac=function(p){return new(p||D)},D.\u0275mod=ge.oAB({type:D}),D.\u0275inj=ge.cJS({providers:[Oh,jc]}),D})();function $c(D,...h){return{ngModule:Nd,providers:[{provide:yo,useFactory:xl(D),multi:!0,deps:[ge.R0b,ge.zs3,_.HU,Z.z6,[new ge.FiY,Se.nm],...h]}]}}const Rl=(0,_.u3)(bo,!0),vp=(0,_.u3)(yp,!0),Gu=(0,_.u3)(Tr,!0),qu=(0,_.u3)(y,!0),Am=(0,_.u3)(ls,!0)},5723:(bn,dt,X)=>{X.d(dt,{gg:()=>El,hJ:()=>fE,BS:()=>No,JU:()=>r_,ad:()=>_E,Cm:()=>Gw,IO:()=>IE,pl:()=>CE,r7:()=>u_,ar:()=>c_});var Ae,_=X(456),ge=X(4946),Z=X(5609),Oe=X(8726),Se=X(3182),ue=X(7247),fe=X(5861),Ye=X(534),Je=X(4537),ve=X(7879),me=X(9058),We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nt={},Mt=Mt||{},gt=We||self;function Ft(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function cn(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Jt="closure_uid_"+(1e9*Math.random()>>>0),De=0;function rt(i,e,n){return i.call.apply(i.bind,arguments)}function et(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function pt(i,e,n){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rt:et).apply(null,arguments)}function bt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ct(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[u].apply(o,f)}}function mt(){this.s=this.s,this.o=this.o}mt.prototype.s=!1,mt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function tr(i){Object.prototype.hasOwnProperty.call(i,Jt)&&i[Jt]||(i[Jt]=++De)}(this)},mt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hr=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Sn(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function It(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Ft(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function yt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var Wn=function(){if(!gt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{gt.addEventListener("test",()=>{},e),gt.removeEventListener("test",()=>{},e)}catch{}return i}();function Ct(i){return/^[\s\xa0]*$/.test(i)}function En(){var i=gt.navigator;return i&&(i=i.userAgent)?i:""}function Ve(i){return-1!=En().indexOf(i)}function Ge(i){return Ge[" "](i),i}Ge[" "]=function(){};var Dn,i,Ue=Ve("Opera"),ot=Ve("Trident")||Ve("MSIE"),Dt=Ve("Edge"),en=Dt||ot,Fn=Ve("Gecko")&&!(-1!=En().toLowerCase().indexOf("webkit")&&!Ve("Edge"))&&!(Ve("Trident")||Ve("MSIE"))&&!Ve("Edge"),fn=-1!=En().toLowerCase().indexOf("webkit")&&!Ve("Edge");function St(){var i=gt.document;return i?i.documentMode:void 0}e:{var pr="",Yn=(i=En(),Fn?/rv:([^\);]+)(\)|;)/.exec(i):Dt?/Edge\/([\d\.]+)/.exec(i):ot?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):fn?/WebKit\/(\S+)/.exec(i):Ue?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Yn&&(pr=Yn?Yn[1]:""),ot){var Qn=St();if(null!=Qn&&Qn>parseFloat(pr)){Dn=String(Qn);break e}}Dn=pr}var zr=gt.document&&ot&&(St()||parseInt(Dn,10))||void 0;function Kn(i,e){if(yt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Fn){e:{try{Ge(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:_n[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Kn.$.h.call(this)}}ct(Kn,yt);var _n={2:"touch",3:"pen",4:"mouse"};Kn.prototype.h=function(){Kn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ir="closure_listenable_"+(1e6*Math.random()|0),sn=0;function gi(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++sn,this.fa=this.ia=!1}function qn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function xr(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Tn(i){const e={};for(const n in i)e[n]=i[n];return e}const gr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<gr.length;l++)n=gr[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function ci(i){this.src=i,this.g={},this.h=0}function Vn(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=hr(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(qn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Sr(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}ci.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=Sr(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new gi(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var li="closure_lm_"+(1e6*Math.random()|0),or={};function Ei(i,e,n,o,u){if(o&&o.once)return Ci(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ei(i,e[l],n,o,u);return null}return n=Zt(n),i&&i[ir]?i.O(e,n,cn(o)?!!o.capture:!!o,u):Ot(i,e,n,!1,o,u)}function Ot(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=cn(u)?!!u.capture:!!u,T=mi(i);if(T||(i[li]=T=new ci(i)),(n=T.add(e,n,o,f,l)).proxy)return n;if(o=function xi(){const e=ln;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Wn||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Fr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Ci(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ci(i,e[l],n,o,u);return null}return n=Zt(n),i&&i[ir]?i.P(e,n,cn(o)?!!o.capture:!!o,u):Ot(i,e,n,!0,o,u)}function qr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)qr(i,e[l],n,o,u);else o=cn(o)?!!o.capture:!!o,n=Zt(n),i&&i[ir]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Sr(l=i.g[e],n,o,u))&&(qn(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=mi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Sr(e,n,o,u)),(n=-1<i?e[i]:null)&&fr(n))}function fr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[ir])Vn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Fr(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=mi(e))?(Vn(n,i),0==n.h&&(n.src=null,e[li]=null)):qn(i)}}}function Fr(i){return i in or?or[i]:or[i]="on"+i}function ln(i,e){if(i.fa)i=!0;else{e=new Kn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&fr(i),i=n.call(o,e)}return i}function mi(i){return(i=i[li])instanceof ci?i:null}var Vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zt(i){return"function"==typeof i?i:(i[Vi]||(i[Vi]=function(e){return i.handleEvent(e)}),i[Vi])}function ar(){mt.call(this),this.i=new ci(this),this.S=this,this.J=null}function on(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new yt(e,i);else if(e instanceof yt)e.target=e.target||i;else{var u=e;Gr(e=new yt(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=wr(f,o,!0,e)&&u}if(u=wr(f=e.g=i,o,!0,e)&&u,u=wr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=wr(f=e.g=n[l],o,!1,e)&&u}function wr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var T=f.listener,k=f.la||f.src;f.ia&&Vn(i.i,f),u=!1!==T.call(k,o)&&u}}return u&&!o.defaultPrevented}ct(ar,mt),ar.prototype[ir]=!0,ar.prototype.removeEventListener=function(i,e,n,o){qr(this,i,e,n,o)},ar.prototype.N=function(){if(ar.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)qn(n[o]);delete i.g[e],i.h--}}this.J=null},ar.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},ar.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var _e=gt.JSON.stringify;function ee(){var i=Gn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var re=new class J{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Me,i=>i.reset());class Me{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ht(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function xt(i){gt.setTimeout(()=>{throw i},0)}let nn,mn=!1,Gn=new class te{constructor(){this.h=this.g=null}add(e,n){const o=re.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},pn=()=>{const i=gt.Promise.resolve(void 0);nn=()=>{i.then(Xn)}};var Xn=()=>{for(var i;i=ee();){try{i.h.call(i.g)}catch(n){xt(n)}var e=re;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}mn=!1};function Br(i,e){ar.call(this),this.h=i||1,this.g=e||gt,this.j=pt(this.qb,this),this.l=Date.now()}function yi(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Wr(i,e,n){if("function"==typeof i)n&&(i=pt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=pt(i.handleEvent,i)}return 2147483647<Number(e)?-1:gt.setTimeout(i,e||0)}function Ke(i){i.g=Wr(()=>{i.g=null,i.i&&(i.i=!1,Ke(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ct(Br,ar),(Ae=Br.prototype).ga=!1,Ae.T=null,Ae.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),on(this,"tick"),this.ga&&(yi(this),this.start()))}},Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.N=function(){Br.$.N.call(this),yi(this),delete this.g};class Pe extends mt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _t(i){mt.call(this),this.h=i,this.g={}}ct(_t,mt);var kt=[];function vn(i,e,n,o){Array.isArray(n)||(n&&(kt[0]=n.toString()),n=kt);for(var u=0;u<n.length;u++){var l=Ei(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function zt(i){xr(i.g,function(e,n){this.g.hasOwnProperty(n)&&fr(e)},i),i.g={}}function Ln(){this.g=!0}function ei(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function us(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return _e(n)}catch{return e}}(i,n)+(o?" "+o:"")})}_t.prototype.N=function(){_t.$.N.call(this),zt(this)},_t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ln.prototype.Ea=function(){this.g=!1},Ln.prototype.info=function(){};var oi={},Oi=null;function di(){return Oi=Oi||new ar}function Si(i){yt.call(this,oi.Ta,i)}function Jn(i){const e=di();on(e,new Si(e))}function Ji(i,e){yt.call(this,oi.STAT_EVENT,i),this.stat=e}function ur(i){const e=di();on(e,new Ji(e,i))}function es(i,e){yt.call(this,oi.Ua,i),this.size=e}function Wi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return gt.setTimeout(function(){i()},e)}oi.Ta="serverreachability",ct(Si,yt),oi.STAT_EVENT="statevent",ct(Ji,yt),oi.Ua="timingevent",ct(es,yt);var Nr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function be(){}function ke(){}be.prototype.h=null;var zn,at={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Tt(){yt.call(this,"d")}function tn(){yt.call(this,"c")}function On(){}function Un(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new _t(this),this.P=hi,this.V=new Br(i=en?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Hi}function Hi(){this.i=null,this.g="",this.h=!1}ct(Tt,yt),ct(tn,yt),ct(On,be),On.prototype.g=function(){return new XMLHttpRequest},On.prototype.i=function(){return{}},zn=new On;var hi=45e3,ti={},Ir={};function Ks(i,e,n){i.L=1,i.v=ns(ts(e)),i.s=n,i.S=!0,Ro(i,null)}function Ro(i,e){i.G=Date.now(),ms(i),i.A=ts(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),Zi(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Hi,i.g=Qs(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Pe(pt(i.Pa,i,i.g),i.O)),vn(i.U,i.g,"readystatechange",i.nb),e=i.I?Tn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Jn(),function Ar(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",T=l.split("&"),k=0;k<T.length;k++){var $=T[k].split("=");if(1<$.length){var ne=$[0];$=$[1];var ye=ne.split("_");f=2<=ye.length&&"type"==ye[1]?f+(ne+"=")+$+"&":f+(ne+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Zs(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Ns(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=oo(i,n),u==Ir){4==e&&(i.o=4,ur(14),o=!1),ei(i.j,i.m,null,"[Incomplete Response]");break}if(u==ti){i.o=4,ur(15),ei(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}ei(i.j,i.m,u,null),Ki(i,u)}Zs(i)&&u!=Ir&&u!=ti&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,ur(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),pi(e),e.M=!0,ur(11))):(ei(i.j,i.m,n,"[Invalid Chunked Response]"),Ps(i),Rs(i))}function oo(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Ir:(n=Number(e.substring(n,o)),isNaN(n)?ti:(o+=1)+n>e.length?Ir:(e=e.slice(o,o+n),i.C=o+n,e))}function ms(i){i.Y=Date.now()+i.P,vo(i,i.P)}function vo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Wi(pt(i.lb,i),e)}function ao(i){i.B&&(gt.clearTimeout(i.B),i.B=null)}function Rs(i){0==i.l.H||i.J||Io(i.l,i)}function Ps(i){ao(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,yi(i.V),zt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Ki(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||js(n.i,i)))if(!i.K&&js(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;is(n),Yt(n)}Bi(n),ur(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Wi(pt(n.ib,n),6e3));if(1>=ks(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Do(n,11)}else if((i.K||n.g==i)&&is(n),!Ct(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let $=u[e];if(n.V=$[0],$=$[1],2==n.H)if("c"==$[0]){n.K=$[1],n.pa=$[2];const ne=$[3];null!=ne&&(n.ra=ne,n.l.info("VER="+n.ra));const ye=$[4];null!=ye&&(n.Ga=ye,n.l.info("SVER="+n.Ga));const ze=$[5];null!=ze&&"number"==typeof ze&&0<ze&&(n.L=o=1.5*ze,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const ut=i.g;if(ut){const Pt=ut.g?ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pt){var l=o.i;l.g||-1==Pt.indexOf("spdy")&&-1==Pt.indexOf("quic")&&-1==Pt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Qr(l,l.h),l.h=null))}if(o.F){const rn=ut.g?ut.g.getResponseHeader("X-HTTP-Session-Id"):null;rn&&(o.Da=rn,wn(o.I,o.F,rn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=bo(o,o.J?o.pa:null,o.Y),f.K){$s(o.i,f);var T=f,k=o.L;k&&T.setTimeout(k),T.B&&(ao(T),ms(T)),o.g=f}else ii(o);0<n.j.length&&jr(n)}else"stop"!=$[0]&&"close"!=$[0]||Do(n,7);else 3==n.H&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?Do(n,7):vt(n):"noop"!=$[0]&&n.h&&n.h.Aa($),n.A=0)}Jn()}catch{}}function uo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ft(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Us(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ft(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Vs(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ft(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(Ae=Un.prototype).setTimeout=function(i){this.P=i},Ae.nb=function(i){i=i.target;const e=this.M;e&&3==pe(i)?e.l():this.Pa(i)},Ae.Pa=function(i){try{if(i==this.g)e:{const ne=pe(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||en||this.g&&(this.h.h||this.g.ja()||Ne(this.g)))){this.J||4!=ne||7==e||Jn(),ao(this);var n=this.g.da();this.ca=n;t:if(Zs(this)){var o=Ne(this.g);i="";var u=o.length,l=4==pe(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ps(this),Rs(this);var f="";break t}this.h.i=new gt.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function jn(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,ne,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ct(T)){var $=T;break t}}$=null}if(!(n=$)){this.i=!1,this.o=3,ur(12),Ps(this),Rs(this);break e}ei(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ki(this,n)}this.S?(Ns(this,ne,f),en&&this.i&&3==ne&&(vn(this.U,this.V,"tick",this.mb),this.V.start())):(ei(this.j,this.m,f,null),Ki(this,f)),4==ne&&Ps(this),this.i&&!this.J&&(4==ne?Io(this.l,this):(this.i=!1,ms(this)))}else(function O(i){const e={};i=(i.g&&2<=pe(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Ct(i[o]))continue;var n=ht(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function Rn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,ur(12)):(this.o=0,ur(13)),Ps(this),Rs(this)}}}catch{}},Ae.mb=function(){if(this.g){var i=pe(this.g),e=this.g.ja();this.C<e.length&&(ao(this),Ns(this,i,e),this.i&&4!=i&&ms(this))}},Ae.cancel=function(){this.J=!0,Ps(this)},Ae.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function qi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Jn(),ur(17)),Ps(this),this.o=2,Rs(this)):vo(this,this.Y-i)};var co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ai(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ai){this.h=i.h,Ds(this,i.j),this.s=i.s,this.g=i.g,An(this,i.m),this.l=i.l;var e=i.i,n=new xn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mr(this,n),this.o=i.o}else i&&(e=String(i).match(co))?(this.h=!1,Ds(this,e[1]||"",!0),this.s=Kr(e[2]||""),this.g=Kr(e[3]||"",!0),An(this,e[4]),this.l=Kr(e[5]||"",!0),mr(this,e[6]||"",!0),this.o=Kr(e[7]||"")):(this.h=!1,this.i=new xn(null,this.h))}function ts(i){return new Ai(i)}function Ds(i,e,n){i.j=n?Kr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function An(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function mr(i,e,n){e instanceof xn?(i.i=e,function ni(i,e){e&&!i.j&&(cr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(wi(this,o),Zi(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Eo(e,Rr)),i.i=new xn(e,i.h))}function wn(i,e,n){i.i.set(e,n)}function ns(i){return wn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Kr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Eo(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Os),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Os(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ai.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Eo(e,Bs,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Eo(e,Bs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Eo(n,"/"==n.charAt(0)?bs:ra,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Eo(n,Bt)),i.join("")};var Bs=/[#\/\?@]/g,ra=/[#\?:]/g,bs=/[#\?]/g,Rr=/[#\?@]/g,Bt=/#/g;function xn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function cr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Wo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function wi(i,e){cr(i),e=Mi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ys(i,e){return cr(i),e=Mi(i,e),i.g.has(e)}function Zi(i,e,n){wi(i,e),0<n.length&&(i.i=null,i.g.set(Mi(i,e),Sn(n)),i.h+=n.length)}function Mi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function fi(i){this.l=i||Cn,i=gt.PerformanceNavigationTiming?0<(i=gt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(gt.g&&gt.g.Ka&&gt.g.Ka()&&gt.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ae=xn.prototype).add=function(i,e){cr(this),this.i=null,i=Mi(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ae.forEach=function(i,e){cr(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ae.ta=function(){cr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},Ae.Z=function(i){cr(this);let e=[];if("string"==typeof i)Ys(this,i)&&(e=e.concat(this.g.get(Mi(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ae.set=function(i,e){return cr(this),this.i=null,Ys(this,i=Mi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ae.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var Cn=10;function ys(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ks(i){return i.h?1:i.g?i.g.size:0}function js(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Qr(i,e){i.g?i.g.add(e):i.h=e}function $s(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ki(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Sn(i.i)}fi.prototype.cancel=function(){if(this.i=ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Ui=class{stringify(i){return gt.JSON.stringify(i,void 0)}parse(i){return gt.JSON.parse(i,void 0)}};function Fs(){this.g=new Ui}function ia(i,e,n){const o=n||"";try{uo(i,function(u,l){let f=u;cn(u)&&(f=_e(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function _s(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function _i(i){this.l=i.fc||null,this.j=i.ob||!1}function Hs(i,e){ar.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Pn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(_i,be),_i.prototype.g=function(){return new Hs(this.l,this.j)},_i.prototype.i=function(i){return function(){return i}}({}),ct(Hs,ar);var Pn=0;function wo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function vi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,vs(i)}function vs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ae=Hs.prototype).open=function(i,e){if(this.readyState!=Pn)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,vs(this)},Ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||gt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vi(this)),this.readyState=Pn},Ae.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof gt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ae.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?vi(this):vs(this),3==this.readyState&&wo(this)}},Ae.Za=function(i){this.g&&(this.response=this.responseText=i,vi(this))},Ae.Ya=function(i){this.g&&(this.response=i,vi(this))},Ae.ka=function(){this.g&&vi(this)},Ae.setRequestHeader=function(i,e){this.v.append(i,e)},Ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ii=gt.JSON.parse;function ri(i){ar.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zi,this.L=this.M=!1}ct(ri,ar);var zi="",lo=/^https?$/i,Ni=["POST","PUT"];function Ri(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Di(i),z(i)}function Di(i){i.F||(i.F=!0,on(i,"complete"),on(i,"error"))}function G(i){if(i.h&&typeof Mt<"u"&&(!i.C[1]||4!=pe(i)||2!=i.da()))if(i.v&&4==pe(i))Wr(i.La,0,i);else if(on(i,"readystatechange"),4==pe(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(co)[1]||null;!u&&gt.self&&gt.self.location&&(u=gt.self.location.protocol.slice(0,-1)),o=!lo.test(u?u.toLowerCase():"")}n=o}if(n)on(i,"complete"),on(i,"success");else{i.m=6;try{var l=2<pe(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",Di(i)}}finally{z(i)}}}function z(i,e){if(i.g){ae(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||on(i,"ready");try{n.onreadystatechange=o}catch{}}}function ae(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(gt.clearTimeout(i.A),i.A=null)}function pe(i){return i.g?i.g.readyState:0}function Ne(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case zi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function F(i){let e="";return xr(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function x(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=F(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):wn(i,e,n))}function W(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function de(i){this.Ga=0,this.j=[],this.l=new Ln,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=W("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=W("baseRetryDelayMs",5e3,i),this.hb=W("retryDelaySeedMs",1e4,i),this.eb=W("forwardChannelMaxRetries",2,i),this.xa=W("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new fi(i&&i.concurrentRequestLimit),this.Ja=new Fs,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vt(i){if(lr(i),3==i.H){var e=i.W++,n=ts(i.I);if(wn(n,"SID",i.K),wn(n,"RID",e),wn(n,"TYPE","terminate"),Dr(i,n),(e=new Un(i,i.l,e)).L=2,e.v=ns(ts(n)),n=!1,gt.navigator&&gt.navigator.sendBeacon)try{n=gt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&gt.Image&&((new Image).src=e.v,n=!0),n||(e.g=Qs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ms(e)}Ko(i)}function Yt(i){i.g&&(pi(i),i.g.cancel(),i.g=null)}function lr(i){Yt(i),i.u&&(gt.clearTimeout(i.u),i.u=null),is(i),i.i.cancel(),i.m&&("number"==typeof i.m&&gt.clearTimeout(i.m),i.m=null)}function jr(i){if(!ys(i.i)&&!i.m){i.m=!0;var e=i.Na;nn||pn(),mn||(nn(),mn=!0),Gn.add(e,i),i.C=0}}function Fi(i,e){var n;n=e?e.m:i.W++;const o=ts(i.I);wn(o,"SID",i.K),wn(o,"RID",n),wn(o,"AID",i.V),Dr(i,o),i.o&&i.s&&x(o,i.o,i.s),n=new Un(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=rs(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Qr(i.i,n),Ks(n,o,e)}function Dr(i,e){i.na&&xr(i.na,function(n,o){wn(e,o,n)}),i.h&&uo({},function(n,o){wn(e,o,n)})}function rs(i,e,n){n=Math.min(i.j.length,n);var o=i.h?pt(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let T=!0;for(let k=0;k<n;k++){let $=u[k].g;const ne=u[k].map;if($-=l,0>$)l=Math.max(0,u[k].g-100),T=!1;else try{ia(ne,f,"req"+$+"_")}catch{o&&o(ne)}}if(T){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ii(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;nn||pn(),mn||(nn(),mn=!0),Gn.add(e,i),i.A=0}}function Bi(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Wi(pt(i.Ma,i),po(i,i.A)),i.A++,0))}function pi(i){null!=i.B&&(gt.clearTimeout(i.B),i.B=null)}function fo(i){i.g=new Un(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=ts(i.wa);wn(e,"RID","rpc"),wn(e,"SID",i.K),wn(e,"AID",i.V),wn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&wn(e,"TO",i.qa),wn(e,"TYPE","xmlhttp"),Dr(i,e),i.o&&i.s&&x(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=ns(ts(e)),n.s=null,n.S=!0,Ro(n,i)}function is(i){null!=i.v&&(gt.clearTimeout(i.v),i.v=null)}function Io(i,e){var n=null;if(i.g==e){is(i),pi(i),i.g=null;var o=2}else{if(!js(i.i,e))return;n=e.F,$s(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;on(o=di(),new es(o,n)),jr(i)}else ii(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function $r(i,e){return!(ks(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Wi(pt(i.Na,i,e),po(i,i.C)),i.C++,0)))}(i,e)||2==o&&Bi(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Do(i,5);break;case 4:Do(i,10);break;case 3:Do(i,6);break;default:Do(i,2)}}function po(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Do(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=pt(i.pb,i);n||(n=new Ai("//www.google.com/images/cleardot.gif"),gt.location&&"http"==gt.location.protocol||Ds(n,"https"),ns(n)),function Ts(i,e){const n=new Ln;if(gt.Image){const o=new Image;o.onload=bt(_s,n,o,"TestLoadImage: loaded",!0,e),o.onerror=bt(_s,n,o,"TestLoadImage: error",!1,e),o.onabort=bt(_s,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=bt(_s,n,o,"TestLoadImage: timeout",!1,e),gt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else ur(2);i.H=0,i.h&&i.h.za(e),Ko(i),lr(i)}function Ko(i){if(i.H=0,i.ma=[],i.h){const e=ki(i.i);(0!=e.length||0!=i.j.length)&&(It(i.ma,e),It(i.ma,i.j),i.i.i.length=0,Sn(i.j),i.j.length=0),i.h.ya()}}function bo(i,e,n){var o=n instanceof Ai?ts(n):new Ai(n);if(""!=o.g)e&&(o.g=e+"."+o.g),An(o,o.m);else{var u=gt.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Ai(null);o&&Ds(l,o),e&&(l.g=e),u&&An(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&wn(o,n,e),wn(o,"VER",i.ra),Dr(i,o),o}function Qs(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ri(n&&i.Ha&&!i.va?new _i({ob:!0}):i.va)).Oa(i.J),e}function ls(){}function sa(){if(ot&&!(10<=Number(zr)))throw Error("Environmental error: no available transport.")}function br(i,e){ar.call(this),this.g=new de(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Ct(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ct(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Po(this)}function To(i){Tt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Cs(){tn.call(this),this.status=1}function Po(i){this.g=i}function Ss(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jo(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function j(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(Ae=ri.prototype).Oa=function(i){this.M=i},Ae.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zn.g(),this.C=function Te(i){return i.h||(i.h=i.i())}(this.u?this.u:zn),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void Ri(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=gt.FormData&&i instanceof gt.FormData,!(0<=hr(Ni,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ae(this),0<this.B&&((this.L=function ho(i){return ot&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=Wr(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Ri(this,l)}},Ae.ua=function(){typeof Mt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))},Ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,on(this,"complete"),on(this,"abort"),z(this))},Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),z(this,!0)),ri.$.N.call(this)},Ae.La=function(){this.s||(this.G||this.v||this.l?G(this):this.kb())},Ae.kb=function(){G(this)},Ae.isActive=function(){return!!this.g},Ae.da=function(){try{return 2<pe(this)?this.g.status:-1}catch{return-1}},Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ae.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ii(e)}},Ae.Ia=function(){return this.m},Ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=de.prototype).ra=8,Ae.H=1,Ae.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Un(this,this.l,i);let l=this.s;if(this.U&&(l?(l=Tn(l),Gr(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rs(this,u,e),wn(n=ts(this.I),"RID",i),wn(n,"CVER",22),this.F&&wn(n,"X-HTTP-Session-Id",this.F),Dr(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(F(l)))+"&"+e:this.o&&x(n,this.o,l)),Qr(this.i,u),this.bb&&wn(n,"TYPE","init"),this.P?(wn(n,"$req",e),wn(n,"SID","null"),u.aa=!0,Ks(u,n,null)):Ks(u,n,e),this.H=2}}else 3==this.H&&(i?Fi(this,i):0==this.j.length||ys(this.i)||Fi(this))},Ae.Ma=function(){if(this.u=null,fo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Wi(pt(this.jb,this),i)}},Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ur(10),Yt(this),fo(this))},Ae.ib=function(){null!=this.v&&(this.v=null,Yt(this),Bi(this),ur(19))},Ae.pb=function(i){i?(this.l.info("Successfully pinged google.com"),ur(2)):(this.l.info("Failed to ping google.com"),ur(1))},Ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ae=ls.prototype).Ba=function(){},Ae.Aa=function(){},Ae.za=function(){},Ae.ya=function(){},Ae.isActive=function(){return!0},Ae.Va=function(){},sa.prototype.g=function(i,e){return new br(i,e)},ct(br,ar),br.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;ur(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=bo(i,null,i.Y),jr(i)},br.prototype.close=function(){vt(this.g)},br.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=_e(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&jr(e)},br.prototype.N=function(){this.g.h=null,delete this.j,vt(this.g),delete this.g,br.$.N.call(this)},ct(To,Tt),ct(Cs,tn),ct(Po,ls),Po.prototype.Ba=function(){on(this.g,"a")},Po.prototype.Aa=function(i){on(this.g,new To(i))},Po.prototype.za=function(i){on(this.g,new Cs)},Po.prototype.ya=function(){on(this.g,"b")},ct(Ss,function Ca(){this.blockSize=-1}),Ss.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ss.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)jo(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){jo(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){jo(this,o),u=0;break}}this.h=u,this.i+=e},Ss.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var y={};function w(i){return-128<=i&&128>i?function Ze(i,e){var n=y;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new j([0|e],0>e?-1:0)}):new j([0|i],0>i?-1:0)}function P(i){if(isNaN(i)||!isFinite(i))return Ee;if(0>i)return Nt(P(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=oe;return new j(e,0)}var oe=4294967296,Ee=w(0),Ie=w(1),je=w(16777216);function Qe(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Rt(i){return-1==i.h}function Nt(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new j(n,~i.h).add(Ie)}function er(i,e){return i.add(Nt(e))}function I(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function H(i,e){this.g=i,this.h=e}function R(i,e){if(Qe(e))throw Error("division by zero");if(Qe(i))return new H(Ee,Ee);if(Rt(i))return e=R(Nt(i),e),new H(Nt(e.g),Nt(e.h));if(Rt(e))return e=R(i,Nt(e)),new H(Nt(e.g),e.h);if(30<i.g.length){if(Rt(i)||Rt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ie,o=e;0>=o.X(i);)n=B(n),o=B(o);var u=ce(n,1),l=ce(o,1);for(o=ce(o,2),n=ce(n,2);!Qe(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=ce(o,1),n=ce(n,1)}return e=er(i,u.R(e)),new H(u,e)}for(u=Ee;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=P(n)).R(e);Rt(f)||0<f.X(i);)f=(l=P(n-=o)).R(e);Qe(l)&&(l=Ie),u=u.add(l),i=er(i,f)}return new H(u,i)}function B(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new j(n,i.h)}function ce(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new j(u,i.h)}(Ae=j.prototype).ea=function(){if(Rt(this))return-Nt(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:oe+o)*e,e*=oe}return i},Ae.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Qe(this))return"0";if(Rt(this))return"-"+Nt(this).toString(i);for(var e=P(Math.pow(i,6)),n=this,o="";;){var u=R(n,e).g,l=((0<(n=er(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Qe(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},Ae.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ae.X=function(i){return Rt(i=er(this,i))?-1:Qe(i)?0:1},Ae.abs=function(){return Rt(this)?Nt(this):this},Ae.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new j(n,-2147483648&n[n.length-1]?-1:0)},Ae.R=function(i){if(Qe(this)||Qe(i))return Ee;if(Rt(this))return Rt(i)?Nt(this).R(Nt(i)):Nt(Nt(this).R(i));if(Rt(i))return Nt(this.R(Nt(i)));if(0>this.X(je)&&0>i.X(je))return P(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),T=i.D(u)>>>16,k=65535&i.D(u);n[2*o+2*u]+=f*k,I(n,2*o+2*u),n[2*o+2*u+1]+=l*k,I(n,2*o+2*u+1),n[2*o+2*u+1]+=f*T,I(n,2*o+2*u+1),n[2*o+2*u+2]+=l*T,I(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new j(n,0)},Ae.gb=function(i){return R(this,i).h},Ae.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new j(n,this.h&i.h)},Ae.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new j(n,this.h|i.h)},Ae.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new j(n,this.h^i.h)},sa.prototype.createWebChannel=sa.prototype.g,br.prototype.send=br.prototype.u,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,xs.COMPLETE="complete",ke.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",ar.prototype.listen=ar.prototype.O,ri.prototype.listenOnce=ri.prototype.P,ri.prototype.getLastError=ri.prototype.Sa,ri.prototype.getLastErrorCode=ri.prototype.Ia,ri.prototype.getStatus=ri.prototype.da,ri.prototype.getResponseJson=ri.prototype.Wa,ri.prototype.getResponseText=ri.prototype.ja,ri.prototype.send=ri.prototype.ha,ri.prototype.setWithCredentials=ri.prototype.Oa,Ss.prototype.digest=Ss.prototype.l,Ss.prototype.reset=Ss.prototype.reset,Ss.prototype.update=Ss.prototype.j,j.prototype.add=j.prototype.add,j.prototype.multiply=j.prototype.R,j.prototype.modulo=j.prototype.gb,j.prototype.compare=j.prototype.X,j.prototype.toNumber=j.prototype.ea,j.prototype.toString=j.prototype.toString,j.prototype.getBits=j.prototype.D,j.fromNumber=P,j.fromString=function q(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Nt(q(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=P(Math.pow(e,8)),o=Ee,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=P(Math.pow(e,l)),o=o.R(l).add(P(f))):o=(o=o.R(n)).add(P(f))}return o};var Be=nt.createWebChannelTransport=function(){return new sa},st=nt.getStatEventTarget=function(){return di()},$t=nt.ErrorCode=Nr,Lr=nt.EventType=xs,Mr=nt.Event=oi,$n=nt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kn=nt.FetchXmlHttpFactory=_i,Tr=nt.WebChannel=ke,sr=nt.XhrIo=ri,ji=nt.Md5=Ss,Yi=nt.Integer=j;const ds="@firebase/firestore";class Xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");let ai="9.23.0";const Ht=new ve.Yd("@firebase/firestore");function yn(){return Ht.logLevel}function it(i,...e){if(Ht.logLevel<=ve.in.DEBUG){const n=e.map(hs);Ht.debug(`Firestore (${ai}): ${i}`,...n)}}function yr(i,...e){if(Ht.logLevel<=ve.in.ERROR){const n=e.map(hs);Ht.error(`Firestore (${ai}): ${i}`,...n)}}function Gi(i,...e){if(Ht.logLevel<=ve.in.WARN){const n=e.map(hs);Ht.warn(`Firestore (${ai}): ${i}`,...n)}}function hs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Kt(i="Unexpected state"){const e=`FIRESTORE (${ai}) INTERNAL ASSERTION FAILED: `+i;throw yr(e),new Error(e)}function Lt(i,e){i||Kt()}function Vt(i,e){return i}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends me.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Aa{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xr.UNAUTHENTICATED))}shutdown(){}}class tu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ju{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=$=>this.i!==u?(u=this.i,n($)):Promise.resolve();let f=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Jr,e.enqueueRetryable(()=>l(this.currentUser))};const T=()=>{const $=f;e.enqueueRetryable((0,fe.Z)(function*(){yield $.promise,yield l(o.currentUser)}))},k=$=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit($=>k($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?k($):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Jr)}},0),T()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Lt("string"==typeof o.accessToken),new Aa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new Xr(e)}}class zs{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Iu{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new zs(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $u{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oa{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Lt("string"==typeof n.token),this.T=n.token,new $u(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Es(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Du{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Es(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function hn(i,e){return i<e?-1:i>e?1:0}function go(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class $i{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new lt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new lt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $i.fromMillis(Date.now())}static fromDate(e){return $i.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new $i(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class an{constructor(e){this.timestamp=e}static fromTimestamp(e){return new an(e)}static min(){return new an(new $i(0,0))}static max(){return new an(new $i(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ma{constructor(e,n,o){void 0===n?n=0:n>e.length&&Kt(),void 0===o?o=e.length-n:o>e.length-n&&Kt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Ma.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Zr extends Ma{construct(e,n,o){return new Zr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new lt($e.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Zr(n)}static emptyPath(){return new Zr([])}}const Hu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Ma{construct(e,n,o){return new dn(e,n,o)}static isValidIdentifier(e){return Hu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dn(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new lt($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new lt($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const k=e[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new lt($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=k,u+=2}else"`"===T?(f=!f,u++):"."!==T||f?(o+=T,u++):(l(),u++)}if(l(),f)throw new lt($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(Zr.fromString(e))}static fromName(e){return new Ut(Zr.fromString(e).popFirst(5))}static empty(){return new Ut(Zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Zr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new Zr(e.slice()))}}function ac(i){return new Oo(i.readTime,i.key,-1)}class Oo{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Oo(an.min(),Ut.empty(),-1)}static max(){return new Oo(an.max(),Ut.empty(),-1)}}function uc(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ut.comparator(i.documentKey,e.documentKey),0!==n?n:hn(i.largestBatchId,e.largestBatchId))}const Et="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ho(i){return nu.apply(this,arguments)}function nu(){return nu=(0,fe.Z)(function*(i){if(i.code!==$e.FAILED_PRECONDITION||i.message!==Et)throw i;it("LocalStore","Unexpectedly lost primary lease")}),nu.apply(this,arguments)}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Fe((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Fe?n:Fe.resolve(n)}catch(n){return Fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Fe.reject(n)}static resolve(e){return new Fe((n,o)=>{n(e)})}static reject(e){return new Fe((n,o)=>{o(e)})}static waitFor(e){return new Fe((n,o)=>{let u=0,l=0,f=!1;e.forEach(T=>{++u,T.next(()=>{++l,f&&l===u&&n()},k=>o(k))}),f=!0,l===u&&n()})}static or(e){let n=Fe.resolve(!1);for(const o of e)n=n.next(u=>u?Fe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Fe((o,u)=>{const l=e.length,f=new Array(l);let T=0;for(let k=0;k<l;k++){const $=k;n(e[$]).next(ne=>{f[$]=ne,++T,T===l&&o(f)},ne=>u(ne))}})}static doWhile(e,n){return new Fe((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function Yo(i){return"IndexedDbTransactionError"===i.name}let fs=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function ko(i){return null==i}function v(i){return 0===i&&1/i==-1/0}function cc(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function _a(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Au(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Pi{constructor(e,n){this.comparator=e,this.root=n||eo.EMPTY}insert(e,n){return new Pi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,eo.BLACK,null,null))}remove(e){return new Pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,eo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ga(this.root,e,this.comparator,!0)}}class Ga{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class eo{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??eo.RED,this.left=u??eo.EMPTY,this.right=l??eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new eo(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return eo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return eo.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}eo.EMPTY=null,eo.RED=!0,eo.BLACK=!1,eo.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new eo(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bi{constructor(e){this.comparator=e,this.data=new Pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iu(this.data.getIterator())}getIteratorFrom(e){return new iu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof bi)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bi(this.comparator);return n.data=e,n}}class iu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Co{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Co([])}unionWith(e){let n=new bi(dn.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Co(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class lc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lc("Invalid base64 string: "+u):u}}(e);return new qs(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new qs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qs.EMPTY_BYTE_STRING=new qs("");const Tl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zo(i){if(Lt(!!i),"string"==typeof i){let e=0;const n=Tl.exec(i);if(Lt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ws(i.seconds),nanos:ws(i.nanos)}}function ws(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ca(i){return"string"==typeof i?qs.fromBase64String(i):qs.fromUint8Array(i)}function va(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cl(i){const e=i.mapValue.fields.__previous_value__;return va(e)?Cl(e):e}function la(i){const e=zo(i.mapValue.fields.__local_write_time__.timestampValue);return new $i(e.seconds,e.nanos)}class Oc{constructor(e,n,o,u,l,f,T,k,$){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=k,this.useFetchStreams=$}}class Go{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Go("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}const qa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ea(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?va(i)?4:ka(i)?9007199254740991:10:Kt()}function wa(i,e){if(i===e)return!0;const n=Ea(i);if(n!==Ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return la(i).isEqual(la(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=zo(o.timestampValue),f=zo(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ca(i.bytesValue).isEqual(ca(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ws(o.geoPointValue.latitude)===ws(u.geoPointValue.latitude)&&ws(o.geoPointValue.longitude)===ws(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ws(o.integerValue)===ws(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=ws(o.doubleValue),f=ws(u.doubleValue);return l===f?v(l)===v(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],wa);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(cc(l)!==cc(f))return!1;for(const T in l)if(l.hasOwnProperty(T)&&(void 0===f[T]||!wa(l[T],f[T])))return!1;return!0}(i,e);default:return Kt()}var u}function to(i,e){return void 0!==(i.values||[]).find(n=>wa(n,e))}function da(i,e){if(i===e)return 0;const n=Ea(i),o=Ea(e);if(n!==o)return hn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return hn(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=ws(u.integerValue||u.doubleValue),T=ws(l.integerValue||l.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(i,e);case 3:return ou(i.timestampValue,e.timestampValue);case 4:return ou(la(i),la(e));case 5:return hn(i.stringValue,e.stringValue);case 6:return function(u,l){const f=ca(u),T=ca(l);return f.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),T=l.split("/");for(let k=0;k<f.length&&k<T.length;k++){const $=hn(f[k],T[k]);if(0!==$)return $}return hn(f.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=hn(ws(u.latitude),ws(l.latitude));return 0!==f?f:hn(ws(u.longitude),ws(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],T=l.values||[];for(let k=0;k<f.length&&k<T.length;++k){const $=da(f[k],T[k]);if($)return $}return hn(f.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===qa.mapValue&&l===qa.mapValue)return 0;if(u===qa.mapValue)return 1;if(l===qa.mapValue)return-1;const f=u.fields||{},T=Object.keys(f),k=l.fields||{},$=Object.keys(k);T.sort(),$.sort();for(let ne=0;ne<T.length&&ne<$.length;++ne){const ye=hn(T[ne],$[ne]);if(0!==ye)return ye;const ze=da(f[T[ne]],k[$[ne]]);if(0!==ze)return ze}return hn(T.length,$.length)}(i.mapValue,e.mapValue);default:throw Kt()}}function ou(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return hn(i,e);const n=zo(i),o=zo(e),u=hn(n.seconds,o.seconds);return 0!==u?u:hn(n.nanos,o.nanos)}function Ia(i){return Ka(i)}function Ka(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=zo(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ca(i.bytesValue).toBase64():"referenceValue"in i?Ut.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=Ka(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const T of u)f?f=!1:l+=",",l+=`${T}:${Ka(o.fields[T])}`;return l+"}"}(i.mapValue):Kt();var e}function ha(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Sl(i){return!!i&&"integerValue"in i}function au(i){return!!i&&"arrayValue"in i}function Al(i){return!!i&&"nullValue"in i}function kc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mu(i){return!!i&&"mapValue"in i}function Da(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return _a(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Da(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Da(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ka(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(n)}setAll(e){let n=dn.emptyPath(),o={},u=[];e.forEach((f,T)=>{if(!n.isImmediateParentOf(T)){const k=this.getFieldsMap(n);this.applyChanges(k,o,u),o={},u=[],n=T.popLast()}f?o[T.lastSegment()]=Da(f):u.push(T.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Mu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){_a(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Li(Da(this.value))}}function Md(i){const e=[];return _a(i.fields,(n,o)=>{const u=new dn([n]);if(Mu(o)){const l=Md(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new Co(e)}class Vr{constructor(e,n,o,u,l,f,T){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=T}static newInvalidDocument(e){return new Vr(e,0,an.min(),an.min(),an.min(),Li.empty(),0)}static newFoundDocument(e,n,o,u){return new Vr(e,1,n,an.min(),o,u,0)}static newNoDocument(e,n){return new Vr(e,2,n,an.min(),an.min(),Li.empty(),0)}static newUnknownDocument(e,n){return new Vr(e,3,n,an.min(),an.min(),Li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(an.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Za{constructor(e,n){this.position=e,this.inclusive=n}}function zu(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?Ut.comparator(Ut.fromName(f.referenceValue),n.key):da(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function dc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!wa(i.position[n],e.position[n]))return!1;return!0}class xu{constructor(e,n="asc"){this.field=e,this.dir=n}}function b(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class N{}class V extends N{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new qo(e,n,o):"array-contains"===n?new fa(e,o):"in"===n?new pa(e,o):"not-in"===n?new cu(e,o):"array-contains-any"===n?new ps(e,o):new V(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new mo(e,o):new Lc(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(da(n,this.value)):null!==n&&Ea(this.value)===Ea(n)&&this.matchesComparison(da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ie extends N{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ie(e,n)}matches(e){return we(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function we(i){return"and"===i.op}function tt(i){return function qt(i){for(const e of i.filters)if(e instanceof ie)return!1;return!0}(i)&&we(i)}function Wt(i){if(i instanceof V)return i.field.canonicalString()+i.op.toString()+Ia(i.value);if(tt(i))return i.filters.map(e=>Wt(e)).join(",");{const e=i.filters.map(n=>Wt(n)).join(",");return`${i.op}(${e})`}}function In(i,e){return i instanceof V?(n=i,(o=e)instanceof V&&n.op===o.op&&n.field.isEqual(o.field)&&wa(n.value,o.value)):i instanceof ie?function(n,o){return o instanceof ie&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&In(l,o.filters[f]),!0)}(i,e):void Kt();var n,o}function dr(i){return i instanceof V?`${(e=i).field.canonicalString()} ${e.op} ${Ia(e.value)}`:i instanceof ie?function(e){return e.op.toString()+" {"+e.getFilters().map(dr).join(" ,")+"}"}(i):"Filter";var e}class qo extends V{constructor(e,n,o){super(e,n,o),this.key=Ut.fromName(o.referenceValue)}matches(e){const n=Ut.comparator(e.key,this.key);return this.matchesComparison(n)}}class mo extends V{constructor(e,n){super(e,"in",n),this.keys=Ml(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lc extends V{constructor(e,n){super(e,"not-in",n),this.keys=Ml(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ml(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Ut.fromName(o.referenceValue))}class fa extends V{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return au(n)&&to(n.arrayValue,this.value)}}class pa extends V{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&to(this.value.arrayValue,n)}}class cu extends V{constructor(e,n){super(e,"not-in",n)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!to(this.value.arrayValue,n)}}class ps extends V{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!au(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>to(this.value.arrayValue,o))}}class Rh{constructor(e,n=null,o=[],u=[],l=null,f=null,T=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=T,this.dt=null}}function Ya(i,e=null,n=[],o=[],u=null,l=null,f=null){return new Rh(i,e,n,o,u,l,f)}function Nu(i){const e=Vt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Wt(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),ko(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Ia(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Ia(o)).join(",")),e.dt=n}return e.dt}function So(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!b(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!In(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!dc(i.startAt,e.startAt)&&dc(i.endAt,e.endAt)}function lu(i){return Ut.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class du{constructor(e,n=null,o=[],u=[],l=null,f="F",T=null,k=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=T,this.endAt=k,this.wt=null,this._t=null}}function fc(i){return new du(i)}function yp(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Fo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function hu(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function fu(i){return null!==i.collectionGroup}function Bc(i){const e=Vt(i);if(null===e.wt){e.wt=[];const n=hu(e),o=Fo(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new xu(n)),e.wt.push(new xu(dn.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new xu(dn.keyField(),l))}}}return e.wt}function yo(i){const e=Vt(i);if(!e._t)if("F"===e.limitType)e._t=Ya(e.path,e.collectionGroup,Bc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Bc(e))n.push(new xu(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new Za(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Za(e.startAt.position,e.startAt.inclusive):null;e._t=Ya(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function xd(i,e){e.getFirstInequalityField(),hu(i);const n=i.filters.concat([e]);return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function xl(i,e,n){return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function jc(i,e){return So(yo(i),yo(e))&&i.limitType===e.limitType}function Oh(i){return`${Nu(yo(i))}|lt:${i.limitType}`}function Nd(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>dr(o)).join(", ")}]`),ko(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Ia(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Ia(o)).join(",")),`Target(${n})`}(yo(i))}; limitType=${i.limitType})`}function $c(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Ut.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of Bc(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const T=zu(u,l,f);return u.inclusive?T<=0:T<0}(n.startAt,Bc(n),o)||n.endAt&&!function(u,l,f){const T=zu(u,l,f);return u.inclusive?T>=0:T>0}(n.endAt,Bc(n),o)));var n,o}function Nl(i){return(e,n)=>{let o=!1;for(const u of Bc(i)){const l=wm(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function wm(i,e,n){const o=i.field.isKeyField()?Ut.comparator(e.key,n.key):function(u,l,f){const T=l.data.field(u),k=f.data.field(u);return null!==T&&null!==k?da(T,k):Kt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Kt()}}class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Au(this.inner)}size(){return this.innerSize}}const Im=new Pi(Ut.comparator);function Lo(){return Im}const _p=new Pi(Ut.comparator);function Hc(...i){let e=_p;for(const n of i)e=e.insert(n.key,n);return e}function Rl(i){let e=_p;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function ba(){return Pl()}function kh(){return Pl()}function Pl(){return new La(i=>i.toString(),(i,e)=>i.isEqual(e))}const vp=new Pi(Ut.comparator),zc=new bi(Ut.comparator);function _r(...i){let e=zc;for(const n of i)e=e.add(n);return e}const Dm=new bi(hn);function Fh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:v(e)?"-0":e}}function wp(i){return{integerValue:""+i}}function bm(i,e){return function S(i){return"number"==typeof i&&Number.isInteger(i)&&!v(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?wp(e):Fh(i,e)}class Pd{constructor(){this._=void 0}}function Tm(i,e,n){return i instanceof Gu?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&va(u)&&(u=Cl(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof pc?Lh(i,e):i instanceof Gc?Vh(i,e):function(o,u){const l=Ol(o,u),f=Ip(l)+Ip(o.gt);return Sl(l)&&Sl(o.gt)?wp(f):Fh(o.serializer,f)}(i,e)}function Cm(i,e,n){return i instanceof pc?Lh(i,e):i instanceof Gc?Vh(i,e):n}function Ol(i,e){return i instanceof kl?Sl(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Gu extends Pd{}class pc extends Pd{constructor(e){super(),this.elements=e}}function Lh(i,e){const n=Dp(e);for(const o of i.elements)n.some(u=>wa(u,o))||n.push(o);return{arrayValue:{values:n}}}class Gc extends Pd{constructor(e){super(),this.elements=e}}function Vh(i,e){let n=Dp(e);for(const o of i.elements)n=n.filter(u=>!wa(u,o));return{arrayValue:{values:n}}}class kl extends Pd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Ip(i){return ws(i.integerValue||i.doubleValue)}function Dp(i){return au(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class T_{constructor(e,n){this.version=e,this.transformResults=n}}class os{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Bh{}function Sm(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new mc(i.key,os.none()):new Ru(i.key,i.data,os.none());{const n=i.data,o=Li.empty();let u=new bi(dn.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new pu(i.key,o,new Co(u.toArray()),os.none())}}function Am(i,e,n){i instanceof Ru?function(o,u,l){const f=o.value.clone(),T=$h(o.fieldTransforms,u,l.transformResults);f.setAll(T),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof pu?function(o,u,l){if(!Uh(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=$h(o.fieldTransforms,u,l.transformResults),T=u.data;T.setAll(jh(o)),T.setAll(f),u.convertToFoundDocument(l.version,T).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Od(i,e,n,o){return i instanceof Ru?function(u,l,f,T){if(!Uh(u.precondition,l))return f;const k=u.value.clone(),$=gc(u.fieldTransforms,T,l);return k.setAll($),l.convertToFoundDocument(l.version,k).setHasLocalMutations(),null}(i,e,n,o):i instanceof pu?function(u,l,f,T){if(!Uh(u.precondition,l))return f;const k=gc(u.fieldTransforms,T,l),$=l.data;return $.setAll(jh(u)),$.setAll(k),l.convertToFoundDocument(l.version,$).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ne=>ne.field))}(i,e,n,o):(f=n,Uh(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Mm(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Ol(o.transform,u||null);null!=l&&(null===n&&(n=Li.empty()),n.set(o.field,l))}return n||null}function Fl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&go(n,o,(u,l)=>function b_(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof pc&&o instanceof pc||n instanceof Gc&&o instanceof Gc?go(n.elements,o.elements,wa):n instanceof kl&&o instanceof kl?wa(n.gt,o.gt):n instanceof Gu&&o instanceof Gu);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Ru extends Bh{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class pu extends Bh{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function $h(i,e,n){const o=new Map;Lt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,T=e.data.field(l.field);o.set(l.field,Cm(f,T,n[u]))}return o}function gc(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Tm(l,f,e))}return o}class mc extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kd extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qc{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Am(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Od(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Od(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=kh();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let T=this.applyToLocalView(f,l.mutatedFields);T=n.has(u.key)?null:T;const k=Sm(f,T);null!==k&&o.set(u.key,k),f.isValidDocument()||f.convertToNoDocument(an.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_r())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,o)=>Fl(n,o))&&go(this.baseMutations,e.baseMutations,(n,o)=>Fl(n,o))}}class Wc{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Lt(e.mutations.length===o.length);let u=vp;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Wc(e,n,o,u)}}class Kc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class D{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,p;function K(i){if(void 0===i)return yr("GRPC error has no .code"),$e.UNKNOWN;switch(i){case h.OK:return $e.OK;case h.CANCELLED:return $e.CANCELLED;case h.UNKNOWN:return $e.UNKNOWN;case h.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case h.INTERNAL:return $e.INTERNAL;case h.UNAVAILABLE:return $e.UNAVAILABLE;case h.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case h.NOT_FOUND:return $e.NOT_FOUND;case h.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case h.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case h.ABORTED:return $e.ABORTED;case h.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case h.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case h.DATA_LOSS:return $e.DATA_LOSS;default:return Kt()}}(p=h||(h={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class se{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xe}static getOrCreateInstance(){return null===xe&&(xe=new se),xe}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let xe=null;const jt=new Yi([4294967295,4294967295],0);function Qt(i){const e=function Xe(){return new TextEncoder}().encode(i),n=new ji;return n.update(e),new Uint8Array(n.digest())}function un(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Yi([n,o],0),new Yi([u,l],0)]}class kr{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new no(`Invalid padding: ${n}`);if(o<0)throw new no(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new no(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new no(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Yi.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(Yi.fromNumber(o)));return 1===u.compare(jt)&&(u=new Yi([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=Qt(e),[o,u]=un(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new kr(l,u,n);return o.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const n=Qt(e),[o,u]=un(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ta{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Is.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new ta(an.min(),u,new Pi(hn),Lo(),_r())}}class Is{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Is(o,n,_r(),_r(),_r())}}class gu{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class Zc{constructor(e,n){this.targetId=e,this.Vt=n}}class Ll{constructor(e,n,o=qs.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Fd{constructor(){this.St=0,this.Dt=Ul(),this.Ct=qs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=_r(),n=_r(),o=_r();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Kt()}}),new Is(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=Ul()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Vl{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Lo(),this.zt=Ld(),this.Wt=new Pi(hn)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:Kt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(lu(f))if(0===u){const T=new Ut(f.path);this.Yt(o,T,Vr.newNoDocument(T,an.min()))}else Lt(1===u);else{const T=this.ie(o);if(T!==u){const k=this.re(e,T);0!==k&&(this.ee(o),this.Wt=this.Wt.insert(o,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=se.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function($,ne,ye){var ze,ut,Pt,rn,gn,Ur;const Ti={localCacheCount:ne,existenceFilterCount:ye.count},Yr=ye.unchangedNames;return Yr&&(Ti.bloomFilter={applied:0===$,hashCount:null!==(ze=Yr?.hashCount)&&void 0!==ze?ze:0,bitmapLength:null!==(rn=null===(Pt=null===(ut=Yr?.bits)||void 0===ut?void 0:ut.bitmap)||void 0===Pt?void 0:Pt.length)&&void 0!==rn?rn:0,padding:null!==(Ur=null===(gn=Yr?.bits)||void 0===gn?void 0:gn.padding)&&void 0!==Ur?Ur:0}),Ti}(k,T,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:T=0}=o;let k,$;try{k=ca(l).toUint8Array()}catch(ne){if(ne instanceof lc)return Gi("Decoding the base64 bloom filter in existence filter failed ("+ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ne}try{$=new kr(k,f,T)}catch(ne){return Gi(ne instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",ne),1}return 0===$.It?1:u!==n-this.oe(e.targetId,$)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(T)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const T=this.se(f);if(T){if(l.current&&lu(T.target)){const k=new Ut(T.target.path);null!==this.jt.get(k)||this.ae(f,k)||this.Yt(f,k,Vr.newNoDocument(k,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=_r();this.zt.forEach((l,f)=>{let T=!0;f.forEachWhile(k=>{const $=this.se(k);return!$||"TargetPurposeLimboResolution"===$.purpose||(T=!1,!1)}),T&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new ta(e,n,this.Wt,this.jt,o);return this.jt=Lo(),this.zt=Ld(),this.Wt=new Pi(hn),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Fd,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new bi(hn),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||it("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Fd),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Ld(){return new Pi(Ut.comparator)}function Ul(){return new Pi(Ut.comparator)}const Vd={asc:"ASCENDING",desc:"DESCENDING"},Ud={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bp={and:"AND",or:"OR"};class Bd{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yc(i,e){return i.useProto3Json||ko(e)?e:{value:e}}function yc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jd(i,e){return yc(i,e.toTimestamp())}function ro(i){return Lt(!!i),an.fromTimestamp(function(e){const n=zo(e);return new $i(n.seconds,n.nanos)}(i))}function Tp(i,e){return(n=i,new Zr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Cp(i){const e=Zr.fromString(i);return Lt(N_(e)),e}function Bl(i,e){return Tp(i.databaseId,e.path)}function mu(i,e){const n=Cp(e);if(n.get(1)!==i.databaseId.projectId)throw new lt($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new lt($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ut(Hh(n))}function _c(i,e){return Tp(i.databaseId,e)}function jl(i){return new Zr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hh(i){return Lt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Hd(i,e,n){return{name:Bl(i,e),fields:n.value.mapValue.fields}}function Ap(i,e){return{documents:[_c(i,e.path)]}}function $l(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=_c(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_c(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(k){if(0!==k.length)return Np(ie.create(k,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(k){if(0!==k.length)return k.map($=>{return{field:Ta((ne=$).field),direction:M_(ne.dir)};var ne})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Yc(i,e.limit);var T,k;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(n.structuredQuery.endAt={before:!(k=e.endAt).inclusive,values:k.position}),n}function zh(i){let e=function $d(i){const e=Cp(i);return 4===e.length?Zr.emptyPath():Hh(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Lt(1===o);const ne=n.from[0];ne.allDescendants?u=ne.collectionId:e=e.child(ne.collectionId)}let l=[];n.where&&(l=function(ne){const ye=Pm(ne);return ye instanceof ie&&tt(ye)?ye.getFilters():[ye]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(ne=>{return new xu(Qc((ye=ne).field),function(ze){switch(ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ye.direction));var ye}));let T=null;n.limit&&(T=function(ne){let ye;return ye="object"==typeof ne?ne.value:ne,ko(ye)?null:ye}(n.limit));let k=null;var ne;n.startAt&&(k=new Za((ne=n.startAt).values||[],!!ne.before));let $=null;return n.endAt&&($=function(ne){return new Za(ne.values||[],!ne.before)}(n.endAt)),function Ph(i,e,n,o,u,l,f,T){return new du(i,e,n,o,u,l,f,T)}(e,u,f,l,T,"F",k,$)}function Pm(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Qc(e.unaryFilter.field);return V.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Qc(e.unaryFilter.field);return V.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qc(e.unaryFilter.field);return V.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Qc(e.unaryFilter.field);return V.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(i):void 0!==i.fieldFilter?V.create(Qc((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return ie.create(e.compositeFilter.filters.map(n=>Pm(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Kt()}}(e.compositeFilter.op))}(i):Kt();var e}function M_(i){return Vd[i]}function xp(i){return Ud[i]}function Om(i){return bp[i]}function Ta(i){return{fieldPath:i.canonicalString()}}function Qc(i){return dn.fromServerFormat(i.fieldPath)}function Np(i){return i instanceof V?function(e){if("=="===e.op){if(kc(e.value))return{unaryFilter:{field:Ta(e.field),op:"IS_NAN"}};if(Al(e.value))return{unaryFilter:{field:Ta(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kc(e.value))return{unaryFilter:{field:Ta(e.field),op:"IS_NOT_NAN"}};if(Al(e.value))return{unaryFilter:{field:Ta(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(e.field),op:xp(e.op),value:e.value}}}(i):i instanceof ie?function(e){const n=e.getFilters().map(o=>Np(o));return 1===n.length?n[0]:{compositeFilter:{op:Om(e.op),filters:n}}}(i):Kt()}function x_(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function N_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Qa{constructor(e,n,o,u,l=an.min(),f=an.min(),T=qs.EMPTY_BYTE_STRING,k=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=k}withSequenceNumber(e){return new Qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class km{constructor(e){this.fe=e}}function qd(i){const e=zh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?xl(e,e.limit,"L"):e}class Xc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ws(e.integerValue));else if("doubleValue"in e){const o=ws(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),v(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ca(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?ka(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Kt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),Ut.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Xc.Ve=new Xc;class R_{constructor(){this.rn=new jp}addToCollectionParentIndex(e,n){return this.rn.add(n),Fe.resolve()}getCollectionParents(e,n){return Fe.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Fe.resolve()}deleteFieldIndex(e,n){return Fe.resolve()}getDocumentsMatchingTarget(e,n){return Fe.resolve(null)}getIndexType(e,n){return Fe.resolve(0)}getFieldIndexes(e,n){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,n){return Fe.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return Fe.resolve(Oo.min())}updateCollectionGroup(e,n,o){return Fe.resolve()}updateIndexEntries(e,n){return Fe.resolve()}}class jp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new bi(Zr.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new bi(Zr.comparator)).toArray()}}new Uint8Array(0);class ga{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ga(e,ga.DEFAULT_COLLECTION_PERCENTILE,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ga.DEFAULT_COLLECTION_PERCENTILE=10,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ga.DEFAULT=new ga(41943040,ga.DEFAULT_COLLECTION_PERCENTILE,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ga.DISABLED=new ga(-1,0,0);class ma{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ma(0)}static Mn(){return new ma(-1)}}class $m{constructor(){this.changes=new La(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Fe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class j_{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nl{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Od(o.mutation,u,Co.empty(),$i.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,_r()).next(()=>o))}getLocalViewOfDocuments(e,n,o=_r()){const u=ba();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=Hc();return l.forEach((T,k)=>{f=f.insert(T,k.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=ba();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,_r()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,T)=>{n.set(f,T)})})}computeViews(e,n,o,u){let l=Lo();const f=Pl(),T=Pl();return n.forEach((k,$)=>{const ne=o.get($.key);u.has($.key)&&(void 0===ne||ne.mutation instanceof pu)?l=l.insert($.key,$):void 0!==ne?(f.set($.key,ne.mutation.getFieldMask()),Od(ne.mutation,$,ne.mutation.getFieldMask(),$i.now())):f.set($.key,Co.empty())}),this.recalculateAndSaveOverlays(e,l).next(k=>(k.forEach(($,ne)=>f.set($,ne)),n.forEach(($,ne)=>{var ye;return T.set($,new j_(ne,null!==(ye=f.get($))&&void 0!==ye?ye:null))}),T))}recalculateAndSaveOverlays(e,n){const o=Pl();let u=new Pi((f,T)=>f-T),l=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const T of f)T.keys().forEach(k=>{const $=n.get(k);if(null===$)return;let ne=o.get(k)||Co.empty();ne=T.applyToLocalView($,ne),o.set(k,ne);const ye=(u.get(T.batchId)||_r()).add(k);u=u.insert(T.batchId,ye)})}).next(()=>{const f=[],T=u.getReverseIterator();for(;T.hasNext();){const k=T.getNext(),$=k.key,ne=k.value,ye=kh();ne.forEach(ze=>{if(!l.has(ze)){const ut=Sm(n.get(ze),o.get(ze));null!==ut&&ye.set(ze,ut),l=l.add(ze)}}),f.push(this.documentOverlayCache.saveOverlays(e,$,ye))}return Fe.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Ut.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):fu(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Fe.resolve(ba());let T=-1,k=l;return f.next($=>Fe.forEach($,(ne,ye)=>(T<ye.largestBatchId&&(T=ye.largestBatchId),l.get(ne)?Fe.resolve():this.remoteDocumentCache.getEntry(e,ne).next(ze=>{k=k.insert(ne,ze)}))).next(()=>this.populateOverlays(e,$,l)).next(()=>this.computeViews(e,k,$,_r())).next(ne=>({batchId:T,changes:Rl(ne)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ut(n)).next(o=>{let u=Hc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=Hc();return this.indexManager.getCollectionParents(e,u).next(f=>Fe.forEach(f,T=>{const k=($=n,ne=T.child(u),new du(ne,null,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt));var $,ne;return this.getDocumentsMatchingCollectionQuery(e,k,o).next($=>{$.forEach((ne,ye)=>{l=l.insert(ne,ye)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((T,k)=>{const $=k.getKey();null===l.get($)&&(l=l.insert($,Vr.newInvalidDocument($)))});let f=Hc();return l.forEach((T,k)=>{const $=u.get(T);void 0!==$&&Od($.mutation,k,Co.empty(),$i.now()),$c(n,k)&&(f=f.insert(T,k))}),f})}}class $_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Fe.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:ro(o.createTime)}),Fe.resolve()}getNamedQuery(e,n){return Fe.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:qd(o.bundledQuery),readTime:ro(o.readTime)}),Fe.resolve();var o}}class H_{constructor(){this.overlays=new Pi(Ut.comparator),this.ls=new Map}getOverlay(e,n){return Fe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=ba();return Fe.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Fe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Fe.resolve()}getOverlaysForCollection(e,n,o){const u=ba(),l=n.length+1,f=new Ut(n.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const k=T.getNext().value,$=k.getKey();if(!n.isPrefixOf($.path))break;$.path.length===l&&k.largestBatchId>o&&u.set(k.getKey(),k)}return Fe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new Pi(($,ne)=>$-ne);const f=this.overlays.getIterator();for(;f.hasNext();){const $=f.getNext().value;if($.getKey().getCollectionGroup()===n&&$.largestBatchId>o){let ne=l.get($.largestBatchId);null===ne&&(ne=ba(),l=l.insert($.largestBatchId,ne)),ne.set($.getKey(),$)}}const T=ba(),k=l.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach(($,ne)=>T.set($,ne)),!(T.size()>=u)););return Fe.resolve(T)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Kc(n,o));let l=this.ls.get(n);void 0===l&&(l=_r(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class Jd{constructor(){this.fs=new bi(Ao.ds),this.ws=new bi(Ao._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new Ao(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new Ao(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new Ut(new Zr([])),o=new Ao(n,e),u=new Ao(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ut(new Zr([])),o=new Ao(n,e),u=new Ao(n,e+1);let l=_r();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Ao(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ao{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ut.comparator(e.key,n.key)||hn(e.As,n.As)}static _s(e,n){return hn(e.As,n.As)||Ut.comparator(e.key,n.key)}}class z_{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new bi(Ao.ds)}checkEmpty(e){return Fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new qc(l,n,o,u);this.mutationQueue.push(f);for(const T of u)this.Rs=this.Rs.add(new Ao(T.key,l)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Fe.resolve(f)}lookupMutationBatch(e,n){return Fe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ao(n,0),u=new Ao(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const T=this.Ps(f.As);l.push(T)}),Fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new bi(hn);return n.forEach(u=>{const l=new Ao(u,0),f=new Ao(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],T=>{o=o.add(T.As)})}),Fe.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Ut.isDocumentKey(l)||(l=l.child(""));const f=new Ao(new Ut(l),0);let T=new bi(hn);return this.Rs.forEachWhile(k=>{const $=k.key.path;return!!o.isPrefixOf($)&&($.length===u&&(T=T.add(k.As)),!0)},f),Fe.resolve(this.Vs(T))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Lt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Fe.forEach(n.mutations,u=>{const l=new Ao(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new Ao(n,0),u=this.Rs.firstAfterOrEqual(o);return Fe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Fe.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class G_{constructor(e){this.Ds=e,this.docs=new Pi(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Fe.resolve(o?o.document.mutableCopy():Vr.newInvalidDocument(n))}getEntries(e,n){let o=Lo();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Vr.newInvalidDocument(u))}),Fe.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=Lo();const f=n.path,T=new Ut(f.child("")),k=this.docs.getIteratorFrom(T);for(;k.hasNext();){const{key:$,value:{document:ne}}=k.getNext();if(!f.isPrefixOf($.path))break;$.path.length>f.length+1||uc(ac(ne),o)<=0||(u.has(ne.key)||$c(n,ne))&&(l=l.insert(ne.key,ne.mutableCopy()))}return Fe.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Kt()}Cs(e,n){return Fe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new q_(this)}getSize(e){return Fe.resolve(this.size)}}class q_ extends $m{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Fe.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class W_{constructor(e){this.persistence=e,this.xs=new La(n=>Nu(n),So),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Jd,this.targetCount=0,this.Ms=ma.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Fe.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ma(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Fe.resolve()}updateTargetData(e,n){return this.Fn(n),Fe.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=n&&null===o.get(T.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Fe.waitFor(l).next(()=>u)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Fe.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Fe.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Fe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Fe.resolve(o)}containsKey(e,n){return Fe.resolve(this.ks.containsKey(n))}}class sf{constructor(e,n){this.$s={},this.overlays={},this.Os=new fs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new W_(this),this.indexManager=new R_,this.remoteDocumentCache=new G_(o=>this.referenceDelegate.Ls(o)),this.serializer=new km(n),this.qs=new $_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new z_(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){it("MemoryPersistence","Starting transaction:",e);const u=new mw(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Fe.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class mw extends Hr{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Qs=new Jd,this.js=null}static zs(e){return new Gp(e)}get Ws(){if(this.js)return this.js;throw Kt()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Fe.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Fe.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Fe.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Ws,o=>{const u=Ut.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,an.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Fe.or([()=>Fe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class lf{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=_r(),u=_r();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new lf(e,n.fromCache,o,u)}}class nh{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(yp(n))return Fe.resolve(null);let o=yo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=xl(n,null,"F"),o=yo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=_r(...l);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,o).next(k=>{const $=this.ji(n,T);return this.zi(n,$,f,k.readTime)?this.Ki(e,xl(n,null,"F")):this.Wi(e,$,n,k)}))})))}Gi(e,n,o,u){return yp(n)||u.isEqual(an.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(yn()<=ve.in.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Nd(n)),this.Wi(e,f,n,function oc(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=an.fromTimestamp(1e9===o?new $i(n+1,0):new $i(n,o));return new Oo(u,Ut.empty(),e)}(u,-1)))})}ji(e,n){let o=new bi(Nl(e));return n.forEach((u,l)=>{$c(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return yn()<=ve.in.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Nd(n)),this.Ui.getDocumentsMatchingQuery(e,n,Oo.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class yw{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new Pi(hn),this.Yi=new La(l=>Nu(l),So),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nl(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function qm(i,e){return rh.apply(this,arguments)}function rh(){return rh=(0,fe.Z)(function*(i,e){const n=Vt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],T=[];let k=_r();for(const $ of u){f.push($.batchId);for(const ne of $.mutations)k=k.add(ne.key)}for(const $ of l){T.push($.batchId);for(const ne of $.mutations)k=k.add(ne.key)}return n.localDocuments.getDocuments(o,k).next($=>({er:$,removedBatchIds:f,addedBatchIds:T}))})})}),rh.apply(this,arguments)}function Wp(i){const e=Vt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Kp(i,e){const n=Vt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Zl(i,e,n){return ih.apply(this,arguments)}function ih(){return ih=(0,fe.Z)(function*(i,e,n){const o=Vt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!Yo(f))throw f;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),ih.apply(this,arguments)}function il(i,e,n){const o=Vt(i);let u=an.min(),l=_r();return o.persistence.runTransaction("Execute query","readonly",f=>function(T,k,$){const ne=Vt(T),ye=ne.Yi.get($);return void 0!==ye?Fe.resolve(ne.Ji.get(ye)):ne.Bs.getTargetData(k,$)}(o,f,yo(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,T.targetId).next(k=>{l=k})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:an.min(),n?l:_r())).next(T=>(function hf(i,e,n){let o=i.Xi.get(e)||an.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function Rd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),T),{documents:T,ir:l})))}class sh{constructor(){this.activeTargetIds=function Ep(){return Dm}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jm{constructor(){this.Hr=new sh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Z_{Yr(e){}shutdown(){}}class ey{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qp=null;function ty(){return null===Qp?Qp=268435456+Math.round(2147483648*Math.random()):Qp++,"0x"+Qp.toString(16)}const gf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vo="WebChannelConnection";class Xp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=ty(),T=this.To(e,n);it("RestConnection",`Sending RPC '${e}' ${f}:`,T,o);const k={};return this.Eo(k,u,l),this.Ao(e,T,k,o).then($=>(it("RestConnection",`Received RPC '${e}' ${f}: `,$),$),$=>{throw Gi("RestConnection",`RPC '${e}' ${f} failed with error: `,$,"url: ",T,"request:",o),$})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ai,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${gf[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=ty();return new Promise((f,T)=>{const k=new sr;k.setWithCredentials(!0),k.listenOnce(Lr.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case $t.NO_ERROR:const ne=k.getResponseJson();it(Vo,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(ne)),f(ne);break;case $t.TIMEOUT:it(Vo,`RPC '${e}' ${l} timed out`),T(new lt($e.DEADLINE_EXCEEDED,"Request time out"));break;case $t.HTTP_ERROR:const ye=k.getStatus();if(it(Vo,`RPC '${e}' ${l} failed with status:`,ye,"response text:",k.getResponseText()),ye>0){let ze=k.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const ut=ze?.error;if(ut&&ut.status&&ut.message){const Pt=function(rn){const gn=rn.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(gn)>=0?gn:$e.UNKNOWN}(ut.status);T(new lt(Pt,ut.message))}else T(new lt($e.UNKNOWN,"Server responded with status "+k.getStatus()))}else T(new lt($e.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{it(Vo,`RPC '${e}' ${l} completed.`)}});const $=JSON.stringify(u);it(Vo,`RPC '${e}' ${l} sending request:`,u),k.send(n,"POST",$,o,15)})}Ro(e,n,o){const u=ty(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Be(),T=st(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},$=this.longPollingOptions.timeoutSeconds;void 0!==$&&(k.longPollingTimeout=Math.round(1e3*$)),this.useFetchStreams&&(k.xmlHttpFactory=new kn({})),this.Eo(k.initMessageHeaders,n,o),k.encodeInitMessageHeaders=!0;const ne=l.join("");it(Vo,`Creating RPC '${e}' stream ${u}: ${ne}`,k);const ye=f.createWebChannel(ne,k);let ze=!1,ut=!1;const Pt=new Y_({ro:gn=>{ut?it(Vo,`Not sending because RPC '${e}' stream ${u} is closed:`,gn):(ze||(it(Vo,`Opening RPC '${e}' stream ${u} transport.`),ye.open(),ze=!0),it(Vo,`RPC '${e}' stream ${u} sending:`,gn),ye.send(gn))},oo:()=>ye.close()}),rn=(gn,Ur,Ti)=>{gn.listen(Ur,Yr=>{try{Ti(Yr)}catch(_o){setTimeout(()=>{throw _o},0)}})};return rn(ye,Tr.EventType.OPEN,()=>{ut||it(Vo,`RPC '${e}' stream ${u} transport opened.`)}),rn(ye,Tr.EventType.CLOSE,()=>{ut||(ut=!0,it(Vo,`RPC '${e}' stream ${u} transport closed`),Pt.wo())}),rn(ye,Tr.EventType.ERROR,gn=>{ut||(ut=!0,Gi(Vo,`RPC '${e}' stream ${u} transport errored:`,gn),Pt.wo(new lt($e.UNAVAILABLE,"The operation could not be completed")))}),rn(ye,Tr.EventType.MESSAGE,gn=>{var Ur;if(!ut){const Ti=gn.data[0];Lt(!!Ti);const _o=Ti.error||(null===(Ur=Ti[0])||void 0===Ur?void 0:Ur.error);if(_o){it(Vo,`RPC '${e}' stream ${u} received error:`,_o);const so=_o.status;let gs=function(Nc){const lm=h[Nc];if(void 0!==lm)return K(lm)}(so),ya=_o.message;void 0===gs&&(gs=$e.INTERNAL,ya="Unknown error status: "+so+" with message "+_o.message),ut=!0,Pt.wo(new lt(gs,ya)),ye.close()}else it(Vo,`RPC '${e}' stream ${u} received:`,Ti),Pt._o(Ti)}}),rn(T,Mr.STAT_EVENT,gn=>{gn.stat===$n.PROXY?it(Vo,`RPC '${e}' stream ${u} detected buffering proxy`):gn.stat===$n.NOPROXY&&it(Vo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Pt.fo()},0),Pt}}function Xl(){return typeof document<"u"?document:null}function al(i){return new Bd(i,!0)}class ul{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class oh{constructor(e,n,o,u,l,f,T,k){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=k,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ul(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,fe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,fe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,fe.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===$e.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===$e.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new lt($e.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,fe.Z)(function*(){e.state=0,e.start()}))}tu(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jl extends oh{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function S_(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(k=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:Kt(),u=e.targetChange.targetIds||[],l=function(k,$){return k.useProto3Json?(Lt(void 0===$||"string"==typeof $),qs.fromBase64String($||"")):(Lt(void 0===$||$ instanceof Uint8Array),qs.fromUint8Array($||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(k){const $=void 0===k.code?$e.UNKNOWN:K(k.code);return new lt($,k.message||"")}(f);n=new Ll(o,u,l,T||null)}else if("documentChange"in e){const o=e.documentChange,u=mu(i,o.document.name),l=ro(o.document.updateTime),f=o.document.createTime?ro(o.document.createTime):an.min(),T=new Li({mapValue:{fields:o.document.fields}}),k=Vr.newFoundDocument(u,l,f,T);n=new gu(o.targetIds||[],o.removedTargetIds||[],k.key,k)}else if("documentDelete"in e){const o=e.documentDelete,u=mu(i,o.document),l=o.readTime?ro(o.readTime):an.min(),f=Vr.newNoDocument(u,l);n=new gu([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=mu(i,o.document);n=new gu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Kt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new D(u,l);n=new Zc(o.targetId,f)}}var k;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return an.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?an.min():l.readTime?ro(l.readTime):an.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=jl(this.serializer),n.addTarget=function(u,l){let f;const T=l.target;if(f=lu(T)?{documents:Ap(u,T)}:{query:$l(u,T)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Nm(u,l.resumeToken);const k=Yc(u,l.expectedCount);null!==k&&(f.expectedCount=k)}else if(l.snapshotVersion.compareTo(an.min())>0){f.readTime=yc(u,l.snapshotVersion.toTimestamp());const k=Yc(u,l.expectedCount);null!==k&&(f.expectedCount=k)}return f}(this.serializer,e);const o=function Mp(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=jl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Jp extends oh{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function A_(i,e){return i&&i.length>0?(Lt(void 0!==e),i.map(n=>function(o,u){let l=ro(o.updateTime?o.updateTime:u);return l.isEqual(an.min())&&(l=ro(u)),new T_(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=ro(e.commitTime);return this.listener.cu(o,n)}return Lt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=jl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function zd(i,e){let n;if(e instanceof Ru)n={update:Hd(i,e.key,e.value)};else if(e instanceof mc)n={delete:Bl(i,e.key)};else if(e instanceof pu)n={update:Hd(i,e.key,e.data),updateMask:x_(e.fieldMask)};else{if(!(e instanceof kd))return Kt();n={verify:Bl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof Gu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof pc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Gc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw Kt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:jd(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Kt()),n;var u}(this.serializer,o))};this.Wo(n)}}class eg extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new lt($e.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt($e.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new lt($e.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class tg{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(yr(n),this.mu=!1):it("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ah{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(T=>{o.enqueueAndForget((0,fe.Z)(function*(){var k;_u(f)&&(it("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,fe.Z)(function*($){const ne=Vt($);ne.vu.add(4),yield ed(ne),ne.bu.set("Unknown"),ne.vu.delete(4),yield uh(ne)}),function($){return k.apply(this,arguments)})(f))}))}),this.bu=new tg(o,u)}}function uh(i){return yf.apply(this,arguments)}function yf(){return yf=(0,fe.Z)(function*(i){if(_u(i))for(const e of i.Ru)yield e(!0)}),yf.apply(this,arguments)}function ed(i){return ng.apply(this,arguments)}function ng(){return ng=(0,fe.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),ng.apply(this,arguments)}function td(i,e){const n=Vt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ig(n)?iy(n):cl(n).Ko()&&rg(n,e))}function nd(i,e){const n=Vt(i),o=cl(n);n.Au.delete(e),o.Ko()&&ry(n,e),0===n.Au.size&&(o.Ko()?o.jo():_u(n)&&n.bu.set("Unknown"))}function rg(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(i).su(e)}function ry(i,e){i.Vu.qt(e),cl(i).iu(e)}function iy(i){i.Vu=new Vl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),cl(i).start(),i.bu.gu()}function ig(i){return _u(i)&&!cl(i).Uo()&&i.Au.size>0}function _u(i){return 0===Vt(i).vu.size}function _f(i){i.Vu=void 0}function Q_(i){return vf.apply(this,arguments)}function vf(){return vf=(0,fe.Z)(function*(i){i.Au.forEach((e,n)=>{rg(i,e)})}),vf.apply(this,arguments)}function sg(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,fe.Z)(function*(i,e){_f(i),ig(i)?(i.bu.Iu(e),iy(i)):i.bu.set("Unknown")}),rd.apply(this,arguments)}function X_(i,e,n){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,fe.Z)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Ll&&2===e.state&&e.cause)try{yield(o=(0,fe.Z)(function*(u,l){const f=l.cause;for(const T of l.targetIds)u.Au.has(T)&&(yield u.remoteSyncer.rejectListen(T,f),u.Au.delete(T),u.Vu.removeTarget(T))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield wf(i,o)}else if(e instanceof gu?i.Vu.Ht(e):e instanceof Zc?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(an.min()))try{const o=yield Wp(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((T,k)=>{if(T.resumeToken.approximateByteSize()>0){const $=u.Au.get(k);$&&u.Au.set(k,$.withResumeToken(T.resumeToken,l))}}),f.targetMismatches.forEach((T,k)=>{const $=u.Au.get(T);if(!$)return;u.Au.set(T,$.withResumeToken(qs.EMPTY_BYTE_STRING,$.snapshotVersion)),ry(u,T);const ne=new Qa($.target,T,k,$.sequenceNumber);rg(u,ne)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){it("RemoteStore","Failed to raise snapshot:",o),yield wf(i,o)}var o}),Ef.apply(this,arguments)}function wf(i,e,n){return If.apply(this,arguments)}function If(){return If=(0,fe.Z)(function*(i,e,n){if(!Yo(e))throw e;i.vu.add(1),yield ed(i),i.bu.set("Offline"),n||(n=()=>Wp(i.localStore)),i.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){it("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield uh(i)}))}),If.apply(this,arguments)}function J_(i,e){return e().catch(n=>wf(i,n,e))}function id(i){return sd.apply(this,arguments)}function sd(){return sd=(0,fe.Z)(function*(i){const e=Vt(i),n=Tc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ev(e);)try{const u=yield Kp(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,od(e,u)}catch(u){yield wf(e,u)}ad(e)&&sy(e)}),sd.apply(this,arguments)}function ev(i){return _u(i)&&i.Eu.length<10}function od(i,e){i.Eu.push(e);const n=Tc(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function ad(i){return _u(i)&&!Tc(i).Uo()&&i.Eu.length>0}function sy(i){Tc(i).start()}function oy(i){return og.apply(this,arguments)}function og(){return og=(0,fe.Z)(function*(i){Tc(i).hu()}),og.apply(this,arguments)}function tv(i){return ag.apply(this,arguments)}function ag(){return ag=(0,fe.Z)(function*(i){const e=Tc(i);for(const n of i.Eu)e.uu(n.mutations)}),ag.apply(this,arguments)}function ay(i,e,n){return Df.apply(this,arguments)}function Df(){return Df=(0,fe.Z)(function*(i,e,n){const o=i.Eu.shift(),u=Wc.from(o,e,n);yield J_(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield id(i)}),Df.apply(this,arguments)}function ug(i,e){return uy.apply(this,arguments)}function uy(){return uy=(0,fe.Z)(function*(i,e){var n;e&&Tc(i).ou&&(yield(n=(0,fe.Z)(function*(o,u){if(function C(i){switch(i){default:return Kt();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}(l=u.code)&&l!==$e.ABORTED){const f=o.Eu.shift();Tc(o).Qo(),yield J_(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield id(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),ad(i)&&sy(i)}),uy.apply(this,arguments)}function bf(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,fe.Z)(function*(i,e){const n=Vt(i);n.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const o=_u(n);n.vu.add(3),yield ed(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield uh(n)}),Tf.apply(this,arguments)}function lg(){return lg=(0,fe.Z)(function*(i,e){const n=Vt(i);e?(n.vu.delete(2),yield uh(n)):e||(n.vu.add(2),yield ed(n),n.bu.set("Unknown"))}),lg.apply(this,arguments)}function cl(i){return i.Su||(i.Su=function(e,n,o){const u=Vt(e);return u.fu(),new Jl(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Q_.bind(null,i),ao:sg.bind(null,i),nu:X_.bind(null,i)}),i.Ru.push(function(){var e=(0,fe.Z)(function*(n){n?(i.Su.Qo(),ig(i)?iy(i):i.bu.set("Unknown")):(yield i.Su.stop(),_f(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function Tc(i){return i.Du||(i.Du=function(e,n,o){const u=Vt(e);return u.fu(),new Jp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:oy.bind(null,i),ao:ug.bind(null,i),au:tv.bind(null,i),cu:ay.bind(null,i)}),i.Ru.push(function(){var e=(0,fe.Z)(function*(n){n?(i.Du.Qo(),yield id(i)):(yield i.Du.stop(),i.Eu.length>0&&(it("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class Cf{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,T=new Cf(e,n,f,u,l);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lt($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ud(i,e){if(yr("AsyncQueue",`${e}: ${i}`),Yo(i))return new lt($e.UNAVAILABLE,`${e}: ${i}`);throw i}class cd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Ut.comparator(n.key,o.key):(n,o)=>Ut.comparator(n.key,o.key),this.keyedMap=Hc(),this.sortedSet=new Pi(this.comparator)}static emptySet(e){return new cd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new cd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class nv{constructor(){this.Cu=new Pi(Ut.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Kt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class ll{constructor(e,n,o,u,l,f,T,k,$){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=k,this.hasCachedResults=$}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(T=>{f.push({type:0,doc:T})}),new ll(e,n,cd.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class cy{constructor(){this.Nu=void 0,this.listeners=[]}}class vu{constructor(){this.queries=new La(e=>Oh(e),jc),this.onlineState="Unknown",this.ku=new Set}}function ly(){return ly=(0,fe.Z)(function*(i,e){const n=Vt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new cy),u)try{l.Nu=yield n.onListen(o)}catch(f){const T=ud(f,`Initialization of query '${Nd(e.query)}' failed`);return void e.onError(T)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&dy(n)}),ly.apply(this,arguments)}function Ou(){return Ou=(0,fe.Z)(function*(i,e){const n=Vt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Ou.apply(this,arguments)}function dg(i,e){const n=Vt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const T of f.listeners)T.$u(u)&&(o=!0);f.Nu=u}}o&&dy(n)}function rv(i,e,n){const o=Vt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function dy(i){i.ku.forEach(e=>{e.next()})}class hg{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new ll(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class iv{constructor(e){this.key=e}}class Mo{constructor(e){this.key=e}}class py{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=_r(),this.mutatedKeys=_r(),this.tc=Nl(e),this.ec=new cd(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new nv,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,T=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,$="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ne,ye)=>{const ze=u.get(ne),ut=$c(this.query,ye)?ye:null,Pt=!!ze&&this.mutatedKeys.has(ze.key),rn=!!ut&&(ut.hasLocalMutations||this.mutatedKeys.has(ut.key)&&ut.hasCommittedMutations);let gn=!1;ze&&ut?ze.data.isEqual(ut.data)?Pt!==rn&&(o.track({type:3,doc:ut}),gn=!0):this.rc(ze,ut)||(o.track({type:2,doc:ut}),gn=!0,(k&&this.tc(ut,k)>0||$&&this.tc(ut,$)<0)&&(T=!0)):!ze&&ut?(o.track({type:0,doc:ut}),gn=!0):ze&&!ut&&(o.track({type:1,doc:ze}),gn=!0,(k||$)&&(T=!0)),gn&&(ut?(f=f.add(ut),l=rn?l.add(ne):l.delete(ne)):(f=f.delete(ne),l=l.delete(ne)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const ne="F"===this.query.limitType?f.last():f.first();f=f.delete(ne.key),l=l.delete(ne.key),o.track({type:1,doc:ne})}return{ec:f,ic:o,zi:T,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort(($,ne)=>function(ye,ze){const ut=Pt=>{switch(Pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return ut(ye)-ut(ze)}($.type,ne.type)||this.tc($.doc,ne.doc)),this.oc(o);const f=n?this.uc():[],T=0===this.Zu.size&&this.current?1:0,k=T!==this.Xu;return this.Xu=T,0!==l.length||k?{snapshot:new ll(this.query,e.ec,u,l,e.mutatedKeys,0===T,k,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new nv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=_r(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new Mo(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new iv(o))}),n}hc(e){this.Yu=e.ir,this.Zu=_r();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ll.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class sv{constructor(e){this.key=e,this.fc=!1}}class ov{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new La(T=>Oh(T),jc),this._c=new Map,this.mc=new Set,this.gc=new Pi(Ut.comparator),this.yc=new Map,this.Ic=new Jd,this.Tc={},this.Ec=new Map,this.Ac=ma.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function gg(i,e){return Af.apply(this,arguments)}function Af(){return Af=(0,fe.Z)(function*(i,e){const n=function Sc(i){const e=Vt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=my.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_w.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ju.bind(null,e),e.dc.nu=dg.bind(null,e.eventManager),e.dc.Pc=rv.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function Xu(i,e){const n=Vt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Fe.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new Qa(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,yo(e)),T=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Mf(i,e,n,o,u){return mg.apply(this,arguments)}(n,e,o,"current"===T,f.resumeToken),n.isPrimaryClient&&td(n.remoteStore,f)}return u}),Af.apply(this,arguments)}function mg(){return mg=(0,fe.Z)(function*(i,e,n,o,u){i.Rc=(ye,ze,ut)=>{return(Pt=(0,fe.Z)(function*(rn,gn,Ur,Ti){let Yr=gn.view.sc(Ur);Yr.zi&&(Yr=yield il(rn.localStore,gn.query,!1).then(({documents:gs})=>gn.view.sc(gs,Yr)));const _o=Ti&&Ti.targetChanges.get(gn.targetId),so=gn.view.applyChanges(Yr,rn.isPrimaryClient,_o);return Eg(rn,gn.targetId,so.cc),so.snapshot}),function(rn,gn,Ur,Ti){return Pt.apply(this,arguments)})(i,ye,ze,ut);var Pt};const l=yield il(i.localStore,e,!0),f=new py(e,l.ir),T=f.sc(l.documents),k=Is.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),$=f.applyChanges(T,i.isPrimaryClient,k);Eg(i,n,$.cc);const ne=new pg(e,n,f);return i.wc.set(e,ne),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),$.snapshot}),mg.apply(this,arguments)}function gy(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,fe.Z)(function*(i,e){const n=Vt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!jc(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Zl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),nd(n.remoteStore,o.targetId),fl(n,o.targetId)}).catch(Ho))):(fl(n,o.targetId),yield Zl(n.localStore,o.targetId,!0))}),xf.apply(this,arguments)}function yg(){return yg=(0,fe.Z)(function*(i,e,n){const o=function lh(i){const e=Vt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yy.bind(null,e),e}(i);try{const u=yield function(l,f){const T=Vt(l),k=$i.now(),$=f.reduce((ze,ut)=>ze.add(ut.key),_r());let ne,ye;return T.persistence.runTransaction("Locally write mutations","readwrite",ze=>{let ut=Lo(),Pt=_r();return T.Zi.getEntries(ze,$).next(rn=>{ut=rn,ut.forEach((gn,Ur)=>{Ur.isValidDocument()||(Pt=Pt.add(gn))})}).next(()=>T.localDocuments.getOverlayedDocuments(ze,ut)).next(rn=>{ne=rn;const gn=[];for(const Ur of f){const Ti=Mm(Ur,ne.get(Ur.key).overlayedDocument);null!=Ti&&gn.push(new pu(Ur.key,Ti,Md(Ti.value.mapValue),os.exists(!0)))}return T.mutationQueue.addMutationBatch(ze,k,gn,f)}).next(rn=>{ye=rn;const gn=rn.applyToLocalDocumentSet(ne,Pt);return T.documentOverlayCache.saveOverlays(ze,rn.batchId,gn)})}).then(()=>({batchId:ye.batchId,changes:Rl(ne)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,T){let k=l.Tc[l.currentUser.toKey()];k||(k=new Pi(hn)),k=k.insert(f,T),l.Tc[l.currentUser.toKey()]=k}(o,u.batchId,n),yield ku(o,u.changes),yield id(o.remoteStore)}catch(u){const l=ud(u,"Failed to persist write");n.reject(l)}}),yg.apply(this,arguments)}function my(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,fe.Z)(function*(i,e){const n=Vt(i);try{const o=yield function rl(i,e){const n=Vt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const T=[];e.targetChanges.forEach((ne,ye)=>{const ze=u.get(ye);if(!ze)return;T.push(n.Bs.removeMatchingKeys(l,ne.removedDocuments,ye).next(()=>n.Bs.addMatchingKeys(l,ne.addedDocuments,ye)));let ut=ze.withSequenceNumber(l.currentSequenceNumber);var Pt,rn,gn;null!==e.targetMismatches.get(ye)?ut=ut.withResumeToken(qs.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):ne.resumeToken.approximateByteSize()>0&&(ut=ut.withResumeToken(ne.resumeToken,o)),u=u.insert(ye,ut),rn=ut,gn=ne,(0===(Pt=ze).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-Pt.snapshotVersion.toMicroseconds()>=3e8||gn.addedDocuments.size+gn.modifiedDocuments.size+gn.removedDocuments.size>0)&&T.push(n.Bs.updateTargetData(l,ut))});let k=Lo(),$=_r();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&T.push(n.persistence.referenceDelegate.updateLimboDocument(l,ne))}),T.push(function Km(i,e,n){let o=_r(),u=_r();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=Lo();return n.forEach((T,k)=>{const $=l.get(T);k.isFoundDocument()!==$.isFoundDocument()&&(u=u.add(T)),k.isNoDocument()&&k.version.isEqual(an.min())?(e.removeEntry(T,k.readTime),f=f.insert(T,k)):!$.isValidDocument()||k.version.compareTo($.version)>0||0===k.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(k),f=f.insert(T,k)):it("LocalStore","Ignoring outdated watch update for ",T,". Current version:",$.version," Watch version:",k.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(ne=>{k=ne.nr,$=ne.sr})),!o.isEqual(an.min())){const ne=n.Bs.getLastRemoteSnapshotVersion(l).next(ye=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));T.push(ne)}return Fe.waitFor(T).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,k,$)).next(()=>k)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(Lt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?Lt(f.fc):u.removedDocuments.size>0&&(Lt(f.fc),f.fc=!1))}),yield ku(n,o,e)}catch(o){yield Ho(o)}}),Nf.apply(this,arguments)}function dl(i,e,n){const o=Vt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const T=f.view.Mu(e);T.snapshot&&u.push(T.snapshot)}),function(l,f){const T=Vt(l);T.onlineState=f;let k=!1;T.queries.forEach(($,ne)=>{for(const ye of ne.listeners)ye.Mu(f)&&(k=!0)}),k&&dy(T)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Ju(i,e,n){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,fe.Z)(function*(i,e,n){const o=Vt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new Pi(Ut.comparator);f=f.insert(l,Vr.newNoDocument(l,an.min()));const T=_r().add(l),k=new ta(an.min(),new Map,new Pi(hn),f,T);yield my(o,k),o.gc=o.gc.remove(l),o.yc.delete(e),wg(o)}else yield Zl(o.localStore,e,!1).then(()=>fl(o,e,n)).catch(Ho)}),Cc.apply(this,arguments)}function uv(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,fe.Z)(function*(i,e){const n=Vt(i),o=e.batch.batchId;try{const u=yield function Wm(i,e){const n=Vt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,k,$){const ne=k.batch,ye=ne.keys();let ze=Fe.resolve();return ye.forEach(ut=>{ze=ze.next(()=>$.getEntry(T,ut)).next(Pt=>{const rn=k.docVersions.get(ut);Lt(null!==rn),Pt.version.compareTo(rn)<0&&(ne.applyToRemoteDocument(Pt,k),Pt.isValidDocument()&&(Pt.setReadTime(k.commitVersion),$.addEntry(Pt)))})}),ze.next(()=>f.mutationQueue.removeMutationBatch(T,ne))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let T=_r();for(let k=0;k<f.mutationResults.length;++k)f.mutationResults[k].transformResults.length>0&&(T=T.add(f.batch.mutations[k].key));return T}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Pf(n,o,null),ld(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield ku(n,u)}catch(u){yield Ho(u)}}),_g.apply(this,arguments)}function yy(i,e,n){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,fe.Z)(function*(i,e,n){const o=Vt(i);try{const u=yield function(l,f){const T=Vt(l);return T.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let $;return T.mutationQueue.lookupMutationBatch(k,f).next(ne=>(Lt(null!==ne),$=ne.keys(),T.mutationQueue.removeMutationBatch(k,ne))).next(()=>T.mutationQueue.performConsistencyCheck(k)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(k,$,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,$)).next(()=>T.localDocuments.getDocuments(k,$))})}(o.localStore,e);Pf(o,e,n),ld(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield ku(o,u)}catch(u){yield Ho(u)}}),Rf.apply(this,arguments)}function ld(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function Pf(i,e,n){const o=Vt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function fl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||_y(i,o)})}function _y(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(nd(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),wg(i))}function Eg(i,e,n){for(const o of n)o instanceof iv?(i.Ic.addReference(o.key,e),cv(i,o)):o instanceof Mo?(it("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||_y(i,o.key)):Kt()}function cv(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(it("SyncEngine","New document in limbo: "+n),i.mc.add(o),wg(i))}function wg(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new Ut(Zr.fromString(e)),o=i.Ac.next();i.yc.set(o,new sv(n)),i.gc=i.gc.insert(n,o),td(i.remoteStore,new Qa(yo(fc(n.path)),o,"TargetPurposeLimboResolution",fs.ct))}}function ku(i,e,n){return vy.apply(this,arguments)}function vy(){return vy=(0,fe.Z)(function*(i,e,n){const o=Vt(i),u=[],l=[],f=[];var T;o.wc.isEmpty()||(o.wc.forEach((T,k)=>{f.push(o.Rc(k,e,n).then($=>{if(($||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(k.targetId,$?.fromCache?"not-current":"current"),$){u.push($);const ne=lf.Li(k.targetId,$);l.push(ne)}}))}),yield Promise.all(f),o.dc.nu(u),yield(T=(0,fe.Z)(function*(k,$){const ne=Vt(k);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",ye=>Fe.forEach($,ze=>Fe.forEach(ze.Fi,ut=>ne.persistence.referenceDelegate.addReference(ye,ze.targetId,ut)).next(()=>Fe.forEach(ze.Bi,ut=>ne.persistence.referenceDelegate.removeReference(ye,ze.targetId,ut)))))}catch(ye){if(!Yo(ye))throw ye;it("LocalStore","Failed to update sequence numbers: "+ye)}for(const ye of $){const ze=ye.targetId;if(!ye.fromCache){const ut=ne.Ji.get(ze),rn=ut.withLastLimboFreeSnapshotVersion(ut.snapshotVersion);ne.Ji=ne.Ji.insert(ze,rn)}}}),function(k,$){return T.apply(this,arguments)})(o.localStore,l))}),vy.apply(this,arguments)}function lv(i,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,fe.Z)(function*(i,e){const n=Vt(i);if(!n.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const o=yield qm(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(T=>{T.reject(new lt($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ku(n,o.er)}var u}),Ey.apply(this,arguments)}function _w(i,e){const n=Vt(i),o=n.yc.get(e);if(o&&o.fc)return _r().add(o.key);{let u=_r();const l=n._c.get(e);if(!l)return u;for(const f of l){const T=n.wc.get(f);u=u.unionWith(T.view.nc)}return u}}class hh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,fe.Z)(function*(){n.serializer=al(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function df(i,e,n,o){return new yw(i,e,n,o)}(this.persistence,new nh,e.initialUser,this.serializer)}createPersistence(e){return new sf(Gp.zs,this.serializer)}createSharedClientState(e){return new Jm}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pl{initialize(e,n){var o=this;return(0,fe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>dl(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=lv.bind(null,o.syncEngine),yield function cg(i,e){return lg.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vu}createDatastore(e){const n=al(e.databaseInfo.databaseId),o=new Xp(e.databaseInfo);return new eg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=T=>dl(this.syncEngine,T,0),f=ey.D()?new ey:new Z_,new ah(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,T,k,$){const ne=new ov(o,u,l,f,T,k);return $&&(ne.vc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,fe.Z)(function*(n){const o=Vt(n);it("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ed(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class jf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class gv{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Xr.UNAUTHENTICATED,this.clientId=Du.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,fe.Z)(function*(T){it("FirestoreClient","Received user=",T.uid),yield l.authCredentialListener(T),l.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(it("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lt($e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=ud(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function $f(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,fe.Z)(function*(l){o.isEqual(l)||(yield qm(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Tg.apply(this,arguments)}function Cg(i,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Ag(i){return Mg.apply(this,arguments)}(i);it("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>bf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>bf(e.remoteStore,l)),i._onlineComponents=e}),Hf.apply(this,arguments)}function Mg(){return Mg=(0,fe.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){it("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $f(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Sg(i){return"FirebaseError"===i.name?i.code===$e.FAILED_PRECONDITION||i.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Gi("Error using user provided cache. Falling back to memory cache: "+n),yield $f(i,new hh)}}else it("FirestoreClient","Using default OfflineComponentProvider"),yield $f(i,new hh);return i._offlineComponents}),Mg.apply(this,arguments)}function na(i){return xg.apply(this,arguments)}function xg(){return xg=(0,fe.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(it("FirestoreClient","Using user provided OnlineComponentProvider"),yield Cg(i,i._uninitializedComponentsProvider._online)):(it("FirestoreClient","Using default OnlineComponentProvider"),yield Cg(i,new pl))),i._onlineComponents}),xg.apply(this,arguments)}function pd(i){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,fe.Z)(function*(i){const e=yield na(i),n=e.eventManager;return n.onListen=gg.bind(null,e.syncEngine),n.onUnlisten=gy.bind(null,e.syncEngine),n}),Rg.apply(this,arguments)}function Wf(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const My=new Map;function Kf(i,e,n){if(!n)throw new lt($e.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Pg(i){if(!Ut.isDocumentKey(i))throw new lt($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Og(i){if(Ut.isDocumentKey(i))throw new lt($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function gl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Kt()}function ui(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new lt($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gl(i);throw new lt($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class kg{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new lt($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lt($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Iv(i,e,n,o){if(!0===e&&!0===o)throw new lt($e.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Wf(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new lt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new lt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new lt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new lt($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lt($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new vr;switch(n.type){case"firstParty":return new Iu(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new lt($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=My.get(e);n&&(it("ComponentProvider","Removing Datastore"),My.delete(e),n.terminate())}(this),Promise.resolve()}}class Ws{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ws(this.firestore,e,this._key)}}class xo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class Uo extends xo{constructor(e,n,o){super(e,n,fc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ws(this.firestore,null,new Ut(e))}withConverter(e){return new Uo(this.firestore,e,this._path)}}function bv(i,e,...n){if(i=(0,me.m9)(i),Kf("collection","path",e),i instanceof gd){const o=Zr.fromString(e,...n);return Og(o),new Uo(i,null,o)}{if(!(i instanceof Ws||i instanceof Uo))throw new lt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Zr.fromString(e,...n));return Og(o),new Uo(i.firestore,null,o)}}function Zf(i,e,...n){if(i=(0,me.m9)(i),1===arguments.length&&(e=Du.A()),Kf("doc","path",e),i instanceof gd){const o=Zr.fromString(e,...n);return Pg(o),new Ws(i,null,new Ut(o))}{if(!(i instanceof Ws||i instanceof Uo))throw new lt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Zr.fromString(e,...n));return Pg(o),new Ws(i.firestore,i instanceof Uo?i.converter:null,new Ut(o))}}class Tv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ul(this,"async_queue_retry"),this.Xc=()=>{const n=Xl();n&&it("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Xl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Xl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Jr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,fe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Yo(n))throw n;it("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,yr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=Cf.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&Kt()}verifyOperationInProgress(){}sa(){var e=this;return(0,fe.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function md(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Xi extends gd{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Tv,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lg(this),this._firestoreClient.terminate()}}function Sv(i,e){const n="object"==typeof i?i:(0,Ye.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,Ye.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,me.P0)("firestore");l&&function xy(i,e,n,o={}){var u;const l=(i=ui(i,gd))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let T,k;if("string"==typeof o.mockUserToken)T=o.mockUserToken,k=Xr.MOCK_USER;else{T=(0,me.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const $=o.mockUserToken.sub||o.mockUserToken.user_id;if(!$)throw new lt($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Xr($)}i._authCredentials=new tu(new Aa(T,k))}}(u,...l)}return u}function io(i){return i._firestoreClient||Lg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Lg(i){var e,n,o;const u=i._freezeSettings(),l=(T=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Oc(i._databaseId,T,i._persistenceKey,($=u).host,$.ssl,$.experimentalForceLongPolling,$.experimentalAutoDetectLongPolling,Wf($.experimentalLongPollingOptions),$.useFetchStreams));var T,$;i._firestoreClient=new gv(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(qs.fromBase64String(e))}catch(n){throw new lt($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(qs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _d{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new lt($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ug{constructor(e){this._methodName=e}}class Bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new lt($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new lt($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}}const Rv=/^__.*__$/;class Ny{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new pu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class Qf{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new pu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ry(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class yl{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new yl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Va(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ry(this.ca)&&Rv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Pv{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||al(e)}ya(e,n,o,u=!1){return new yl({ca:e,methodName:n,ga:o,path:dn.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vd(i){const e=i._freezeSettings(),n=al(i._databaseId);return new Pv(i._databaseId,!!e.ignoreUndefinedProperties,n)}function jg(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);zg("Data must be an object, but it was:",f,o);const T=Fv(o,f);let k,$;if(l.merge)k=new Co(f.fieldMask),$=f.fieldTransforms;else if(l.mergeFields){const ne=[];for(const ye of l.mergeFields){const ze=yh(e,ye,n);if(!f.contains(ze))throw new lt($e.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);Ed(ne,ze)||ne.push(ze)}k=new Co(ne),$=f.fieldTransforms.filter(ye=>k.covers(ye.field))}else k=null,$=f.fieldTransforms;return new Ny(new Li(T),k,$)}class gh extends Ug{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function Ac(i,e){if(mh(i=(0,me.m9)(i)))return zg("Unsupported field value:",e,i),Fv(i,e);if(i instanceof Ug)return function(n,o){if(!Ry(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let T=Ac(f,o.wa(l));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,me.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return bm(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=$i.fromDate(n);return{timestampValue:yc(o.serializer,u)}}if(n instanceof $i){const u=new $i(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yc(o.serializer,u)}}if(n instanceof Bg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ml)return{bytesValue:Nm(o.serializer,n._byteString)};if(n instanceof Ws){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${gl(n)}`)}(i,e)}function Fv(i,e){const n={};return Au(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(i,(o,u)=>{const l=Ac(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function mh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof $i||i instanceof Bg||i instanceof ml||i instanceof Ws||i instanceof Ug)}function zg(i,e,n){if(!mh(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=gl(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function yh(i,e,n){if((e=(0,me.m9)(e))instanceof _d)return e._internalPath;if("string"==typeof e)return Xf(i,e);throw Va("Field path arguments must be of type string or ",i,!1,void 0,n)}const Gg=new RegExp("[~\\*/\\[\\]]");function Xf(i,e,n){if(e.search(Gg)>=0)throw Va(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new _d(...e.split("."))._internalPath}catch{throw Va(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Va(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let T=`Function ${e}() called with invalid data`;n&&(T+=" (via `toFirestore()`)"),T+=". ";let k="";return(l||f)&&(k+=" (found",l&&(k+=` in field ${o}`),f&&(k+=` in document ${u}`),k+=")"),new lt($e.INVALID_ARGUMENT,T+i+k)}function Ed(i,e){return i.some(n=>n.isEqual(e))}class Bo{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _l(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class _l extends Bo{data(){return super.data()}}function vl(i,e){return"string"==typeof e?Xf(i,e):e instanceof _d?e._internalPath:e._delegate._internalPath}class _h{}class wd extends _h{}function Id(i,e,...n){let o=[];e instanceof _h&&o.push(e),o=o.concat(n),function(u){const l=u.filter(T=>T instanceof wu).length,f=u.filter(T=>T instanceof Lu).length;if(l>1||l>0&&f>0)throw new lt($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Lu extends wd{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Lu(e,n,o)}_apply(e){const n=this._parse(e);return zv(e._query,n),new xo(e.firestore,e.converter,xd(e._query,n))}_parse(e){const n=vd(e.firestore);return function(u,l,f,T,k,$,ne){let ye;if(k.isKeyField()){if("array-contains"===$||"array-contains-any"===$)throw new lt($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$}' queries on documentId().`);if("in"===$||"not-in"===$){Hv(ne,$);const ze=[];for(const ut of ne)ze.push(Ly(T,u,ut));ye={arrayValue:{values:ze}}}else ye=Ly(T,u,ne)}else"in"!==$&&"not-in"!==$&&"array-contains-any"!==$||Hv(ne,$),ye=function Hg(i,e,n,o=!1){return Ac(n,i.ya(o?4:3,e))}(f,"where",ne,"in"===$||"not-in"===$);return V.create(k,$,ye)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dd(i,e,n){const o=e,u=vl("where",i);return Lu._create(u,o,n)}class wu extends _h{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wu(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:ie.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const T of f)zv(l,T),l=xd(l,T)}(e._query,n),new xo(e.firestore,e.converter,xd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ly(i,e,n){if("string"==typeof(n=(0,me.m9)(n))){if(""===n)throw new lt($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fu(e)&&-1!==n.indexOf("/"))throw new lt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Zr.fromString(n));if(!Ut.isDocumentKey(o))throw new lt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ha(i,new Ut(o))}if(n instanceof Ws)return ha(i,n._key);throw new lt($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gl(n)}.`)}function Hv(i,e){if(!Array.isArray(i)||0===i.length)throw new lt($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zv(i,e){if(e.isInequality()){const o=hu(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new lt($e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=Fo(i);null!==l&&function Vy(i,e,n){if(!n.isEqual(e))throw new lt($e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new lt($e.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Aw{convertValue(e,n="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ws(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Kt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return _a(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Bg(ws(e.latitude),ws(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Cl(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(la(e));default:return null}}convertTimestamp(e){const n=zo(e);return new $i(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Zr.fromString(e);Lt(N_(o));const u=new Go(o.get(1),o.get(3)),l=new Ut(o.popFirst(5));return u.isEqual(n)||yr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tc extends Bo{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(vl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Th extends tc{data(e={}){return super.data(e)}}class Vu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new ec(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Th(this._firestore,this._userDataWriter,o.key,o,new ec(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Th(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ec(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const T=new Th(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ec(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let k=-1,$=-1;return 0!==f.type&&(k=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),$=l.indexOf(f.doc.key)),{type:jy(f.type),doc:T,oldIndex:k,newIndex:$}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}class xc extends Aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ws(this.firestore,null,n)}}function np(i,e,n){i=ui(i,Ws);const o=ui(i.firestore,Xi),u=function qg(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e,n);return bd(o,[jg(vd(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,os.none())])}function kw(i,e,n,...o){i=ui(i,Ws);const u=ui(i.firestore,Xi),l=vd(u);let f;return f="string"==typeof(e=(0,me.m9)(e))||e instanceof _d?function kv(i,e,n,o,u,l){const f=i.ya(1,e,n),T=[yh(e,o,n)],k=[u];if(l.length%2!=0)throw new lt($e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ze=0;ze<l.length;ze+=2)T.push(yh(e,l[ze])),k.push(l[ze+1]);const $=[],ne=Li.empty();for(let ze=T.length-1;ze>=0;--ze)if(!Ed($,T[ze])){const ut=T[ze];let Pt=k[ze];Pt=(0,me.m9)(Pt);const rn=f.da(ut);if(Pt instanceof gh)$.push(ut);else{const gn=Ac(Pt,rn);null!=gn&&($.push(ut),ne.set(ut,gn))}}const ye=new Co($);return new Qf(ne,ye,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function Fy(i,e,n,o){const u=i.ya(1,e,n);zg("Data must be an object, but it was:",u,o);const l=[],f=Li.empty();_a(o,(k,$)=>{const ne=Xf(e,k,n);$=(0,me.m9)($);const ye=u.da(ne);if($ instanceof gh)l.push(ne);else{const ze=Ac($,ye);null!=ze&&(l.push(ne),f.set(ne,ze))}});const T=new Co(l);return new Qf(f,T,u.fieldTransforms)}(l,"updateDoc",i._key,e),bd(u,[f.toMutation(i._key,os.exists(!0))])}function bd(i,e){return function(n,o){const u=new Jr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function av(i,e,n){return yg.apply(this,arguments)}(yield function Gf(i){return na(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(io(i),e)}!function(i,e=!0){ai=Ye.Jn,(0,Ye.Xd)(new Je.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new Xi(new ju(n.getProvider("auth-internal")),new oa(n.getProvider("app-check-internal")),function(T,k){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new lt($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(T.options.projectId,k)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Ye.KN)(ds,"3.13.0",i),(0,Ye.KN)(ds,"3.13.0","esm2017")}();var Jg=X(5592),em=X(7398),tE={includeMetadataChanges:!1};function op(i,e){return void 0===e&&(e=tE),new Jg.y(function(n){var o=function Kg(i,...e){var n,o,u;i=(0,me.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||md(e[f])||(l=e[f],f++);const T={includeMetadataChanges:l.includeMetadataChanges};if(md(e[f])){const ye=e[f];e[f]=null===(n=ye.next)||void 0===n?void 0:n.bind(ye),e[f+1]=null===(o=ye.error)||void 0===o?void 0:o.bind(ye),e[f+2]=null===(u=ye.complete)||void 0===u?void 0:u.bind(ye)}let k,$,ne;if(i instanceof Ws)$=ui(i.firestore,Xi),ne=fc(i._key.path),k={next:ye=>{e[f]&&e[f](function Zg(i,e,n){const o=n.docs.get(e._key),u=new xc(i);return new tc(i,u,e._key,o,new ec(n.hasPendingWrites,n.fromCache),e.converter)}($,i,ye))},error:e[f+1],complete:e[f+2]};else{const ye=ui(i,xo);$=ui(ye.firestore,Xi),ne=ye._query;const ze=new xc($);k={next:ut=>{e[f]&&e[f](new Vu($,ze,ye,ut))},error:e[f+1],complete:e[f+2]},function Ua(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new lt($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(ye,ze,ut,Pt){const rn=new jf(Pt),gn=new hg(ze,rn,ut);return ye.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function Sf(i,e){return ly.apply(this,arguments)}(yield pd(ye),gn)})),()=>{rn.Dc(),ye.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function ch(i,e){return Ou.apply(this,arguments)}(yield pd(ye),gn)}))}}(io($),ne,T,k)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function n_(i,e){return void 0===e&&(e={}),function t_(i){return op(i,{includeMetadataChanges:!0}).pipe((0,em.U)(function(e){return e.docs}))}(i).pipe((0,em.U)(function(n){return n.map(function(o){return function tm(i,e){void 0===e&&(e={});var n=i.data();return!i.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=i.id),n}(o,e)})}))}class El{constructor(e){return e}}const nc="firestore",Ch=new ge.OlP("angularfire2.firestore-instances");function om(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new El(o)}}const aE={provide:class oE{constructor(){return(0,_.vb)(nc)}},deps:[[new ge.FiY,Ch]]},am={provide:El,useFactory:function wl(i,e){const n=(0,_.JM)(nc,i,e);return n&&new El(n)},deps:[[new ge.FiY,Ch],Oe.Ot]};let zw=(()=>{class i{constructor(){(0,Se.KN)("angularfire",_.q4.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ge.oAB({type:i}),i.\u0275inj=ge.cJS({providers:[am,aE]}),i})();function Gw(i,...e){return{ngModule:zw,providers:[{provide:Ch,useFactory:om(i),multi:!0,deps:[ge.R0b,ge.zs3,_.HU,Oe.z6,[new ge.FiY,Z.dh],[new ge.FiY,ue.nm],...e]}]}}const No=(0,_.u3)(n_,!0),fE=(0,_.u3)(bv,!0),r_=(0,_.u3)(Zf,!0),_E=(0,_.u3)(Sv,!0),IE=(0,_.u3)(Id,!0),CE=(0,_.u3)(np,!0),u_=(0,_.u3)(kw,!0),c_=(0,_.u3)(Dd,!0)},9493:(bn,dt,X)=>{X.d(dt,{Ke:()=>cs,Jt:()=>wo,cF:()=>vs,Vq:()=>Fs,iH:()=>lo,KV:()=>ho});var _=X(456),ge=X(4946),Z=X(8726),Oe=X(5609),Se=X(3182),ue=X(7247),fe=X(5861),Ye=X(534),Je=X(9058),ve=X(4537);const me="firebasestorage.googleapis.com",We="storageBucket";class gt extends Je.ZR{constructor(z,ae,pe=0){super(cn(z),`Firebase Storage: ${ae} (${cn(z)})`),this.status_=pe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return cn(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ft=function(G){return G.UNKNOWN="unknown",G.OBJECT_NOT_FOUND="object-not-found",G.BUCKET_NOT_FOUND="bucket-not-found",G.PROJECT_NOT_FOUND="project-not-found",G.QUOTA_EXCEEDED="quota-exceeded",G.UNAUTHENTICATED="unauthenticated",G.UNAUTHORIZED="unauthorized",G.UNAUTHORIZED_APP="unauthorized-app",G.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",G.INVALID_CHECKSUM="invalid-checksum",G.CANCELED="canceled",G.INVALID_EVENT_NAME="invalid-event-name",G.INVALID_URL="invalid-url",G.INVALID_DEFAULT_BUCKET="invalid-default-bucket",G.NO_DEFAULT_BUCKET="no-default-bucket",G.CANNOT_SLICE_BLOB="cannot-slice-blob",G.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",G.NO_DOWNLOAD_URL="no-download-url",G.INVALID_ARGUMENT="invalid-argument",G.INVALID_ARGUMENT_COUNT="invalid-argument-count",G.APP_DELETED="app-deleted",G.INVALID_ROOT_OPERATION="invalid-root-operation",G.INVALID_FORMAT="invalid-format",G.INTERNAL_ERROR="internal-error",G.UNSUPPORTED_ENVIRONMENT="unsupported-environment",G}(Ft||{});function cn(G){return"storage/"+G}function tr(){return new gt(Ft.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ct(G){return new gt(Ft.INVALID_ARGUMENT,G)}function En(){return new gt(Ft.APP_DELETED,"The Firebase app was deleted.")}function Ge(G,z){return new gt(Ft.INVALID_FORMAT,"String does not match format '"+G+"': "+z)}function Ze(G){throw new gt(Ft.INTERNAL_ERROR,"Internal error: "+G)}class Ue{constructor(z,ae){this.bucket=z,this.path_=ae}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,ae){let pe;try{pe=Ue.makeFromUrl(z,ae)}catch{return new Ue(z,"")}if(""===pe.path)return pe;throw function Bn(G){return new gt(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+G+"'.")}(z)}static makeFromUrl(z,ae){let pe=null;const Ne="([A-Za-z0-9.\\-_]+)",x=new RegExp("^gs://"+Ne+"(/(.*))?$","i");function de(pi){pi.path_=decodeURIComponent(pi.path)}const Yt=ae.replace(/[.]/g,"\\."),Bi=[{regex:x,indices:{bucket:1,path:3},postModify:function O(pi){"/"===pi.path.charAt(pi.path.length-1)&&(pi.path_=pi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Yt}/v[A-Za-z0-9_]+/b/${Ne}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:de},{regex:new RegExp(`^https?://${ae===me?"(?:storage.googleapis.com|storage.cloud.google.com)":ae}/${Ne}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:de}];for(let pi=0;pi<Bi.length;pi++){const fo=Bi[pi],is=fo.regex.exec(z);if(is){let po=is[fo.indices.path];po||(po=""),pe=new Ue(is[fo.indices.bucket],po),fo.postModify(pe);break}}if(null==pe)throw function mt(G){return new gt(Ft.INVALID_URL,"Invalid URL '"+G+"'.")}(z);return pe}}class ot{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function Dn(G){return"string"==typeof G||G instanceof String}function pr(G){return Yn()&&G instanceof Blob}function Yn(){return typeof Blob<"u"&&!(0,Je.UG)()}function Qn(G,z,ae,pe){if(pe<z)throw Ct(`Invalid value for '${G}'. Expected ${z} or greater.`);if(pe>ae)throw Ct(`Invalid value for '${G}'. Expected ${ae} or less.`)}function nr(G,z,ae){let pe=z;return null==ae&&(pe=`https://${z}`),`${ae}://${pe}/v0${G}`}function rr(G){const z=encodeURIComponent;let ae="?";for(const pe in G)G.hasOwnProperty(pe)&&(ae=ae+(z(pe)+"=")+z(G[pe])+"&");return ae=ae.slice(0,-1),ae}var zr=function(G){return G[G.NO_ERROR=0]="NO_ERROR",G[G.NETWORK_ERROR=1]="NETWORK_ERROR",G[G.ABORT=2]="ABORT",G}(zr||{});class _n{constructor(z,ae,pe,Ne,O,F,x,W,de,vt,Yt,lr=!0){this.url_=z,this.method_=ae,this.headers_=pe,this.body_=Ne,this.successCodes_=O,this.additionalRetryCodes_=F,this.callback_=x,this.errorCallback_=W,this.timeout_=de,this.progressCallback_=vt,this.connectionFactory_=Yt,this.retry=lr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((jr,$r)=>{this.resolve_=jr,this.reject_=$r,this.start_()})}start_(){const ae=(pe,Ne)=>{const O=this.resolve_,F=this.reject_,x=Ne.connection;if(Ne.wasSuccessCode)try{const W=this.callback_(x,x.getResponse());!function Fn(G){return void 0!==G}(W)?O():O(W)}catch(W){F(W)}else if(null!==x){const W=tr();W.serverResponse=x.getErrorText(),F(this.errorCallback_?this.errorCallback_(x,W):W)}else F(Ne.canceled?this.appDelete_?En():function ct(){return new gt(Ft.CANCELED,"User canceled the upload/download.")}():function bt(){return new gt(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?ae(0,new ir(!1,null,!0)):this.backoffId_=function Dt(G,z,ae){let pe=1,Ne=null,O=null,F=!1,x=0;function W(){return 2===x}let de=!1;function vt(...Dr){de||(de=!0,z.apply(null,Dr))}function Yt(Dr){Ne=setTimeout(()=>{Ne=null,G(jr,W())},Dr)}function lr(){O&&clearTimeout(O)}function jr(Dr,...rs){if(de)return void lr();if(Dr)return lr(),void vt.call(null,Dr,...rs);if(W()||F)return lr(),void vt.call(null,Dr,...rs);let Bi;pe<64&&(pe*=2),1===x?(x=2,Bi=0):Bi=1e3*(pe+Math.random()),Yt(Bi)}let $r=!1;function Fi(Dr){$r||($r=!0,lr(),!de&&(null!==Ne?(Dr||(x=2),clearTimeout(Ne),Yt(0)):Dr||(x=1)))}return Yt(0),O=setTimeout(()=>{F=!0,Fi(!0)},ae),Fi}((pe,Ne)=>{if(Ne)return void pe(!1,new ir(!1,null,!0));const O=this.connectionFactory_();this.pendingConnection_=O;const F=x=>{null!==this.progressCallback_&&this.progressCallback_(x.loaded,x.lengthComputable?x.total:-1)};null!==this.progressCallback_&&O.addUploadProgressListener(F),O.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&O.removeUploadProgressListener(F),this.pendingConnection_=null;const x=O.getErrorCode()===zr.NO_ERROR,W=O.getStatus();if(!x||function Kn(G,z){const ae=G>=500&&G<600,Ne=-1!==[408,429].indexOf(G),O=-1!==z.indexOf(G);return ae||Ne||O}(W,this.additionalRetryCodes_)&&this.retry){const vt=O.getErrorCode()===zr.ABORT;return void pe(!1,new ir(!1,null,vt))}const de=-1!==this.successCodes_.indexOf(W);pe(!0,new ir(de,O))})},ae,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function en(G){G(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ir{constructor(z,ae,pe){this.wasSuccessCode=z,this.connection=ae,this.canceled=!!pe}}function gr(...G){const z=function Tn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==z){const ae=new z;for(let pe=0;pe<G.length;pe++)ae.append(G[pe]);return ae.getBlob()}if(Yn())return new Blob(G);throw new gt(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sr{constructor(z,ae){this.data=z,this.contentType=ae||null}}function or(G){const z=[];for(let ae=0;ae<G.length;ae++){let pe=G.charCodeAt(ae);pe<=127?z.push(pe):pe<=2047?z.push(192|pe>>6,128|63&pe):55296==(64512&pe)?ae<G.length-1&&56320==(64512&G.charCodeAt(ae+1))?(pe=65536|(1023&pe)<<10|1023&G.charCodeAt(++ae),z.push(240|pe>>18,128|pe>>12&63,128|pe>>6&63,128|63&pe)):z.push(239,191,189):56320==(64512&pe)?z.push(239,191,189):z.push(224|pe>>12,128|pe>>6&63,128|63&pe)}return new Uint8Array(z)}function Ot(G,z){switch(G){case Vn.BASE64:{const Ne=-1!==z.indexOf("-"),O=-1!==z.indexOf("_");if(Ne||O)throw Ge(G,"Invalid character '"+(Ne?"-":"_")+"' found: is it base64url encoded?");break}case Vn.BASE64URL:{const Ne=-1!==z.indexOf("+"),O=-1!==z.indexOf("/");if(Ne||O)throw Ge(G,"Invalid character '"+(Ne?"+":"/")+"' found: is it base64 encoded?");z=z.replace(/-/g,"+").replace(/_/g,"/");break}}let ae;try{ae=function ci(G){if(typeof atob>"u")throw function Wn(G){return new gt(Ft.UNSUPPORTED_ENVIRONMENT,`${G} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(G)}(z)}catch(Ne){throw Ne.message.includes("polyfill")?Ne:Ge(G,"Invalid character found")}const pe=new Uint8Array(ae.length);for(let Ne=0;Ne<ae.length;Ne++)pe[Ne]=ae.charCodeAt(Ne);return pe}class xi{constructor(z){this.base64=!1,this.contentType=null;const ae=z.match(/^data:([^,]+)?,/);if(null===ae)throw Ge(Vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const pe=ae[1]||null;null!=pe&&(this.base64=function fr(G,z){return G.length>=z.length&&G.substring(G.length-z.length)===z}(pe,";base64"),this.contentType=this.base64?pe.substring(0,pe.length-7):pe),this.rest=z.substring(z.indexOf(",")+1)}}class Fr{constructor(z,ae){let pe=0,Ne="";pr(z)?(this.data_=z,pe=z.size,Ne=z.type):z instanceof ArrayBuffer?(ae?this.data_=new Uint8Array(z):(this.data_=new Uint8Array(z.byteLength),this.data_.set(new Uint8Array(z))),pe=this.data_.length):z instanceof Uint8Array&&(ae?this.data_=z:(this.data_=new Uint8Array(z.length),this.data_.set(z)),pe=z.length),this.size_=pe,this.type_=Ne}size(){return this.size_}type(){return this.type_}slice(z,ae){if(pr(this.data_)){const Ne=function Gr(G,z,ae){return G.webkitSlice?G.webkitSlice(z,ae):G.mozSlice?G.mozSlice(z,ae):G.slice?G.slice(z,ae):null}(this.data_,z,ae);return null===Ne?null:new Fr(Ne)}{const pe=new Uint8Array(this.data_.buffer,z,ae-z);return new Fr(pe,!0)}}static getBlob(...z){if(Yn()){const ae=z.map(pe=>pe instanceof Fr?pe.data_:pe);return new Fr(gr.apply(null,ae))}{const ae=z.map(F=>Dn(F)?function li(G,z){switch(G){case Vn.RAW:return new Sr(or(z));case Vn.BASE64:case Vn.BASE64URL:return new Sr(Ot(G,z));case Vn.DATA_URL:return new Sr(function Ci(G){const z=new xi(G);return z.base64?Ot(Vn.BASE64,z.rest):function Ei(G){let z;try{z=decodeURIComponent(G)}catch{throw Ge(Vn.DATA_URL,"Malformed data URL.")}return or(z)}(z.rest)}(z),function qr(G){return new xi(G).contentType}(z))}throw tr()}(Vn.RAW,F).data:F.data_);let pe=0;ae.forEach(F=>{pe+=F.byteLength});const Ne=new Uint8Array(pe);let O=0;return ae.forEach(F=>{for(let x=0;x<F.length;x++)Ne[O++]=F[x]}),new Fr(Ne,!0)}}uploadData(){return this.data_}}function ln(G){let z;try{z=JSON.parse(G)}catch{return null}return function St(G){return"object"==typeof G&&!Array.isArray(G)}(z)?z:null}function Zt(G){const z=G.lastIndexOf("/",G.length-2);return-1===z?G:G.slice(z+1)}function ar(G,z){return z}class on{constructor(z,ae,pe,Ne){this.server=z,this.local=ae||z,this.writable=!!pe,this.xform=Ne||ar}}let wr=null;function J(){if(wr)return wr;const G=[];G.push(new on("bucket")),G.push(new on("generation")),G.push(new on("metageneration")),G.push(new on("name","fullPath",!0));const ae=new on("name");ae.xform=function z(O,F){return function _e(G){return!Dn(G)||G.length<2?G:Zt(G)}(F)},G.push(ae);const Ne=new on("size");return Ne.xform=function pe(O,F){return void 0!==F?Number(F):F},G.push(Ne),G.push(new on("timeCreated")),G.push(new on("updated")),G.push(new on("md5Hash",null,!0)),G.push(new on("cacheControl",null,!0)),G.push(new on("contentDisposition",null,!0)),G.push(new on("contentEncoding",null,!0)),G.push(new on("contentLanguage",null,!0)),G.push(new on("contentType",null,!0)),G.push(new on("metadata","customMetadata",!0)),wr=G,wr}function re(G,z,ae){const pe=ln(z);return null===pe?null:function te(G,z,ae){const pe={type:"file"},Ne=ae.length;for(let O=0;O<Ne;O++){const F=ae[O];pe[F.local]=F.xform(pe,z[F.server])}return function ee(G,z){Object.defineProperty(G,"ref",{get:function ae(){const O=new Ue(G.bucket,G.fullPath);return z._makeStorageReference(O)}})}(pe,G),pe}(G,pe,ae)}class pn{constructor(z,ae,pe,Ne){this.url=z,this.method=ae,this.handler=pe,this.timeout=Ne,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xn(G){if(!G)throw tr()}function Ke(G){return function z(ae,pe){let Ne;return Ne=401===ae.getStatus()?ae.getErrorText().includes("Firebase App Check token is invalid")?function et(){return new gt(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function rt(){return new gt(Ft.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ae.getStatus()?function De(G){return new gt(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+G+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(G.bucket):403===ae.getStatus()?function pt(G){return new gt(Ft.UNAUTHORIZED,"User does not have permission to access '"+G+"'.")}(G.path):pe,Ne.status=ae.getStatus(),Ne.serverResponse=pe.serverResponse,Ne}}function qi(G,z,ae,pe,Ne){const O=z.bucketOnlyServerUrl(),F={"X-Goog-Upload-Protocol":"multipart"},W=function x(){let Bi="";for(let pi=0;pi<2;pi++)Bi+=Math.random().toString().slice(2);return Bi}();F["Content-Type"]="multipart/related; boundary="+W;const de=function ei(G,z,ae){const pe=Object.assign({},ae);return pe.fullPath=G.path,pe.size=z.size(),pe.contentType||(pe.contentType=function jn(G,z){return G&&G.contentType||z&&z.type()||"application/octet-stream"}(null,z)),pe}(z,pe,Ne),vt=function ht(G,z){const ae={},pe=z.length;for(let Ne=0;Ne<pe;Ne++){const O=z[Ne];O.writable&&(ae[O.server]=G[O.local])}return JSON.stringify(ae)}(de,ae),jr=Fr.getBlob("--"+W+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+vt+"\r\n--"+W+"\r\nContent-Type: "+de.contentType+"\r\n\r\n",pe,"\r\n--"+W+"--");if(null===jr)throw function Sn(){return new gt(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const $r={name:de.fullPath},Fi=nr(O,G.host,G._protocol),rs=G.maxUploadRetryTime,ii=new pn(Fi,"POST",function Br(G,z){return function ae(pe,Ne){const O=re(G,Ne,z);return Xn(null!==O),O}}(G,ae),rs);return ii.urlParams=$r,ii.headers=F,ii.body=jr.uploadData(),ii.errorHandler=Ke(z),ii}let xs=null;class be{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zr.NO_ERROR,this.sendPromise_=new Promise(z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zr.ABORT,z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zr.NETWORK_ERROR,z()}),this.xhr_.addEventListener("load",()=>{z()})})}send(z,ae,pe,Ne){if(this.sent_)throw Ze("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ae,z,!0),void 0!==Ne)for(const O in Ne)Ne.hasOwnProperty(O)&&this.xhr_.setRequestHeader(O,Ne[O].toString());return void 0!==pe?this.xhr_.send(pe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ze("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ze("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ze("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ze("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(z){return this.xhr_.getResponseHeader(z)}addUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",z)}removeUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",z)}}class Te extends be{initXhr(){this.xhr_.responseType="text"}}function ke(){return xs?xs():new Te}class Un{constructor(z,ae){this._service=z,this._location=ae instanceof Ue?ae:Ue.makeFromUrl(ae,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,ae){return new Un(z,ae)}get root(){const z=new Ue(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zt(this._location.path)}get storage(){return this._service}get parent(){const z=function mi(G){if(0===G.length)return null;const z=G.lastIndexOf("/");return-1===z?"":G.slice(0,z)}(this._location.path);if(null===z)return null;const ae=new Ue(this._location.bucket,z);return new Un(this._service,ae)}_throwIfRoot(z){if(""===this._location.path)throw function Ve(G){return new gt(Ft.INVALID_ROOT_OPERATION,"The operation '"+G+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(z)}}function ao(G){G._throwIfRoot("getDownloadURL");const z=function zt(G,z,ae){const Ne=nr(z.fullServerUrl(),G.host,G._protocol),F=G.maxOperationRetryTime,x=new pn(Ne,"GET",function Wr(G,z){return function ae(pe,Ne){const O=re(G,Ne,z);return Xn(null!==O),function Me(G,z,ae,pe){const Ne=ln(z);if(null===Ne||!Dn(Ne.downloadTokens))return null;const O=Ne.downloadTokens;if(0===O.length)return null;const F=encodeURIComponent;return O.split(",").map(de=>{const Yt=G.fullPath;return nr("/b/"+F(G.bucket)+"/o/"+F(Yt),ae,pe)+rr({alt:"media",token:de})})[0]}(O,Ne,G.host,G._protocol)}}(G,ae),F);return x.errorHandler=function Pe(G){const z=Ke(G);return function ae(pe,Ne){let O=z(pe,Ne);return 404===pe.getStatus()&&(O=function Jt(G){return new gt(Ft.OBJECT_NOT_FOUND,"Object '"+G+"' does not exist.")}(G.path)),O.serverResponse=Ne.serverResponse,O}}(z),x}(G.storage,G._location,J());return G.storage.makeRequestWithTokens(z,ke).then(ae=>{if(null===ae)throw function yt(){return new gt(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ae})}function Us(G,z){if(G instanceof Ai){const ae=G;if(null==ae._bucket)throw function hr(){return new gt(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+We+"' property when initializing the app?")}();const pe=new Un(ae,ae._bucket);return null!=z?Us(pe,z):pe}return void 0!==z?function Ps(G,z){const ae=function Vi(G,z){const ae=z.split("/").filter(pe=>pe.length>0).join("/");return 0===G.length?ae:G+"/"+ae}(G._location.path,z),pe=new Ue(G._location.bucket,ae);return new Un(G.storage,pe)}(G,z):G}function co(G,z){const ae=z?.[We];return null==ae?null:Ue.makeFromBucketSpec(ae,G)}class Ai{constructor(z,ae,pe,Ne,O){this.app=z,this._authProvider=ae,this._appCheckProvider=pe,this._url=Ne,this._firebaseVersion=O,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ne?Ue.makeFromBucketSpec(Ne,this._host):co(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?Ue.makeFromBucketSpec(this._url,z):co(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){Qn("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){Qn("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,fe.Z)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const ae=z._authProvider.getImmediate({optional:!0});if(ae){const pe=yield ae.getToken();if(null!==pe)return pe.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,fe.Z)(function*(){const ae=z._appCheckProvider.getImmediate({optional:!0});return ae?(yield ae.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new Un(this,z)}_makeRequest(z,ae,pe,Ne,O=!0){if(this._deleted)return new ot(En());{const F=function Rn(G,z,ae,pe,Ne,O,F=!0){const x=rr(G.urlParams),W=G.url+x,de=Object.assign({},G.headers);return function qn(G,z){z&&(G["X-Firebase-GMPID"]=z)}(de,z),function sn(G,z){null!==z&&z.length>0&&(G.Authorization="Firebase "+z)}(de,ae),function gi(G,z){G["X-Firebase-Storage-Version"]="webjs/"+(z??"AppManager")}(de,O),function xr(G,z){null!==z&&(G["X-Firebase-AppCheck"]=z)}(de,pe),new _n(W,G.method,de,G.body,G.successCodes,G.additionalRetryCodes,G.handler,G.errorHandler,G.timeout,G.progressCallback,Ne,F)}(z,this._appId,pe,Ne,ae,this._firebaseVersion,O);return this._requests.add(F),F.getPromise().then(()=>this._requests.delete(F),()=>this._requests.delete(F)),F}}makeRequestWithTokens(z,ae){var pe=this;return(0,fe.Z)(function*(){const[Ne,O]=yield Promise.all([pe._getAuthToken(),pe._getAppCheckToken()]);return pe._makeRequest(z,ae,Ne,O).getPromise()})()}}const ts="@firebase/storage",An="storage";function wn(G,z,ae){return function ti(G,z,ae){G._throwIfRoot("uploadBytes");const pe=qi(G.storage,G._location,J(),new Fr(z,!0),ae);return G.storage.makeRequestWithTokens(pe,ke).then(Ne=>({metadata:Ne,ref:G}))}(G=(0,Je.m9)(G),z,ae)}function bs(G){return ao(G=(0,Je.m9)(G))}function Bt(G,z){return function uo(G,z){if(z&&function Ki(G){return/^[A-Za-z]+:\/\//.test(G)}(z)){if(G instanceof Ai)return function Vs(G,z){return new Un(G,z)}(G,z);throw Ct("To use ref(service, url), the first argument must be a Storage instance.")}return Us(G,z)}(G=(0,Je.m9)(G),z)}function cr(G=(0,Ye.Mq)(),z){G=(0,Je.m9)(G);const pe=(0,Ye.qX)(G,An).getImmediate({identifier:z}),Ne=(0,Je.P0)("storage");return Ne&&function wi(G,z,ae,pe={}){!function Wo(G,z,ae,pe={}){G.host=`${z}:${ae}`,G._protocol="http";const{mockUserToken:Ne}=pe;Ne&&(G._overrideAuthToken="string"==typeof Ne?Ne:(0,Je.Sg)(Ne,G.app.options.projectId))}(G,z,ae,pe)}(pe,...Ne),pe}function Mi(G,{instanceIdentifier:z}){const ae=G.getProvider("app").getImmediate(),pe=G.getProvider("auth-internal"),Ne=G.getProvider("app-check-internal");return new Ai(ae,pe,Ne,z,Ye.Jn)}!function ni(){(0,Ye.Xd)(new ve.wA(An,Mi,"PUBLIC").setMultipleInstances(!0)),(0,Ye.KN)(ts,"0.11.2",""),(0,Ye.KN)(ts,"0.11.2","esm2017")}();class cs{constructor(z){return z}}const fi="storage",ks=new ge.OlP("angularfire2.storage-instances");function Qr(G){return(z,ae)=>{const pe=z.runOutsideAngular(()=>G(ae));return new cs(pe)}}const $s={provide:class Cn{constructor(){return(0,_.vb)(fi)}},deps:[[new ge.FiY,ks]]},ki={provide:cs,useFactory:function js(G,z){const ae=(0,_.JM)(fi,G,z);return ae&&new cs(ae)},deps:[[new ge.FiY,ks],Z.Ot]};let Ui=(()=>{class G{constructor(){(0,Se.KN)("angularfire",_.q4.full,"gcs")}}return G.\u0275fac=function(ae){return new(ae||G)},G.\u0275mod=ge.oAB({type:G}),G.\u0275inj=ge.cJS({providers:[ki,$s]}),G})();function Fs(G,...z){return{ngModule:Ui,providers:[{provide:ks,useFactory:Qr(G),multi:!0,deps:[ge.R0b,ge.zs3,_.HU,Z.z6,[new ge.FiY,Oe.dh],[new ge.FiY,ue.nm],...z]}]}}const wo=(0,_.u3)(bs,!0),vs=(0,_.u3)(cr,!0),lo=(0,_.u3)(Bt,!0),ho=(0,_.u3)(wn,!0)},456:(bn,dt,X)=>{X.d(dt,{q4:()=>wa,HU:()=>Ad,vb:()=>Mu,JM:()=>kc,u3:()=>xu});var _=X(4946),ge=X(3182),Z=X(5861),Oe=X(534),Se=X(9058),ue=X(4537),fe=X(7879);const Ye=(b,N)=>N.some(V=>b instanceof V);let Je,ve;const nt=new WeakMap,Ae=new WeakMap,Mt=new WeakMap,gt=new WeakMap,Ft=new WeakMap;let Jt={get(b,N,V){if(b instanceof IDBTransaction){if("done"===N)return Ae.get(b);if("objectStoreNames"===N)return b.objectStoreNames||Mt.get(b);if("store"===N)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return pt(b[N])},set:(b,N,V)=>(b[N]=V,!0),has:(b,N)=>b instanceof IDBTransaction&&("done"===N||"store"===N)||N in b};function et(b){return"function"==typeof b?function rt(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...N){return b.apply(bt(this),N),pt(nt.get(this))}:function(...N){return pt(b.apply(bt(this),N))}:function(N,...V){const ie=b.call(bt(this),N,...V);return Mt.set(ie,N.sort?N.sort():[N]),pt(ie)}}(b):(b instanceof IDBTransaction&&function tr(b){if(Ae.has(b))return;const N=new Promise((V,ie)=>{const we=()=>{b.removeEventListener("complete",Re),b.removeEventListener("error",tt),b.removeEventListener("abort",tt)},Re=()=>{V(),we()},tt=()=>{ie(b.error||new DOMException("AbortError","AbortError")),we()};b.addEventListener("complete",Re),b.addEventListener("error",tt),b.addEventListener("abort",tt)});Ae.set(b,N)}(b),Ye(b,function me(){return Je||(Je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Jt):b)}function pt(b){if(b instanceof IDBRequest)return function cn(b){const N=new Promise((V,ie)=>{const we=()=>{b.removeEventListener("success",Re),b.removeEventListener("error",tt)},Re=()=>{V(pt(b.result)),we()},tt=()=>{ie(b.error),we()};b.addEventListener("success",Re),b.addEventListener("error",tt)});return N.then(V=>{V instanceof IDBCursor&&nt.set(V,b)}).catch(()=>{}),Ft.set(N,b),N}(b);if(gt.has(b))return gt.get(b);const N=et(b);return N!==b&&(gt.set(b,N),Ft.set(N,b)),N}const bt=b=>Ft.get(b),Bn=["get","getKey","getAll","getAllKeys","count"],hr=["put","add","delete","clear"],Sn=new Map;function It(b,N){if(!(b instanceof IDBDatabase)||N in b||"string"!=typeof N)return;if(Sn.get(N))return Sn.get(N);const V=N.replace(/FromIndex$/,""),ie=N!==V,we=hr.includes(V);if(!(V in(ie?IDBIndex:IDBObjectStore).prototype)||!we&&!Bn.includes(V))return;const Re=function(){var tt=(0,Z.Z)(function*(qt,...Wt){const In=this.transaction(qt,we?"readwrite":"readonly");let Zn=In.store;return ie&&(Zn=Zn.index(Wt.shift())),(yield Promise.all([Zn[V](...Wt),we&&In.done]))[0]});return function(Wt){return tt.apply(this,arguments)}}();return Sn.set(N,Re),Re}!function De(b){Jt=b(Jt)}(b=>({...b,get:(N,V,ie)=>It(N,V)||b.get(N,V,ie),has:(N,V)=>!!It(N,V)||b.has(N,V)}));const yt="@firebase/installations",Wn="0.6.4",Ct=1e4,En=`w:${Wn}`,Ve="FIS_v2",Ge="https://firebaseinstallations.googleapis.com/v1",Ze=36e5,en=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fn(b){return b instanceof Se.ZR&&b.code.includes("request-failed")}function fn({projectId:b}){return`${Ge}/projects/${b}/installations`}function St(b){return{token:b.token,requestStatus:2,expiresIn:zr(b.expiresIn),creationTime:Date.now()}}function Dn(b,N){return pr.apply(this,arguments)}function pr(){return(pr=(0,Z.Z)(function*(b,N){const ie=(yield N.json()).error;return en.create("request-failed",{requestName:b,serverCode:ie.code,serverMessage:ie.message,serverStatus:ie.status})})).apply(this,arguments)}function Yn({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function nr(b){return rr.apply(this,arguments)}function rr(){return(rr=(0,Z.Z)(function*(b){const N=yield b();return N.status>=500&&N.status<600?b():N})).apply(this,arguments)}function zr(b){return Number(b.replace("s","000"))}function ir(){return(ir=(0,Z.Z)(function*({appConfig:b,heartbeatServiceProvider:N},{fid:V}){const ie=fn(b),we=Yn(b),Re=N.getImmediate({optional:!0});if(Re){const In=yield Re.getHeartbeatsHeader();In&&we.append("x-firebase-client",In)}const qt={method:"POST",headers:we,body:JSON.stringify({fid:V,authVersion:Ve,appId:b.appId,sdkVersion:En})},Wt=yield nr(()=>fetch(ie,qt));if(Wt.ok){const In=yield Wt.json();return{fid:In.fid||V,registrationStatus:2,refreshToken:In.refreshToken,authToken:St(In.authToken)}}throw yield Dn("Create Installation",Wt)})).apply(this,arguments)}function sn(b){return new Promise(N=>{setTimeout(N,b)})}const qn=/^[cdef][\w-]{21}$/,xr="";function Rn(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const V=function Tn(b){return function gi(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return qn.test(V)?V:xr}catch{return xr}}function gr(b){return`${b.appName}!${b.appId}`}const Gr=new Map;function ci(b,N){const V=gr(b);li(V,N),function or(b,N){const V=function Ot(){return!Ei&&"BroadcastChannel"in self&&(Ei=new BroadcastChannel("[Firebase] FID Change"),Ei.onmessage=b=>{li(b.data.key,b.data.fid)}),Ei}();V&&V.postMessage({key:b,fid:N}),function xi(){0===Gr.size&&Ei&&(Ei.close(),Ei=null)}()}(V,N)}function li(b,N){const V=Gr.get(b);if(V)for(const ie of V)ie(N)}let Ei=null;const Ci="firebase-installations-database",qr=1,fr="firebase-installations-store";let Fr=null;function ln(){return Fr||(Fr=function ct(b,N,{blocked:V,upgrade:ie,blocking:we,terminated:Re}={}){const tt=indexedDB.open(b,N),qt=pt(tt);return ie&&tt.addEventListener("upgradeneeded",Wt=>{ie(pt(tt.result),Wt.oldVersion,Wt.newVersion,pt(tt.transaction))}),V&&tt.addEventListener("blocked",()=>V()),qt.then(Wt=>{Re&&Wt.addEventListener("close",()=>Re()),we&&Wt.addEventListener("versionchange",()=>we())}).catch(()=>{}),qt}(Ci,qr,{upgrade:(b,N)=>{0===N&&b.createObjectStore(fr)}})),Fr}function mi(b,N){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,Z.Z)(function*(b,N){const V=gr(b),we=(yield ln()).transaction(fr,"readwrite"),Re=we.objectStore(fr),tt=yield Re.get(V);return yield Re.put(N,V),yield we.done,(!tt||tt.fid!==N.fid)&&ci(b,N.fid),N})).apply(this,arguments)}function Zt(b){return ar.apply(this,arguments)}function ar(){return(ar=(0,Z.Z)(function*(b){const N=gr(b),ie=(yield ln()).transaction(fr,"readwrite");yield ie.objectStore(fr).delete(N),yield ie.done})).apply(this,arguments)}function on(b,N){return wr.apply(this,arguments)}function wr(){return(wr=(0,Z.Z)(function*(b,N){const V=gr(b),we=(yield ln()).transaction(fr,"readwrite"),Re=we.objectStore(fr),tt=yield Re.get(V),qt=N(tt);return void 0===qt?yield Re.delete(V):yield Re.put(qt,V),yield we.done,qt&&(!tt||tt.fid!==qt.fid)&&ci(b,qt.fid),qt})).apply(this,arguments)}function _e(b){return J.apply(this,arguments)}function J(){return J=(0,Z.Z)(function*(b){let N;const V=yield on(b.appConfig,ie=>{const we=function ee(b){return mn(b||{fid:Rn(),registrationStatus:0})}(ie),Re=function te(b,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(en.create("app-offline"))};const V={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ie=function re(b,N){return Me.apply(this,arguments)}(b,V);return{installationEntry:V,registrationPromise:ie}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:ht(b)}:{installationEntry:N}}(b,we);return N=Re.registrationPromise,Re.installationEntry});return V.fid===xr?{installationEntry:yield N}:{installationEntry:V,registrationPromise:N}}),J.apply(this,arguments)}function Me(){return Me=(0,Z.Z)(function*(b,N){try{const V=yield function _n(b,N){return ir.apply(this,arguments)}(b,N);return mi(b.appConfig,V)}catch(V){throw Fn(V)&&409===V.customData.serverCode?yield Zt(b.appConfig):yield mi(b.appConfig,{fid:N.fid,registrationStatus:0}),V}}),Me.apply(this,arguments)}function ht(b){return xt.apply(this,arguments)}function xt(){return(xt=(0,Z.Z)(function*(b){let N=yield nn(b.appConfig);for(;1===N.registrationStatus;)yield sn(100),N=yield nn(b.appConfig);if(0===N.registrationStatus){const{installationEntry:V,registrationPromise:ie}=yield _e(b);return ie||V}return N})).apply(this,arguments)}function nn(b){return on(b,N=>{if(!N)throw en.create("installation-not-found");return mn(N)})}function mn(b){return function Gn(b){return 1===b.registrationStatus&&b.registrationTime+Ct<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Xn(){return(Xn=(0,Z.Z)(function*({appConfig:b,heartbeatServiceProvider:N},V){const ie=function Br(b,{fid:N}){return`${fn(b)}/${N}/authTokens:generate`}(b,V),we=function Qn(b,{refreshToken:N}){const V=Yn(b);return V.append("Authorization",function Kn(b){return`${Ve} ${b}`}(N)),V}(b,V),Re=N.getImmediate({optional:!0});if(Re){const In=yield Re.getHeartbeatsHeader();In&&we.append("x-firebase-client",In)}const qt={method:"POST",headers:we,body:JSON.stringify({installation:{sdkVersion:En,appId:b.appId}})},Wt=yield nr(()=>fetch(ie,qt));if(Wt.ok)return St(yield Wt.json());throw yield Dn("Generate Auth Token",Wt)})).apply(this,arguments)}function yi(b){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,Z.Z)(function*(b,N=!1){let V;const ie=yield on(b.appConfig,Re=>{if(!zt(Re))throw en.create("not-registered");const tt=Re.authToken;if(!N&&function Ln(b){return 2===b.requestStatus&&!function Ar(b){const N=Date.now();return N<b.creationTime||b.creationTime+b.expiresIn<N+Ze}(b)}(tt))return Re;if(1===tt.requestStatus)return V=function Ke(b,N){return Pe.apply(this,arguments)}(b,N),Re;{if(!navigator.onLine)throw en.create("app-offline");const qt=function jn(b){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:N})}(Re);return V=function kt(b,N){return vn.apply(this,arguments)}(b,qt),qt}});return V?yield V:ie.authToken}),Wr.apply(this,arguments)}function Pe(){return(Pe=(0,Z.Z)(function*(b,N){let V=yield _t(b.appConfig);for(;1===V.authToken.requestStatus;)yield sn(100),V=yield _t(b.appConfig);const ie=V.authToken;return 0===ie.requestStatus?yi(b,N):ie})).apply(this,arguments)}function _t(b){return on(b,N=>{if(!zt(N))throw en.create("not-registered");return function ei(b){return 1===b.requestStatus&&b.requestTime+Ct<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function vn(){return vn=(0,Z.Z)(function*(b,N){try{const V=yield function pn(b,N){return Xn.apply(this,arguments)}(b,N),ie=Object.assign(Object.assign({},N),{authToken:V});return yield mi(b.appConfig,ie),V}catch(V){if(!Fn(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const ie=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield mi(b.appConfig,ie)}else yield Zt(b.appConfig);throw V}}),vn.apply(this,arguments)}function zt(b){return void 0!==b&&2===b.registrationStatus}function us(){return(us=(0,Z.Z)(function*(b){const N=b,{installationEntry:V,registrationPromise:ie}=yield _e(N);return ie?ie.catch(console.error):yi(N).catch(console.error),V.fid})).apply(this,arguments)}function Oi(){return Oi=(0,Z.Z)(function*(b,N=!1){const V=b;return yield function di(b){return Si.apply(this,arguments)}(V),(yield yi(V,N)).token}),Oi.apply(this,arguments)}function Si(){return(Si=(0,Z.Z)(function*(b){const{registrationPromise:N}=yield _e(b);N&&(yield N)})).apply(this,arguments)}function Te(b){return en.create("missing-app-config-values",{valueName:b})}const ke="installations",Tt=b=>{const N=b.getProvider("app").getImmediate(),V=function be(b){if(!b||!b.options)throw Te("App Configuration");if(!b.name)throw Te("App Name");const N=["projectId","apiKey","appId"];for(const V of N)if(!b.options[V])throw Te(V);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(N);return{app:N,appConfig:V,heartbeatServiceProvider:(0,Oe.qX)(N,"heartbeat"),_delete:()=>Promise.resolve()}},tn=b=>{const N=b.getProvider("app").getImmediate(),V=(0,Oe.qX)(N,ke).getImmediate();return{getId:()=>function qi(b){return us.apply(this,arguments)}(V),getToken:we=>function oi(b){return Oi.apply(this,arguments)}(V,we)}};(function zn(){(0,Oe.Xd)(new ue.wA(ke,Tt,"PUBLIC")),(0,Oe.Xd)(new ue.wA("installations-internal",tn,"PRIVATE"))})(),(0,Oe.KN)(yt,Wn),(0,Oe.KN)(yt,Wn,"esm2017");const On="@firebase/remote-config",Ir=new Se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class An{constructor(N,V,ie,we){this.client=N,this.storage=V,this.storageCache=ie,this.logger=we}isCachedDataFresh(N,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ie=Date.now()-V,we=ie<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${we}.`),we}fetch(N){var V=this;return(0,Z.Z)(function*(){const[ie,we]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(we&&V.isCachedDataFresh(N.cacheMaxAgeMillis,ie))return we;N.eTag=we&&we.eTag;const Re=yield V.client.fetch(N),tt=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Re.status&&tt.push(V.storage.setLastSuccessfulFetchResponse(Re)),yield Promise.all(tt),Re})()}}function mr(b=navigator){return b.languages&&b.languages[0]||b.language}class wn{constructor(N,V,ie,we,Re,tt){this.firebaseInstallations=N,this.sdkVersion=V,this.namespace=ie,this.projectId=we,this.apiKey=Re,this.appId=tt}fetch(N){var V=this;return(0,Z.Z)(function*(){const[ie,we]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Wt={sdk_version:V.sdkVersion,app_instance_id:ie,app_instance_id_token:we,app_id:V.appId,language_code:mr()},In={method:"POST",headers:qt,body:JSON.stringify(Wt)},Zn=fetch(tt,In),dr=new Promise((pa,cu)=>{N.signal.addEventListener(()=>{const ps=new Error("The operation was aborted.");ps.name="AbortError",cu(ps)})});let qo;try{yield Promise.race([Zn,dr]),qo=yield Zn}catch(pa){let cu="fetch-client-network";throw"AbortError"===pa?.name&&(cu="fetch-timeout"),Ir.create(cu,{originalErrorMessage:pa?.message})}let mo=qo.status;const Lc=qo.headers.get("ETag")||void 0;let Ml,fa;if(200===qo.status){let pa;try{pa=yield qo.json()}catch(cu){throw Ir.create("fetch-client-parse",{originalErrorMessage:cu?.message})}Ml=pa.entries,fa=pa.state}if("INSTANCE_STATE_UNSPECIFIED"===fa?mo=500:"NO_CHANGE"===fa?mo=304:("NO_TEMPLATE"===fa||"EMPTY_CONFIG"===fa)&&(Ml={}),304!==mo&&200!==mo)throw Ir.create("fetch-status",{httpStatus:mo});return{status:mo,eTag:Lc,config:Ml}})()}}class Eo{constructor(N,V){this.client=N,this.storage=V}fetch(N){var V=this;return(0,Z.Z)(function*(){const ie=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(N,ie)})()}attemptFetch(N,{throttleEndTimeMillis:V,backoffCount:ie}){var we=this;return(0,Z.Z)(function*(){yield function ns(b,N){return new Promise((V,ie)=>{const we=Math.max(N-Date.now(),0),Re=setTimeout(V,we);b.addEventListener(()=>{clearTimeout(Re),ie(Ir.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,V);try{const Re=yield we.client.fetch(N);return yield we.storage.deleteThrottleMetadata(),Re}catch(Re){if(!function Kr(b){if(!(b instanceof Se.ZR&&b.customData))return!1;const N=Number(b.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Re))throw Re;const tt={throttleEndTimeMillis:Date.now()+(0,Se.$s)(ie),backoffCount:ie+1};return yield we.storage.setThrottleMetadata(tt),we.attemptFetch(N,tt)}})()}}class ra{constructor(N,V,ie,we,Re){this.app=N,this._client=V,this._storageCache=ie,this._storage=we,this._logger=Re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bs(b,N){const V=b.target.error||void 0;return Ir.create(N,{originalErrorMessage:V&&V?.message})}const Rr="app_namespace_store";class wi{constructor(N,V,ie,we=function cr(){return new Promise((b,N)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=ie=>{N(bs(ie,"storage-open"))},V.onsuccess=ie=>{b(ie.target.result)},V.onupgradeneeded=ie=>{0===ie.oldVersion&&ie.target.result.createObjectStore(Rr,{keyPath:"compositeKey"})}}catch(V){N(Ir.create("storage-open",{originalErrorMessage:V?.message}))}})}()){this.appId=N,this.appName=V,this.namespace=ie,this.openDbPromise=we}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var V=this;return(0,Z.Z)(function*(){const ie=yield V.openDbPromise;return new Promise((we,Re)=>{const qt=ie.transaction([Rr],"readonly").objectStore(Rr),Wt=V.createCompositeKey(N);try{const In=qt.get(Wt);In.onerror=Zn=>{Re(bs(Zn,"storage-get"))},In.onsuccess=Zn=>{const dr=Zn.target.result;we(dr?dr.value:void 0)}}catch(In){Re(Ir.create("storage-get",{originalErrorMessage:In?.message}))}})})()}set(N,V){var ie=this;return(0,Z.Z)(function*(){const we=yield ie.openDbPromise;return new Promise((Re,tt)=>{const Wt=we.transaction([Rr],"readwrite").objectStore(Rr),In=ie.createCompositeKey(N);try{const Zn=Wt.put({compositeKey:In,value:V});Zn.onerror=dr=>{tt(bs(dr,"storage-set"))},Zn.onsuccess=()=>{Re()}}catch(Zn){tt(Ir.create("storage-set",{originalErrorMessage:Zn?.message}))}})})()}delete(N){var V=this;return(0,Z.Z)(function*(){const ie=yield V.openDbPromise;return new Promise((we,Re)=>{const qt=ie.transaction([Rr],"readwrite").objectStore(Rr),Wt=V.createCompositeKey(N);try{const In=qt.delete(Wt);In.onerror=Zn=>{Re(bs(Zn,"storage-delete"))},In.onsuccess=()=>{we()}}catch(In){Re(Ir.create("storage-delete",{originalErrorMessage:In?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Ys{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,Z.Z)(function*(){const V=N.storage.getLastFetchStatus(),ie=N.storage.getLastSuccessfulFetchTimestampMillis(),we=N.storage.getActiveConfig(),Re=yield V;Re&&(N.lastFetchStatus=Re);const tt=yield ie;tt&&(N.lastSuccessfulFetchTimestampMillis=tt);const qt=yield we;qt&&(N.activeConfig=qt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function cs(){return fi.apply(this,arguments)}function fi(){return(fi=(0,Z.Z)(function*(){if(!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}!function Zi(){(0,Oe.Xd)(new ue.wA("remote-config",function b(N,{instanceIdentifier:V}){const ie=N.getProvider("app").getImmediate(),we=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ir.create("registration-window");if(!(0,Se.hl)())throw Ir.create("indexed-db-unavailable");const{projectId:Re,apiKey:tt,appId:qt}=ie.options;if(!Re)throw Ir.create("registration-project-id");if(!tt)throw Ir.create("registration-api-key");if(!qt)throw Ir.create("registration-app-id");const Wt=new wi(qt,ie.name,V=V||"firebase"),In=new Ys(Wt),Zn=new fe.Yd(On);Zn.logLevel=fe.in.ERROR;const dr=new wn(we,Oe.Jn,V,Re,tt,qt),qo=new Eo(dr,Wt),mo=new An(qo,Wt,In,Zn),Lc=new ra(ie,mo,In,Wt,Zn);return function Ps(b){const N=(0,Se.m9)(b);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Lc),Lc},"PUBLIC").setMultipleInstances(!0)),(0,Oe.KN)(On,"0.4.4"),(0,Oe.KN)(On,"0.4.4","esm2017")}();const Cn=(b,N)=>N.some(V=>b instanceof V);let ys,ks;const $s=new WeakMap,ki=new WeakMap,Ui=new WeakMap,Fs=new WeakMap,ia=new WeakMap;let _i={get(b,N,V){if(b instanceof IDBTransaction){if("done"===N)return ki.get(b);if("objectStoreNames"===N)return b.objectStoreNames||Ui.get(b);if("store"===N)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return vi(b[N])},set:(b,N,V)=>(b[N]=V,!0),has:(b,N)=>b instanceof IDBTransaction&&("done"===N||"store"===N)||N in b};function wo(b){return"function"==typeof b?function Pn(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qr(){return ks||(ks=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...N){return b.apply(vs(this),N),vi($s.get(this))}:function(...N){return vi(b.apply(vs(this),N))}:function(N,...V){const ie=b.call(vs(this),N,...V);return Ui.set(ie,N.sort?N.sort():[N]),vi(ie)}}(b):(b instanceof IDBTransaction&&function _s(b){if(ki.has(b))return;const N=new Promise((V,ie)=>{const we=()=>{b.removeEventListener("complete",Re),b.removeEventListener("error",tt),b.removeEventListener("abort",tt)},Re=()=>{V(),we()},tt=()=>{ie(b.error||new DOMException("AbortError","AbortError")),we()};b.addEventListener("complete",Re),b.addEventListener("error",tt),b.addEventListener("abort",tt)});ki.set(b,N)}(b),Cn(b,function js(){return ys||(ys=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,_i):b)}function vi(b){if(b instanceof IDBRequest)return function Ts(b){const N=new Promise((V,ie)=>{const we=()=>{b.removeEventListener("success",Re),b.removeEventListener("error",tt)},Re=()=>{V(vi(b.result)),we()},tt=()=>{ie(b.error),we()};b.addEventListener("success",Re),b.addEventListener("error",tt)});return N.then(V=>{V instanceof IDBCursor&&$s.set(V,b)}).catch(()=>{}),ia.set(N,b),N}(b);if(Fs.has(b))return Fs.get(b);const N=wo(b);return N!==b&&(Fs.set(b,N),ia.set(N,b)),N}const vs=b=>ia.get(b);function Ii(b,N,{blocked:V,upgrade:ie,blocking:we,terminated:Re}={}){const tt=indexedDB.open(b,N),qt=vi(tt);return ie&&tt.addEventListener("upgradeneeded",Wt=>{ie(vi(tt.result),Wt.oldVersion,Wt.newVersion,vi(tt.transaction))}),V&&tt.addEventListener("blocked",()=>V()),qt.then(Wt=>{Re&&Wt.addEventListener("close",()=>Re()),we&&Wt.addEventListener("versionchange",()=>we())}).catch(()=>{}),qt}function ri(b,{blocked:N}={}){const V=indexedDB.deleteDatabase(b);return N&&V.addEventListener("blocked",()=>N()),vi(V).then(()=>{})}const zi=["get","getKey","getAll","getAllKeys","count"],lo=["put","add","delete","clear"],Ni=new Map;function ho(b,N){if(!(b instanceof IDBDatabase)||N in b||"string"!=typeof N)return;if(Ni.get(N))return Ni.get(N);const V=N.replace(/FromIndex$/,""),ie=N!==V,we=lo.includes(V);if(!(V in(ie?IDBIndex:IDBObjectStore).prototype)||!we&&!zi.includes(V))return;const Re=function(){var tt=(0,Z.Z)(function*(qt,...Wt){const In=this.transaction(qt,we?"readwrite":"readonly");let Zn=In.store;return ie&&(Zn=Zn.index(Wt.shift())),(yield Promise.all([Zn[V](...Wt),we&&In.done]))[0]});return function(Wt){return tt.apply(this,arguments)}}();return Ni.set(N,Re),Re}!function Hs(b){_i=b(_i)}(b=>({...b,get:(N,V,ie)=>ho(N,V)||b.get(N,V,ie),has:(N,V)=>!!ho(N,V)||b.has(N,V)}));const Ri="/firebase-messaging-sw.js",Di="/firebase-cloud-messaging-push-scope",G="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",z="https://fcmregistrations.googleapis.com/v1",ae="google.c.a.c_id",pe="google.c.a.c_l",Ne="google.c.a.ts";var x=function(b){return b.PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",b}(x||{});function W(b){const N=new Uint8Array(b);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function de(b){const V=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ie=atob(V),we=new Uint8Array(ie.length);for(let Re=0;Re<ie.length;++Re)we[Re]=ie.charCodeAt(Re);return we}const vt="fcm_token_details_db",Yt=5,lr="fcm_token_object_Store";function $r(){return $r=(0,Z.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Re=>Re.name).includes(vt))return null;let N=null;return(yield Ii(vt,Yt,{upgrade:(ie=(0,Z.Z)(function*(we,Re,tt,qt){var Wt;if(Re<2||!we.objectStoreNames.contains(lr))return;const In=qt.objectStore(lr),Zn=yield In.index("fcmSenderId").get(b);if(yield In.clear(),Zn)if(2===Re){const dr=Zn;if(!dr.auth||!dr.p256dh||!dr.endpoint)return;N={token:dr.fcmToken,createTime:null!==(Wt=dr.createTime)&&void 0!==Wt?Wt:Date.now(),subscriptionOptions:{auth:dr.auth,p256dh:dr.p256dh,endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:"string"==typeof dr.vapidKey?dr.vapidKey:W(dr.vapidKey)}}}else if(3===Re){const dr=Zn;N={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:W(dr.auth),p256dh:W(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:W(dr.vapidKey)}}}else if(4===Re){const dr=Zn;N={token:dr.fcmToken,createTime:dr.createTime,subscriptionOptions:{auth:W(dr.auth),p256dh:W(dr.p256dh),endpoint:dr.endpoint,swScope:dr.swScope,vapidKey:W(dr.vapidKey)}}}}),function(Re,tt,qt,Wt){return ie.apply(this,arguments)})})).close(),yield ri(vt),yield ri("fcm_vapid_details_db"),yield ri("undefined"),function Fi(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:N}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var ie}),$r.apply(this,arguments)}const Dr="firebase-messaging-database",rs=1,ii="firebase-messaging-store";let Bi=null;function pi(){return Bi||(Bi=Ii(Dr,rs,{upgrade:(b,N)=>{0===N&&b.createObjectStore(ii)}})),Bi}function fo(b){return is.apply(this,arguments)}function is(){return is=(0,Z.Z)(function*(b){const N=bo(b),ie=yield(yield pi()).transaction(ii).objectStore(ii).get(N);if(ie)return ie;{const we=yield function jr(b){return $r.apply(this,arguments)}(b.appConfig.senderId);if(we)return yield Io(b,we),we}}),is.apply(this,arguments)}function Io(b,N){return po.apply(this,arguments)}function po(){return(po=(0,Z.Z)(function*(b,N){const V=bo(b),we=(yield pi()).transaction(ii,"readwrite");return yield we.objectStore(ii).put(N,V),yield we.done,N})).apply(this,arguments)}function Ko(){return(Ko=(0,Z.Z)(function*(b){const N=bo(b),ie=(yield pi()).transaction(ii,"readwrite");yield ie.objectStore(ii).delete(N),yield ie.done})).apply(this,arguments)}function bo({appConfig:b}){return b.appId}const ls=new Se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sa(b,N){return br.apply(this,arguments)}function br(){return(br=(0,Z.Z)(function*(b,N){const V=yield jo(b),ie=y(N),we={method:"POST",headers:V,body:JSON.stringify(ie)};let Re;try{Re=yield(yield fetch(Ss(b.appConfig),we)).json()}catch(tt){throw ls.create("token-subscribe-failed",{errorInfo:tt?.toString()})}if(Re.error)throw ls.create("token-subscribe-failed",{errorInfo:Re.error.message});if(!Re.token)throw ls.create("token-subscribe-no-token");return Re.token})).apply(this,arguments)}function Cs(){return(Cs=(0,Z.Z)(function*(b,N){const V=yield jo(b),ie=y(N.subscriptionOptions),we={method:"PATCH",headers:V,body:JSON.stringify(ie)};let Re;try{Re=yield(yield fetch(`${Ss(b.appConfig)}/${N.token}`,we)).json()}catch(tt){throw ls.create("token-update-failed",{errorInfo:tt?.toString()})}if(Re.error)throw ls.create("token-update-failed",{errorInfo:Re.error.message});if(!Re.token)throw ls.create("token-update-no-token");return Re.token})).apply(this,arguments)}function Po(b,N){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,Z.Z)(function*(b,N){const ie={method:"DELETE",headers:yield jo(b)};try{const Re=yield(yield fetch(`${Ss(b.appConfig)}/${N}`,ie)).json();if(Re.error)throw ls.create("token-unsubscribe-failed",{errorInfo:Re.error.message})}catch(we){throw ls.create("token-unsubscribe-failed",{errorInfo:we?.toString()})}})).apply(this,arguments)}function Ss({projectId:b}){return`${z}/projects/${b}/registrations`}function jo(b){return j.apply(this,arguments)}function j(){return(j=(0,Z.Z)(function*({appConfig:b,installations:N}){const V=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function y({p256dh:b,auth:N,endpoint:V,vapidKey:ie}){const we={web:{endpoint:V,auth:N,p256dh:b}};return ie!==G&&(we.web.applicationPubKey=ie),we}const w=6048e5;function q(){return q=(0,Z.Z)(function*(b){const N=yield function Nt(b,N){return er.apply(this,arguments)}(b.swRegistration,b.vapidKey),V={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:N.endpoint,auth:W(N.getKey("auth")),p256dh:W(N.getKey("p256dh"))},ie=yield fo(b.firebaseDependencies);if(ie){if(function I(b,N){return N.vapidKey===b.vapidKey&&N.endpoint===b.endpoint&&N.auth===b.auth&&N.p256dh===b.p256dh}(ie.subscriptionOptions,V))return Date.now()>=ie.createTime+w?function Ie(b,N){return je.apply(this,arguments)}(b,{token:ie.token,createTime:Date.now(),subscriptionOptions:V}):ie.token;try{yield Po(b.firebaseDependencies,ie.token)}catch(we){console.warn(we)}return Qe(b.firebaseDependencies,V)}return Qe(b.firebaseDependencies,V)}),q.apply(this,arguments)}function Ee(){return Ee=(0,Z.Z)(function*(b){const N=yield fo(b.firebaseDependencies);N&&(yield Po(b.firebaseDependencies,N.token),yield function Do(b){return Ko.apply(this,arguments)}(b.firebaseDependencies));const V=yield b.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()}),Ee.apply(this,arguments)}function je(){return je=(0,Z.Z)(function*(b,N){try{const V=yield function To(b,N){return Cs.apply(this,arguments)}(b.firebaseDependencies,N),ie=Object.assign(Object.assign({},N),{token:V,createTime:Date.now()});return yield Io(b.firebaseDependencies,ie),V}catch(V){throw yield function oe(b){return Ee.apply(this,arguments)}(b),V}}),je.apply(this,arguments)}function Qe(b,N){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,Z.Z)(function*(b,N){const ie={token:yield sa(b,N),createTime:Date.now(),subscriptionOptions:N};return yield Io(b,ie),ie.token})).apply(this,arguments)}function er(){return(er=(0,Z.Z)(function*(b,N){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:de(N)})})).apply(this,arguments)}function H(b){const N={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function R(b,N){if(!N.notification)return;b.notification={};const V=N.notification.title;V&&(b.notification.title=V);const ie=N.notification.body;ie&&(b.notification.body=ie);const we=N.notification.image;we&&(b.notification.image=we);const Re=N.notification.icon;Re&&(b.notification.icon=Re)}(N,b),function B(b,N){N.data&&(b.data=N.data)}(N,b),function ce(b,N){var V,ie,we,Re,tt;if(!(N.fcmOptions||null!==(V=N.notification)&&void 0!==V&&V.click_action))return;b.fcmOptions={};const qt=null!==(we=null===(ie=N.fcmOptions)||void 0===ie?void 0:ie.link)&&void 0!==we?we:null===(Re=N.notification)||void 0===Re?void 0:Re.click_action;qt&&(b.fcmOptions.link=qt);const Wt=null===(tt=N.fcmOptions)||void 0===tt?void 0:tt.analytics_label;Wt&&(b.fcmOptions.analyticsLabel=Wt)}(N,b),N}function st(b,N){const V=[];for(let ie=0;ie<b.length;ie++)V.push(b.charAt(ie)),ie<N.length&&V.push(N.charAt(ie));return V.join("")}function Lr(b){return ls.create("missing-app-config-values",{valueName:b})}st("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),st("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mr{constructor(N,V,ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const we=function $t(b){if(!b||!b.options)throw Lr("App Configuration Object");if(!b.name)throw Lr("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:V}=b;for(const ie of N)if(!V[ie])throw Lr(ie);return{appName:b.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:we,installations:V,analyticsProvider:ie}}_delete(){return Promise.resolve()}}function kn(){return(kn=(0,Z.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Ri,{scope:Di}),b.swRegistration.update().catch(()=>{})}catch(N){throw ls.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function sr(){return(sr=(0,Z.Z)(function*(b,N){if(!N&&!b.swRegistration&&(yield function $n(b){return kn.apply(this,arguments)}(b)),N||!b.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw ls.create("invalid-sw-registration");b.swRegistration=N}})).apply(this,arguments)}function Yi(){return(Yi=(0,Z.Z)(function*(b,N){N?b.vapidKey=N:b.vapidKey||(b.vapidKey=G)})).apply(this,arguments)}function Xr(){return Xr=(0,Z.Z)(function*(b,N){if(!navigator)throw ls.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ls.create("permission-blocked");return yield function ji(b,N){return Yi.apply(this,arguments)}(b,N?.vapidKey),yield function Tr(b,N){return sr.apply(this,arguments)}(b,N?.serviceWorkerRegistration),function P(b){return q.apply(this,arguments)}(b)}),Xr.apply(this,arguments)}function Ht(){return(Ht=(0,Z.Z)(function*(b,N,V){const ie=function yn(b){switch(b){case x.NOTIFICATION_CLICKED:return"notification_open";case x.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(ie,{message_id:V[ae],message_name:V[pe],message_time:V[Ne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function it(){return it=(0,Z.Z)(function*(b,N){const V=N.data;if(!V.isFirebaseMessaging)return;b.onMessageHandler&&V.messageType===x.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(H(V)):b.onMessageHandler.next(H(V)));const ie=V.data;(function Be(b){return"object"==typeof b&&!!b&&ae in b})(ie)&&"1"===ie["google.c.a.e"]&&(yield function ai(b,N,V){return Ht.apply(this,arguments)}(b,V.messageType,ie))}),it.apply(this,arguments)}const yr="@firebase/messaging",hs=b=>{const N=new Mr(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function Mn(b,N){return it.apply(this,arguments)}(N,V)),N},Kt=b=>{const N=b.getProvider("messaging").getImmediate();return{getToken:ie=>function ds(b,N){return Xr.apply(this,arguments)}(N,ie)}};function Sa(){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,Z.Z)(function*(){try{yield(0,Se.eu)()}catch{return!1}return typeof window<"u"&&(0,Se.hl)()&&(0,Se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Lt(){(0,Oe.Xd)(new ue.wA("messaging",hs,"PUBLIC")),(0,Oe.Xd)(new ue.wA("messaging-internal",Kt,"PRIVATE")),(0,Oe.KN)(yr,"0.12.4"),(0,Oe.KN)(yr,"0.12.4","esm2017")}();const Iu="analytics",$u="firebase_id",oa="origin",$o=6e4,Es="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Du="https://www.googletagmanager.com/gtag/js",hn=new fe.Yd("@firebase/analytics"),As=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function $i(b){if(!b.startsWith(Du)){const N=As.create("invalid-gtag-resource",{gtagURL:b});return hn.warn(N.message),""}return b}function an(b){return Promise.all(b.map(N=>N.catch(V=>V)))}function Ut(){return(Ut=(0,Z.Z)(function*(b,N,V,ie,we,Re){const tt=ie[we];try{if(tt)yield N[tt];else{const Wt=(yield an(V)).find(In=>In.measurementId===we);Wt&&(yield N[Wt.appId])}}catch(qt){hn.error(qt)}b("config",we,Re)})).apply(this,arguments)}function Na(){return(Na=(0,Z.Z)(function*(b,N,V,ie,we){try{let Re=[];if(we&&we.send_to){let tt=we.send_to;Array.isArray(tt)||(tt=[tt]);const qt=yield an(V);for(const Wt of tt){const In=qt.find(dr=>dr.measurementId===Wt),Zn=In&&N[In.appId];if(!Zn){Re=[];break}Re.push(Zn)}}0===Re.length&&(Re=Object.values(N)),yield Promise.all(Re),b("event",ie,we||{})}catch(Re){hn.error(Re)}})).apply(this,arguments)}const Ra=30,ac=new class oc{constructor(N={},V=1e3){this.throttleMetadata=N,this.intervalMillis=V}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,V){this.throttleMetadata[N]=V}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Oo(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Et(){return(Et=(0,Z.Z)(function*(b){var N;const{appId:V,apiKey:ie}=b,we={method:"GET",headers:Oo(ie)},Re=Es.replace("{app-id}",V),tt=yield fetch(Re,we);if(200!==tt.status&&304!==tt.status){let qt="";try{const Wt=yield tt.json();null!==(N=Wt.error)&&void 0!==N&&N.message&&(qt=Wt.error.message)}catch{}throw As.create("config-fetch-failed",{httpStatus:tt.status,responseMessage:qt})}return tt.json()})).apply(this,arguments)}function Ho(){return(Ho=(0,Z.Z)(function*(b,N=ac,V){const{appId:ie,apiKey:we,measurementId:Re}=b.options;if(!ie)throw As.create("no-app-id");if(!we){if(Re)return{measurementId:Re,appId:ie};throw As.create("no-api-key")}const tt=N.getThrottleMetadata(ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qt=new Zo;return setTimeout((0,Z.Z)(function*(){qt.abort()}),void 0!==V?V:$o),nu({appId:ie,apiKey:we,measurementId:Re},tt,qt,N)})).apply(this,arguments)}function nu(b,N,V){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,Z.Z)(function*(b,{throttleEndTimeMillis:N,backoffCount:V},ie,we=ac){var Re;const{appId:tt,measurementId:qt}=b;try{yield function ru(b,N){return new Promise((V,ie)=>{const we=Math.max(N-Date.now(),0),Re=setTimeout(V,we);b.addEventListener(()=>{clearTimeout(Re),ie(As.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(ie,N)}catch(Wt){if(qt)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qt} provided in the "measurementId" field in the local Firebase config. [${Wt?.message}]`),{appId:tt,measurementId:qt};throw Wt}try{const Wt=yield function uc(b){return Et.apply(this,arguments)}(b);return we.deleteThrottleMetadata(tt),Wt}catch(Wt){const In=Wt;if(!function Ms(b){if(!(b instanceof Se.ZR&&b.customData))return!1;const N=Number(b.customData.httpStatus);return 429===N||500===N||503===N||504===N}(In)){if(we.deleteThrottleMetadata(tt),qt)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qt} provided in the "measurementId" field in the local Firebase config. [${In?.message}]`),{appId:tt,measurementId:qt};throw Wt}const Zn=503===Number(null===(Re=In?.customData)||void 0===Re?void 0:Re.httpStatus)?(0,Se.$s)(V,we.intervalMillis,Ra):(0,Se.$s)(V,we.intervalMillis),dr={throttleEndTimeMillis:Date.now()+Zn,backoffCount:V+1};return we.setThrottleMetadata(tt,dr),hn.debug(`Calling attemptFetch again in ${Zn} millis`),nu(b,dr,ie,we)}}),Fe.apply(this,arguments)}class Zo{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let ua,A;function $a(){return($a=(0,Z.Z)(function*(b,N,V,ie,we){if(we&&we.global)b("event",V,ie);else{const Re=yield N;b("event",V,Object.assign(Object.assign({},ie),{send_to:Re}))}})).apply(this,arguments)}function qe(){return(qe=(0,Z.Z)(function*(){if(!(0,Se.hl)())return hn.warn(As.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(b){return hn.warn(As.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function Gt(){return Gt=(0,Z.Z)(function*(b,N,V,ie,we,Re,tt){var qt;const Wt=function Hr(b){return Ho.apply(this,arguments)}(b);Wt.then(mo=>{V[mo.measurementId]=mo.appId,b.options.measurementId&&mo.measurementId!==b.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${mo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mo=>hn.error(mo)),N.push(Wt);const In=function he(){return qe.apply(this,arguments)}().then(mo=>{if(mo)return ie.getId()}),[Zn,dr]=yield Promise.all([Wt,In]);(function ja(b){const N=window.document.getElementsByTagName("script");for(const V of Object.values(N))if(V.src&&V.src.includes(Du)&&V.src.includes(b))return V;return null})(Re)||function Zr(b,N){const V=function Ma(b,N){let V;return window.trustedTypes&&(V=window.trustedTypes.createPolicy(b,N)),V}("firebase-js-sdk-policy",{createScriptURL:$i}),ie=document.createElement("script"),we=`${Du}?l=${b}&id=${N}`;ie.src=V?V?.createScriptURL(we):we,ie.async=!0,document.head.appendChild(ie)}(Re,Zn.measurementId),A&&(we("consent","default",A),function L(b){A=b}(void 0)),we("js",new Date);const qo=null!==(qt=tt?.config)&&void 0!==qt?qt:{};return qo[oa]="firebase",qo.update=!0,null!=dr&&(qo[$u]=dr),we("config",Zn.measurementId,qo),ua&&(we("set",ua),function Y(b){ua=b}(void 0)),Zn.measurementId}),Gt.apply(this,arguments)}class Hn{constructor(N){this.app=N}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},Or=[];const Xo={};let Tu,Js,Xs="dataLayer",Ls=!1;function Nh(b,N,V){!function ss(){const b=[];if((0,Se.ru)()&&b.push("This is a browser extension environment."),(0,Se.zI)()||b.push("Cookies are not available."),b.length>0){const N=b.map((ie,we)=>`(${we+1}) ${ie}`).join(" "),V=As.create("invalid-analytics-context",{errorInfo:N});hn.warn(V.message)}}();const ie=b.options.appId;if(!ie)throw As.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw As.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pr[ie])throw As.create("already-exists",{id:ie});if(!Ls){!function Hu(b){let N=[];Array.isArray(window[b])?N=window[b]:window[b]=N}(Xs);const{wrappedGtag:Re,gtagCore:tt}=function sc(b,N,V,ie,we){let Re=function(...tt){window[ie].push(arguments)};return window[we]&&"function"==typeof window[we]&&(Re=window[we]),window[we]=function aa(b,N,V,ie){function Re(){return Re=(0,Z.Z)(function*(tt,...qt){try{if("event"===tt){const[Wt,In]=qt;yield function xa(b,N,V,ie,we){return Na.apply(this,arguments)}(b,N,V,Wt,In)}else if("config"===tt){const[Wt,In]=qt;yield function dn(b,N,V,ie,we,Re){return Ut.apply(this,arguments)}(b,N,V,ie,Wt,In)}else if("consent"===tt){const[Wt]=qt;b("consent","update",Wt)}else if("get"===tt){const[Wt,In,Zn]=qt;b("get",Wt,In,Zn)}else if("set"===tt){const[Wt]=qt;b("set",Wt)}else b(tt,...qt)}catch(Wt){hn.error(Wt)}}),Re.apply(this,arguments)}return function we(tt){return Re.apply(this,arguments)}}(Re,b,N,V),{gtagCore:Re,wrappedGtag:window[we]}}(Pr,Or,Xo,Xs,"gtag");Js=Re,Tu=tt,Ls=!0}return Pr[ie]=function He(b,N,V,ie,we,Re,tt){return Gt.apply(this,arguments)}(b,Or,Xo,N,Tu,Xs,V),new Hn(b)}function Cd(){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,Z.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}const Ga="@firebase/analytics";!function bi(){(0,Oe.Xd)(new ue.wA(Iu,(N,{options:V})=>Nh(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,Oe.Xd)(new ue.wA("analytics-internal",function b(N){try{const V=N.getProvider(Iu).getImmediate();return{logEvent:(ie,we,Re)=>function Au(b,N,V,ie){b=(0,Se.m9)(b),function Yo(b,N,V,ie,we){return $a.apply(this,arguments)}(Js,Pr[b.app.options.appId],N,V,ie).catch(we=>hn.error(we))}(V,ie,we,Re)}}catch(V){throw As.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,Oe.KN)(Ga,"0.10.0"),(0,Oe.KN)(Ga,"0.10.0","esm2017")}();var iu=X(7394);class su extends iu.w0{constructor(N,V){super()}schedule(N,V=0){return this}}const Co={setInterval(b,N,...V){const{delegate:ie}=Co;return ie?.setInterval?ie.setInterval(b,N,...V):setInterval(b,N,...V)},clearInterval(b){const{delegate:N}=Co;return(N?.clearInterval||clearInterval)(b)},delegate:void 0};var lc=X(9039);class bl extends su{constructor(N,V){super(N,V),this.scheduler=N,this.work=V,this.pending=!1}schedule(N,V=0){var ie;if(this.closed)return this;this.state=N;const we=this.id,Re=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(Re,we,V)),this.pending=!0,this.delay=V,this.id=null!==(ie=this.id)&&void 0!==ie?ie:this.requestAsyncId(Re,this.id,V),this}requestAsyncId(N,V,ie=0){return Co.setInterval(N.flush.bind(N,this),ie)}recycleAsyncId(N,V,ie=0){if(null!=ie&&this.delay===ie&&!1===this.pending)return V;null!=V&&Co.clearInterval(V)}execute(N,V){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(N,V);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(N,V){let we,ie=!1;try{this.work(N)}catch(Re){ie=!0,we=Re||new Error("Scheduled action threw falsy error")}if(ie)return this.unsubscribe(),we}unsubscribe(){if(!this.closed){const{id:N,scheduler:V}=this,{actions:ie}=V;this.work=this.state=this.scheduler=null,this.pending=!1,(0,lc.P)(ie,this),null!=N&&(this.id=this.recycleAsyncId(V,N,null)),this.delay=null,super.unsubscribe()}}}const Tl={now:()=>(Tl.delegate||Date).now(),delegate:void 0};class zo{constructor(N,V=zo.now){this.schedulerActionCtor=N,this.now=V}schedule(N,V=0,ie){return new this.schedulerActionCtor(this,N).schedule(ie,V)}}zo.now=Tl.now;class ws extends zo{constructor(N,V=zo.now){super(N,V),this.actions=[],this._active=!1}flush(N){const{actions:V}=this;if(this._active)return void V.push(N);let ie;this._active=!0;do{if(ie=N.execute(N.state,N.delay))break}while(N=V.shift());if(this._active=!1,ie){for(;N=V.shift();)N.unsubscribe();throw ie}}}const va=new class ca extends ws{}(class qs extends bl{constructor(N,V){super(N,V),this.scheduler=N,this.work=V}schedule(N,V=0){return V>0?super.schedule(N,V):(this.delay=V,this.state=N,this.scheduler.flush(this),this)}execute(N,V){return V>0||this.closed?super.execute(N,V):this._execute(N,V)}requestAsyncId(N,V,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(N,V,ie):(N.flush(this),0)}}),la=new ws(bl);var Go=X(5592),qa=X(9397),Wa=X(5137),Ea=X(3093);const wa=new _.GfV("7.6.1"),to="__angularfire_symbol__analyticsIsSupportedValue",da="__angularfire_symbol__analyticsIsSupported",ou="__angularfire_symbol__remoteConfigIsSupportedValue",Ia="__angularfire_symbol__remoteConfigIsSupported",Ka="__angularfire_symbol__messagingIsSupportedValue",Oa="__angularfire_symbol__messagingIsSupported";function kc(b,N,V){if(N){if(1===N.length)return N[0];const Re=N.filter(tt=>tt.app===V);if(1===Re.length)return Re[0]}return V.container.getProvider(b).getImmediate({optional:!0})}globalThis[da]||(globalThis[da]=Cd().then(b=>globalThis[to]=b).catch(()=>globalThis[to]=!1)),globalThis[Oa]||(globalThis[Oa]=Sa().then(b=>globalThis[Ka]=b).catch(()=>globalThis[Ka]=!1)),globalThis[Ia]||(globalThis[Ia]=cs().then(b=>globalThis[ou]=b).catch(()=>globalThis[ou]=!1));const Mu=(b,N)=>{const V=N?[N]:(0,ge.C6)(),ie=[];return V.forEach(we=>{we.container.getProvider(b).instances.forEach(tt=>{ie.includes(tt)||ie.push(tt)})}),ie};function Da(){}class ka{constructor(N,V=va){this.zone=N,this.delegate=V}now(){return this.delegate.now()}schedule(N,V,ie){const we=this.zone;return this.delegate.schedule(function(tt){we.runGuarded(()=>{N.apply(this,[tt])})},V,ie)}}class uu{constructor(N){this.zone=N,this.task=null}call(N,V){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Da,{},Da,Da)),V.pipe((0,qa.b)({next:ie,complete:ie,error:ie})).subscribe(N).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ad=(()=>{class b{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new ka(Zone.current)),this.insideAngular=V.run(()=>new ka(Zone.current,la)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(V){return new(V||b)(_.LFG(_.R0b))},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Fa(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Li(b){return Fa().ngZone.run(()=>b())}function Za(b){return Fa(),function zu(b){return function(V){return(V=V.lift(new uu(b.ngZone))).pipe((0,Wa.R)(b.outsideAngular),(0,Ea.Q)(b.insideAngular))}}(Fa())(b)}const dc=(b,N)=>function(){const ie=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Li(()=>b.apply(void 0,ie))},xu=(b,N)=>function(){let V;const ie=arguments;for(let Re=0;Re<arguments.length;Re++)"function"==typeof ie[Re]&&(N&&(V||(V=Li(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Da,{},Da,Da)))),ie[Re]=dc(ie[Re],V));const we=function Fc(b){return Fa().ngZone.runOutsideAngular(()=>b())}(()=>b.apply(this,ie));if(!N){if(we instanceof Go.y){const Re=Fa();return we.pipe((0,Wa.R)(Re.outsideAngular),(0,Ea.Q)(Re.insideAngular))}return Li(()=>we)}return we instanceof Go.y?we.pipe(Za):we instanceof Promise?Li(()=>new Promise((Re,tt)=>we.then(qt=>Li(()=>Re(qt)),qt=>Li(()=>tt(qt))))):"function"==typeof we&&V?function(){return setTimeout(()=>{V&&"scheduled"===V.state&&V.invoke()},10),we.apply(this,arguments)}:Li(()=>we)}},9058:(bn,dt,X)=>{X.d(dt,{$s:()=>Zt,BH:()=>et,L:()=>Je,LL:()=>Dt,P0:()=>Jt,Pz:()=>rt,Sg:()=>pt,UG:()=>mt,US:()=>ue,ZR:()=>ot,aH:()=>De,b$:()=>Sn,eu:()=>Ge,hl:()=>Ve,m9:()=>wr,ne:()=>gr,pd:()=>Rn,q4:()=>tr,ru:()=>hr,tV:()=>ve,uI:()=>ct,vZ:()=>ir,w1:()=>yt,xO:()=>qn,xb:()=>Kn,z$:()=>bt,zI:()=>Ze,zd:()=>xr});const Oe=function(_e){const J=[];let ee=0;for(let te=0;te<_e.length;te++){let re=_e.charCodeAt(te);re<128?J[ee++]=re:re<2048?(J[ee++]=re>>6|192,J[ee++]=63&re|128):55296==(64512&re)&&te+1<_e.length&&56320==(64512&_e.charCodeAt(te+1))?(re=65536+((1023&re)<<10)+(1023&_e.charCodeAt(++te)),J[ee++]=re>>18|240,J[ee++]=re>>12&63|128,J[ee++]=re>>6&63|128,J[ee++]=63&re|128):(J[ee++]=re>>12|224,J[ee++]=re>>6&63|128,J[ee++]=63&re|128)}return J},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,J){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let re=0;re<_e.length;re+=3){const Me=_e[re],ht=re+1<_e.length,xt=ht?_e[re+1]:0,nn=re+2<_e.length,mn=nn?_e[re+2]:0;let Xn=(15&xt)<<2|mn>>6,Br=63&mn;nn||(Br=64,ht||(Xn=64)),te.push(ee[Me>>2],ee[(3&Me)<<4|xt>>4],ee[Xn],ee[Br])}return te.join("")},encodeString(_e,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(_e):this.encodeByteArray(Oe(_e),J)},decodeString(_e,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(_e):function(_e){const J=[];let ee=0,te=0;for(;ee<_e.length;){const re=_e[ee++];if(re<128)J[te++]=String.fromCharCode(re);else if(re>191&&re<224){const Me=_e[ee++];J[te++]=String.fromCharCode((31&re)<<6|63&Me)}else if(re>239&&re<365){const nn=((7&re)<<18|(63&_e[ee++])<<12|(63&_e[ee++])<<6|63&_e[ee++])-65536;J[te++]=String.fromCharCode(55296+(nn>>10)),J[te++]=String.fromCharCode(56320+(1023&nn))}else{const Me=_e[ee++],ht=_e[ee++];J[te++]=String.fromCharCode((15&re)<<12|(63&Me)<<6|63&ht)}}return J.join("")}(this.decodeStringToByteArray(_e,J))},decodeStringToByteArray(_e,J){this.init_();const ee=J?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let re=0;re<_e.length;){const Me=ee[_e.charAt(re++)],xt=re<_e.length?ee[_e.charAt(re)]:0;++re;const mn=re<_e.length?ee[_e.charAt(re)]:64;++re;const pn=re<_e.length?ee[_e.charAt(re)]:64;if(++re,null==Me||null==xt||null==mn||null==pn)throw new fe;te.push(Me<<2|xt>>4),64!==mn&&(te.push(xt<<4&240|mn>>2),64!==pn&&te.push(mn<<6&192|pn))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Je=function(_e){return function(_e){const J=Oe(_e);return ue.encodeByteArray(J,!0)}(_e).replace(/\./g,"")},ve=function(_e){try{return ue.decodeString(_e,!0)}catch(J){console.error("base64Decode failed: ",J)}return null},cn=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const _e=process.env.__FIREBASE_DEFAULTS__;return _e?JSON.parse(_e):void 0})()||(()=>{if(typeof document>"u")return;let _e;try{_e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=_e&&ve(_e[1]);return J&&JSON.parse(J)})()}catch(_e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_e}`)}},tr=_e=>{var J,ee;return null===(ee=null===(J=cn())||void 0===J?void 0:J.emulatorHosts)||void 0===ee?void 0:ee[_e]},Jt=_e=>{const J=tr(_e);if(!J)return;const ee=J.lastIndexOf(":");if(ee<=0||ee+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const te=parseInt(J.substring(ee+1),10);return"["===J[0]?[J.substring(1,ee-1),te]:[J.substring(0,ee),te]},De=()=>{var _e;return null===(_e=cn())||void 0===_e?void 0:_e.config},rt=_e=>{var J;return null===(J=cn())||void 0===J?void 0:J[`_${_e}`]};class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,ee)=>{this.resolve=J,this.reject=ee})}wrapCallback(J){return(ee,te)=>{ee?this.reject(ee):this.resolve(te),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(ee):J(ee,te))}}}function pt(_e,J){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=J||"demo-project",re=_e.iat||0,Me=_e.sub||_e.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:re,exp:re+3600,auth_time:re,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[Je(JSON.stringify({alg:"none",type:"JWT"})),Je(JSON.stringify(ht)),""].join(".")}function bt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function mt(){var _e;const J=null===(_e=cn())||void 0===_e?void 0:_e.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function hr(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function Sn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yt(){const _e=bt();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function Ve(){try{return"object"==typeof indexedDB}catch{return!1}}function Ge(){return new Promise((_e,J)=>{try{let ee=!0;const te="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(te);re.onsuccess=()=>{re.result.close(),ee||self.indexedDB.deleteDatabase(te),_e(!0)},re.onupgradeneeded=()=>{ee=!1},re.onerror=()=>{var Me;J((null===(Me=re.error)||void 0===Me?void 0:Me.message)||"")}}catch(ee){J(ee)}})}function Ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ot extends Error{constructor(J,ee,te){super(ee),this.code=J,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(J,ee,te){this.service=J,this.serviceName=ee,this.errors=te}create(J,...ee){const te=ee[0]||{},re=`${this.service}/${J}`,Me=this.errors[J],ht=Me?function en(_e,J){return _e.replace(Fn,(ee,te)=>{const re=J[te];return null!=re?String(re):`<${te}?>`})}(Me,te):"Error";return new ot(re,`${this.serviceName}: ${ht} (${re}).`,te)}}const Fn=/\{\$([^}]+)}/g;function Kn(_e){for(const J in _e)if(Object.prototype.hasOwnProperty.call(_e,J))return!1;return!0}function ir(_e,J){if(_e===J)return!0;const ee=Object.keys(_e),te=Object.keys(J);for(const re of ee){if(!te.includes(re))return!1;const Me=_e[re],ht=J[re];if(sn(Me)&&sn(ht)){if(!ir(Me,ht))return!1}else if(Me!==ht)return!1}for(const re of te)if(!ee.includes(re))return!1;return!0}function sn(_e){return null!==_e&&"object"==typeof _e}function qn(_e){const J=[];for(const[ee,te]of Object.entries(_e))Array.isArray(te)?te.forEach(re=>{J.push(encodeURIComponent(ee)+"="+encodeURIComponent(re))}):J.push(encodeURIComponent(ee)+"="+encodeURIComponent(te));return J.length?"&"+J.join("&"):""}function xr(_e){const J={};return _e.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[re,Me]=te.split("=");J[decodeURIComponent(re)]=decodeURIComponent(Me)}}),J}function Rn(_e){const J=_e.indexOf("?");if(!J)return"";const ee=_e.indexOf("#",J);return _e.substring(J,ee>0?ee:void 0)}function gr(_e,J){const ee=new Gr(_e,J);return ee.subscribe.bind(ee)}class Gr{constructor(J,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{J(this)}).catch(te=>{this.error(te)})}next(J){this.forEachObserver(ee=>{ee.next(J)})}error(J){this.forEachObserver(ee=>{ee.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,ee,te){let re;if(void 0===J&&void 0===ee&&void 0===te)throw new Error("Missing Observer.");re=function Vn(_e,J){if("object"!=typeof _e||null===_e)return!1;for(const ee of J)if(ee in _e&&"function"==typeof _e[ee])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:ee,complete:te},void 0===re.next&&(re.next=Sr),void 0===re.error&&(re.error=Sr),void 0===re.complete&&(re.complete=Sr);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),Me}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,J)}sendOne(J,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{ee(this.observers[J])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sr(){}const Fr=1e3,ln=2,mi=144e5,Vi=.5;function Zt(_e,J=Fr,ee=ln){const te=J*Math.pow(ee,_e),re=Math.round(Vi*te*(Math.random()-.5)*2);return Math.min(mi,te+re)}function wr(_e){return _e&&_e._delegate?_e._delegate:_e}},8976:(bn,dt,X)=>{X.d(dt,{b:()=>_});class _{constructor(Z,Oe,Se,ue,fe,Ye){this.nombre=Z,this.apellido=Oe,this.edad=Se,this.dni=ue,this.mail=fe,this.tipoUsuario=Ye}toJSON(){return{nombre:this.nombre,apellido:this.apellido,edad:this.edad,dni:this.dni,mail:this.mail,tipoUsuario:this.tipoUsuario}}}},1448:(bn,dt,X)=>{X.d(dt,{r:()=>ge});var _=X(8976);class ge extends _.b{constructor(Oe,Se,ue,fe,Ye,Je,ve,me,We){super(Oe,Se,ue,fe,Ye,Je),this.especialidades=ve,this.disponibilidadPorEspecialidad=me,this.accesoConcedido=We}toJSON(){return{nombre:this.nombre,apellido:this.apellido,edad:this.edad,dni:this.dni,mail:this.mail,tipoUsuario:this.tipoUsuario,especialidades:this.especialidades,disponibilidadPorEspecialidad:this.disponibilidadPorEspecialidad.map(Oe=>({especialidad:Oe.especialidad,diasAtencion:Oe.diasAtencion,duracionTurno:Oe.duracionTurno,desdeJornada:Oe.desdeJornada,hastaJornada:Oe.hastaJornada})),accesoConcedido:this.accesoConcedido}}}},9213:(bn,dt,X)=>{X.d(dt,{H:()=>Oe});var _=X(4946),ge=X(5609),Z=X(5592);let Oe=(()=>{class Se{constructor(){this.auth=(0,_.f3M)(ge.gx),this.usuarioAutenticado=!1,this.usuarioEmail=""}ngOnInit(){console.log("oninit servicio"),this.usuarioEmail=this.auth.currentUser?.email}isLoggedIn(){return this.usuarioEmail=this.auth.currentUser?.email,null!=this.auth.currentUser}estadoLogObservable(){return new Z.y(fe=>{this.unsubscribe=(0,ge.Aj)(this.auth,Ye=>{Ye?(this.usuarioAutenticado=!0,this.usuarioEmail=Ye.email,fe.next(Ye)):(this.usuarioAutenticado=!1,this.usuarioEmail=null,fe.next(null))})})}logout(){return this.auth.signOut().then(()=>{console.log(this.auth),this.usuarioAutenticado=!1,this.usuarioEmail=null}).catch(fe=>{console.error("Error al cerrar sesi\xf3n:",fe)})}registro({email:fe,password:Ye}){return(0,ge.Xb)(this.auth,fe,Ye).then(Je=>{const ve=this.auth.currentUser;if(ve)return(0,ge.w$)(ve).then(()=>Je).catch(me=>{throw new Error("Error al enviar el correo de verificaci\xf3n: "+me.message)});throw new Error("Error: No se pudo obtener el usuario actual")}).catch(Je=>{throw new Error("Error al registrar el usuario: "+Je.message)})}login({email:fe,password:Ye}){return(0,ge.e5)(this.auth,fe,Ye)}enviarEmailVerificacion(){const fe=this.auth.currentUser;fe?(0,ge.w$)(fe):console.log("No hay usuario autenticado para enviar correo de verificaci\xf3n")}static#e=this.\u0275fac=function(Ye){return new(Ye||Se)};static#t=this.\u0275prov=_.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},1487:(bn,dt,X)=>{X.d(dt,{i:()=>Oe});var _=X(4946),ge=X(5723),Z=X(1448);let Oe=(()=>{class Se{constructor(){this.firestore=(0,_.f3M)(ge.gg),this.instanciaFirestore=(0,ge.hJ)(this.firestore,"usuarios")}todos(fe){const Ye=(0,ge.IO)(this.instanciaFirestore,(0,ge.ar)("tipoUsuario","==",fe));return(0,ge.BS)(Ye)}guardar(fe){const Je=(0,ge.JU)(this.instanciaFirestore);return console.log(Je.id),console.log(Je),(0,ge.pl)(Je,{id:Je.id,...fe})}traerUno(fe){const Ye=(0,ge.IO)(this.instanciaFirestore,(0,ge.ar)("mail","==",fe));return(0,ge.BS)(Ye)}traerEspecialistasPorEspecialidad(fe){const Ye=(0,ge.IO)(this.instanciaFirestore,(0,ge.ar)("especialidades","array-contains",fe));return(0,ge.BS)(Ye)}verificarAcceso(fe){const Ye=(0,ge.IO)(this.instanciaFirestore,(0,ge.ar)("mail","==",fe));return(0,ge.BS)(Ye).subscribe(Je=>(this.usuario=Je[0],!!(this.usuario instanceof Z.r&&this.usuario.accesoConcedido))),!1}verificarAccesoAdministrador(fe){const Ye=(0,ge.IO)(this.instanciaFirestore,(0,ge.ar)("mail","==",fe));return(0,ge.BS)(Ye).subscribe(Je=>(this.usuario=Je[0],!(!this.usuario||"admin"!==this.usuario.tipoUsuario||(console.log(this.usuario),0)))),!1}darAcceso(fe){return new Promise((Ye,Je)=>{this.traerUnoSubscription=this.traerUno(fe).subscribe(ve=>{if(!1===ve[0].accesoConcedido){const me=ve[0].id,We=(0,ge.hJ)(this.firestore,"usuarios"),nt=(0,ge.JU)(We,me);(0,ge.r7)(nt,{accesoConcedido:!0}).then(()=>{console.log("acceso"),Ye()}).catch(Ae=>{console.error("Error:",Ae),Je(Ae)}).finally(()=>{this.traerUnoSubscription&&(this.traerUnoSubscription.unsubscribe(),this.traerUnoSubscription=void 0)})}})})}static#e=this.\u0275fac=function(Ye){return new(Ye||Se)};static#t=this.\u0275prov=_.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},3171:(bn,dt,X)=>{var _=X(6593),ge=X(5920),Z=X(4946),Oe=X(9213);const ue=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{class j{constructor(w){this.UserAuthService=w,this.usuario="",this.rolUsuario=""}ngOnInit(){this.UserAuthService.estadoLogObservable().subscribe(w=>{this.usuario=w?w.email:""})}static#e=this.\u0275fac=function(P){return new(P||j)(Z.Y36(Oe.H))};static#t=this.\u0275cmp=Z.Xpm({type:j,selectors:[["app-home"]],decls:19,vars:0,consts:[["id","hero",1,"d-flex","align-items-center"],[1,"container"],["id","main"],["id","why-us",1,"why-us"],[1,"row"],[1,"col-lg-4","d-flex","align-items-stretch"],[1,"content"],[1,"text-center"],["href","#",1,"more-btn"],[1,"bx","bx-chevron-right"]],template:function(P,q){1&P&&(Z.TgZ(0,"section",0)(1,"div",1)(2,"h1"),Z._uU(3,"Bienvenido a Cl\xednica Online"),Z.qZA(),Z._UZ(4,"h2"),Z.qZA()(),Z.TgZ(5,"main",2)(6,"section",3)(7,"div",1)(8,"div",4)(9,"div",5)(10,"div",6)(11,"h3"),Z._uU(12,"\xa1Bienvenido a Cl\xednica Online!"),Z.qZA(),Z.TgZ(13,"p"),Z._uU(14," Cl\xednica Online ofrece servicios de salud con consultorios y laboratorios. Abierta de lunes a s\xe1bado, nuestros profesionales atienden a pacientes con turnos solicitados en l\xednea. La duraci\xf3n m\xednima del turno es de 30 minutos, ajustable por especialidad. \xa1Descubre m\xe1s sobre nuestros servicios! "),Z.qZA(),Z.TgZ(15,"div",7)(16,"a",8),Z._uU(17,"Lorem"),Z._UZ(18,"i",9),Z.qZA()()()()()()()())},styles:['#hero[_ngcontent-%COMP%]{width:100%;height:90vh;background:url(hero-bg.eacf2d179bfbb6be.jpg) top center;background-size:auto;margin-bottom:-300px}#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}#hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:-150px 0 0;font-size:48px;font-weight:700;line-height:56px;text-transform:uppercase;color:#2c4964}#hero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c4964;margin:10px 0 0;font-size:24px}section[_ngcontent-%COMP%]{padding:60px 0;overflow:hidden}.section-bg[_ngcontent-%COMP%]{background-color:#f1f7fd}.section-title[_ngcontent-%COMP%]{text-align:center;padding-bottom:30px}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:20px;padding-bottom:20px;position:relative;color:#2c4964}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";position:absolute;display:block;width:120px;height:1px;background:#ddd;bottom:1px;left:calc(50% - 60px)}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;width:40px;height:3px;background:#1977cc;bottom:0;left:calc(50% - 20px)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:30px;background:#1977cc;border-radius:4px;color:#fff}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:34px;margin-bottom:30px}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]{display:inline-block;background:rgba(255,255,255,.2);padding:6px 30px 8px;color:#fff;border-radius:50px;transition:all ease-in-out .4s}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]:hover{color:#1977cc;background:#fff}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{text-align:center;border-radius:10px;background:#fff;box-shadow:0 2px 15px #0000001a;padding:40px 30px;width:100%}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;color:#1977cc;margin-bottom:30px}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:0 0 30px}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#848484}']})}return j})()},{path:"auth",loadChildren:()=>Promise.all([X.e(519),X.e(392),X.e(301)]).then(X.bind(X,6392)).then(j=>j.AuthModule)},{path:"usuarios",loadChildren:()=>Promise.all([X.e(519),X.e(450),X.e(392),X.e(295)]).then(X.bind(X,7295)).then(j=>j.UsuariosAdminModule)},{path:"turnos",loadChildren:()=>Promise.all([X.e(519),X.e(794)]).then(X.bind(X,7794)).then(j=>j.TurnosModule)},{path:"mis_turnos",loadChildren:()=>Promise.all([X.e(519),X.e(182)]).then(X.bind(X,6182)).then(j=>j.MisTurnosModule)},{path:"mi_perfil",loadChildren:()=>Promise.all([X.e(450),X.e(296)]).then(X.bind(X,2296)).then(j=>j.MiPerfilModule)},{path:"mis_pacientes",loadChildren:()=>Promise.all([X.e(450),X.e(811)]).then(X.bind(X,6811)).then(j=>j.MisPacientesModule)},{path:"estadisticas",loadChildren:()=>X.e(245).then(X.bind(X,1245)).then(j=>j.EstadisticasAdminModule)}];let fe=(()=>{class j{static#e=this.\u0275fac=function(P){return new(P||j)};static#t=this.\u0275mod=Z.oAB({type:j});static#n=this.\u0275inj=Z.cJS({imports:[ge.Bz.forRoot(ue),ge.Bz]})}return j})();var Ye=X(6814),Je=X(1487);function ve(j,y){if(1&j){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",8),Z.NdJ("click",function(){Z.CHM(w);const q=Z.oxw();return Z.KtG(q.usuariosAdmin())}),Z._uU(3,"Usuarios"),Z.qZA()(),Z.BQk()}}function me(j,y){if(1&j){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",8),Z.NdJ("click",function(){Z.CHM(w);const q=Z.oxw();return Z.KtG(q.misTurnos())}),Z._uU(3,"Mis Turnos"),Z.qZA()(),Z.BQk()}}function We(j,y){if(1&j){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",8),Z.NdJ("click",function(){Z.CHM(w);const q=Z.oxw();return Z.KtG(q.turnos())}),Z._uU(3,"Solicitar Turno"),Z.qZA()(),Z.BQk()}}function nt(j,y){if(1&j){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",8),Z.NdJ("click",function(){Z.CHM(w);const q=Z.oxw();return Z.KtG(q.miPerfil())}),Z._uU(3,"Mi Perfil"),Z.qZA()(),Z.BQk()}}function Ae(j,y){if(1&j){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",8),Z.NdJ("click",function(){Z.CHM(w);const q=Z.oxw();return Z.KtG(q.misPacientes())}),Z._uU(3,"Pacientes"),Z.qZA()(),Z.BQk()}}function Mt(j,y){if(1&j){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",8),Z.NdJ("click",function(){Z.CHM(w);const q=Z.oxw();return Z.KtG(q.irEstadisticas())}),Z._uU(3,"Estadisticas"),Z.qZA()(),Z.BQk()}}function gt(j,y){if(1&j){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"button",9),Z.NdJ("click",function(){Z.CHM(w);const q=Z.oxw();return Z.KtG(q.login())}),Z._uU(2,"Ingresar"),Z.qZA(),Z.BQk()}}function Ft(j,y){if(1&j){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"button",9),Z.NdJ("click",function(){Z.CHM(w);const q=Z.oxw();return Z.KtG(q.register())}),Z._uU(2,"Registrarse"),Z.qZA(),Z.BQk()}}function cn(j,y){if(1&j){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"button",9),Z.NdJ("click",function(){Z.CHM(w);const q=Z.oxw();return Z.KtG(q.cerrarSesion())}),Z._uU(2,"Cerrar Sesion"),Z.qZA(),Z.BQk()}}let tr=(()=>{class j{constructor(w,P,q){this.UserAuthService=w,this.UsuarioService=P,this.router=q,this.usuarioEmail="",this.usuarioLogueado=!1,this.rolUsuario=""}ngOnInit(){this.Subscription=this.UserAuthService.estadoLogObservable().subscribe(w=>{w?(console.log("pase"),console.log(w),console.log(w.email),this.SubscriptionUsuario=this.UsuarioService.traerUno(w.email).subscribe(P=>{P[0]&&(this.usuario=P[0],this.usuarioEmail=P[0].mail,this.rolUsuario=P[0].tipoUsuario,this.usuarioLogueado=!0)})):this.usuarioLogueado=!1})}cerrarSesion(){this.UserAuthService.logout().then(()=>{console.log("logout"),this.Subscription&&this.SubscriptionUsuario&&(this.Subscription.unsubscribe(),this.SubscriptionUsuario.unsubscribe(),console.log("me desuscribi")),this.usuarioEmail="",this.rolUsuario="",this.usuarioLogueado=!1,this.usuario=void 0,console.log(this.usuario),this.router.navigateByUrl("auth/login")}).catch(w=>console.error(w))}login(){this.router.navigateByUrl("auth/login")}register(){this.router.navigateByUrl("auth/register")}usuariosAdmin(){console.log("hola"),this.router.navigateByUrl("usuarios/usuarios")}turnos(){this.router.navigateByUrl("turnos")}misTurnos(){this.router.navigateByUrl("mis_turnos")}miPerfil(){this.router.navigateByUrl("mi_perfil")}misPacientes(){this.router.navigateByUrl("mis_pacientes")}irEstadisticas(){this.router.navigateByUrl("estadisticas")}ngOnDestroy(){throw new Error("Destruido")}static#e=this.\u0275fac=function(P){return new(P||j)(Z.Y36(Oe.H),Z.Y36(Je.i),Z.Y36(ge.F0))};static#t=this.\u0275cmp=Z.Xpm({type:j,selectors:[["app-navbar"]],decls:20,vars:10,consts:[[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-md-between","gradient-custom"],["href","/",1,"d-flex","align-items-center","col-md-2","mb-2","mb-md-0","text-dark","text-decoration-none"],["src","assets/logo.avif","width","80","height","80","alt",""],[1,"nav","col-12","col-md-auto","mb-2","justify-content-center","mb-md-0"],["href","#",1,"nav-link","px-2","link-secondary"],[4,"ngIf"],[1,"nav-link","px-2","link-dark","disabled"],[1,"col-md-3","text-end"],[1,"nav-link","px-2","link-dark",3,"click"],["type","button",1,"btn","btn-light","me-2",3,"click"]],template:function(P,q){1&P&&(Z.TgZ(0,"header",0)(1,"a",1),Z._UZ(2,"img",2),Z.qZA(),Z.TgZ(3,"ul",3)(4,"li")(5,"a",4),Z._uU(6,"Inicio"),Z.qZA()(),Z.YNc(7,ve,4,0,"ng-container",5),Z.YNc(8,me,4,0,"ng-container",5),Z.YNc(9,We,4,0,"ng-container",5),Z.YNc(10,nt,4,0,"ng-container",5),Z.YNc(11,Ae,4,0,"ng-container",5),Z.YNc(12,Mt,4,0,"ng-container",5),Z.TgZ(13,"li")(14,"a",6),Z._uU(15),Z.qZA()()(),Z.TgZ(16,"div",7),Z.YNc(17,gt,3,0,"ng-container",5),Z.YNc(18,Ft,3,0,"ng-container",5),Z.YNc(19,cn,3,0,"ng-container",5),Z.qZA()()),2&P&&(Z.xp6(7),Z.Q6J("ngIf","admin"===q.rolUsuario),Z.xp6(1),Z.Q6J("ngIf","admin"!==q.rolUsuario&&""!==q.rolUsuario),Z.xp6(1),Z.Q6J("ngIf","paciente"===q.rolUsuario),Z.xp6(1),Z.Q6J("ngIf",""!==q.rolUsuario),Z.xp6(1),Z.Q6J("ngIf","especialista"===q.rolUsuario),Z.xp6(1),Z.Q6J("ngIf","admin"===q.rolUsuario),Z.xp6(3),Z.Oqu(q.usuarioEmail),Z.xp6(2),Z.Q6J("ngIf",!q.usuarioLogueado),Z.xp6(1),Z.Q6J("ngIf",!q.usuarioLogueado),Z.xp6(1),Z.Q6J("ngIf",q.usuarioLogueado))},dependencies:[Ye.O5],styles:[".gradient-custom[_ngcontent-%COMP%]{background:linear-gradient(to left,#1977cc,#fff)}"]})}return j})();function Jt(j,y){1&j&&(Z.ynx(0),Z.TgZ(1,"div",1)(2,"div",2)(3,"span",3),Z._uU(4,"Cargando..."),Z.qZA()()(),Z.BQk())}function De(j,y){1&j&&(Z.ynx(0),Z._UZ(1,"app-navbar")(2,"router-outlet"),Z.BQk())}let rt=(()=>{class j{constructor(){this.title="tp_clinica_online",this.loading=!1}ngOnInit(){this.loading=!0,setTimeout(()=>{this.loading=!1},3e3)}static#e=this.\u0275fac=function(P){return new(P||j)};static#t=this.\u0275cmp=Z.Xpm({type:j,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"loading-container"],["role","status",1,"spinner-grow","text-primary",2,"width","5rem","height","5rem"],[1,"visually-hidden"]],template:function(P,q){1&P&&(Z.YNc(0,Jt,5,0,"ng-container",0),Z.YNc(1,De,3,0,"ng-container",0)),2&P&&(Z.Q6J("ngIf",q.loading),Z.xp6(1),Z.Q6J("ngIf",!q.loading))},dependencies:[Ye.O5,ge.lC,tr],styles:['@charset "UTF-8";.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}']})}return j})();var et=X(95),pt=X(8726),bt=X(5723),ct=X(9493),mt=X(5609);const Bn_firebase={apiKey:"AIzaSyB3cH7PV__i49hUwJNNojdkhgPvySEqegw",authDomain:"tp-clinica-online-d8dea.firebaseapp.com",projectId:"tp-clinica-online-d8dea",storageBucket:"tp-clinica-online-d8dea.appspot.com",messagingSenderId:"800419131731",appId:"1:800419131731:web:b752b510cf8add7e7d31a6"};var Sn=X(6825);function yt(j){return new Z.vHH(3e3,!1)}function Ei(j){switch(j.length){case 0:return new Sn.ZN;case 1:return j[0];default:return new Sn.ZE(j)}}function Ot(j,y,w=new Map,P=new Map){const q=[],oe=[];let Ee=-1,Ie=null;if(y.forEach(je=>{const Qe=je.get("offset"),Rt=Qe==Ee,Nt=Rt&&Ie||new Map;je.forEach((er,I)=>{let H=I,R=er;if("offset"!==I)switch(H=j.normalizePropertyName(H,q),R){case Sn.k1:R=w.get(I);break;case Sn.l3:R=P.get(I);break;default:R=j.normalizeStyleValue(I,H,R,q)}Nt.set(H,R)}),Rt||oe.push(Nt),Ie=Nt,Ee=Qe}),q.length)throw function sn(j){return new Z.vHH(3502,!1)}();return oe}function xi(j,y,w,P){switch(y){case"start":j.onStart(()=>P(w&&Ci(w,"start",j)));break;case"done":j.onDone(()=>P(w&&Ci(w,"done",j)));break;case"destroy":j.onDestroy(()=>P(w&&Ci(w,"destroy",j)))}}function Ci(j,y,w){const oe=qr(j.element,j.triggerName,j.fromState,j.toState,y||j.phaseName,w.totalTime??j.totalTime,!!w.disabled),Ee=j._data;return null!=Ee&&(oe._data=Ee),oe}function qr(j,y,w,P,q="",oe=0,Ee){return{element:j,triggerName:y,fromState:w,toState:P,phaseName:q,totalTime:oe,disabled:!!Ee}}function fr(j,y,w){let P=j.get(y);return P||j.set(y,P=w),P}function Fr(j){const y=j.indexOf(":");return[j.substring(1,y),j.slice(y+1)]}const ln=(()=>typeof document>"u"?null:document.documentElement)();function mi(j){const y=j.parentNode||j.host||null;return y===ln?null:y}let Zt=null,ar=!1;function J(j,y){for(;y;){if(y===j)return!0;y=mi(y)}return!1}function ee(j,y,w){if(w)return Array.from(j.querySelectorAll(y));const P=j.querySelector(y);return P?[P]:[]}let re=(()=>{class j{validateStyleProperty(w){return function on(j){Zt||(Zt=function _e(){return typeof document<"u"?document.body:null}()||{},ar=!!Zt.style&&"WebkitAppearance"in Zt.style);let y=!0;return Zt.style&&!function Vi(j){return"ebkit"==j.substring(1,6)}(j)&&(y=j in Zt.style,!y&&ar&&(y="Webkit"+j.charAt(0).toUpperCase()+j.slice(1)in Zt.style)),y}(w)}matchesElement(w,P){return!1}containsElement(w,P){return J(w,P)}getParentElement(w){return mi(w)}query(w,P,q){return ee(w,P,q)}computeStyle(w,P,q){return q||""}animate(w,P,q,oe,Ee,Ie=[],je){return new Sn.ZN(q,oe)}static#e=this.\u0275fac=function(P){return new(P||j)};static#t=this.\u0275prov=Z.Yz7({token:j,factory:j.\u0275fac})}return j})(),Me=(()=>{class j{static#e=this.NOOP=new re}return j})();const ht=1e3,mn="ng-enter",Gn="ng-leave",pn="ng-trigger",Xn=".ng-trigger",Br="ng-animating",yi=".ng-animating";function Wr(j){if("number"==typeof j)return j;const y=j.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Ke(parseFloat(y[1]),y[2])}function Ke(j,y){return"s"===y?j*ht:j}function Pe(j,y,w){return j.hasOwnProperty("duration")?j:function _t(j,y,w){let q,oe=0,Ee="";if("string"==typeof j){const Ie=j.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ie)return y.push(yt()),{duration:0,delay:0,easing:""};q=Ke(parseFloat(Ie[1]),Ie[2]);const je=Ie[3];null!=je&&(oe=Ke(parseFloat(je),Ie[4]));const Qe=Ie[5];Qe&&(Ee=Qe)}else q=j;if(!w){let Ie=!1,je=y.length;q<0&&(y.push(function Wn(){return new Z.vHH(3100,!1)}()),Ie=!0),oe<0&&(y.push(function Ct(){return new Z.vHH(3101,!1)}()),Ie=!0),Ie&&y.splice(je,0,yt())}return{duration:q,delay:oe,easing:Ee}}(j,y,w)}function kt(j,y={}){return Object.keys(j).forEach(w=>{y[w]=j[w]}),y}function vn(j){const y=new Map;return Object.keys(j).forEach(w=>{y.set(w,j[w])}),y}function Ar(j,y=new Map,w){if(w)for(let[P,q]of w)y.set(P,q);for(let[P,q]of j)y.set(P,q);return y}function jn(j,y,w){y.forEach((P,q)=>{const oe=Ji(q);w&&!w.has(q)&&w.set(q,j.style[oe]),j.style[oe]=P})}function ei(j,y){y.forEach((w,P)=>{const q=Ji(P);j.style[q]=""})}function qi(j){return Array.isArray(j)?1==j.length?j[0]:(0,Sn.vP)(j):j}const oi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Oi(j){let y=[];if("string"==typeof j){let w;for(;w=oi.exec(j);)y.push(w[1]);oi.lastIndex=0}return y}function di(j,y,w){const P=j.toString(),q=P.replace(oi,(oe,Ee)=>{let Ie=y[Ee];return null==Ie&&(w.push(function Ve(j){return new Z.vHH(3003,!1)}()),Ie=""),Ie.toString()});return q==P?j:q}function Si(j){const y=[];let w=j.next();for(;!w.done;)y.push(w.value),w=j.next();return y}const Jn=/-+([a-z0-9])/g;function Ji(j){return j.replace(Jn,(...y)=>y[1].toUpperCase())}function Nr(j,y,w){switch(y.type){case 7:return j.visitTrigger(y,w);case 0:return j.visitState(y,w);case 1:return j.visitTransition(y,w);case 2:return j.visitSequence(y,w);case 3:return j.visitGroup(y,w);case 4:return j.visitAnimate(y,w);case 5:return j.visitKeyframes(y,w);case 6:return j.visitStyle(y,w);case 8:return j.visitReference(y,w);case 9:return j.visitAnimateChild(y,w);case 10:return j.visitAnimateRef(y,w);case 11:return j.visitQuery(y,w);case 12:return j.visitStagger(y,w);default:throw function Ge(j){return new Z.vHH(3004,!1)}()}}function xs(j,y){return window.getComputedStyle(j)[y]}const zn="*";function On(j,y){const w=[];return"string"==typeof j?j.split(/\s*,\s*/).forEach(P=>function Un(j,y,w){if(":"==j[0]){const je=function Hi(j,y){switch(j){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,P)=>parseFloat(P)>parseFloat(w);case":decrement":return(w,P)=>parseFloat(P)<parseFloat(w);default:return y.push(function zr(j){return new Z.vHH(3016,!1)}()),"* => *"}}(j,w);if("function"==typeof je)return void y.push(je);j=je}const P=j.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return w.push(function rr(j){return new Z.vHH(3015,!1)}()),y;const q=P[1],oe=P[2],Ee=P[3];y.push(Ir(q,Ee));"<"==oe[0]&&!(q==zn&&Ee==zn)&&y.push(Ir(Ee,q))}(P,w,y)):w.push(j),w}const hi=new Set(["true","1"]),ti=new Set(["false","0"]);function Ir(j,y){const w=hi.has(j)||ti.has(j),P=hi.has(y)||ti.has(y);return(q,oe)=>{let Ee=j==zn||j==q,Ie=y==zn||y==oe;return!Ee&&w&&"boolean"==typeof q&&(Ee=q?hi.has(j):ti.has(j)),!Ie&&P&&"boolean"==typeof oe&&(Ie=oe?hi.has(y):ti.has(y)),Ee&&Ie}}const Ro=new RegExp("s*:selfs*,?","g");function Zs(j,y,w,P){return new oo(j).build(y,w,P)}class oo{constructor(y){this._driver=y}build(y,w,P){const q=new ao(w);return this._resetContextStyleTimingState(q),Nr(this,qi(y),q)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,w){let P=w.queryCount=0,q=w.depCount=0;const oe=[],Ee=[];return"@"==y.name.charAt(0)&&w.errors.push(function Ue(){return new Z.vHH(3006,!1)}()),y.definitions.forEach(Ie=>{if(this._resetContextStyleTimingState(w),0==Ie.type){const je=Ie,Qe=je.name;Qe.toString().split(/\s*,\s*/).forEach(Rt=>{je.name=Rt,oe.push(this.visitState(je,w))}),je.name=Qe}else if(1==Ie.type){const je=this.visitTransition(Ie,w);P+=je.queryCount,q+=je.depCount,Ee.push(je)}else w.errors.push(function ot(){return new Z.vHH(3007,!1)}())}),{type:7,name:y.name,states:oe,transitions:Ee,queryCount:P,depCount:q,options:null}}visitState(y,w){const P=this.visitStyle(y.styles,w),q=y.options&&y.options.params||null;if(P.containsDynamicStyles){const oe=new Set,Ee=q||{};P.styles.forEach(Ie=>{Ie instanceof Map&&Ie.forEach(je=>{Oi(je).forEach(Qe=>{Ee.hasOwnProperty(Qe)||oe.add(Qe)})})}),oe.size&&(Si(oe.values()),w.errors.push(function Dt(j,y){return new Z.vHH(3008,!1)}()))}return{type:0,name:y.name,style:P,options:q?{params:q}:null}}visitTransition(y,w){w.queryCount=0,w.depCount=0;const P=Nr(this,qi(y.animation),w);return{type:1,matchers:On(y.expr,w.errors),animation:P,queryCount:w.queryCount,depCount:w.depCount,options:Ki(y.options)}}visitSequence(y,w){return{type:2,steps:y.steps.map(P=>Nr(this,P,w)),options:Ki(y.options)}}visitGroup(y,w){const P=w.currentTime;let q=0;const oe=y.steps.map(Ee=>{w.currentTime=P;const Ie=Nr(this,Ee,w);return q=Math.max(q,w.currentTime),Ie});return w.currentTime=q,{type:3,steps:oe,options:Ki(y.options)}}visitAnimate(y,w){const P=function Ps(j,y){if(j.hasOwnProperty("duration"))return j;if("number"==typeof j)return Vs(Pe(j,y).duration,0,"");const w=j;if(w.split(/\s+/).some(oe=>"{"==oe.charAt(0)&&"{"==oe.charAt(1))){const oe=Vs(0,0,"");return oe.dynamic=!0,oe.strValue=w,oe}const q=Pe(w,y);return Vs(q.duration,q.delay,q.easing)}(y.timings,w.errors);w.currentAnimateTimings=P;let q,oe=y.styles?y.styles:(0,Sn.oB)({});if(5==oe.type)q=this.visitKeyframes(oe,w);else{let Ee=y.styles,Ie=!1;if(!Ee){Ie=!0;const Qe={};P.easing&&(Qe.easing=P.easing),Ee=(0,Sn.oB)(Qe)}w.currentTime+=P.duration+P.delay;const je=this.visitStyle(Ee,w);je.isEmptyStep=Ie,q=je}return w.currentAnimateTimings=null,{type:4,timings:P,style:q,options:null}}visitStyle(y,w){const P=this._makeStyleAst(y,w);return this._validateStyleAst(P,w),P}_makeStyleAst(y,w){const P=[],q=Array.isArray(y.styles)?y.styles:[y.styles];for(let Ie of q)"string"==typeof Ie?Ie===Sn.l3?P.push(Ie):w.errors.push(new Z.vHH(3002,!1)):P.push(vn(Ie));let oe=!1,Ee=null;return P.forEach(Ie=>{if(Ie instanceof Map&&(Ie.has("easing")&&(Ee=Ie.get("easing"),Ie.delete("easing")),!oe))for(let je of Ie.values())if(je.toString().indexOf("{{")>=0){oe=!0;break}}),{type:6,styles:P,easing:Ee,offset:y.offset,containsDynamicStyles:oe,options:null}}_validateStyleAst(y,w){const P=w.currentAnimateTimings;let q=w.currentTime,oe=w.currentTime;P&&oe>0&&(oe-=P.duration+P.delay),y.styles.forEach(Ee=>{"string"!=typeof Ee&&Ee.forEach((Ie,je)=>{const Qe=w.collectedStyles.get(w.currentQuerySelector),Rt=Qe.get(je);let Nt=!0;Rt&&(oe!=q&&oe>=Rt.startTime&&q<=Rt.endTime&&(w.errors.push(function fn(j,y,w,P,q){return new Z.vHH(3010,!1)}()),Nt=!1),oe=Rt.startTime),Nt&&Qe.set(je,{startTime:oe,endTime:q}),w.options&&function us(j,y,w){const P=y.params||{},q=Oi(j);q.length&&q.forEach(oe=>{P.hasOwnProperty(oe)||w.push(function En(j){return new Z.vHH(3001,!1)}())})}(Ie,w.options,w.errors)})})}visitKeyframes(y,w){const P={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function St(){return new Z.vHH(3011,!1)}()),P;let oe=0;const Ee=[];let Ie=!1,je=!1,Qe=0;const Rt=y.steps.map(ce=>{const Be=this._makeStyleAst(ce,w);let st=null!=Be.offset?Be.offset:function Rs(j){if("string"==typeof j)return null;let y=null;if(Array.isArray(j))j.forEach(w=>{if(w instanceof Map&&w.has("offset")){const P=w;y=parseFloat(P.get("offset")),P.delete("offset")}});else if(j instanceof Map&&j.has("offset")){const w=j;y=parseFloat(w.get("offset")),w.delete("offset")}return y}(Be.styles),$t=0;return null!=st&&(oe++,$t=Be.offset=st),je=je||$t<0||$t>1,Ie=Ie||$t<Qe,Qe=$t,Ee.push($t),Be});je&&w.errors.push(function Dn(){return new Z.vHH(3012,!1)}()),Ie&&w.errors.push(function pr(){return new Z.vHH(3200,!1)}());const Nt=y.steps.length;let er=0;oe>0&&oe<Nt?w.errors.push(function Yn(){return new Z.vHH(3202,!1)}()):0==oe&&(er=1/(Nt-1));const I=Nt-1,H=w.currentTime,R=w.currentAnimateTimings,B=R.duration;return Rt.forEach((ce,Be)=>{const st=er>0?Be==I?1:er*Be:Ee[Be],$t=st*B;w.currentTime=H+R.delay+$t,R.duration=$t,this._validateStyleAst(ce,w),ce.offset=st,P.styles.push(ce)}),P}visitReference(y,w){return{type:8,animation:Nr(this,qi(y.animation),w),options:Ki(y.options)}}visitAnimateChild(y,w){return w.depCount++,{type:9,options:Ki(y.options)}}visitAnimateRef(y,w){return{type:10,animation:this.visitReference(y.animation,w),options:Ki(y.options)}}visitQuery(y,w){const P=w.currentQuerySelector,q=y.options||{};w.queryCount++,w.currentQuery=y;const[oe,Ee]=function ms(j){const y=!!j.split(/\s*,\s*/).find(w=>":self"==w);return y&&(j=j.replace(Ro,"")),j=j.replace(/@\*/g,Xn).replace(/@\w+/g,w=>Xn+"-"+w.slice(1)).replace(/:animating/g,yi),[j,y]}(y.selector);w.currentQuerySelector=P.length?P+" "+oe:oe,fr(w.collectedStyles,w.currentQuerySelector,new Map);const Ie=Nr(this,qi(y.animation),w);return w.currentQuery=null,w.currentQuerySelector=P,{type:11,selector:oe,limit:q.limit||0,optional:!!q.optional,includeSelf:Ee,animation:Ie,originalSelector:y.selector,options:Ki(y.options)}}visitStagger(y,w){w.currentQuery||w.errors.push(function Qn(){return new Z.vHH(3013,!1)}());const P="full"===y.timings?{duration:0,delay:0,easing:"full"}:Pe(y.timings,w.errors,!0);return{type:12,animation:Nr(this,qi(y.animation),w),timings:P,options:null}}}class ao{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ki(j){return j?(j=kt(j)).params&&(j.params=function vo(j){return j?kt(j):null}(j.params)):j={},j}function Vs(j,y,w){return{duration:j,delay:y,easing:w}}function Us(j,y,w,P,q,oe,Ee=null,Ie=!1){return{type:1,element:j,keyframes:y,preStyleProps:w,postStyleProps:P,duration:q,delay:oe,totalTime:q+oe,easing:Ee,subTimeline:Ie}}class uo{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,w){let P=this._map.get(y);P||this._map.set(y,P=[]),P.push(...w)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Ai=new RegExp(":enter","g"),Ds=new RegExp(":leave","g");function An(j,y,w,P,q,oe=new Map,Ee=new Map,Ie,je,Qe=[]){return(new mr).buildKeyframes(j,y,w,P,q,oe,Ee,Ie,je,Qe)}class mr{buildKeyframes(y,w,P,q,oe,Ee,Ie,je,Qe,Rt=[]){Qe=Qe||new uo;const Nt=new ns(y,w,Qe,q,oe,Rt,[]);Nt.options=je;const er=je.delay?Wr(je.delay):0;Nt.currentTimeline.delayNextStep(er),Nt.currentTimeline.setStyles([Ee],null,Nt.errors,je),Nr(this,P,Nt);const I=Nt.timelines.filter(H=>H.containsAnimation());if(I.length&&Ie.size){let H;for(let R=I.length-1;R>=0;R--){const B=I[R];if(B.element===w){H=B;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([Ie],null,Nt.errors,je)}return I.length?I.map(H=>H.buildKeyframes()):[Us(w,[],[],[],0,er,"",!1)]}visitTrigger(y,w){}visitState(y,w){}visitTransition(y,w){}visitAnimateChild(y,w){const P=w.subInstructions.get(w.element);if(P){const q=w.createSubContext(y.options),oe=w.currentTimeline.currentTime,Ee=this._visitSubInstructions(P,q,q.options);oe!=Ee&&w.transformIntoNewTimeline(Ee)}w.previousNode=y}visitAnimateRef(y,w){const P=w.createSubContext(y.options);P.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],w,P),this.visitReference(y.animation,P),w.transformIntoNewTimeline(P.currentTimeline.currentTime),w.previousNode=y}_applyAnimationRefDelays(y,w,P){for(const q of y){const oe=q?.delay;if(oe){const Ee="number"==typeof oe?oe:Wr(di(oe,q?.params??{},w.errors));P.delayNextStep(Ee)}}}_visitSubInstructions(y,w,P){let oe=w.currentTimeline.currentTime;const Ee=null!=P.duration?Wr(P.duration):null,Ie=null!=P.delay?Wr(P.delay):null;return 0!==Ee&&y.forEach(je=>{const Qe=w.appendInstructionToTimeline(je,Ee,Ie);oe=Math.max(oe,Qe.duration+Qe.delay)}),oe}visitReference(y,w){w.updateOptions(y.options,!0),Nr(this,y.animation,w),w.previousNode=y}visitSequence(y,w){const P=w.subContextCount;let q=w;const oe=y.options;if(oe&&(oe.params||oe.delay)&&(q=w.createSubContext(oe),q.transformIntoNewTimeline(),null!=oe.delay)){6==q.previousNode.type&&(q.currentTimeline.snapshotCurrentStyles(),q.previousNode=wn);const Ee=Wr(oe.delay);q.delayNextStep(Ee)}y.steps.length&&(y.steps.forEach(Ee=>Nr(this,Ee,q)),q.currentTimeline.applyStylesToKeyframe(),q.subContextCount>P&&q.transformIntoNewTimeline()),w.previousNode=y}visitGroup(y,w){const P=[];let q=w.currentTimeline.currentTime;const oe=y.options&&y.options.delay?Wr(y.options.delay):0;y.steps.forEach(Ee=>{const Ie=w.createSubContext(y.options);oe&&Ie.delayNextStep(oe),Nr(this,Ee,Ie),q=Math.max(q,Ie.currentTimeline.currentTime),P.push(Ie.currentTimeline)}),P.forEach(Ee=>w.currentTimeline.mergeTimelineCollectedStyles(Ee)),w.transformIntoNewTimeline(q),w.previousNode=y}_visitTiming(y,w){if(y.dynamic){const P=y.strValue;return Pe(w.params?di(P,w.params,w.errors):P,w.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,w){const P=w.currentAnimateTimings=this._visitTiming(y.timings,w),q=w.currentTimeline;P.delay&&(w.incrementTime(P.delay),q.snapshotCurrentStyles());const oe=y.style;5==oe.type?this.visitKeyframes(oe,w):(w.incrementTime(P.duration),this.visitStyle(oe,w),q.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=y}visitStyle(y,w){const P=w.currentTimeline,q=w.currentAnimateTimings;!q&&P.hasCurrentStyleProperties()&&P.forwardFrame();const oe=q&&q.easing||y.easing;y.isEmptyStep?P.applyEmptyStep(oe):P.setStyles(y.styles,oe,w.errors,w.options),w.previousNode=y}visitKeyframes(y,w){const P=w.currentAnimateTimings,q=w.currentTimeline.duration,oe=P.duration,Ie=w.createSubContext().currentTimeline;Ie.easing=P.easing,y.styles.forEach(je=>{Ie.forwardTime((je.offset||0)*oe),Ie.setStyles(je.styles,je.easing,w.errors,w.options),Ie.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(Ie),w.transformIntoNewTimeline(q+oe),w.previousNode=y}visitQuery(y,w){const P=w.currentTimeline.currentTime,q=y.options||{},oe=q.delay?Wr(q.delay):0;oe&&(6===w.previousNode.type||0==P&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=wn);let Ee=P;const Ie=w.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!q.optional,w.errors);w.currentQueryTotal=Ie.length;let je=null;Ie.forEach((Qe,Rt)=>{w.currentQueryIndex=Rt;const Nt=w.createSubContext(y.options,Qe);oe&&Nt.delayNextStep(oe),Qe===w.element&&(je=Nt.currentTimeline),Nr(this,y.animation,Nt),Nt.currentTimeline.applyStylesToKeyframe(),Ee=Math.max(Ee,Nt.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(Ee),je&&(w.currentTimeline.mergeTimelineCollectedStyles(je),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=y}visitStagger(y,w){const P=w.parentContext,q=w.currentTimeline,oe=y.timings,Ee=Math.abs(oe.duration),Ie=Ee*(w.currentQueryTotal-1);let je=Ee*w.currentQueryIndex;switch(oe.duration<0?"reverse":oe.easing){case"reverse":je=Ie-je;break;case"full":je=P.currentStaggerTime}const Rt=w.currentTimeline;je&&Rt.delayNextStep(je);const Nt=Rt.currentTime;Nr(this,y.animation,w),w.previousNode=y,P.currentStaggerTime=q.currentTime-Nt+(q.startTime-P.currentTimeline.startTime)}}const wn={};class ns{constructor(y,w,P,q,oe,Ee,Ie,je){this._driver=y,this.element=w,this.subInstructions=P,this._enterClassName=q,this._leaveClassName=oe,this.errors=Ee,this.timelines=Ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=je||new Kr(this._driver,w,0),Ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,w){if(!y)return;const P=y;let q=this.options;null!=P.duration&&(q.duration=Wr(P.duration)),null!=P.delay&&(q.delay=Wr(P.delay));const oe=P.params;if(oe){let Ee=q.params;Ee||(Ee=this.options.params={}),Object.keys(oe).forEach(Ie=>{(!w||!Ee.hasOwnProperty(Ie))&&(Ee[Ie]=di(oe[Ie],Ee,this.errors))})}}_copyOptions(){const y={};if(this.options){const w=this.options.params;if(w){const P=y.params={};Object.keys(w).forEach(q=>{P[q]=w[q]})}}return y}createSubContext(y=null,w,P){const q=w||this.element,oe=new ns(this._driver,q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(q,P||0));return oe.previousNode=this.previousNode,oe.currentAnimateTimings=this.currentAnimateTimings,oe.options=this._copyOptions(),oe.updateOptions(y),oe.currentQueryIndex=this.currentQueryIndex,oe.currentQueryTotal=this.currentQueryTotal,oe.parentContext=this,this.subContextCount++,oe}transformIntoNewTimeline(y){return this.previousNode=wn,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,w,P){const q={duration:w??y.duration,delay:this.currentTimeline.currentTime+(P??0)+y.delay,easing:""},oe=new Eo(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,q,y.stretchStartingKeyframe);return this.timelines.push(oe),q}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,w,P,q,oe,Ee){let Ie=[];if(q&&Ie.push(this.element),y.length>0){y=(y=y.replace(Ai,"."+this._enterClassName)).replace(Ds,"."+this._leaveClassName);let Qe=this._driver.query(this.element,y,1!=P);0!==P&&(Qe=P<0?Qe.slice(Qe.length+P,Qe.length):Qe.slice(0,P)),Ie.push(...Qe)}return!oe&&0==Ie.length&&Ee.push(function nr(j){return new Z.vHH(3014,!1)}()),Ie}}class Kr{constructor(y,w,P,q){this._driver=y,this.element=w,this.startTime=P,this._elementTimelineStylesLookup=q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+y),w&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,w){return this.applyStylesToKeyframe(),new Kr(this._driver,y,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,w){this._localTimelineStyles.set(y,w),this._globalTimelineStyles.set(y,w),this._styleSummary.set(y,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[w,P]of this._globalTimelineStyles)this._backFill.set(w,P||Sn.l3),this._currentKeyframe.set(w,Sn.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,w,P,q){w&&this._previousKeyframe.set("easing",w);const oe=q&&q.params||{},Ee=function Bs(j,y){const w=new Map;let P;return j.forEach(q=>{if("*"===q){P=P||y.keys();for(let oe of P)w.set(oe,Sn.l3)}else Ar(q,w)}),w}(y,this._globalTimelineStyles);for(let[Ie,je]of Ee){const Qe=di(je,oe,P);this._pendingStyles.set(Ie,Qe),this._localTimelineStyles.has(Ie)||this._backFill.set(Ie,this._globalTimelineStyles.get(Ie)??Sn.l3),this._updateStyle(Ie,Qe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,w)=>{this._currentKeyframe.set(w,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,y)}))}snapshotCurrentStyles(){for(let[y,w]of this._localTimelineStyles)this._pendingStyles.set(y,w),this._updateStyle(y,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let w in this._currentKeyframe)y.push(w);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((w,P)=>{const q=this._styleSummary.get(P);(!q||w.time>q.time)&&this._updateStyle(P,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,w=new Set,P=1===this._keyframes.size&&0===this.duration;let q=[];this._keyframes.forEach((Ie,je)=>{const Qe=Ar(Ie,new Map,this._backFill);Qe.forEach((Rt,Nt)=>{Rt===Sn.k1?y.add(Nt):Rt===Sn.l3&&w.add(Nt)}),P||Qe.set("offset",je/this.duration),q.push(Qe)});const oe=y.size?Si(y.values()):[],Ee=w.size?Si(w.values()):[];if(P){const Ie=q[0],je=new Map(Ie);Ie.set("offset",0),je.set("offset",1),q=[Ie,je]}return Us(this.element,q,oe,Ee,this.duration,this.startTime,this.easing,!1)}}class Eo extends Kr{constructor(y,w,P,q,oe,Ee,Ie=!1){super(y,w,Ee.delay),this.keyframes=P,this.preStyleProps=q,this.postStyleProps=oe,this._stretchStartingKeyframe=Ie,this.timings={duration:Ee.duration,delay:Ee.delay,easing:Ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:w,duration:P,easing:q}=this.timings;if(this._stretchStartingKeyframe&&w){const oe=[],Ee=P+w,Ie=w/Ee,je=Ar(y[0]);je.set("offset",0),oe.push(je);const Qe=Ar(y[0]);Qe.set("offset",Os(Ie)),oe.push(Qe);const Rt=y.length-1;for(let Nt=1;Nt<=Rt;Nt++){let er=Ar(y[Nt]);const I=er.get("offset");er.set("offset",Os((w+I*P)/Ee)),oe.push(er)}P=Ee,w=0,q="",y=oe}return Us(this.element,y,this.preStyleProps,this.postStyleProps,P,w,q,!0)}}function Os(j,y=3){const w=Math.pow(10,y-1);return Math.round(j*w)/w}class bs{}const Bt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xn extends bs{normalizePropertyName(y,w){return Ji(y)}normalizeStyleValue(y,w,P,q){let oe="";const Ee=P.toString().trim();if(Bt.has(w)&&0!==P&&"0"!==P)if("number"==typeof P)oe="px";else{const Ie=P.match(/^[+-]?[\d\.]+([a-z]*)$/);Ie&&0==Ie[1].length&&q.push(function Ze(j,y){return new Z.vHH(3005,!1)}())}return Ee+oe}}function cr(j,y,w,P,q,oe,Ee,Ie,je,Qe,Rt,Nt,er){return{type:0,element:j,triggerName:y,isRemovalTransition:q,fromState:w,fromStyles:oe,toState:P,toStyles:Ee,timelines:Ie,queriedElements:je,preStyleProps:Qe,postStyleProps:Rt,totalTime:Nt,errors:er}}const wi={};class Ys{constructor(y,w,P){this._triggerName=y,this.ast=w,this._stateStyles=P}match(y,w,P,q){return function Mi(j,y,w,P,q){return j.some(oe=>oe(y,w,P,q))}(this.ast.matchers,y,w,P,q)}buildStyles(y,w,P){let q=this._stateStyles.get("*");return void 0!==y&&(q=this._stateStyles.get(y?.toString())||q),q?q.buildStyles(w,P):new Map}build(y,w,P,q,oe,Ee,Ie,je,Qe,Rt){const Nt=[],er=this.ast.options&&this.ast.options.params||wi,H=this.buildStyles(P,Ie&&Ie.params||wi,Nt),R=je&&je.params||wi,B=this.buildStyles(q,R,Nt),ce=new Set,Be=new Map,st=new Map,$t="void"===q,Lr={params:ni(R,er),delay:this.ast.options?.delay},Mr=Rt?[]:An(y,w,this.ast.animation,oe,Ee,H,B,Lr,Qe,Nt);let $n=0;if(Mr.forEach(Tr=>{$n=Math.max(Tr.duration+Tr.delay,$n)}),Nt.length)return cr(w,this._triggerName,P,q,$t,H,B,[],[],Be,st,$n,Nt);Mr.forEach(Tr=>{const sr=Tr.element,ji=fr(Be,sr,new Set);Tr.preStyleProps.forEach(ds=>ji.add(ds));const Yi=fr(st,sr,new Set);Tr.postStyleProps.forEach(ds=>Yi.add(ds)),sr!==w&&ce.add(sr)});const kn=Si(ce.values());return cr(w,this._triggerName,P,q,$t,H,B,Mr,kn,Be,st,$n)}}function ni(j,y){const w=kt(y);for(const P in j)j.hasOwnProperty(P)&&null!=j[P]&&(w[P]=j[P]);return w}class cs{constructor(y,w,P){this.styles=y,this.defaultParams=w,this.normalizer=P}buildStyles(y,w){const P=new Map,q=kt(this.defaultParams);return Object.keys(y).forEach(oe=>{const Ee=y[oe];null!==Ee&&(q[oe]=Ee)}),this.styles.styles.forEach(oe=>{"string"!=typeof oe&&oe.forEach((Ee,Ie)=>{Ee&&(Ee=di(Ee,q,w));const je=this.normalizer.normalizePropertyName(Ie,w);Ee=this.normalizer.normalizeStyleValue(Ie,je,Ee,w),P.set(Ie,Ee)})}),P}}class Cn{constructor(y,w,P){this.name=y,this.ast=w,this._normalizer=P,this.transitionFactories=[],this.states=new Map,w.states.forEach(q=>{this.states.set(q.name,new cs(q.style,q.options&&q.options.params||{},P))}),ks(this.states,"true","1"),ks(this.states,"false","0"),w.transitions.forEach(q=>{this.transitionFactories.push(new Ys(y,q,this.states))}),this.fallbackTransition=function ys(j,y,w){return new Ys(j,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ee,Ie)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,w,P,q){return this.transitionFactories.find(Ee=>Ee.match(y,w,P,q))||null}matchStyles(y,w,P){return this.fallbackTransition.buildStyles(y,w,P)}}function ks(j,y,w){j.has(y)?j.has(w)||j.set(w,j.get(y)):j.has(w)&&j.set(y,j.get(w))}const js=new uo;class Qr{constructor(y,w,P){this.bodyNode=y,this._driver=w,this._normalizer=P,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,w){const P=[],oe=Zs(this._driver,w,P,[]);if(P.length)throw function gi(j){return new Z.vHH(3503,!1)}();this._animations.set(y,oe)}_buildPlayer(y,w,P){const q=y.element,oe=Ot(this._normalizer,y.keyframes,w,P);return this._driver.animate(q,oe,y.duration,y.delay,y.easing,[],!0)}create(y,w,P={}){const q=[],oe=this._animations.get(y);let Ee;const Ie=new Map;if(oe?(Ee=An(this._driver,w,oe,mn,Gn,new Map,new Map,P,js,q),Ee.forEach(Rt=>{const Nt=fr(Ie,Rt.element,new Map);Rt.postStyleProps.forEach(er=>Nt.set(er,null))})):(q.push(function qn(){return new Z.vHH(3300,!1)}()),Ee=[]),q.length)throw function xr(j){return new Z.vHH(3504,!1)}();Ie.forEach((Rt,Nt)=>{Rt.forEach((er,I)=>{Rt.set(I,this._driver.computeStyle(Nt,I,Sn.l3))})});const Qe=Ei(Ee.map(Rt=>{const Nt=Ie.get(Rt.element);return this._buildPlayer(Rt,new Map,Nt)}));return this._playersById.set(y,Qe),Qe.onDestroy(()=>this.destroy(y)),this.players.push(Qe),Qe}destroy(y){const w=this._getPlayer(y);w.destroy(),this._playersById.delete(y);const P=this.players.indexOf(w);P>=0&&this.players.splice(P,1)}_getPlayer(y){const w=this._playersById.get(y);if(!w)throw function Rn(j){return new Z.vHH(3301,!1)}();return w}listen(y,w,P,q){const oe=qr(w,"","","");return xi(this._getPlayer(y),P,oe,q),()=>{}}command(y,w,P,q){if("register"==P)return void this.register(y,q[0]);if("create"==P)return void this.create(y,w,q[0]||{});const oe=this._getPlayer(y);switch(P){case"play":oe.play();break;case"pause":oe.pause();break;case"reset":oe.reset();break;case"restart":oe.restart();break;case"finish":oe.finish();break;case"init":oe.init();break;case"setPosition":oe.setPosition(parseFloat(q[0]));break;case"destroy":this.destroy(y)}}}const $s="ng-animate-queued",Ui="ng-animate-disabled",_s=[],_i={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pn="__ng_removed";class wo{get params(){return this.options.params}constructor(y,w=""){this.namespaceId=w;const P=y&&y.hasOwnProperty("value");if(this.value=function Ni(j){return j??null}(P?y.value:y),P){const oe=kt(y);delete oe.value,this.options=oe}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const w=y.params;if(w){const P=this.options.params;Object.keys(w).forEach(q=>{null==P[q]&&(P[q]=w[q])})}}}const vi="void",vs=new wo(vi);class Ii{constructor(y,w,P){this.id=y,this.hostElement=w,this._engine=P,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,ae(w,this._hostClassName)}listen(y,w,P,q){if(!this._triggers.has(w))throw function Tn(j,y){return new Z.vHH(3302,!1)}();if(null==P||0==P.length)throw function gr(j){return new Z.vHH(3303,!1)}();if(!function Ri(j){return"start"==j||"done"==j}(P))throw function Gr(j,y){return new Z.vHH(3400,!1)}();const oe=fr(this._elementListeners,y,[]),Ee={name:w,phase:P,callback:q};oe.push(Ee);const Ie=fr(this._engine.statesByElement,y,new Map);return Ie.has(w)||(ae(y,pn),ae(y,pn+"-"+w),Ie.set(w,vs)),()=>{this._engine.afterFlush(()=>{const je=oe.indexOf(Ee);je>=0&&oe.splice(je,1),this._triggers.has(w)||Ie.delete(w)})}}register(y,w){return!this._triggers.has(y)&&(this._triggers.set(y,w),!0)}_getTrigger(y){const w=this._triggers.get(y);if(!w)throw function ci(j){return new Z.vHH(3401,!1)}();return w}trigger(y,w,P,q=!0){const oe=this._getTrigger(w),Ee=new zi(this.id,w,y);let Ie=this._engine.statesByElement.get(y);Ie||(ae(y,pn),ae(y,pn+"-"+w),this._engine.statesByElement.set(y,Ie=new Map));let je=Ie.get(w);const Qe=new wo(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&je&&Qe.absorbOptions(je.options),Ie.set(w,Qe),je||(je=vs),Qe.value!==vi&&je.value===Qe.value){if(!function x(j,y){const w=Object.keys(j),P=Object.keys(y);if(w.length!=P.length)return!1;for(let q=0;q<w.length;q++){const oe=w[q];if(!y.hasOwnProperty(oe)||j[oe]!==y[oe])return!1}return!0}(je.params,Qe.params)){const R=[],B=oe.matchStyles(je.value,je.params,R),ce=oe.matchStyles(Qe.value,Qe.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{ei(y,B),jn(y,ce)})}return}const er=fr(this._engine.playersByElement,y,[]);er.forEach(R=>{R.namespaceId==this.id&&R.triggerName==w&&R.queued&&R.destroy()});let I=oe.matchTransition(je.value,Qe.value,y,Qe.params),H=!1;if(!I){if(!q)return;I=oe.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:w,transition:I,fromState:je,toState:Qe,player:Ee,isFallbackTransition:H}),H||(ae(y,$s),Ee.onStart(()=>{pe(y,$s)})),Ee.onDone(()=>{let R=this.players.indexOf(Ee);R>=0&&this.players.splice(R,1);const B=this._engine.playersByElement.get(y);if(B){let ce=B.indexOf(Ee);ce>=0&&B.splice(ce,1)}}),this.players.push(Ee),er.push(Ee),Ee}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(w=>w.delete(y)),this._elementListeners.forEach((w,P)=>{this._elementListeners.set(P,w.filter(q=>q.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const w=this._engine.playersByElement.get(y);w&&(w.forEach(P=>P.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,w){const P=this._engine.driver.query(y,Xn,!0);P.forEach(q=>{if(q[Pn])return;const oe=this._engine.fetchNamespacesByElement(q);oe.size?oe.forEach(Ee=>Ee.triggerLeaveAnimation(q,w,!1,!0)):this.clearElementCache(q)}),this._engine.afterFlushAnimationsDone(()=>P.forEach(q=>this.clearElementCache(q)))}triggerLeaveAnimation(y,w,P,q){const oe=this._engine.statesByElement.get(y),Ee=new Map;if(oe){const Ie=[];if(oe.forEach((je,Qe)=>{if(Ee.set(Qe,je.value),this._triggers.has(Qe)){const Rt=this.trigger(y,Qe,vi,q);Rt&&Ie.push(Rt)}}),Ie.length)return this._engine.markElementAsRemoved(this.id,y,!0,w,Ee),P&&Ei(Ie).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const w=this._elementListeners.get(y),P=this._engine.statesByElement.get(y);if(w&&P){const q=new Set;w.forEach(oe=>{const Ee=oe.name;if(q.has(Ee))return;q.add(Ee);const je=this._triggers.get(Ee).fallbackTransition,Qe=P.get(Ee)||vs,Rt=new wo(vi),Nt=new zi(this.id,Ee,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Ee,transition:je,fromState:Qe,toState:Rt,player:Nt,isFallbackTransition:!0})})}}removeNode(y,w){const P=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,w),this.triggerLeaveAnimation(y,w,!0))return;let q=!1;if(P.totalAnimations){const oe=P.players.length?P.playersByQueriedElement.get(y):[];if(oe&&oe.length)q=!0;else{let Ee=y;for(;Ee=Ee.parentNode;)if(P.statesByElement.get(Ee)){q=!0;break}}}if(this.prepareLeaveAnimationListeners(y),q)P.markElementAsRemoved(this.id,y,!1,w);else{const oe=y[Pn];(!oe||oe===_i)&&(P.afterFlush(()=>this.clearElementCache(y)),P.destroyInnerAnimations(y),P._onRemovalComplete(y,w))}}insertNode(y,w){ae(y,this._hostClassName)}drainQueuedTransitions(y){const w=[];return this._queue.forEach(P=>{const q=P.player;if(q.destroyed)return;const oe=P.element,Ee=this._elementListeners.get(oe);Ee&&Ee.forEach(Ie=>{if(Ie.name==P.triggerName){const je=qr(oe,P.triggerName,P.fromState.value,P.toState.value);je._data=y,xi(P.player,Ie.phase,je,Ie.callback)}}),q.markedForDestroy?this._engine.afterFlush(()=>{q.destroy()}):w.push(P)}),this._queue=[],w.sort((P,q)=>{const oe=P.transition.ast.depCount,Ee=q.transition.ast.depCount;return 0==oe||0==Ee?oe-Ee:this._engine.driver.containsElement(P.element,q.element)?1:-1})}destroy(y){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class ri{_onRemovalComplete(y,w){this.onRemovalComplete(y,w)}constructor(y,w,P){this.bodyNode=y,this.driver=w,this._normalizer=P,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(q,oe)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(w=>{w.players.forEach(P=>{P.queued&&y.push(P)})}),y}createNamespace(y,w){const P=new Ii(y,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(P,w):(this.newHostElements.set(w,P),this.collectEnterElement(w)),this._namespaceLookup[y]=P}_balanceNamespaceList(y,w){const P=this._namespaceList,q=this.namespacesByHostElement;if(P.length-1>=0){let Ee=!1,Ie=this.driver.getParentElement(w);for(;Ie;){const je=q.get(Ie);if(je){const Qe=P.indexOf(je);P.splice(Qe+1,0,y),Ee=!0;break}Ie=this.driver.getParentElement(Ie)}Ee||P.unshift(y)}else P.push(y);return q.set(w,y),y}register(y,w){let P=this._namespaceLookup[y];return P||(P=this.createNamespace(y,w)),P}registerTrigger(y,w,P){let q=this._namespaceLookup[y];q&&q.register(w,P)&&this.totalAnimations++}destroy(y,w){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const P=this._fetchNamespace(y);this.namespacesByHostElement.delete(P.hostElement);const q=this._namespaceList.indexOf(P);q>=0&&this._namespaceList.splice(q,1),P.destroy(w),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const w=new Set,P=this.statesByElement.get(y);if(P)for(let q of P.values())if(q.namespaceId){const oe=this._fetchNamespace(q.namespaceId);oe&&w.add(oe)}return w}trigger(y,w,P,q){if(ho(w)){const oe=this._fetchNamespace(y);if(oe)return oe.trigger(w,P,q),!0}return!1}insertNode(y,w,P,q){if(!ho(w))return;const oe=w[Pn];if(oe&&oe.setForRemoval){oe.setForRemoval=!1,oe.setForMove=!0;const Ee=this.collectedLeaveElements.indexOf(w);Ee>=0&&this.collectedLeaveElements.splice(Ee,1)}if(y){const Ee=this._fetchNamespace(y);Ee&&Ee.insertNode(w,P)}q&&this.collectEnterElement(w)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,w){w?this.disabledNodes.has(y)||(this.disabledNodes.add(y),ae(y,Ui)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),pe(y,Ui))}removeNode(y,w,P){if(ho(w)){const q=y?this._fetchNamespace(y):null;q?q.removeNode(w,P):this.markElementAsRemoved(y,w,!1,P);const oe=this.namespacesByHostElement.get(w);oe&&oe.id!==y&&oe.removeNode(w,P)}else this._onRemovalComplete(w,P)}markElementAsRemoved(y,w,P,q,oe){this.collectedLeaveElements.push(w),w[Pn]={namespaceId:y,setForRemoval:q,hasAnimation:P,removedBeforeQueried:!1,previousTriggersValues:oe}}listen(y,w,P,q,oe){return ho(w)?this._fetchNamespace(y).listen(w,P,q,oe):()=>{}}_buildInstruction(y,w,P,q,oe){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,P,q,y.fromState.options,y.toState.options,w,oe)}destroyInnerAnimations(y){let w=this.driver.query(y,Xn,!0);w.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(y,yi,!0),w.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(y){const w=this.playersByElement.get(y);w&&w.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(y){const w=this.playersByQueriedElement.get(y);w&&w.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Ei(this.players).onDone(()=>y());y()})}processLeaveNode(y){const w=y[Pn];if(w&&w.setForRemoval){if(y[Pn]=_i,w.namespaceId){this.destroyInnerAnimations(y);const P=this._fetchNamespace(w.namespaceId);P&&P.clearElementCache(y)}this._onRemovalComplete(y,w.setForRemoval)}y.classList?.contains(Ui)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(y=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,q)=>this._balanceNamespaceList(P,q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)ae(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{w=this._flushAnimations(P,y)}finally{for(let q=0;q<P.length;q++)P[q]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],w.length?Ei(w).onDone(()=>{P.forEach(q=>q())}):P.forEach(q=>q())}}reportError(y){throw function Vn(j){return new Z.vHH(3402,!1)}()}_flushAnimations(y,w){const P=new uo,q=[],oe=new Map,Ee=[],Ie=new Map,je=new Map,Qe=new Map,Rt=new Set;this.disabledNodes.forEach(Ht=>{Rt.add(Ht);const yn=this.driver.query(Ht,".ng-animate-queued",!0);for(let Mn=0;Mn<yn.length;Mn++)Rt.add(yn[Mn])});const Nt=this.bodyNode,er=Array.from(this.statesByElement.keys()),I=z(er,this.collectedEnterElements),H=new Map;let R=0;I.forEach((Ht,yn)=>{const Mn=mn+R++;H.set(yn,Mn),Ht.forEach(it=>ae(it,Mn))});const B=[],ce=new Set,Be=new Set;for(let Ht=0;Ht<this.collectedLeaveElements.length;Ht++){const yn=this.collectedLeaveElements[Ht],Mn=yn[Pn];Mn&&Mn.setForRemoval&&(B.push(yn),ce.add(yn),Mn.hasAnimation?this.driver.query(yn,".ng-star-inserted",!0).forEach(it=>ce.add(it)):Be.add(yn))}const st=new Map,$t=z(er,Array.from(ce));$t.forEach((Ht,yn)=>{const Mn=Gn+R++;st.set(yn,Mn),Ht.forEach(it=>ae(it,Mn))}),y.push(()=>{I.forEach((Ht,yn)=>{const Mn=H.get(yn);Ht.forEach(it=>pe(it,Mn))}),$t.forEach((Ht,yn)=>{const Mn=st.get(yn);Ht.forEach(it=>pe(it,Mn))}),B.forEach(Ht=>{this.processLeaveNode(Ht)})});const Lr=[],Mr=[];for(let Ht=this._namespaceList.length-1;Ht>=0;Ht--)this._namespaceList[Ht].drainQueuedTransitions(w).forEach(Mn=>{const it=Mn.player,yr=Mn.element;if(Lr.push(it),this.collectedEnterElements.length){const $e=yr[Pn];if($e&&$e.setForMove){if($e.previousTriggersValues&&$e.previousTriggersValues.has(Mn.triggerName)){const lt=$e.previousTriggersValues.get(Mn.triggerName),Jr=this.statesByElement.get(Mn.element);if(Jr&&Jr.has(Mn.triggerName)){const Aa=Jr.get(Mn.triggerName);Aa.value=lt,Jr.set(Mn.triggerName,Aa)}}return void it.destroy()}}const Gi=!Nt||!this.driver.containsElement(Nt,yr),hs=st.get(yr),Kt=H.get(yr),Lt=this._buildInstruction(Mn,P,Kt,hs,Gi);if(Lt.errors&&Lt.errors.length)return void Mr.push(Lt);if(Gi)return it.onStart(()=>ei(yr,Lt.fromStyles)),it.onDestroy(()=>jn(yr,Lt.toStyles)),void q.push(it);if(Mn.isFallbackTransition)return it.onStart(()=>ei(yr,Lt.fromStyles)),it.onDestroy(()=>jn(yr,Lt.toStyles)),void q.push(it);const Sa=[];Lt.timelines.forEach($e=>{$e.stretchStartingKeyframe=!0,this.disabledNodes.has($e.element)||Sa.push($e)}),Lt.timelines=Sa,P.append(yr,Lt.timelines),Ee.push({instruction:Lt,player:it,element:yr}),Lt.queriedElements.forEach($e=>fr(Ie,$e,[]).push(it)),Lt.preStyleProps.forEach(($e,lt)=>{if($e.size){let Jr=je.get(lt);Jr||je.set(lt,Jr=new Set),$e.forEach((Aa,vr)=>Jr.add(vr))}}),Lt.postStyleProps.forEach(($e,lt)=>{let Jr=Qe.get(lt);Jr||Qe.set(lt,Jr=new Set),$e.forEach((Aa,vr)=>Jr.add(vr))})});if(Mr.length){const Ht=[];Mr.forEach(yn=>{Ht.push(function li(j,y){return new Z.vHH(3505,!1)}())}),Lr.forEach(yn=>yn.destroy()),this.reportError(Ht)}const $n=new Map,kn=new Map;Ee.forEach(Ht=>{const yn=Ht.element;P.has(yn)&&(kn.set(yn,yn),this._beforeAnimationBuild(Ht.player.namespaceId,Ht.instruction,$n))}),q.forEach(Ht=>{const yn=Ht.element;this._getPreviousPlayers(yn,!1,Ht.namespaceId,Ht.triggerName,null).forEach(it=>{fr($n,yn,[]).push(it),it.destroy()})});const Tr=B.filter(Ht=>W(Ht,je,Qe)),sr=new Map;G(sr,this.driver,Be,Qe,Sn.l3).forEach(Ht=>{W(Ht,je,Qe)&&Tr.push(Ht)});const Yi=new Map;I.forEach((Ht,yn)=>{G(Yi,this.driver,new Set(Ht),je,Sn.k1)}),Tr.forEach(Ht=>{const yn=sr.get(Ht),Mn=Yi.get(Ht);sr.set(Ht,new Map([...yn?.entries()??[],...Mn?.entries()??[]]))});const ds=[],Xr=[],ai={};Ee.forEach(Ht=>{const{element:yn,player:Mn,instruction:it}=Ht;if(P.has(yn)){if(Rt.has(yn))return Mn.onDestroy(()=>jn(yn,it.toStyles)),Mn.disabled=!0,Mn.overrideTotalTime(it.totalTime),void q.push(Mn);let yr=ai;if(kn.size>1){let hs=yn;const Kt=[];for(;hs=hs.parentNode;){const Lt=kn.get(hs);if(Lt){yr=Lt;break}Kt.push(hs)}Kt.forEach(Lt=>kn.set(Lt,yr))}const Gi=this._buildAnimation(Mn.namespaceId,it,$n,oe,Yi,sr);if(Mn.setRealPlayer(Gi),yr===ai)ds.push(Mn);else{const hs=this.playersByElement.get(yr);hs&&hs.length&&(Mn.parentPlayer=Ei(hs)),q.push(Mn)}}else ei(yn,it.fromStyles),Mn.onDestroy(()=>jn(yn,it.toStyles)),Xr.push(Mn),Rt.has(yn)&&q.push(Mn)}),Xr.forEach(Ht=>{const yn=oe.get(Ht.element);if(yn&&yn.length){const Mn=Ei(yn);Ht.setRealPlayer(Mn)}}),q.forEach(Ht=>{Ht.parentPlayer?Ht.syncPlayerEvents(Ht.parentPlayer):Ht.destroy()});for(let Ht=0;Ht<B.length;Ht++){const yn=B[Ht],Mn=yn[Pn];if(pe(yn,Gn),Mn&&Mn.hasAnimation)continue;let it=[];if(Ie.size){let Gi=Ie.get(yn);Gi&&Gi.length&&it.push(...Gi);let hs=this.driver.query(yn,yi,!0);for(let Kt=0;Kt<hs.length;Kt++){let Lt=Ie.get(hs[Kt]);Lt&&Lt.length&&it.push(...Lt)}}const yr=it.filter(Gi=>!Gi.destroyed);yr.length?Ne(this,yn,yr):this.processLeaveNode(yn)}return B.length=0,ds.forEach(Ht=>{this.players.push(Ht),Ht.onDone(()=>{Ht.destroy();const yn=this.players.indexOf(Ht);this.players.splice(yn,1)}),Ht.play()}),ds}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,w,P,q,oe){let Ee=[];if(w){const Ie=this.playersByQueriedElement.get(y);Ie&&(Ee=Ie)}else{const Ie=this.playersByElement.get(y);if(Ie){const je=!oe||oe==vi;Ie.forEach(Qe=>{Qe.queued||!je&&Qe.triggerName!=q||Ee.push(Qe)})}}return(P||q)&&(Ee=Ee.filter(Ie=>!(P&&P!=Ie.namespaceId||q&&q!=Ie.triggerName))),Ee}_beforeAnimationBuild(y,w,P){const oe=w.element,Ee=w.isRemovalTransition?void 0:y,Ie=w.isRemovalTransition?void 0:w.triggerName;for(const je of w.timelines){const Qe=je.element,Rt=Qe!==oe,Nt=fr(P,Qe,[]);this._getPreviousPlayers(Qe,Rt,Ee,Ie,w.toState).forEach(I=>{const H=I.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),I.destroy(),Nt.push(I)})}ei(oe,w.fromStyles)}_buildAnimation(y,w,P,q,oe,Ee){const Ie=w.triggerName,je=w.element,Qe=[],Rt=new Set,Nt=new Set,er=w.timelines.map(H=>{const R=H.element;Rt.add(R);const B=R[Pn];if(B&&B.removedBeforeQueried)return new Sn.ZN(H.duration,H.delay);const ce=R!==je,Be=function O(j){const y=[];return F(j,y),y}((P.get(R)||_s).map($n=>$n.getRealPlayer())).filter($n=>!!$n.element&&$n.element===R),st=oe.get(R),$t=Ee.get(R),Lr=Ot(this._normalizer,H.keyframes,st,$t),Mr=this._buildPlayer(H,Lr,Be);if(H.subTimeline&&q&&Nt.add(R),ce){const $n=new zi(y,Ie,R);$n.setRealPlayer(Mr),Qe.push($n)}return Mr});Qe.forEach(H=>{fr(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function lo(j,y,w){let P=j.get(y);if(P){if(P.length){const q=P.indexOf(w);P.splice(q,1)}0==P.length&&j.delete(y)}return P}(this.playersByQueriedElement,H.element,H))}),Rt.forEach(H=>ae(H,Br));const I=Ei(er);return I.onDestroy(()=>{Rt.forEach(H=>pe(H,Br)),jn(je,w.toStyles)}),Nt.forEach(H=>{fr(q,H,[]).push(I)}),I}_buildPlayer(y,w,P){return w.length>0?this.driver.animate(y.element,w,y.duration,y.delay,y.easing,P):new Sn.ZN(y.duration,y.delay)}}class zi{constructor(y,w,P){this.namespaceId=y,this.triggerName=w,this.element=P,this._player=new Sn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((w,P)=>{w.forEach(q=>xi(y,P,void 0,q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const w=this._player;w.triggerCallback&&y.onStart(()=>w.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,w){fr(this._queuedCallbacks,y,[]).push(w)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const w=this._player;w.triggerCallback&&w.triggerCallback(y)}}function ho(j){return j&&1===j.nodeType}function Di(j,y){const w=j.style.display;return j.style.display=y??"none",w}function G(j,y,w,P,q){const oe=[];w.forEach(je=>oe.push(Di(je)));const Ee=[];P.forEach((je,Qe)=>{const Rt=new Map;je.forEach(Nt=>{const er=y.computeStyle(Qe,Nt,q);Rt.set(Nt,er),(!er||0==er.length)&&(Qe[Pn]=Hs,Ee.push(Qe))}),j.set(Qe,Rt)});let Ie=0;return w.forEach(je=>Di(je,oe[Ie++])),Ee}function z(j,y){const w=new Map;if(j.forEach(Ie=>w.set(Ie,[])),0==y.length)return w;const q=new Set(y),oe=new Map;function Ee(Ie){if(!Ie)return 1;let je=oe.get(Ie);if(je)return je;const Qe=Ie.parentNode;return je=w.has(Qe)?Qe:q.has(Qe)?1:Ee(Qe),oe.set(Ie,je),je}return y.forEach(Ie=>{const je=Ee(Ie);1!==je&&w.get(je).push(Ie)}),w}function ae(j,y){j.classList?.add(y)}function pe(j,y){j.classList?.remove(y)}function Ne(j,y,w){Ei(w).onDone(()=>j.processLeaveNode(y))}function F(j,y){for(let w=0;w<j.length;w++){const P=j[w];P instanceof Sn.ZE?F(P.players,y):y.push(P)}}function W(j,y,w){const P=w.get(j);if(!P)return!1;let q=y.get(j);return q?P.forEach(oe=>q.add(oe)):y.set(j,P),w.delete(j),!0}class de{constructor(y,w,P){this.bodyNode=y,this._driver=w,this._normalizer=P,this._triggerCache={},this.onRemovalComplete=(q,oe)=>{},this._transitionEngine=new ri(y,w,P),this._timelineEngine=new Qr(y,w,P),this._transitionEngine.onRemovalComplete=(q,oe)=>this.onRemovalComplete(q,oe)}registerTrigger(y,w,P,q,oe){const Ee=y+"-"+q;let Ie=this._triggerCache[Ee];if(!Ie){const je=[],Rt=Zs(this._driver,oe,je,[]);if(je.length)throw function ir(j,y){return new Z.vHH(3404,!1)}();Ie=function fi(j,y,w){return new Cn(j,y,w)}(q,Rt,this._normalizer),this._triggerCache[Ee]=Ie}this._transitionEngine.registerTrigger(w,q,Ie)}register(y,w){this._transitionEngine.register(y,w)}destroy(y,w){this._transitionEngine.destroy(y,w)}onInsert(y,w,P,q){this._transitionEngine.insertNode(y,w,P,q)}onRemove(y,w,P){this._transitionEngine.removeNode(y,w,P)}disableAnimations(y,w){this._transitionEngine.markElementAsDisabled(y,w)}process(y,w,P,q){if("@"==P.charAt(0)){const[oe,Ee]=Fr(P);this._timelineEngine.command(oe,w,Ee,q)}else this._transitionEngine.trigger(y,w,P,q)}listen(y,w,P,q,oe){if("@"==P.charAt(0)){const[Ee,Ie]=Fr(P);return this._timelineEngine.listen(Ee,w,Ie,oe)}return this._transitionEngine.listen(y,w,P,q,oe)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}let Yt=(()=>{class j{static#e=this.initialStylesByElement=new WeakMap;constructor(w,P,q){this._element=w,this._startStyles=P,this._endStyles=q,this._state=0;let oe=j.initialStylesByElement.get(w);oe||j.initialStylesByElement.set(w,oe=new Map),this._initialStyles=oe}start(){this._state<1&&(this._startStyles&&jn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jn(this._element,this._initialStyles),this._endStyles&&(jn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(j.initialStylesByElement.delete(this._element),this._startStyles&&(ei(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ei(this._element,this._endStyles),this._endStyles=null),jn(this._element,this._initialStyles),this._state=3)}}return j})();function lr(j){let y=null;return j.forEach((w,P)=>{(function jr(j){return"display"===j||"position"===j})(P)&&(y=y||new Map,y.set(P,w))}),y}class $r{constructor(y,w,P,q){this.element=y,this.keyframes=w,this.options=P,this._specialStyles=q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const w=[];return y.forEach(P=>{w.push(Object.fromEntries(P))}),w}_triggerWebAnimation(y,w,P){return y.animate(this._convertKeyframesToObject(w),P)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((P,q)=>{"offset"!==q&&y.set(q,this._finished?P:xs(this.element,q))}),this.currentSnapshot=y}triggerCallback(y){const w="start"===y?this._onStartFns:this._onDoneFns;w.forEach(P=>P()),w.length=0}}class Fi{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,w){return!1}containsElement(y,w){return J(y,w)}getParentElement(y){return mi(y)}query(y,w,P){return ee(y,w,P)}computeStyle(y,w,P){return window.getComputedStyle(y)[w]}animate(y,w,P,q,oe,Ee=[]){const je={duration:P,delay:q,fill:0==q?"both":"forwards"};oe&&(je.easing=oe);const Qe=new Map,Rt=Ee.filter(I=>I instanceof $r);(function es(j,y){return 0===j||0===y})(P,q)&&Rt.forEach(I=>{I.currentSnapshot.forEach((H,R)=>Qe.set(R,H))});let Nt=function zt(j){return j.length?j[0]instanceof Map?j:j.map(y=>vn(y)):[]}(w).map(I=>Ar(I));Nt=function Wi(j,y,w){if(w.size&&y.length){let P=y[0],q=[];if(w.forEach((oe,Ee)=>{P.has(Ee)||q.push(Ee),P.set(Ee,oe)}),q.length)for(let oe=1;oe<y.length;oe++){let Ee=y[oe];q.forEach(Ie=>Ee.set(Ie,xs(j,Ie)))}}return y}(y,Nt,Qe);const er=function vt(j,y){let w=null,P=null;return Array.isArray(y)&&y.length?(w=lr(y[0]),y.length>1&&(P=lr(y[y.length-1]))):y instanceof Map&&(w=lr(y)),w||P?new Yt(j,w,P):null}(y,Nt);return new $r(y,Nt,je,er)}}let Dr=(()=>{class j extends Sn._j{constructor(w,P){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(P.body,{id:"0",encapsulation:Z.ifc.None,styles:[],data:{animation:[]}})}build(w){const P=this._nextAnimationId.toString();this._nextAnimationId++;const q=Array.isArray(w)?(0,Sn.vP)(w):w;return Bi(this._renderer,null,P,"register",[q]),new rs(P,this._renderer)}static#e=this.\u0275fac=function(P){return new(P||j)(Z.LFG(Z.FYo),Z.LFG(Ye.K0))};static#t=this.\u0275prov=Z.Yz7({token:j,factory:j.\u0275fac})}return j})();class rs extends Sn.LC{constructor(y,w){super(),this._id=y,this._renderer=w}create(y,w){return new ii(this._id,y,w||{},this._renderer)}}class ii{constructor(y,w,P,q){this.id=y,this.element=w,this._renderer=q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",P)}_listen(y,w){return this._renderer.listen(this.element,`@@${this.id}:${y}`,w)}_command(y,...w){return Bi(this._renderer,this.element,this.id,y,w)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Bi(j,y,w,P,q){return j.setProperty(y,`@@${w}:${P}`,q)}const fo="@.disabled";let is=(()=>{class j{constructor(w,P,q){this.delegate=w,this.engine=P,this._zone=q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,P.onRemovalComplete=(oe,Ee)=>{const Ie=Ee?.parentNode(oe);Ie&&Ee.removeChild(Ie,oe)}}createRenderer(w,P){const oe=this.delegate.createRenderer(w,P);if(!(w&&P&&P.data&&P.data.animation)){let Rt=this._rendererCache.get(oe);return Rt||(Rt=new Io("",oe,this.engine,()=>this._rendererCache.delete(oe)),this._rendererCache.set(oe,Rt)),Rt}const Ee=P.id,Ie=P.id+"-"+this._currentId;this._currentId++,this.engine.register(Ie,w);const je=Rt=>{Array.isArray(Rt)?Rt.forEach(je):this.engine.registerTrigger(Ee,Ie,w,Rt.name,Rt)};return P.data.animation.forEach(je),new po(this,Ie,oe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(w,P,q){w>=0&&w<this._microtaskId?this._zone.run(()=>P(q)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(oe=>{const[Ee,Ie]=oe;Ee(Ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([P,q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(P){return new(P||j)(Z.LFG(Z.FYo),Z.LFG(de),Z.LFG(Z.R0b))};static#t=this.\u0275prov=Z.Yz7({token:j,factory:j.\u0275fac})}return j})();class Io{constructor(y,w,P,q){this.namespaceId=y,this.delegate=w,this.engine=P,this._onDestroy=q}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,w){return this.delegate.createElement(y,w)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,w){this.delegate.appendChild(y,w),this.engine.onInsert(this.namespaceId,w,y,!1)}insertBefore(y,w,P,q=!0){this.delegate.insertBefore(y,w,P),this.engine.onInsert(this.namespaceId,w,y,q)}removeChild(y,w,P){this.engine.onRemove(this.namespaceId,w,this.delegate)}selectRootElement(y,w){return this.delegate.selectRootElement(y,w)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,w,P,q){this.delegate.setAttribute(y,w,P,q)}removeAttribute(y,w,P){this.delegate.removeAttribute(y,w,P)}addClass(y,w){this.delegate.addClass(y,w)}removeClass(y,w){this.delegate.removeClass(y,w)}setStyle(y,w,P,q){this.delegate.setStyle(y,w,P,q)}removeStyle(y,w,P){this.delegate.removeStyle(y,w,P)}setProperty(y,w,P){"@"==w.charAt(0)&&w==fo?this.disableAnimations(y,!!P):this.delegate.setProperty(y,w,P)}setValue(y,w){this.delegate.setValue(y,w)}listen(y,w,P){return this.delegate.listen(y,w,P)}disableAnimations(y,w){this.engine.disableAnimations(y,w)}}class po extends Io{constructor(y,w,P,q,oe){super(w,P,q,oe),this.factory=y,this.namespaceId=w}setProperty(y,w,P){"@"==w.charAt(0)?"."==w.charAt(1)&&w==fo?this.disableAnimations(y,P=void 0===P||!!P):this.engine.process(this.namespaceId,y,w.slice(1),P):this.delegate.setProperty(y,w,P)}listen(y,w,P){if("@"==w.charAt(0)){const q=function Do(j){switch(j){case"body":return document.body;case"document":return document;case"window":return window;default:return j}}(y);let oe=w.slice(1),Ee="";return"@"!=oe.charAt(0)&&([oe,Ee]=function Ko(j){const y=j.indexOf(".");return[j.substring(0,y),j.slice(y+1)]}(oe)),this.engine.listen(this.namespaceId,q,oe,Ee,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,P,Ie)})}return this.delegate.listen(y,w,P)}}const sa=[{provide:Sn._j,useClass:Dr},{provide:bs,useFactory:function Qs(){return new xn}},{provide:de,useClass:(()=>{class j extends de{constructor(w,P,q,oe){super(w.body,P,q)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(P){return new(P||j)(Z.LFG(Ye.K0),Z.LFG(Me),Z.LFG(bs),Z.LFG(Z.z2F))};static#t=this.\u0275prov=Z.Yz7({token:j,factory:j.\u0275fac})}return j})()},{provide:Z.FYo,useFactory:function ls(j,y,w){return new is(j,y,w)},deps:[_.se,de,Z.R0b]}],br=[{provide:Me,useFactory:()=>new Fi},{provide:Z.QbO,useValue:"BrowserAnimations"},...sa],To=[{provide:Me,useClass:re},{provide:Z.QbO,useValue:"NoopAnimations"},...sa];let Cs=(()=>{class j{static withConfig(w){return{ngModule:j,providers:w.disableAnimations?To:br}}static#e=this.\u0275fac=function(P){return new(P||j)};static#t=this.\u0275mod=Z.oAB({type:j});static#n=this.\u0275inj=Z.cJS({providers:br,imports:[_.b2]})}return j})(),jo=(()=>{class j{static#e=this.\u0275fac=function(P){return new(P||j)};static#t=this.\u0275mod=Z.oAB({type:j,bootstrap:[rt]});static#n=this.\u0275inj=Z.cJS({imports:[(0,pt.hX)(()=>(0,pt.ZF)(Bn_firebase)),_.b2,Cs,fe,et.u5,(0,mt.AR)(()=>(0,mt.v0)()),(0,bt.Cm)(()=>(0,bt.ad)()),(0,ct.Vq)(()=>(0,ct.cF)())]})}return j})();_.q6().bootstrapModule(jo).catch(j=>console.error(j))},5619:(bn,dt,X)=>{X.d(dt,{X:()=>ge});var _=X(8645);class ge extends _.x{constructor(Oe){super(),this._value=Oe}get value(){return this.getValue()}_subscribe(Oe){const Se=super._subscribe(Oe);return!Se.closed&&Oe.next(this._value),Se}getValue(){const{hasError:Oe,thrownError:Se,_value:ue}=this;if(Oe)throw Se;return this._throwIfClosed(),ue}next(Oe){super.next(this._value=Oe)}}},5592:(bn,dt,X)=>{X.d(dt,{y:()=>Ye});var _=X(305),ge=X(7394),Z=X(4850),Oe=X(8407),Se=X(2653),ue=X(4674),fe=X(1441);let Ye=(()=>{class We{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Mt=new We;return Mt.source=this,Mt.operator=Ae,Mt}subscribe(Ae,Mt,gt){const Ft=function me(We){return We&&We instanceof _.Lv||function ve(We){return We&&(0,ue.m)(We.next)&&(0,ue.m)(We.error)&&(0,ue.m)(We.complete)}(We)&&(0,ge.Nn)(We)}(Ae)?Ae:new _.Hp(Ae,Mt,gt);return(0,fe.x)(()=>{const{operator:cn,source:tr}=this;Ft.add(cn?cn.call(Ft,tr):tr?this._subscribe(Ft):this._trySubscribe(Ft))}),Ft}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Mt){Ae.error(Mt)}}forEach(Ae,Mt){return new(Mt=Je(Mt))((gt,Ft)=>{const cn=new _.Hp({next:tr=>{try{Ae(tr)}catch(Jt){Ft(Jt),cn.unsubscribe()}},error:Ft,complete:gt});this.subscribe(cn)})}_subscribe(Ae){var Mt;return null===(Mt=this.source)||void 0===Mt?void 0:Mt.subscribe(Ae)}[Z.L](){return this}pipe(...Ae){return(0,Oe.U)(Ae)(this)}toPromise(Ae){return new(Ae=Je(Ae))((Mt,gt)=>{let Ft;this.subscribe(cn=>Ft=cn,cn=>gt(cn),()=>Mt(Ft))})}}return We.create=nt=>new We(nt),We})();function Je(We){var nt;return null!==(nt=We??Se.config.Promise)&&void 0!==nt?nt:Promise}},8645:(bn,dt,X)=>{X.d(dt,{x:()=>fe});var _=X(5592),ge=X(7394);const Oe=(0,X(2306).d)(Je=>function(){Je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=X(9039),ue=X(1441);let fe=(()=>{class Je extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const We=new Ye(this,this);return We.operator=me,We}_throwIfClosed(){if(this.closed)throw new Oe}next(me){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const We of this.currentObservers)We.next(me)}})}error(me){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:We}=this;for(;We.length;)We.shift().error(me)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:We,isStopped:nt,observers:Ae}=this;return We||nt?ge.Lc:(this.currentObservers=null,Ae.push(me),new ge.w0(()=>{this.currentObservers=null,(0,Se.P)(Ae,me)}))}_checkFinalizedStatuses(me){const{hasError:We,thrownError:nt,isStopped:Ae}=this;We?me.error(nt):Ae&&me.complete()}asObservable(){const me=new _.y;return me.source=this,me}}return Je.create=(ve,me)=>new Ye(ve,me),Je})();class Ye extends fe{constructor(ve,me){super(),this.destination=ve,this.source=me}next(ve){var me,We;null===(We=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===We||We.call(me,ve)}error(ve){var me,We;null===(We=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===We||We.call(me,ve)}complete(){var ve,me;null===(me=null===(ve=this.destination)||void 0===ve?void 0:ve.complete)||void 0===me||me.call(ve)}_subscribe(ve){var me,We;return null!==(We=null===(me=this.source)||void 0===me?void 0:me.subscribe(ve))&&void 0!==We?We:ge.Lc}}},305:(bn,dt,X)=>{X.d(dt,{Hp:()=>gt,Lv:()=>We});var _=X(4674),ge=X(7394),Z=X(2653),Oe=X(3894),Se=X(2420);const ue=Je("C",void 0,void 0);function Je(De,rt,et){return{kind:De,value:rt,error:et}}var ve=X(7599),me=X(1441);class We extends ge.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,ge.Nn)(rt)&&rt.add(this)):this.destination=Jt}static create(rt,et,pt){return new gt(rt,et,pt)}next(rt){this.isStopped?tr(function Ye(De){return Je("N",De,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?tr(function fe(De){return Je("E",void 0,De)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?tr(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function Ae(De,rt){return nt.call(De,rt)}class Mt{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:et}=this;if(et.next)try{et.next(rt)}catch(pt){Ft(pt)}}error(rt){const{partialObserver:et}=this;if(et.error)try{et.error(rt)}catch(pt){Ft(pt)}else Ft(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(et){Ft(et)}}}class gt extends We{constructor(rt,et,pt){let bt;if(super(),(0,_.m)(rt)||!rt)bt={next:rt??void 0,error:et??void 0,complete:pt??void 0};else{let ct;this&&Z.config.useDeprecatedNextContext?(ct=Object.create(rt),ct.unsubscribe=()=>this.unsubscribe(),bt={next:rt.next&&Ae(rt.next,ct),error:rt.error&&Ae(rt.error,ct),complete:rt.complete&&Ae(rt.complete,ct)}):bt=rt}this.destination=new Mt(bt)}}function Ft(De){Z.config.useDeprecatedSynchronousErrorHandling?(0,me.O)(De):(0,Oe.h)(De)}function tr(De,rt){const{onStoppedNotification:et}=Z.config;et&&ve.z.setTimeout(()=>et(De,rt))}const Jt={closed:!0,next:Se.Z,error:function cn(De){throw De},complete:Se.Z}},7394:(bn,dt,X)=>{X.d(dt,{Lc:()=>ue,w0:()=>Se,Nn:()=>fe});var _=X(4674);const Z=(0,X(2306).d)(Je=>function(me){Je(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((We,nt)=>`${nt+1}) ${We.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var Oe=X(9039);class Se{constructor(ve){this.initialTeardown=ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ve;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const Ae of me)Ae.remove(this);else me.remove(this);const{initialTeardown:We}=this;if((0,_.m)(We))try{We()}catch(Ae){ve=Ae instanceof Z?Ae.errors:[Ae]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const Ae of nt)try{Ye(Ae)}catch(Mt){ve=ve??[],Mt instanceof Z?ve=[...ve,...Mt.errors]:ve.push(Mt)}}if(ve)throw new Z(ve)}}add(ve){var me;if(ve&&ve!==this)if(this.closed)Ye(ve);else{if(ve instanceof Se){if(ve.closed||ve._hasParent(this))return;ve._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(ve)}}_hasParent(ve){const{_parentage:me}=this;return me===ve||Array.isArray(me)&&me.includes(ve)}_addParent(ve){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(ve),me):me?[me,ve]:ve}_removeParent(ve){const{_parentage:me}=this;me===ve?this._parentage=null:Array.isArray(me)&&(0,Oe.P)(me,ve)}remove(ve){const{_finalizers:me}=this;me&&(0,Oe.P)(me,ve),ve instanceof Se&&ve._removeParent(this)}}Se.EMPTY=(()=>{const Je=new Se;return Je.closed=!0,Je})();const ue=Se.EMPTY;function fe(Je){return Je instanceof Se||Je&&"closed"in Je&&(0,_.m)(Je.remove)&&(0,_.m)(Je.add)&&(0,_.m)(Je.unsubscribe)}function Ye(Je){(0,_.m)(Je)?Je():Je.unsubscribe()}},2653:(bn,dt,X)=>{X.d(dt,{config:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(bn,dt,X)=>{X.d(dt,{E:()=>ge});const ge=new(X(5592).y)(Se=>Se.complete())},2459:(bn,dt,X)=>{X.d(dt,{D:()=>rt});var _=X(4829),ge=X(3093),Z=X(5137),ue=X(5592),Ye=X(4971),Je=X(4674),ve=X(7103);function We(et,pt){if(!et)throw new Error("Iterable cannot be null");return new ue.y(bt=>{(0,ve.f)(bt,pt,()=>{const ct=et[Symbol.asyncIterator]();(0,ve.f)(bt,pt,()=>{ct.next().then(mt=>{mt.done?bt.complete():bt.next(mt.value)})},0,!0)})})}var nt=X(8382),Ae=X(4026),Mt=X(4266),gt=X(3664),Ft=X(5726),cn=X(9853),tr=X(541);function rt(et,pt){return pt?function De(et,pt){if(null!=et){if((0,nt.c)(et))return function Oe(et,pt){return(0,_.Xf)(et).pipe((0,Z.R)(pt),(0,ge.Q)(pt))}(et,pt);if((0,Mt.z)(et))return function fe(et,pt){return new ue.y(bt=>{let ct=0;return pt.schedule(function(){ct===et.length?bt.complete():(bt.next(et[ct++]),bt.closed||this.schedule())})})}(et,pt);if((0,Ae.t)(et))return function Se(et,pt){return(0,_.Xf)(et).pipe((0,Z.R)(pt),(0,ge.Q)(pt))}(et,pt);if((0,Ft.D)(et))return We(et,pt);if((0,gt.T)(et))return function me(et,pt){return new ue.y(bt=>{let ct;return(0,ve.f)(bt,pt,()=>{ct=et[Ye.h](),(0,ve.f)(bt,pt,()=>{let mt,Bn;try{({value:mt,done:Bn}=ct.next())}catch(hr){return void bt.error(hr)}Bn?bt.complete():bt.next(mt)},0,!0)}),()=>(0,Je.m)(ct?.return)&&ct.return()})}(et,pt);if((0,tr.L)(et))return function Jt(et,pt){return We((0,tr.Q)(et),pt)}(et,pt)}throw(0,cn.z)(et)}(et,pt):(0,_.Xf)(et)}},4829:(bn,dt,X)=>{X.d(dt,{Xf:()=>nt});var _=X(7582),ge=X(4266),Z=X(4026),Oe=X(5592),Se=X(8382),ue=X(5726),fe=X(9853),Ye=X(3664),Je=X(541),ve=X(4674),me=X(3894),We=X(4850);function nt(De){if(De instanceof Oe.y)return De;if(null!=De){if((0,Se.c)(De))return function Ae(De){return new Oe.y(rt=>{const et=De[We.L]();if((0,ve.m)(et.subscribe))return et.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,ge.z)(De))return function Mt(De){return new Oe.y(rt=>{for(let et=0;et<De.length&&!rt.closed;et++)rt.next(De[et]);rt.complete()})}(De);if((0,Z.t)(De))return function gt(De){return new Oe.y(rt=>{De.then(et=>{rt.closed||(rt.next(et),rt.complete())},et=>rt.error(et)).then(null,me.h)})}(De);if((0,ue.D)(De))return cn(De);if((0,Ye.T)(De))return function Ft(De){return new Oe.y(rt=>{for(const et of De)if(rt.next(et),rt.closed)return;rt.complete()})}(De);if((0,Je.L)(De))return function tr(De){return cn((0,Je.Q)(De))}(De)}throw(0,fe.z)(De)}function cn(De){return new Oe.y(rt=>{(function Jt(De,rt){var et,pt,bt,ct;return(0,_.mG)(this,void 0,void 0,function*(){try{for(et=(0,_.KL)(De);!(pt=yield et.next()).done;)if(rt.next(pt.value),rt.closed)return}catch(mt){bt={error:mt}}finally{try{pt&&!pt.done&&(ct=et.return)&&(yield ct.call(et))}finally{if(bt)throw bt.error}}rt.complete()})})(De,rt).catch(et=>rt.error(et))})}},2096:(bn,dt,X)=>{X.d(dt,{of:()=>Z});var _=X(4564),ge=X(2459);function Z(...Oe){const Se=(0,_.yG)(Oe);return(0,ge.D)(Oe,Se)}},8251:(bn,dt,X)=>{X.d(dt,{x:()=>ge});var _=X(305);function ge(Oe,Se,ue,fe,Ye){return new Z(Oe,Se,ue,fe,Ye)}class Z extends _.Lv{constructor(Se,ue,fe,Ye,Je,ve){super(Se),this.onFinalize=Je,this.shouldUnsubscribe=ve,this._next=ue?function(me){try{ue(me)}catch(We){Se.error(We)}}:super._next,this._error=Ye?function(me){try{Ye(me)}catch(We){Se.error(We)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(me){Se.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},7398:(bn,dt,X)=>{X.d(dt,{U:()=>Z});var _=X(9360),ge=X(8251);function Z(Oe,Se){return(0,_.e)((ue,fe)=>{let Ye=0;ue.subscribe((0,ge.x)(fe,Je=>{fe.next(Oe.call(Se,Je,Ye++))}))})}},7537:(bn,dt,X)=>{X.d(dt,{J:()=>Z});var _=X(1631),ge=X(2737);function Z(Oe=1/0){return(0,_.z)(ge.y,Oe)}},1631:(bn,dt,X)=>{X.d(dt,{z:()=>Ye});var _=X(7398),ge=X(4829),Z=X(9360),Oe=X(7103),Se=X(8251),fe=X(4674);function Ye(Je,ve,me=1/0){return(0,fe.m)(ve)?Ye((We,nt)=>(0,_.U)((Ae,Mt)=>ve(We,Ae,nt,Mt))((0,ge.Xf)(Je(We,nt))),me):("number"==typeof ve&&(me=ve),(0,Z.e)((We,nt)=>function ue(Je,ve,me,We,nt,Ae,Mt,gt){const Ft=[];let cn=0,tr=0,Jt=!1;const De=()=>{Jt&&!Ft.length&&!cn&&ve.complete()},rt=pt=>cn<We?et(pt):Ft.push(pt),et=pt=>{Ae&&ve.next(pt),cn++;let bt=!1;(0,ge.Xf)(me(pt,tr++)).subscribe((0,Se.x)(ve,ct=>{nt?.(ct),Ae?rt(ct):ve.next(ct)},()=>{bt=!0},void 0,()=>{if(bt)try{for(cn--;Ft.length&&cn<We;){const ct=Ft.shift();Mt?(0,Oe.f)(ve,Mt,()=>et(ct)):et(ct)}De()}catch(ct){ve.error(ct)}}))};return Je.subscribe((0,Se.x)(ve,rt,()=>{Jt=!0,De()})),()=>{gt?.()}}(We,nt,Je,me)))}},3093:(bn,dt,X)=>{X.d(dt,{Q:()=>Oe});var _=X(7103),ge=X(9360),Z=X(8251);function Oe(Se,ue=0){return(0,ge.e)((fe,Ye)=>{fe.subscribe((0,Z.x)(Ye,Je=>(0,_.f)(Ye,Se,()=>Ye.next(Je),ue),()=>(0,_.f)(Ye,Se,()=>Ye.complete(),ue),Je=>(0,_.f)(Ye,Se,()=>Ye.error(Je),ue)))})}},5137:(bn,dt,X)=>{X.d(dt,{R:()=>ge});var _=X(9360);function ge(Z,Oe=0){return(0,_.e)((Se,ue)=>{ue.add(Z.schedule(()=>Se.subscribe(ue),Oe))})}},4664:(bn,dt,X)=>{X.d(dt,{w:()=>Oe});var _=X(4829),ge=X(9360),Z=X(8251);function Oe(Se,ue){return(0,ge.e)((fe,Ye)=>{let Je=null,ve=0,me=!1;const We=()=>me&&!Je&&Ye.complete();fe.subscribe((0,Z.x)(Ye,nt=>{Je?.unsubscribe();let Ae=0;const Mt=ve++;(0,_.Xf)(Se(nt,Mt)).subscribe(Je=(0,Z.x)(Ye,gt=>Ye.next(ue?ue(nt,gt,Mt,Ae++):gt),()=>{Je=null,We()}))},()=>{me=!0,We()}))})}},9397:(bn,dt,X)=>{X.d(dt,{b:()=>Se});var _=X(4674),ge=X(9360),Z=X(8251),Oe=X(2737);function Se(ue,fe,Ye){const Je=(0,_.m)(ue)||fe||Ye?{next:ue,error:fe,complete:Ye}:ue;return Je?(0,ge.e)((ve,me)=>{var We;null===(We=Je.subscribe)||void 0===We||We.call(Je);let nt=!0;ve.subscribe((0,Z.x)(me,Ae=>{var Mt;null===(Mt=Je.next)||void 0===Mt||Mt.call(Je,Ae),me.next(Ae)},()=>{var Ae;nt=!1,null===(Ae=Je.complete)||void 0===Ae||Ae.call(Je),me.complete()},Ae=>{var Mt;nt=!1,null===(Mt=Je.error)||void 0===Mt||Mt.call(Je,Ae),me.error(Ae)},()=>{var Ae,Mt;nt&&(null===(Ae=Je.unsubscribe)||void 0===Ae||Ae.call(Je)),null===(Mt=Je.finalize)||void 0===Mt||Mt.call(Je)}))}):Oe.y}},7599:(bn,dt,X)=>{X.d(dt,{z:()=>_});const _={setTimeout(ge,Z,...Oe){const{delegate:Se}=_;return Se?.setTimeout?Se.setTimeout(ge,Z,...Oe):setTimeout(ge,Z,...Oe)},clearTimeout(ge){const{delegate:Z}=_;return(Z?.clearTimeout||clearTimeout)(ge)},delegate:void 0}},4971:(bn,dt,X)=>{X.d(dt,{h:()=>ge});const ge=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(bn,dt,X)=>{X.d(dt,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(bn,dt,X)=>{X.d(dt,{_6:()=>ue,jO:()=>Oe,yG:()=>Se});var _=X(4674);function Z(fe){return fe[fe.length-1]}function Oe(fe){return(0,_.m)(Z(fe))?fe.pop():void 0}function Se(fe){return function ge(fe){return fe&&(0,_.m)(fe.schedule)}(Z(fe))?fe.pop():void 0}function ue(fe,Ye){return"number"==typeof Z(fe)?fe.pop():Ye}},7453:(bn,dt,X)=>{X.d(dt,{D:()=>Se});const{isArray:_}=Array,{getPrototypeOf:ge,prototype:Z,keys:Oe}=Object;function Se(fe){if(1===fe.length){const Ye=fe[0];if(_(Ye))return{args:Ye,keys:null};if(function ue(fe){return fe&&"object"==typeof fe&&ge(fe)===Z}(Ye)){const Je=Oe(Ye);return{args:Je.map(ve=>Ye[ve]),keys:Je}}}return{args:fe,keys:null}}},9039:(bn,dt,X)=>{function _(ge,Z){if(ge){const Oe=ge.indexOf(Z);0<=Oe&&ge.splice(Oe,1)}}X.d(dt,{P:()=>_})},2306:(bn,dt,X)=>{function _(ge){const Oe=ge(Se=>{Error.call(Se),Se.stack=(new Error).stack});return Oe.prototype=Object.create(Error.prototype),Oe.prototype.constructor=Oe,Oe}X.d(dt,{d:()=>_})},2714:(bn,dt,X)=>{function _(ge,Z){return ge.reduce((Oe,Se,ue)=>(Oe[Se]=Z[ue],Oe),{})}X.d(dt,{n:()=>_})},1441:(bn,dt,X)=>{X.d(dt,{O:()=>Oe,x:()=>Z});var _=X(2653);let ge=null;function Z(Se){if(_.config.useDeprecatedSynchronousErrorHandling){const ue=!ge;if(ue&&(ge={errorThrown:!1,error:null}),Se(),ue){const{errorThrown:fe,error:Ye}=ge;if(ge=null,fe)throw Ye}}else Se()}function Oe(Se){_.config.useDeprecatedSynchronousErrorHandling&&ge&&(ge.errorThrown=!0,ge.error=Se)}},7103:(bn,dt,X)=>{function _(ge,Z,Oe,Se=0,ue=!1){const fe=Z.schedule(function(){Oe(),ue?ge.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(ge.add(fe),!ue)return fe}X.d(dt,{f:()=>_})},2737:(bn,dt,X)=>{function _(ge){return ge}X.d(dt,{y:()=>_})},4266:(bn,dt,X)=>{X.d(dt,{z:()=>_});const _=ge=>ge&&"number"==typeof ge.length&&"function"!=typeof ge},5726:(bn,dt,X)=>{X.d(dt,{D:()=>ge});var _=X(4674);function ge(Z){return Symbol.asyncIterator&&(0,_.m)(Z?.[Symbol.asyncIterator])}},4674:(bn,dt,X)=>{function _(ge){return"function"==typeof ge}X.d(dt,{m:()=>_})},8382:(bn,dt,X)=>{X.d(dt,{c:()=>Z});var _=X(4850),ge=X(4674);function Z(Oe){return(0,ge.m)(Oe[_.L])}},3664:(bn,dt,X)=>{X.d(dt,{T:()=>Z});var _=X(4971),ge=X(4674);function Z(Oe){return(0,ge.m)(Oe?.[_.h])}},4026:(bn,dt,X)=>{X.d(dt,{t:()=>ge});var _=X(4674);function ge(Z){return(0,_.m)(Z?.then)}},541:(bn,dt,X)=>{X.d(dt,{L:()=>Oe,Q:()=>Z});var _=X(7582),ge=X(4674);function Z(Se){return(0,_.FC)(this,arguments,function*(){const fe=Se.getReader();try{for(;;){const{value:Ye,done:Je}=yield(0,_.qq)(fe.read());if(Je)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(Ye)}}finally{fe.releaseLock()}})}function Oe(Se){return(0,ge.m)(Se?.getReader)}},9360:(bn,dt,X)=>{X.d(dt,{A:()=>ge,e:()=>Z});var _=X(4674);function ge(Oe){return(0,_.m)(Oe?.lift)}function Z(Oe){return Se=>{if(ge(Se))return Se.lift(function(ue){try{return Oe(ue,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(bn,dt,X)=>{X.d(dt,{Z:()=>Oe});var _=X(7398);const{isArray:ge}=Array;function Oe(Se){return(0,_.U)(ue=>function Z(Se,ue){return ge(ue)?Se(...ue):Se(ue)}(Se,ue))}},2420:(bn,dt,X)=>{function _(){}X.d(dt,{Z:()=>_})},8407:(bn,dt,X)=>{X.d(dt,{U:()=>Z,z:()=>ge});var _=X(2737);function ge(...Oe){return Z(Oe)}function Z(Oe){return 0===Oe.length?_.y:1===Oe.length?Oe[0]:function(ue){return Oe.reduce((fe,Ye)=>Ye(fe),ue)}}},3894:(bn,dt,X)=>{X.d(dt,{h:()=>Z});var _=X(2653),ge=X(7599);function Z(Oe){ge.z.setTimeout(()=>{const{onUnhandledError:Se}=_.config;if(!Se)throw Oe;Se(Oe)})}},9853:(bn,dt,X)=>{function _(ge){return new TypeError(`You provided ${null!==ge&&"object"==typeof ge?"an invalid object":`'${ge}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}X.d(dt,{z:()=>_})},6825:(bn,dt,X)=>{X.d(dt,{LC:()=>ge,SB:()=>Je,X$:()=>Oe,ZE:()=>cn,ZN:()=>Ft,_j:()=>_,eR:()=>me,jt:()=>Se,k1:()=>tr,l3:()=>Z,oB:()=>Ye,vP:()=>fe});class _{}class ge{}const Z="*";function Oe(Jt,De){return{type:7,name:Jt,definitions:De,options:{}}}function Se(Jt,De=null){return{type:4,styles:De,timings:Jt}}function fe(Jt,De=null){return{type:2,steps:Jt,options:De}}function Ye(Jt){return{type:6,styles:Jt,offset:null}}function Je(Jt,De,rt){return{type:0,name:Jt,styles:De,options:rt}}function me(Jt,De,rt=null){return{type:1,expr:Jt,animation:De,options:rt}}class Ft{constructor(De=0,rt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+rt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._originalOnStartFns.push(De),this._onStartFns.push(De)}onDone(De){this._originalOnDoneFns.push(De),this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const rt="start"==De?this._onStartFns:this._onDoneFns;rt.forEach(et=>et()),rt.length=0}}class cn{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let rt=0,et=0,pt=0;const bt=this.players.length;0==bt?queueMicrotask(()=>this._onFinish()):this.players.forEach(ct=>{ct.onDone(()=>{++rt==bt&&this._onFinish()}),ct.onDestroy(()=>{++et==bt&&this._onDestroy()}),ct.onStart(()=>{++pt==bt&&this._onStart()})}),this.totalTime=this.players.reduce((ct,mt)=>Math.max(ct,mt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const rt=De*this.totalTime;this.players.forEach(et=>{const pt=et.totalTime?Math.min(1,rt/et.totalTime):1;et.setPosition(pt)})}getPosition(){const De=this.players.reduce((rt,et)=>null===rt||et.totalTime>rt.totalTime?et:rt,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const rt="start"==De?this._onStartFns:this._onDoneFns;rt.forEach(et=>et()),rt.length=0}}const tr="!"},6814:(bn,dt,X)=>{X.d(dt,{Do:()=>gt,EM:()=>Zi,HT:()=>Oe,JF:()=>fi,K0:()=>ue,Mx:()=>qi,O5:()=>Wi,PM:()=>xn,S$:()=>nt,V_:()=>Ye,Ye:()=>Ft,b0:()=>Mt,bD:()=>Bs,ez:()=>Os,gd:()=>vo,mk:()=>Oi,q:()=>Z,sg:()=>Ji,uU:()=>Ki,w_:()=>Se});var _=X(4946);let ge=null;function Z(){return ge}function Oe(I){ge||(ge=I)}class Se{}const ue=new _.OlP("DocumentToken");let fe=(()=>{class I{historyGo(R){throw new Error("Not implemented")}static#e=this.\u0275fac=function(B){return new(B||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:function(){return(0,_.f3M)(Je)},providedIn:"platform"})}return I})();const Ye=new _.OlP("Location Initialized");let Je=(()=>{class I extends fe{constructor(){super(),this._doc=(0,_.f3M)(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(R){const B=Z().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",R,!1),()=>B.removeEventListener("popstate",R)}onHashChange(R){const B=Z().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",R,!1),()=>B.removeEventListener("hashchange",R)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(R){this._location.pathname=R}pushState(R,B,ce){this._history.pushState(R,B,ce)}replaceState(R,B,ce){this._history.replaceState(R,B,ce)}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}static#e=this.\u0275fac=function(B){return new(B||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:function(){return new I},providedIn:"platform"})}return I})();function ve(I,H){if(0==I.length)return H;if(0==H.length)return I;let R=0;return I.endsWith("/")&&R++,H.startsWith("/")&&R++,2==R?I+H.substring(1):1==R?I+H:I+"/"+H}function me(I){const H=I.match(/#|\?|$/),R=H&&H.index||I.length;return I.slice(0,R-("/"===I[R-1]?1:0))+I.slice(R)}function We(I){return I&&"?"!==I[0]?"?"+I:I}let nt=(()=>{class I{historyGo(R){throw new Error("Not implemented")}static#e=this.\u0275fac=function(B){return new(B||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:function(){return(0,_.f3M)(Mt)},providedIn:"root"})}return I})();const Ae=new _.OlP("appBaseHref");let Mt=(()=>{class I extends nt{constructor(R,B){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return ve(this._baseHref,R)}path(R=!1){const B=this._platformLocation.pathname+We(this._platformLocation.search),ce=this._platformLocation.hash;return ce&&R?`${B}${ce}`:B}pushState(R,B,ce,Be){const st=this.prepareExternalUrl(ce+We(Be));this._platformLocation.pushState(R,B,st)}replaceState(R,B,ce,Be){const st=this.prepareExternalUrl(ce+We(Be));this._platformLocation.replaceState(R,B,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static#e=this.\u0275fac=function(B){return new(B||I)(_.LFG(fe),_.LFG(Ae,8))};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),gt=(()=>{class I extends nt{constructor(R,B){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(R){const B=ve(this._baseHref,R);return B.length>0?"#"+B:B}pushState(R,B,ce,Be){let st=this.prepareExternalUrl(ce+We(Be));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.pushState(R,B,st)}replaceState(R,B,ce,Be){let st=this.prepareExternalUrl(ce+We(Be));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.replaceState(R,B,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static#e=this.\u0275fac=function(B){return new(B||I)(_.LFG(fe),_.LFG(Ae,8))};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac})}return I})(),Ft=(()=>{class I{constructor(R){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const B=this._locationStrategy.getBaseHref();this._basePath=function De(I){if(new RegExp("^(https?:)?//").test(I)){const[,R]=I.split(/\/\/[^\/]+/);return R}return I}(me(Jt(B))),this._locationStrategy.onPopState(ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:ce.state,type:ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,B=""){return this.path()==this.normalize(R+We(B))}normalize(R){return I.stripTrailingSlash(function tr(I,H){if(!I||!H.startsWith(I))return H;const R=H.substring(I.length);return""===R||["/",";","?","#"].includes(R[0])?R:H}(this._basePath,Jt(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,B="",ce=null){this._locationStrategy.pushState(ce,"",R,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+We(B)),ce)}replaceState(R,B="",ce=null){this._locationStrategy.replaceState(ce,"",R,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+We(B)),ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)})),()=>{const B=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",B){this._urlChangeListeners.forEach(ce=>ce(R,B))}subscribe(R,B,ce){return this._subject.subscribe({next:R,error:B,complete:ce})}static#e=this.normalizeQueryParams=We;static#t=this.joinWithSlash=ve;static#n=this.stripTrailingSlash=me;static#r=this.\u0275fac=function(B){return new(B||I)(_.LFG(nt))};static#i=this.\u0275prov=_.Yz7({token:I,factory:function(){return function cn(){return new Ft((0,_.LFG)(nt))}()},providedIn:"root"})}return I})();function Jt(I){return I.replace(/\/index.html$/,"")}var bt=function(I){return I[I.Format=0]="Format",I[I.Standalone=1]="Standalone",I}(bt||{}),ct=function(I){return I[I.Narrow=0]="Narrow",I[I.Abbreviated=1]="Abbreviated",I[I.Wide=2]="Wide",I[I.Short=3]="Short",I}(ct||{}),mt=function(I){return I[I.Short=0]="Short",I[I.Medium=1]="Medium",I[I.Long=2]="Long",I[I.Full=3]="Full",I}(mt||{}),Bn=function(I){return I[I.Decimal=0]="Decimal",I[I.Group=1]="Group",I[I.List=2]="List",I[I.PercentSign=3]="PercentSign",I[I.PlusSign=4]="PlusSign",I[I.MinusSign=5]="MinusSign",I[I.Exponential=6]="Exponential",I[I.SuperscriptingExponent=7]="SuperscriptingExponent",I[I.PerMille=8]="PerMille",I[I.Infinity=9]="Infinity",I[I.NaN=10]="NaN",I[I.TimeSeparator=11]="TimeSeparator",I[I.CurrencyDecimal=12]="CurrencyDecimal",I[I.CurrencyGroup=13]="CurrencyGroup",I}(Bn||{});function Ge(I,H){return rr((0,_.cg1)(I)[_.wAp.DateFormat],H)}function Ze(I,H){return rr((0,_.cg1)(I)[_.wAp.TimeFormat],H)}function Ue(I,H){return rr((0,_.cg1)(I)[_.wAp.DateTimeFormat],H)}function ot(I,H){const R=(0,_.cg1)(I),B=R[_.wAp.NumberSymbols][H];if(typeof B>"u"){if(H===Bn.CurrencyDecimal)return R[_.wAp.NumberSymbols][Bn.Decimal];if(H===Bn.CurrencyGroup)return R[_.wAp.NumberSymbols][Bn.Group]}return B}function pr(I){if(!I[_.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${I[_.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rr(I,H){for(let R=H;R>-1;R--)if(typeof I[R]<"u")return I[R];throw new Error("Locale data API: locale data undefined")}function zr(I){const[H,R]=I.split(":");return{hours:+H,minutes:+R}}const sn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gi={},qn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xr=function(I){return I[I.Short=0]="Short",I[I.ShortGMT=1]="ShortGMT",I[I.Long=2]="Long",I[I.Extended=3]="Extended",I}(xr||{}),Rn=function(I){return I[I.FullYear=0]="FullYear",I[I.Month=1]="Month",I[I.Date=2]="Date",I[I.Hours=3]="Hours",I[I.Minutes=4]="Minutes",I[I.Seconds=5]="Seconds",I[I.FractionalSeconds=6]="FractionalSeconds",I[I.Day=7]="Day",I}(Rn||{}),Tn=function(I){return I[I.DayPeriods=0]="DayPeriods",I[I.Days=1]="Days",I[I.Months=2]="Months",I[I.Eras=3]="Eras",I}(Tn||{});function gr(I,H,R,B){let ce=function J(I){if(te(I))return I;if("number"==typeof I&&!isNaN(I))return new Date(I);if("string"==typeof I){if(I=I.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(I)){const[ce,Be=1,st=1]=I.split("-").map($t=>+$t);return Gr(ce,Be-1,st)}const R=parseFloat(I);if(!isNaN(I-R))return new Date(R);let B;if(B=I.match(sn))return function ee(I){const H=new Date(0);let R=0,B=0;const ce=I[8]?H.setUTCFullYear:H.setFullYear,Be=I[8]?H.setUTCHours:H.setHours;I[9]&&(R=Number(I[9]+I[10]),B=Number(I[9]+I[11])),ce.call(H,Number(I[1]),Number(I[2])-1,Number(I[3]));const st=Number(I[4]||0)-R,$t=Number(I[5]||0)-B,Lr=Number(I[6]||0),Mr=Math.floor(1e3*parseFloat("0."+(I[7]||0)));return Be.call(H,st,$t,Lr,Mr),H}(B)}const H=new Date(I);if(!te(H))throw new Error(`Unable to convert "${I}" into a date`);return H}(I);H=ci(R,H)||H;let $t,st=[];for(;H;){if($t=qn.exec(H),!$t){st.push(H);break}{st=st.concat($t.slice(1));const $n=st.pop();if(!$n)break;H=$n}}let Lr=ce.getTimezoneOffset();B&&(Lr=on(B,Lr),ce=function _e(I,H,R){const B=R?-1:1,ce=I.getTimezoneOffset();return function wr(I,H){return(I=new Date(I.getTime())).setMinutes(I.getMinutes()+H),I}(I,B*(on(H,ce)-ce))}(ce,B,!0));let Mr="";return st.forEach($n=>{const kn=function ar(I){if(Zt[I])return Zt[I];let H;switch(I){case"G":case"GG":case"GGG":H=Ot(Tn.Eras,ct.Abbreviated);break;case"GGGG":H=Ot(Tn.Eras,ct.Wide);break;case"GGGGG":H=Ot(Tn.Eras,ct.Narrow);break;case"y":H=or(Rn.FullYear,1,0,!1,!0);break;case"yy":H=or(Rn.FullYear,2,0,!0,!0);break;case"yyy":H=or(Rn.FullYear,3,0,!1,!0);break;case"yyyy":H=or(Rn.FullYear,4,0,!1,!0);break;case"Y":H=Vi(1);break;case"YY":H=Vi(2,!0);break;case"YYY":H=Vi(3);break;case"YYYY":H=Vi(4);break;case"M":case"L":H=or(Rn.Month,1,1);break;case"MM":case"LL":H=or(Rn.Month,2,1);break;case"MMM":H=Ot(Tn.Months,ct.Abbreviated);break;case"MMMM":H=Ot(Tn.Months,ct.Wide);break;case"MMMMM":H=Ot(Tn.Months,ct.Narrow);break;case"LLL":H=Ot(Tn.Months,ct.Abbreviated,bt.Standalone);break;case"LLLL":H=Ot(Tn.Months,ct.Wide,bt.Standalone);break;case"LLLLL":H=Ot(Tn.Months,ct.Narrow,bt.Standalone);break;case"w":H=mi(1);break;case"ww":H=mi(2);break;case"W":H=mi(1,!0);break;case"d":H=or(Rn.Date,1);break;case"dd":H=or(Rn.Date,2);break;case"c":case"cc":H=or(Rn.Day,1);break;case"ccc":H=Ot(Tn.Days,ct.Abbreviated,bt.Standalone);break;case"cccc":H=Ot(Tn.Days,ct.Wide,bt.Standalone);break;case"ccccc":H=Ot(Tn.Days,ct.Narrow,bt.Standalone);break;case"cccccc":H=Ot(Tn.Days,ct.Short,bt.Standalone);break;case"E":case"EE":case"EEE":H=Ot(Tn.Days,ct.Abbreviated);break;case"EEEE":H=Ot(Tn.Days,ct.Wide);break;case"EEEEE":H=Ot(Tn.Days,ct.Narrow);break;case"EEEEEE":H=Ot(Tn.Days,ct.Short);break;case"a":case"aa":case"aaa":H=Ot(Tn.DayPeriods,ct.Abbreviated);break;case"aaaa":H=Ot(Tn.DayPeriods,ct.Wide);break;case"aaaaa":H=Ot(Tn.DayPeriods,ct.Narrow);break;case"b":case"bb":case"bbb":H=Ot(Tn.DayPeriods,ct.Abbreviated,bt.Standalone,!0);break;case"bbbb":H=Ot(Tn.DayPeriods,ct.Wide,bt.Standalone,!0);break;case"bbbbb":H=Ot(Tn.DayPeriods,ct.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":H=Ot(Tn.DayPeriods,ct.Abbreviated,bt.Format,!0);break;case"BBBB":H=Ot(Tn.DayPeriods,ct.Wide,bt.Format,!0);break;case"BBBBB":H=Ot(Tn.DayPeriods,ct.Narrow,bt.Format,!0);break;case"h":H=or(Rn.Hours,1,-12);break;case"hh":H=or(Rn.Hours,2,-12);break;case"H":H=or(Rn.Hours,1);break;case"HH":H=or(Rn.Hours,2);break;case"m":H=or(Rn.Minutes,1);break;case"mm":H=or(Rn.Minutes,2);break;case"s":H=or(Rn.Seconds,1);break;case"ss":H=or(Rn.Seconds,2);break;case"S":H=or(Rn.FractionalSeconds,1);break;case"SS":H=or(Rn.FractionalSeconds,2);break;case"SSS":H=or(Rn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":H=Ci(xr.Short);break;case"ZZZZZ":H=Ci(xr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":H=Ci(xr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":H=Ci(xr.Long);break;default:return null}return Zt[I]=H,H}($n);Mr+=kn?kn(ce,R,Lr):"''"===$n?"'":$n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Mr}function Gr(I,H,R){const B=new Date(0);return B.setFullYear(I,H,R),B.setHours(0,0,0),B}function ci(I,H){const R=function Sn(I){return(0,_.cg1)(I)[_.wAp.LocaleId]}(I);if(gi[R]=gi[R]||{},gi[R][H])return gi[R][H];let B="";switch(H){case"shortDate":B=Ge(I,mt.Short);break;case"mediumDate":B=Ge(I,mt.Medium);break;case"longDate":B=Ge(I,mt.Long);break;case"fullDate":B=Ge(I,mt.Full);break;case"shortTime":B=Ze(I,mt.Short);break;case"mediumTime":B=Ze(I,mt.Medium);break;case"longTime":B=Ze(I,mt.Long);break;case"fullTime":B=Ze(I,mt.Full);break;case"short":const ce=ci(I,"shortTime"),Be=ci(I,"shortDate");B=Vn(Ue(I,mt.Short),[ce,Be]);break;case"medium":const st=ci(I,"mediumTime"),$t=ci(I,"mediumDate");B=Vn(Ue(I,mt.Medium),[st,$t]);break;case"long":const Lr=ci(I,"longTime"),Mr=ci(I,"longDate");B=Vn(Ue(I,mt.Long),[Lr,Mr]);break;case"full":const $n=ci(I,"fullTime"),kn=ci(I,"fullDate");B=Vn(Ue(I,mt.Full),[$n,kn])}return B&&(gi[R][H]=B),B}function Vn(I,H){return H&&(I=I.replace(/\{([^}]+)}/g,function(R,B){return null!=H&&B in H?H[B]:R})),I}function Sr(I,H,R="-",B,ce){let Be="";(I<0||ce&&I<=0)&&(ce?I=1-I:(I=-I,Be=R));let st=String(I);for(;st.length<H;)st="0"+st;return B&&(st=st.slice(st.length-H)),Be+st}function or(I,H,R=0,B=!1,ce=!1){return function(Be,st){let $t=function Ei(I,H){switch(I){case Rn.FullYear:return H.getFullYear();case Rn.Month:return H.getMonth();case Rn.Date:return H.getDate();case Rn.Hours:return H.getHours();case Rn.Minutes:return H.getMinutes();case Rn.Seconds:return H.getSeconds();case Rn.FractionalSeconds:return H.getMilliseconds();case Rn.Day:return H.getDay();default:throw new Error(`Unknown DateType value "${I}".`)}}(I,Be);if((R>0||$t>-R)&&($t+=R),I===Rn.Hours)0===$t&&-12===R&&($t=12);else if(I===Rn.FractionalSeconds)return function li(I,H){return Sr(I,3).substring(0,H)}($t,H);const Lr=ot(st,Bn.MinusSign);return Sr($t,H,Lr,B,ce)}}function Ot(I,H,R=bt.Format,B=!1){return function(ce,Be){return function xi(I,H,R,B,ce,Be){switch(R){case Tn.Months:return function Wn(I,H,R){const B=(0,_.cg1)(I),Be=rr([B[_.wAp.MonthsFormat],B[_.wAp.MonthsStandalone]],H);return rr(Be,R)}(H,ce,B)[I.getMonth()];case Tn.Days:return function yt(I,H,R){const B=(0,_.cg1)(I),Be=rr([B[_.wAp.DaysFormat],B[_.wAp.DaysStandalone]],H);return rr(Be,R)}(H,ce,B)[I.getDay()];case Tn.DayPeriods:const st=I.getHours(),$t=I.getMinutes();if(Be){const Mr=function Yn(I){const H=(0,_.cg1)(I);return pr(H),(H[_.wAp.ExtraData][2]||[]).map(B=>"string"==typeof B?zr(B):[zr(B[0]),zr(B[1])])}(H),$n=function Qn(I,H,R){const B=(0,_.cg1)(I);pr(B);const Be=rr([B[_.wAp.ExtraData][0],B[_.wAp.ExtraData][1]],H)||[];return rr(Be,R)||[]}(H,ce,B),kn=Mr.findIndex(Tr=>{if(Array.isArray(Tr)){const[sr,ji]=Tr,Yi=st>=sr.hours&&$t>=sr.minutes,ds=st<ji.hours||st===ji.hours&&$t<ji.minutes;if(sr.hours<ji.hours){if(Yi&&ds)return!0}else if(Yi||ds)return!0}else if(Tr.hours===st&&Tr.minutes===$t)return!0;return!1});if(-1!==kn)return $n[kn]}return function It(I,H,R){const B=(0,_.cg1)(I),Be=rr([B[_.wAp.DayPeriodsFormat],B[_.wAp.DayPeriodsStandalone]],H);return rr(Be,R)}(H,ce,B)[st<12?0:1];case Tn.Eras:return function Ct(I,H){return rr((0,_.cg1)(I)[_.wAp.Eras],H)}(H,B)[I.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${R}`)}}(ce,Be,I,H,R,B)}}function Ci(I){return function(H,R,B){const ce=-1*B,Be=ot(R,Bn.MinusSign),st=ce>0?Math.floor(ce/60):Math.ceil(ce/60);switch(I){case xr.Short:return(ce>=0?"+":"")+Sr(st,2,Be)+Sr(Math.abs(ce%60),2,Be);case xr.ShortGMT:return"GMT"+(ce>=0?"+":"")+Sr(st,1,Be);case xr.Long:return"GMT"+(ce>=0?"+":"")+Sr(st,2,Be)+":"+Sr(Math.abs(ce%60),2,Be);case xr.Extended:return 0===B?"Z":(ce>=0?"+":"")+Sr(st,2,Be)+":"+Sr(Math.abs(ce%60),2,Be);default:throw new Error(`Unknown zone width "${I}"`)}}}const qr=0,fr=4;function ln(I){return Gr(I.getFullYear(),I.getMonth(),I.getDate()+(fr-I.getDay()))}function mi(I,H=!1){return function(R,B){let ce;if(H){const Be=new Date(R.getFullYear(),R.getMonth(),1).getDay()-1,st=R.getDate();ce=1+Math.floor((st+Be)/7)}else{const Be=ln(R),st=function Fr(I){const H=Gr(I,qr,1).getDay();return Gr(I,0,1+(H<=fr?fr:fr+7)-H)}(Be.getFullYear()),$t=Be.getTime()-st.getTime();ce=1+Math.round($t/6048e5)}return Sr(ce,I,ot(B,Bn.MinusSign))}}function Vi(I,H=!1){return function(R,B){return Sr(ln(R).getFullYear(),I,ot(B,Bn.MinusSign),H)}}const Zt={};function on(I,H){I=I.replace(/:/g,"");const R=Date.parse("Jan 01, 1970 00:00:00 "+I)/6e4;return isNaN(R)?H:R}function te(I){return I instanceof Date&&!isNaN(I.valueOf())}function qi(I,H){H=encodeURIComponent(H);for(const R of I.split(";")){const B=R.indexOf("="),[ce,Be]=-1==B?[R,""]:[R.slice(0,B),R.slice(B+1)];if(ce.trim()===H)return decodeURIComponent(Be)}return null}const us=/\s+/,oi=[];let Oi=(()=>{class I{constructor(R,B,ce,Be){this._iterableDiffers=R,this._keyValueDiffers=B,this._ngEl=ce,this._renderer=Be,this.initialClasses=oi,this.stateMap=new Map}set klass(R){this.initialClasses=null!=R?R.trim().split(us):oi}set ngClass(R){this.rawClass="string"==typeof R?R.trim().split(us):R}ngDoCheck(){for(const B of this.initialClasses)this._updateState(B,!0);const R=this.rawClass;if(Array.isArray(R)||R instanceof Set)for(const B of R)this._updateState(B,!0);else if(null!=R)for(const B of Object.keys(R))this._updateState(B,!!R[B]);this._applyStateDiff()}_updateState(R,B){const ce=this.stateMap.get(R);void 0!==ce?(ce.enabled!==B&&(ce.changed=!0,ce.enabled=B),ce.touched=!0):this.stateMap.set(R,{enabled:B,changed:!0,touched:!0})}_applyStateDiff(){for(const R of this.stateMap){const B=R[0],ce=R[1];ce.changed?(this._toggleClass(B,ce.enabled),ce.changed=!1):ce.touched||(ce.enabled&&this._toggleClass(B,!1),this.stateMap.delete(B)),ce.touched=!1}}_toggleClass(R,B){(R=R.trim()).length>0&&R.split(us).forEach(ce=>{B?this._renderer.addClass(this._ngEl.nativeElement,ce):this._renderer.removeClass(this._ngEl.nativeElement,ce)})}static#e=this.\u0275fac=function(B){return new(B||I)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))};static#t=this.\u0275dir=_.lG2({type:I,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return I})();class Jn{constructor(H,R,B,ce){this.$implicit=H,this.ngForOf=R,this.index=B,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ji=(()=>{class I{set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}constructor(R,B,ce){this._viewContainer=R,this._template=B,this._differs=ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const B=this._viewContainer;R.forEachOperation((ce,Be,st)=>{if(null==ce.previousIndex)B.createEmbeddedView(this._template,new Jn(ce.item,this._ngForOf,-1,-1),null===st?void 0:st);else if(null==st)B.remove(null===Be?void 0:Be);else if(null!==Be){const $t=B.get(Be);B.move($t,st),ur($t,ce)}});for(let ce=0,Be=B.length;ce<Be;ce++){const $t=B.get(ce).context;$t.index=ce,$t.count=Be,$t.ngForOf=this._ngForOf}R.forEachIdentityChange(ce=>{ur(B.get(ce.currentIndex),ce)})}static ngTemplateContextGuard(R,B){return!0}static#e=this.\u0275fac=function(B){return new(B||I)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))};static#t=this.\u0275dir=_.lG2({type:I,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return I})();function ur(I,H){I.context.$implicit=H.item}let Wi=(()=>{class I{constructor(R,B){this._viewContainer=R,this._context=new Nr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){xs("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){xs("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,B){return!0}static#e=this.\u0275fac=function(B){return new(B||I)(_.Y36(_.s_b),_.Y36(_.Rgc))};static#t=this.\u0275dir=_.lG2({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return I})();class Nr{constructor(){this.$implicit=null,this.ngIf=null}}function xs(I,H){if(H&&!H.createEmbeddedView)throw new Error(`${I} must be a TemplateRef, but received '${(0,_.AaK)(H)}'.`)}function hi(I,H){return new _.vHH(2100,!1)}let vo=(()=>{class I{transform(R){if(null==R)return null;if("string"!=typeof R)throw hi();return R.toUpperCase()}static#e=this.\u0275fac=function(B){return new(B||I)};static#t=this.\u0275pipe=_.Yjl({name:"uppercase",type:I,pure:!0,standalone:!0})}return I})();const Rs=new _.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ps=new _.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ki=(()=>{class I{constructor(R,B,ce){this.locale=R,this.defaultTimezone=B,this.defaultOptions=ce}transform(R,B,ce,Be){if(null==R||""===R||R!=R)return null;try{return gr(R,B??this.defaultOptions?.dateFormat??"mediumDate",Be||this.locale,ce??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(st){throw hi()}}static#e=this.\u0275fac=function(B){return new(B||I)(_.Y36(_.soG,16),_.Y36(Rs,24),_.Y36(Ps,24))};static#t=this.\u0275pipe=_.Yjl({name:"date",type:I,pure:!0,standalone:!0})}return I})(),Os=(()=>{class I{static#e=this.\u0275fac=function(B){return new(B||I)};static#t=this.\u0275mod=_.oAB({type:I});static#n=this.\u0275inj=_.cJS({})}return I})();const Bs="browser",ra="server";function xn(I){return I===ra}let Zi=(()=>{class I{static#e=this.\u0275prov=(0,_.Yz7)({token:I,providedIn:"root",factory:()=>new Mi((0,_.LFG)(ue),window)})}return I})();class Mi{constructor(H,R){this.document=H,this.window=R,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const R=function ni(I,H){const R=I.getElementById(H)||I.getElementsByName(H)[0];if(R)return R;if("function"==typeof I.createTreeWalker&&I.body&&"function"==typeof I.body.attachShadow){const B=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let ce=B.currentNode;for(;ce;){const Be=ce.shadowRoot;if(Be){const st=Be.getElementById(H)||Be.querySelector(`[name="${H}"]`);if(st)return st}ce=B.nextNode()}}return null}(this.document,H);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(H){this.supportsScrolling()&&(this.window.history.scrollRestoration=H)}scrollToElement(H){const R=H.getBoundingClientRect(),B=R.left+this.window.pageXOffset,ce=R.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo(B-Be[0],ce-Be[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class fi{}},4946:(bn,dt,X)=>{X.d(dt,{QbO:()=>Jm,tb:()=>iw,AFp:()=>Ql,ip1:()=>jI,hGG:()=>HC,z2F:()=>pp,Ojb:()=>Z_,sBO:()=>SC,Sil:()=>WT,EJc:()=>zT,Xts:()=>eh,SBq:()=>ad,lqb:()=>yu,qLn:()=>Ou,vpe:()=>Eu,XFs:()=>Ot,OlP:()=>Zt,zs3:()=>vu,ZZ4:()=>lw,aQg:()=>dw,soG:()=>__,YKP:()=>H0,h0i:()=>Mh,PXZ:()=>vC,R0b:()=>Mo,FiY:()=>La,Lbi:()=>sh,g9A:()=>pf,Qsj:()=>og,FYo:()=>oy,JOm:()=>Kc,tp0:()=>Lo,Rgc:()=>_m,dDg:()=>gC,eoX:()=>ZI,q4F:()=>Df,GfV:()=>ay,s_b:()=>m_,ifc:()=>di,VuI:()=>eS,MMx:()=>G0,Lck:()=>Mb,eFA:()=>JI,Gpc:()=>ct,f3M:()=>zt,$WT:()=>ns,_c5:()=>$C,qFp:()=>nS,rg0:()=>ds,c2e:()=>$I,zSh:()=>Kp,HDt:()=>HI,wAp:()=>lp,vHH:()=>yt,lri:()=>WI,rWj:()=>KI,cg1:()=>NE,kL8:()=>p0,dqk:()=>ln,Z0I:()=>gr,eJc:()=>KE,QGY:()=>Yy,F4k:()=>Xg,RDi:()=>Bm,AaK:()=>et,qOj:()=>Qf,Xq5:()=>Ac,TTD:()=>it,_Bn:()=>$0,jDz:()=>q0,xp6:()=>Dg,uIk:()=>_h,ekj:()=>i_,Suo:()=>vI,Xpm:()=>Ki,lG2:()=>ts,Yz7:()=>qn,cJS:()=>Rn,oAB:()=>co,Yjl:()=>Ds,Y36:()=>hd,_UZ:()=>Ky,BQk:()=>Qg,ynx:()=>Yg,qZA:()=>ip,TgZ:()=>rp,EpF:()=>eE,n5z:()=>zu,LFG:()=>kt,$8M:()=>N,$Z:()=>Lf,NdJ:()=>Jg,CRH:()=>EI,oxw:()=>tm,ALo:()=>iI,lcZ:()=>sI,Q6J:()=>qy,iGM:()=>yI,MAs:()=>Kv,KtG:()=>nu,CHM:()=>Ho,LSH:()=>Jd,P3R:()=>sf,YNc:()=>Hy,W1O:()=>bI,_uU:()=>bE,Oqu:()=>o_,hij:()=>cm,AsE:()=>a_,Gf:()=>_I});var _=X(8645),ge=X(7394),Z=X(5592),Oe=X(7537),Se=X(4829),ue=X(6232),fe=X(4564),Ye=X(2459),ve=X(5619),me=X(2096),We=X(305),nt=X(9360);function Ae(t={}){const{connector:r=(()=>new _.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,E,M,U=0,Q=!1,le=!1;const Ce=()=>{E?.unsubscribe(),E=void 0},Le=()=>{Ce(),g=M=void 0,Q=le=!1},ft=()=>{const At=g;Le(),At?.unsubscribe()};return(0,nt.e)((At,Xt)=>{U++,!le&&!Q&&Ce();const Nn=M=M??r();Xt.add(()=>{U--,0===U&&!le&&!Q&&(E=Mt(ft,c))}),Nn.subscribe(Xt),!g&&U>0&&(g=new We.Hp({next:wt=>Nn.next(wt),error:wt=>{le=!0,Ce(),E=Mt(Le,s,wt),Nn.error(wt)},complete:()=>{Q=!0,Ce(),E=Mt(Le,a),Nn.complete()}}),(0,Se.Xf)(At).subscribe(g))})(d)}}function Mt(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new We.Hp({next:()=>{a.unsubscribe(),t()}});return(0,Se.Xf)(r(...s)).subscribe(a)}var gt=X(4664),Ft=X(2737),cn=X(8251);function Jt(t,r){return t===r}function De(t){for(let r in t)if(t[r]===De)return r;throw Error("Could not find renamed property on target object.")}function rt(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function pt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const bt=De({__forward_ref__:De});function ct(t){return t.__forward_ref__=ct,t.toString=function(){return et(this())},t}function mt(t){return Bn(t)?t():t}function Bn(t){return"function"==typeof t&&t.hasOwnProperty(bt)&&t.__forward_ref__===ct}function hr(t){return t&&!!t.\u0275providers}const It="https://g.co/ng/security#xss";class yt extends Error{constructor(r,s){super(function Wn(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ct(t){return"string"==typeof t?t:null==t?"":String(t)}function Ue(t,r){throw new yt(-201,!1)}function Kn(t,r){null==t&&function _n(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function qn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Tn(t){return Gr(t,Sr)||Gr(t,or)}function gr(t){return null!==Tn(t)}function Gr(t,r){return t.hasOwnProperty(r)?t[r]:null}function Vn(t){return t&&(t.hasOwnProperty(li)||t.hasOwnProperty(Ei))?t[li]:null}const Sr=De({\u0275prov:De}),li=De({\u0275inj:De}),or=De({ngInjectableDef:De}),Ei=De({ngInjectorDef:De});var Ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ot||{});let xi;function qr(t){const r=xi;return xi=t,r}function fr(t,r,s){const a=Tn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ot.Optional?null:void 0!==r?r:void Ue(et(t))}const ln=globalThis;class Zt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=qn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const nn={},mn="__NG_DI_FLAG__",Gn="ngTempTokenPath",Xn=/\n/gm,yi="__source";let Wr;function Pe(t){const r=Wr;return Wr=t,r}function _t(t,r=Ot.Default){if(void 0===Wr)throw new yt(-203,!1);return null===Wr?fr(t,void 0,r):Wr.get(t,r&Ot.Optional?null:void 0,r)}function kt(t,r=Ot.Default){return(function Ci(){return xi}()||_t)(mt(t),r)}function zt(t,r=Ot.Default){return kt(t,Ln(r))}function Ln(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ar(t){const r=[];for(let s=0;s<t.length;s++){const a=mt(t[s]);if(Array.isArray(a)){if(0===a.length)throw new yt(900,!1);let c,d=Ot.Default;for(let g=0;g<a.length;g++){const E=a[g],M=ei(E);"number"==typeof M?-1===M?c=E.token:d|=M:c=E}r.push(kt(c,d))}else r.push(kt(a))}return r}function jn(t,r){return t[mn]=r,t.prototype[mn]=r,t}function ei(t){return t[mn]}function oi(t){return{toString:t}.toString()}var Oi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Oi||{}),di=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(di||{});const Si={},Jn=[],Ji=De({\u0275cmp:De}),ur=De({\u0275dir:De}),es=De({\u0275pipe:De}),Wi=De({\u0275mod:De}),Nr=De({\u0275fac:De}),xs=De({__NG_ELEMENT_ID__:De}),be=De({__NG_ENV_ID__:De});function Te(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function ke(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],E=s[a++];t.setAttribute(r,g,E,d)}else{const d=c,g=s[++a];Tt(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function at(t){return 3===t||4===t||6===t}function Tt(t){return 64===t.charCodeAt(0)}function tn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||zn(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function zn(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const E=t[d++];if("number"==typeof E){if(E===r){g=-1;break}if(E>r){g=d-1;break}}}for(;d<t.length;){const E=t[d];if("number"==typeof E)break;if(E===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const On="ng-template";function Un(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==Te(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Hi(t){return 4===t.type&&t.value!==On}function hi(t,r,s){return r===(4!==t.type||s?t.value:On)}function ti(t,r,s){let a=4;const c=t.attrs||[],d=function Ns(t){for(let r=0;r<t.length;r++)if(at(t[r]))return r;return t.length}(c);let g=!1;for(let E=0;E<r.length;E++){const M=r[E];if("number"!=typeof M){if(!g)if(4&a){if(a=2|1&a,""!==M&&!hi(t,M,s)||""===M&&1===r.length){if(Ir(a))return!1;g=!0}}else{const U=8&a?M:r[++E];if(8&a&&null!==t.attrs){if(!Un(t.attrs,U,s)){if(Ir(a))return!1;g=!0}continue}const le=Ks(8&a?"class":M,c,Hi(t),s);if(-1===le){if(Ir(a))return!1;g=!0;continue}if(""!==U){let Ce;Ce=le>d?"":c[le+1].toLowerCase();const Le=8&a?Ce:null;if(Le&&-1!==Te(Le,U,0)||2&a&&U!==Ce){if(Ir(a))return!1;g=!0}}}}else{if(!g&&!Ir(a)&&!Ir(M))return!1;if(g&&Ir(M))continue;g=!1,a=M|1&a}}return Ir(a)||g}function Ir(t){return 0==(1&t)}function Ks(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let E=r[++c];for(;"string"==typeof E;)E=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function oo(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Ro(t,r,s=!1){for(let a=0;a<r.length;a++)if(ti(t,r[a],s))return!0;return!1}function vo(t,r){return t?":not("+r.trim()+")":r}function ao(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const E=t[++s];c+="["+g+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Ir(g)&&(r+=vo(d,c),c=""),a=g,d=d||!Ir(a);s++}return""!==c&&(r+=vo(d,c)),r}function Ki(t){return oi(()=>{const r=Eo(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Oi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||di.Emulated,styles:t.styles||Jn,_:null,schemas:t.schemas||null,tView:null,id:""};Os(s);const a=t.dependencies;return s.directiveDefs=Bs(a,!1),s.pipeDefs=Bs(a,!0),s.id=function bs(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Us(t){return An(t)||mr(t)}function uo(t){return null!==t}function co(t){return oi(()=>({type:t.type,bootstrap:t.bootstrap||Jn,declarations:t.declarations||Jn,imports:t.imports||Jn,exports:t.exports||Jn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ai(t,r){if(null==t)return Si;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function ts(t){return oi(()=>{const r=Eo(t);return Os(r),r})}function Ds(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function An(t){return t[Ji]||null}function mr(t){return t[ur]||null}function wn(t){return t[es]||null}function ns(t){const r=An(t)||mr(t)||wn(t);return null!==r&&r.standalone}function Kr(t,r){const s=t[Wi]||null;if(!s&&!0===r)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return s}function Eo(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Si,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Jn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ai(t.inputs,r),outputs:Ai(t.outputs)}}function Os(t){t.features?.forEach(r=>r(t))}function Bs(t,r){if(!t)return null;const s=r?wn:Us;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(uo)}const Rr=0,Bt=1,xn=2,cr=3,wi=4,Ys=5,Zi=6,Mi=7,ni=8,cs=9,fi=10,Cn=11,ys=12,ks=13,js=14,Qr=15,$s=16,ki=17,Ui=18,Fs=19,ia=20,Ts=21,_s=22,_i=23,Hs=24,Pn=25,vi=1,vs=2,Ii=7,zi=9,Ni=11;function Ri(t){return Array.isArray(t)&&"object"==typeof t[vi]}function Di(t){return Array.isArray(t)&&!0===t[vi]}function G(t){return 0!=(4&t.flags)}function z(t){return t.componentOffset>-1}function ae(t){return 1==(1&t.flags)}function pe(t){return!!t.template}function Ne(t){return 0!=(512&t[xn])}function bo(t,r){return t.hasOwnProperty(Nr)?t[Nr]:null}let br=null,To=!1;function Cs(t){const r=br;return br=t,r}const Po={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ss(t){if(!je(t)||t.dirty){if(!t.producerMustRecompute(t)&&!q(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function y(t){t.dirty=!0,function jo(t){if(void 0===t.liveConsumerNode)return;const r=To;To=!0;try{for(const s of t.liveConsumerNode)s.dirty||y(s)}finally{To=r}}(t),t.consumerMarkedDirty?.(t)}function w(t){return t&&(t.nextProducerIndex=0),Cs(t)}function P(t,r){if(Cs(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(je(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Ie(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function q(t){Qe(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Ss(s),a!==s.version))return!0}return!1}function oe(t){if(Qe(t),je(t))for(let r=0;r<t.producerNode.length;r++)Ie(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ie(t,r){if(function Rt(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Qe(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ie(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Qe(c),c.producerIndexOfThis[a]=r}}function je(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Qe(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ce=null;function ds(t){const r=Cs(null);try{return t()}finally{Cs(r)}}const ai=()=>{},Ht=(()=>({...Po,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:ai}))();class Mn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function it(){return yr}function yr(t){return t.type.prototype.ngOnChanges&&(t.setInput=hs),Gi}function Gi(){const t=Lt(this),r=t?.current;if(r){const s=t.previous;if(s===Si)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function hs(t,r,s,a){const c=this.declaredInputs[s],d=Lt(t)||function Sa(t,r){return t[Kt]=r}(t,{previous:Si,current:null}),g=d.current||(d.current={}),E=d.previous,M=E[c];g[c]=new Mn(M&&M.currentValue,r,E===Si),t[a]=r}it.ngInherit=!0;const Kt="__ngSimpleChanges__";function Lt(t){return t[Kt]||null}const lt=function(t,r,s){};function vr(t){for(;Array.isArray(t);)t=t[Rr];return t}function ju(t,r){return vr(r[t])}function zs(t,r){return vr(r[t.index])}function $u(t,r){return t.data[r]}function oa(t,r){return t[r]}function $o(t,r){const s=r[t];return Ri(s)?s:s[Rr]}function go(t,r){return null==r?null:t[r]}function As(t){t[ki]=0}function $i(t){1024&t[xn]||(t[xn]|=1024,Ma(t,1))}function an(t){1024&t[xn]&&(t[xn]&=-1025,Ma(t,-1))}function Ma(t,r){let s=t[cr];if(null===s)return;s[Ys]+=r;let a=s;for(s=s[cr];null!==s&&(1===r&&1===a[Ys]||-1===r&&0===a[Ys]);)s[Ys]+=r,a=s,s=s[cr]}const dn={lFrame:Or(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ja(){return dn.bindingsEnabled}function Et(){return dn.lFrame.lView}function Hr(){return dn.lFrame.tView}function Ho(t){return dn.lFrame.contextLView=t,t[ni]}function nu(t){return dn.lFrame.contextLView=null,t}function Fe(){let t=ru();for(;null!==t&&64===t.type;)t=t.parent;return t}function ru(){return dn.lFrame.currentTNode}function Zo(t,r){const s=dn.lFrame;s.currentTNode=t,s.isParent=r}function ua(){return dn.lFrame.isParent}function Yo(){dn.lFrame.isParent=!1}function fs(){return dn.lFrame.bindingIndex++}function ko(t){const r=dn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function m(t,r){const s=dn.lFrame;s.bindingIndex=s.bindingRootIndex=t,L(r)}function L(t){dn.lFrame.currentDirectiveIndex=t}function he(){return dn.lFrame.currentQueryIndex}function qe(t){dn.lFrame.currentQueryIndex=t}function He(t){const r=t[Bt];return 2===r.type?r.declTNode:1===r.type?t[Zi]:null}function Gt(t,r,s){if(s&Ot.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&Ot.Host||(c=He(d),null===c||(d=d[js],10&c.type))););if(null===c)return!1;r=c,t=d}const a=dn.lFrame=Pr();return a.currentTNode=r,a.lView=t,!0}function Hn(t){const r=Pr(),s=t[Bt];dn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Pr(){const t=dn.lFrame,r=null===t?null:t.child;return null===r?Or(t):r}function Or(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Xo(){const t=dn.lFrame;return dn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xs=Xo;function Jo(){const t=Xo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ls(){return dn.lFrame.selectedIndex}function za(t){dn.lFrame.selectedIndex=t}function ss(){const t=dn.lFrame;return $u(t.tView,t.selectedIndex)}let Sd=!0;function Su(){return Sd}function ea(t){Sd=t}function Qi(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:E,ngAfterViewInit:M,ngAfterViewChecked:U,ngOnDestroy:Q}=d;g&&(t.contentHooks??=[]).push(-s,g),E&&((t.contentHooks??=[]).push(s,E),(t.contentCheckHooks??=[]).push(s,E)),M&&(t.viewHooks??=[]).push(-s,M),U&&((t.viewHooks??=[]).push(s,U),(t.viewCheckHooks??=[]).push(s,U)),null!=Q&&(t.destroyHooks??=[]).push(s,Q)}}function cc(t,r,s){Pi(t,r,3,s)}function _a(t,r,s,a){(3&t[xn])===s&&Pi(t,r,s,a)}function Au(t,r){let s=t[xn];(3&s)===r&&(s&=8191,s+=1,t[xn]=s)}function Pi(t,r,s,a){const d=a??-1,g=r.length-1;let E=0;for(let M=void 0!==a?65535&t[ki]:0;M<g;M++)if("number"==typeof r[M+1]){if(E=r[M],null!=a&&E>=a)break}else r[M]<0&&(t[ki]+=65536),(E<d||-1==d)&&(eo(t,s,r,M),t[ki]=(4294901760&t[ki])+M+2),M++}function Ga(t,r){lt(4,t,r);const s=Cs(null);try{r.call(t)}finally{Cs(s),lt(5,t,r)}}function eo(t,r,s,a){const c=s[a]<0,d=s[a+1],E=t[c?-s[a]:s[a]];c?t[xn]>>13<t[ki]>>16&&(3&t[xn])===r&&(t[xn]+=8192,Ga(E,d)):Ga(E,d)}const bi=-1;class iu{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ca(t){return t!==bi}function va(t){return 32767&t}function la(t,r){let s=function Cl(t){return t>>16}(t),a=r;for(;s>0;)a=a[js],s--;return a}let Oc=!0;function Go(t){const r=Oc;return Oc=t,r}const Wa=255,Ea=5;let wa=0;const to={};function ou(t,r){const s=Ka(t,r);if(-1!==s)return s;const a=r[Bt];a.firstCreatePass&&(t.injectorIndex=r.length,Ia(a.data,t),Ia(r,null),Ia(a.blueprint,null));const c=Oa(t,r),d=t.injectorIndex;if(ca(c)){const g=va(c),E=la(c,r),M=E[Bt].data;for(let U=0;U<8;U++)r[d+U]=E[g+U]|M[g+U]}return r[d+8]=c,d}function Ia(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ka(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Oa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=b(c),null===a)return bi;if(s++,c=c[js],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return bi}function ha(t,r,s){!function da(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(xs)&&(a=s[xs]),null==a&&(a=s[xs]=wa++);const c=a&Wa;r.data[t+(c>>Ea)]|=1<<c}(t,r,s)}function au(t,r,s){if(s&Ot.Optional||void 0!==t)return t;Ue()}function Al(t,r,s,a){if(s&Ot.Optional&&void 0===a&&(a=null),!(s&(Ot.Self|Ot.Host))){const c=t[cs],d=qr(void 0);try{return c?c.get(r,a,s&Ot.Optional):fr(r,a,s&Ot.Optional)}finally{qr(d)}}return au(a,0,s)}function kc(t,r,s,a=Ot.Default,c){if(null!==t){if(2048&r[xn]&&!(a&Ot.Self)){const g=function xu(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[xn]&&!(512&g[xn]);){const E=Mu(d,g,s,a|Ot.Self,to);if(E!==to)return E;let M=d.parent;if(!M){const U=g[ia];if(U){const Q=U.get(s,to,a);if(Q!==to)return Q}M=b(g),g=g[js]}d=M}return c}(t,r,s,a,to);if(g!==to)return g}const d=Mu(t,r,s,a,to);if(d!==to)return d}return Al(r,s,a,c)}function Mu(t,r,s,a,c){const d=function Ad(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(xs)?t[xs]:void 0;return"number"==typeof r?r>=0?r&Wa:Za:r}(s);if("function"==typeof d){if(!Gt(r,t,a))return a&Ot.Host?au(c,0,a):Al(r,s,a,c);try{let g;if(g=d(a),null!=g||a&Ot.Optional)return g;Ue()}finally{Xs()}}else if("number"==typeof d){let g=null,E=Ka(t,r),M=bi,U=a&Ot.Host?r[Qr][Zi]:null;for((-1===E||a&Ot.SkipSelf)&&(M=-1===E?Oa(t,r):r[E+8],M!==bi&&Fc(a,!1)?(g=r[Bt],E=va(M),r=la(M,r)):E=-1);-1!==E;){const Q=r[Bt];if(Fa(d,E,Q.data)){const le=Da(E,r,s,g,a,U);if(le!==to)return le}M=r[E+8],M!==bi&&Fc(a,r[Bt].data[E+8]===U)&&Fa(d,E,r)?(g=Q,E=va(M),r=la(M,r)):E=-1}}return c}function Da(t,r,s,a,c,d){const g=r[Bt],E=g.data[t+8],Q=ka(E,g,s,null==a?z(E)&&Oc:a!=g&&0!=(3&E.type),c&Ot.Host&&d===E);return null!==Q?uu(r,g,Q,E):to}function ka(t,r,s,a,c){const d=t.providerIndexes,g=r.data,E=1048575&d,M=t.directiveStart,Q=d>>20,Ce=c?E+Q:t.directiveEnd;for(let Le=a?E:E+Q;Le<Ce;Le++){const ft=g[Le];if(Le<M&&s===ft||Le>=M&&ft.type===s)return Le}if(c){const Le=g[M];if(Le&&pe(Le)&&Le.type===s)return M}return null}function uu(t,r,s,a){let c=t[s];const d=r.data;if(function su(t){return t instanceof iu}(c)){const g=c;g.resolving&&function Ve(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new yt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function En(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ct(t)}(d[s]));const E=Go(g.canSeeViewProviders);g.resolving=!0;const U=g.injectImpl?qr(g.injectImpl):null;Gt(t,a,Ot.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Dl(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=yr(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==U&&qr(U),Go(E),g.resolving=!1,Xs()}}return c}function Fa(t,r,s){return!!(s[r+(t>>Ea)]&1<<t)}function Fc(t,r){return!(t&Ot.Self||t&Ot.Host&&r)}class Vr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return kc(this._tNode,this._lView,r,Ln(a),s)}}function Za(){return new Vr(Fe(),Et())}function zu(t){return oi(()=>{const r=t.prototype.constructor,s=r[Nr]||dc(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Nr]||dc(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function dc(t){return Bn(t)?()=>{const r=dc(mt(t));return r&&r()}:bo(t)}function b(t){const r=t[Bt],s=r.type;return 2===s?r.declTNode:1===s?t[Zi]:null}function N(t){return function Sl(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(at(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Fe(),t)}const ie="__parameters__";function qt(t,r,s){return oi(()=>{const a=function tt(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return E.annotation=g,E;function E(M,U,Q){const le=M.hasOwnProperty(ie)?M[ie]:Object.defineProperty(M,ie,{value:[]})[ie];for(;le.length<=Q;)le.push(null);return(le[Q]=le[Q]||[]).push(g),M}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function lu(t,r){t.forEach(s=>Array.isArray(s)?lu(s,r):r(s))}function Vc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Uc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Fo(t,r,s){let a=fu(t,r);return a>=0?t[1|a]=s:(a=~a,function fc(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function hu(t,r){const s=fu(t,r);if(s>=0)return t[1|s]}function fu(t,r){return function yo(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const La=jn(qt("Optional"),8),Lo=jn(qt("SkipSelf"),4);function qc(t){return 128==(128&t.flags)}var Kc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kc||{});const xm=/^>|^->|<!--|-->|--!>|<!-$/g,D=/(<|>)/g,h="\u200b$1\u200b";const C=new Map;let K=0;const ta="__ngContext__";function Is(t,r){Ri(r)?(t[ta]=r[Fs],function xe(t){C.set(t[Fs],t)}(r)):t[ta]=r}let Yc;function yc(t,r){return Yc(t,r)}function jd(t){const r=t[cr];return Di(r)?r[cr]:r}function Cp(t){return mu(t[ys])}function Bl(t){return mu(t[wi])}function mu(t){for(;null!==t&&!Di(t);)t=t[wi];return t}function _c(t,r,s,a,c){if(null!=a){let d,g=!1;Di(a)?d=a:Ri(a)&&(g=!0,a=a[Rr]);const E=vr(a);0===t&&null!==s?null==c?Qc(r,s,E):Ta(r,s,E,c||null,!0):1===t&&null!==s?Ta(r,s,E,c||null,!0):2===t?function Hl(t,r,s){const a=Qa(t,r);a&&function x_(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,E,g):3===t&&r.destroyNode(E),null!=d&&function qh(t,r,s,a,c){const d=s[Ii];d!==vr(s)&&_c(r,t,a,d,c);for(let E=Ni;E<s.length;E++){const M=s[E];Wd(M[Bt],M,t,r,a,d)}}(r,t,d,s,c)}}function Hh(t,r){return t.createComment(function p(t){return t.replace(xm,r=>r.replace(D,h))}(r))}function Hd(t,r,s){return t.createElement(r,s)}function Ap(t,r){const s=t[zi],a=s.indexOf(r);an(r),s.splice(a,1)}function $l(t,r){if(t.length<=Ni)return;const s=Ni+r,a=t[s];if(a){const c=a[$s];null!==c&&c!==t&&Ap(c,a),r>0&&(t[s-1][wi]=a[wi]);const d=Uc(t,Ni+r);!function Rm(t,r){Wd(t,r,r[Cn],2,null,null),r[Rr]=null,r[Zi]=null}(a[Bt],a);const g=d[Ui];null!==g&&g.detachView(d[Bt]),a[cr]=null,a[wi]=null,a[xn]&=-129}return a}function zh(t,r){if(!(256&r[xn])){const s=r[Cn];r[_i]&&oe(r[_i]),r[Hs]&&oe(r[Hs]),s.destroyNode&&Wd(t,r,s,3,null,null),function zd(t){let r=t[ys];if(!r)return Mp(t[Bt],t);for(;r;){let s=null;if(Ri(r))s=r[ys];else{const a=r[Ni];a&&(s=a)}if(!s){for(;r&&!r[wi]&&r!==t;)Ri(r)&&Mp(r[Bt],r),r=r[cr];null===r&&(r=t),Ri(r)&&Mp(r[Bt],r),s=r&&r[wi]}r=s}}(r)}}function Mp(t,r){if(!(256&r[xn])){r[xn]&=-129,r[xn]|=256,function M_(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof iu)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const E=c[d[g]],M=d[g+1];lt(4,E,M);try{M.call(E)}finally{lt(5,E,M)}}else{lt(4,c,d);try{d.call(c)}finally{lt(5,c,d)}}}}}(t,r),function Pm(t,r){const s=t.cleanup,a=r[Mi];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Mi]=null);const c=r[Ts];if(null!==c){r[Ts]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[Bt].type&&r[Cn].destroy();const s=r[$s];if(null!==s&&Di(r[cr])){s!==r[cr]&&Ap(s,r);const a=r[Ui];null!==a&&a.detachView(t)}!function jt(t){C.delete(t[Fs])}(r)}}function xp(t,r,s){return function Om(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Rr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===di.None||d===di.Emulated)return null}return zs(a,s)}}(t,r.parent,s)}function Ta(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Qc(t,r,s){t.appendChild(r,s)}function Np(t,r,s,a,c){null!==a?Ta(t,r,s,a,c):Qc(t,r,s)}function Qa(t,r){return t.parentNode(r)}let Wu,Vp,ql,Gd=function Rp(t,r,s){return 40&t.type?zs(t,s):null};function Pu(t,r,s,a){const c=xp(t,a,r),d=r[Cn],E=function Fm(t,r,s){return Gd(t,r,s)}(a.parent||r[Zi],a,r);if(null!=c)if(Array.isArray(s))for(let M=0;M<s.length;M++)Np(d,c,s[M],E,!1);else Np(d,c,s,E,!1);void 0!==Wu&&Wu(d,a,r,s,c)}function Ku(t,r){if(null!==r){const s=r.type;if(3&s)return zs(r,t);if(4&s)return qd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Ku(t,a);{const c=t[r.index];return Di(c)?qd(-1,c):vr(c)}}if(32&s)return yc(r,t)()||vr(t[r.index]);{const a=Pp(t,r);return null!==a?Array.isArray(a)?a[0]:Ku(jd(t[Qr]),a):Ku(t,r.next)}}return null}function Pp(t,r){return null!==r?t[Qr][Zi].projection[r.projection]:null}function qd(t,r){const s=Ni+t+1;if(s<r.length){const a=r[s],c=a[Bt].firstChild;if(null!==c)return Ku(a,c)}return r[Ii]}function Gh(t,r,s,a,c,d,g){for(;null!=s;){const E=a[s.index],M=s.type;if(g&&0===r&&(E&&Is(vr(E),a),s.flags|=2),32!=(32&s.flags))if(8&M)Gh(t,r,s.child,a,c,d,!1),_c(r,t,c,E,d);else if(32&M){const U=yc(s,a);let Q;for(;Q=U();)_c(r,t,c,Q,d);_c(r,t,c,E,d)}else 16&M?kp(t,r,a,s,c,d):_c(r,t,c,E,d);s=g?s.projectionNext:s.next}}function Wd(t,r,s,a,c,d){Gh(s,a,t.firstChild,r,c,d,!1)}function kp(t,r,s,a,c,d){const g=s[Qr],M=g[Zi].projection[a.projection];if(Array.isArray(M))for(let U=0;U<M.length;U++)_c(r,t,c,M[U],d);else{let U=M;const Q=g[cr];qc(a)&&(U.flags|=128),Gh(t,r,U,Q,c,d,!0)}}function Vm(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Fp(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&ke(t,r,a),null!==c&&Vm(t,r,c),null!==d&&function Xc(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function Bm(t){Vp=t}function Zh(t){return function Yd(){if(void 0===ql&&(ql=null,ln.trustedTypes))try{ql=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ql}()?.createScriptURL(t)||t}class Bp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${It})`}}function Zu(t){return t instanceof Bp?t.changingThisBreaksApplicationSecurity:t}function Yu(t,r){const s=function Xh(t){return t instanceof Bp&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${It})`)}return s===r}const Wl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var nl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(nl||{});function Jd(t){const r=Dc();return r?r.sanitize(nl.URL,t)||"":Yu(t,"URL")?Zu(t):function tf(t){return(t=String(t)).match(Wl)?t:"unsafe:"+t}(Ct(t))}function Ao(t){const r=Dc();if(r)return Zh(r.sanitize(nl.RESOURCE_URL,t)||"");if(Yu(t,"ResourceURL"))return Zh(Zu(t));throw new yt(904,!1)}function sf(t,r,s){return function W_(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Ao:Jd}(r,s)(t)}function Dc(){const t=Et();return t&&t[fi].sanitizer}const eh=new Zt("ENVIRONMENT_INITIALIZER"),qp=new Zt("INJECTOR",-1),af=new Zt("INJECTOR_DEF_TYPES");class th{get(r,s=nn){if(s===nn){const a=new Error(`NullInjectorError: No provider for ${et(r)}!`);throw a.name="NullInjectorError",a}return s}}function uf(...t){return{\u0275providers:cf(0,t),\u0275fromNgModule:!0}}function cf(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return lu(r,g=>{const E=g;nh(E,d,[],a)&&(c||=[],c.push(E))}),void 0!==c&&lf(c,d),s}function lf(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];df(c,d=>{r(d,a)})}}function nh(t,r,s,a){if(!(t=mt(t)))return!1;let c=null,d=Vn(t);const g=!d&&An(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const M=t.ngModule;if(d=Vn(M),!d)return!1;c=M}const E=a.has(c);if(g){if(E)return!1;if(a.add(c),g.dependencies){const M="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const U of M)nh(U,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!E){let U;a.add(c);try{lu(d.imports,Q=>{nh(Q,r,s,a)&&(U||=[],U.push(Q))})}finally{}void 0!==U&&lf(U,r)}if(!E){const U=bo(c)||(()=>new c);r({provide:c,useFactory:U,deps:Jn},c),r({provide:af,useValue:c,multi:!0},c),r({provide:eh,useValue:()=>kt(c),multi:!0},c)}const M=d.providers;if(null!=M&&!E){const U=t;df(M,Q=>{r(Q,U)})}}}return c!==t&&void 0!==t.providers}function df(t,r){for(let s of t)hr(s)&&(s=s.\u0275providers),Array.isArray(s)?df(s,r):r(s)}const qm=De({provide:String,useValue:De});function rh(t){return null!==t&&"object"==typeof t&&qm in t}function rl(t){return"function"==typeof t}const Kp=new Zt("Set Injector scope."),Xu={},Zl={};let ih;function il(){return void 0===ih&&(ih=new th),ih}class yu{}class sl extends yu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yl(r,g=>this.processProvider(g)),this.records.set(qp,bc(void 0,this)),c.has("environment")&&this.records.set(yu,bc(void 0,this));const d=this.records.get(Kp);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(af.multi,Jn,Ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Pe(this),a=qr(void 0);try{return r()}finally{Pe(s),qr(a)}}get(r,s=nn,a=Ot.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(be))return r[be](this);a=Ln(a);const d=Pe(this),g=qr(void 0);try{if(!(a&Ot.SkipSelf)){let M=this.records.get(r);if(void 0===M){const U=function Yp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Zt}(r)&&Tn(r);M=U&&this.injectableDefInScope(U)?bc(hf(r),Xu):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(a&Ot.Self?il():this.parent).get(r,s=a&Ot.Optional&&s===nn?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[Gn]=E[Gn]||[]).unshift(et(r)),d)throw E;return function qi(t,r,s,a){const c=t[Gn];throw r[yi]&&c.unshift(r[yi]),t.message=function us(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=et(r);if(Array.isArray(r))c=r.map(et).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let E=r[g];d.push(g+":"+("string"==typeof E?JSON.stringify(E):et(E)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Xn,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Gn]=null,t}(E,r,"R3InjectorError",this.source)}throw E}finally{qr(g),Pe(d)}}resolveInjectorInitializers(){const r=Pe(this),s=qr(void 0);try{const c=this.get(eh.multi,Jn,Ot.Self);for(const d of c)d()}finally{Pe(r),qr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(et(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new yt(205,!1)}processProvider(r){let s=rl(r=mt(r))?r:mt(r&&r.provide);const a=function Zp(t){return rh(t)?bc(void 0,t.useValue):bc(Zm(t),Xu)}(r);if(rl(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=bc(void 0,Xu,!0),c.factory=()=>Ar(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Xu&&(s.value=Zl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Qm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=mt(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function hf(t){const r=Tn(t),s=null!==r?r.factory:bo(t);if(null!==s)return s;if(t instanceof Zt)throw new yt(204,!1);if(t instanceof Function)return function K_(t){const r=t.length;if(r>0)throw function hc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new yt(204,!1);const s=function ci(t){return t&&(t[Sr]||t[or])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new yt(204,!1)}function Zm(t,r,s){let a;if(rl(t)){const c=mt(t);return bo(c)||hf(c)}if(rh(t))a=()=>mt(t.useValue);else if(function Wp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Ar(t.deps||[]));else if(function Wm(t){return!(!t||!t.useExisting)}(t))a=()=>kt(mt(t.useExisting));else{const c=mt(t&&(t.useClass||t.provide));if(!function Ym(t){return!!t.deps}(t))return bo(c)||hf(c);a=()=>new c(...Ar(t.deps))}return a}function bc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Yl(t,r){for(const s of t)Array.isArray(s)?Yl(s,r):s&&hr(s)?Yl(s.\u0275providers,r):r(s)}const Ql=new Zt("AppId",{providedIn:"root",factory:()=>ff}),ff="ng",pf=new Zt("Platform Initializer"),sh=new Zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jm=new Zt("AnimationModuleType"),Z_=new Zt("CSP nonce",{providedIn:"root",factory:()=>function Gl(){if(void 0!==Vp)return Vp;if(typeof document<"u")return document;throw new yt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let yf=(t,r,s)=>null;function td(t,r,s=!1){return yf(t,r,s)}class X_{}class Ef{}class id{resolveComponentFactory(r){throw function wf(t){const r=Error(`No component factory found for ${et(t)}.`);return r.ngComponent=t,r}(r)}}let sd=(()=>{class t{static#e=this.NULL=new id}return t})();function ev(){return od(Fe(),Et())}function od(t,r){return new ad(zs(t,r))}let ad=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=ev}return t})();function sy(t){return t instanceof ad?t.nativeElement:t}class oy{}let og=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function tv(){const t=Et(),s=$o(Fe().index,t);return(Ri(s)?s:t)[Cn]}()}return t})(),ag=(()=>{class t{static#e=this.\u0275prov=qn({token:t,providedIn:"root",factory:()=>null})}return t})();class ay{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Df=new ay("16.2.11"),ug={};function ll(t,r=null,s=null,a){const c=cy(t,r,s,a);return c.resolveInjectorInitializers(),c}function cy(t,r=null,s=null,a,c=new Set){const d=[s||Jn,uf(t)];return a=a||("object"==typeof t?void 0:et(t)),new sl(d,r||il(),a||null,c)}let vu=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=nn;static#t=this.NULL=new th;static create(s,a){if(Array.isArray(s))return ll({name:""},a,s,"");{const c=s.name??"";return ll({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=qn({token:t,providedIn:"any",factory:()=>kt(qp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ch(t){return t.ngOriginalError}class Ou{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&ch(r);for(;s&&ch(s);)s=ch(s);return s||null}}function fg(t){return r=>{setTimeout(t,void 0,r)}}const Eu=class hg extends _.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const M=r;c=M.next?.bind(M),d=M.error?.bind(M),g=M.complete?.bind(M)}this.__isAsync&&(d=fg(d),c&&(c=fg(c)),g&&(g=fg(g)));const E=super.subscribe({next:c,error:d,complete:g});return r instanceof ge.w0&&r.add(E),E}};function hy(...t){}class Mo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Eu(!1),this.onMicrotaskEmpty=new Eu(!1),this.onStable=new Eu(!1),this.onError=new Eu(!1),typeof Zone>"u")throw new yt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function fy(){const t="function"==typeof ln.requestAnimationFrame;let r=ln[t?"requestAnimationFrame":"setTimeout"],s=ln[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function ov(t){const r=()=>{!function sv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ln,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gg(t),t.isCheckStableRunning=!0,pg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,E)=>{if(function av(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(E))return s.invokeTask(c,d,g,E);try{return Af(t),s.invokeTask(c,d,g,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Mf(t)}},onInvoke:(s,a,c,d,g,E,M)=>{try{return Af(t),s.invoke(c,d,g,E,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),Mf(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,gg(t),pg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mo.isInAngularZone())throw new yt(909,!1)}static assertNotInAngularZone(){if(Mo.isInAngularZone())throw new yt(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,py,hy,hy);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const py={};function pg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Af(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mf(t){t._nesting--,pg(t)}class mg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eu,this.onMicrotaskEmpty=new Eu,this.onStable=new Eu,this.onError=new Eu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const gy=new Zt("",{providedIn:"root",factory:xf});function xf(){const t=zt(Mo);let r=!0;return function Je(...t){const r=(0,fe.yG)(t),s=(0,fe._6)(t,1/0),a=t;return a.length?1===a.length?(0,Se.Xf)(a[0]):(0,Oe.J)(s)((0,Ye.D)(a,r)):ue.E}(new Z.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new Z.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Mo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Mo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(Ae()))}function Ju(t){return t instanceof Function?t():t}let vg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=qn({token:t,providedIn:"root",factory:()=>new t})}return t})();function hl(t){for(;t;){t[xn]|=64;const r=jd(t);if(Ne(t)&&!r)return t;t=r}return null}const fl=new Zt("",{providedIn:"root",factory:()=>!1});let dd=null;function Iy(t,r){return t[r]??Ig()}function kf(t,r){const s=Ig();s.producerNode?.length&&(t[r]=dd,s.lView=t,dd=Ff())}const dv={...Po,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hl(t.lView)},lView:null};function Ff(){return Object.create(dv)}function Ig(){return dd??=Ff(),dd}const Er={};function Dg(t){Dy(Hr(),Et(),Ls()+t,!1)}function Dy(t,r,s,a){if(!a)if(3==(3&r[xn])){const d=t.preOrderCheckHooks;null!==d&&cc(r,d,s)}else{const d=t.preOrderHooks;null!==d&&_a(r,d,0,s)}za(s)}function hd(t,r=Ot.Default){const s=Et();return null===s?kt(t,r):kc(Fe(),s,mt(t),r)}function Lf(){throw new Error("invalid")}function fd(t,r,s,a,c,d,g,E,M,U,Q){const le=r.blueprint.slice();return le[Rr]=c,le[xn]=140|a,(null!==U||t&&2048&t[xn])&&(le[xn]|=2048),As(le),le[cr]=le[js]=t,le[ni]=s,le[fi]=g||t&&t[fi],le[Cn]=E||t&&t[Cn],le[cs]=M||t&&t[cs]||null,le[Zi]=d,le[Fs]=function se(){return K++}(),le[_s]=Q,le[ia]=U,le[Qr]=2==r.type?t[Qr]:le,le}function Sc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function lh(t,r,s,a,c){const d=ru(),g=ua(),M=t.data[r]=function Cg(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,E=0;return function Ra(){return null!==dn.skipHydrationRootTNode}()&&(E|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=M),null!==d&&(g?null==d.child&&null!==M.parent&&(d.child=M):null===d.next&&(d.next=M,M.prev=d)),M}(t,r,s,a,c),function v(){return dn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Ms(){const t=dn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Zo(d,!0),d}function dh(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function hh(t,r,s,a,c){const d=Iy(r,_i),g=Ls(),E=2&a;try{za(-1),E&&r.length>Pn&&Dy(t,r,Pn,!1),lt(E?2:0,c);const U=E?d:null,Q=w(U);try{null!==U&&(U.dirty=!1),s(a,c)}finally{P(U,Q)}}finally{E&&null===r[_i]&&kf(r,_i),za(g),lt(E?3:1,c)}}function bg(t,r,s){if(G(r)){const a=Cs(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const E=t.data[g];E.contentQueries&&E.contentQueries(1,s[g],g)}}finally{Cs(a)}}}function Vf(t,r,s){ja()&&(function Rg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;z(s)&&function wv(t,r,s){const a=zs(r,t),c=pl(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const E=gl(t,fd(t,c,null,g,a,r,null,t[fi].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=E}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||ou(s,r),Is(a,r);const g=s.initialInputs;for(let E=c;E<d;E++){const M=t.data[E],U=uu(r,t,E,s);Is(U,r),null!==g&&My(0,E-c,U,M,0,g),pe(M)&&($o(s.index,r)[ni]=uu(r,t,E,s))}}(t,r,s,zs(s,r)),64==(64&s.flags)&&Sy(t,r,s))}function Uf(t,r,s=zs){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],E=-1===g?s(r,t):t[g];t[c++]=E}}}function pl(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Bf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Bf(t,r,s,a,c,d,g,E,M,U,Q){const le=Pn+a,Ce=le+c,Le=function jf(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Er);return s}(le,Ce),ft="function"==typeof U?U():U;return Le[Bt]={type:t,blueprint:Le,template:s,queries:null,viewQuery:E,declTNode:r,data:Le.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:M,consts:ft,incompleteFirstPass:!1,ssrId:Q}}let by=t=>null;function Hf(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Sg(s,r,c,d):a.hasOwnProperty(c)&&Sg(s,r,a[c],d)}return s}function Sg(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function zf(t,r,s,a){if(ja()){const c=null===a?null:{"":-1},d=function yv(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(Ro(r,g.selectors,!1))if(a||(a=[]),pe(g))if(null!==g.findHostDirectiveDefs){const E=[];c=c||new Map,g.findHostDirectiveDefs(g,E,c),a.unshift(...E,g),qf(t,r,E.length)}else a.unshift(g),qf(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,E;null===d?g=E=null:[g,E]=d,null!==g&&Gf(t,r,s,g,c,E),c&&function _v(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new yt(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=tn(s.mergedAttrs,s.attrs)}function Gf(t,r,s,a,c,d){for(let U=0;U<a.length;U++)ha(ou(s,r),t,a[U].type);!function vv(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let U=0;U<a.length;U++){const Q=a[U];Q.providersResolver&&Q.providersResolver(Q)}let g=!1,E=!1,M=dh(t,r,a.length,null);for(let U=0;U<a.length;U++){const Q=a[U];s.mergedAttrs=tn(s.mergedAttrs,Q.hostAttrs),Ev(t,s,r,M,Q),Ay(M,Q,c),null!==Q.contentQueries&&(s.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(s.flags|=64);const le=Q.type.prototype;!g&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!E&&(le.ngOnChanges||le.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),E=!0),M++}!function Ag(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,E=[];let M=null,U=null;for(let Q=r.directiveStart;Q<c;Q++){const le=d[Q],Ce=s?s.get(le):null,ft=Ce?Ce.outputs:null;M=Hf(le.inputs,Q,M,Ce?Ce.inputs:null),U=Hf(le.outputs,Q,U,ft);const At=null===M||null===g||Hi(r)?null:Iv(M,Q,g);E.push(At)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=8),M.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=E,r.inputs=M,r.outputs=U}(t,s,d)}function Sy(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function A(){return dn.lFrame.currentDirectiveIndex}();try{za(d);for(let E=a;E<c;E++){const M=t.data[E],U=r[E];L(E),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&mv(M,U)}}finally{za(-1),L(g)}}function mv(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function qf(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Ay(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;pe(r)&&(s[""]=t)}}function Ev(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=bo(c.type)),g=new iu(d,pe(c),hd);t.blueprint[a]=g,s[a]=g,function Cy(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const E=~r.index;(function pd(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=E&&g.push(E),g.push(s,a,d)}}(t,r,a,dh(t,s,c.hostVars,Er),c)}function Fu(t,r,s,a,c,d){const g=zs(t,r);!function Wf(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const E=null==g?Ct(d):g(d,a||"",c);t.setAttribute(r,c,E,s)}}(r[Cn],g,d,t.value,s,a,c)}function My(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let E=0;E<g.length;)Kf(a,s,g[E++],g[E++],g[E++])}function Kf(t,r,s,a,c){const d=Cs(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{Cs(d)}}function Iv(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let E=0;E<g.length;E+=2)if(g[E]===r){a.push(d,g[E+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Pg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Og(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];qe(s[a]),g.contentQueries(2,r[d],d)}}}function gl(t,r){return t[ys]?t[ks][wi]=r:t[ys]=r,t[ks]=r,r}function ui(t,r,s){qe(0);const a=Cs(null);try{r(t,s)}finally{Cs(a)}}function kg(t){return t[Mi]||(t[Mi]=[])}function gd(t){return t.cleanup||(t.cleanup=[])}function Ws(t,r){const s=t[cs],a=s?s.get(Ou,null):null;a&&a.handleError(r)}function xo(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],E=s[d++];Kf(t.data[g],r[g],a,E,c)}}function Uo(t,r,s){const a=ju(r,t);!function jl(t,r,s){t.setValue(r,s)}(t[Cn],a,s)}function bv(t,r){const s=$o(r,t),a=s[Bt];!function Ew(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Rr];null!==c&&null===s[_s]&&(s[_s]=td(c,s[cs])),Zf(a,s,s[ni])}function Zf(t,r,s){Hn(r);try{const a=t.viewQuery;null!==a&&ui(1,a,s);const c=t.template;null!==c&&hh(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Og(t,r),t.staticViewQueries&&ui(2,t.viewQuery,s);const d=t.components;null!==d&&function ww(t,r){for(let s=0;s<r.length;s++)bv(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[xn]&=-5,Jo()}}let Fg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function Xr(t,r,s){const a=Object.create(Ht);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>y(a),run:()=>{if(a.dirty=!1,a.hasRun&&!q(a))return;a.hasRun=!0;const g=w(a);try{a.cleanupFn(),a.cleanupFn=ai,a.fn(c)}finally{P(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,U=>{this.all.has(U)&&this.queue.set(U,d)},c);let E;this.all.add(g),g.notify();const M=()=>{g.cleanup(),E?.(),this.all.delete(g),this.queue.delete(g)};return E=a?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=qn({token:t,providedIn:"root",factory:()=>new t})}return t})();function md(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const E=r[g];"number"==typeof E?d=E:1==d?c=pt(c,E):2==d&&(a=pt(a,E+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function fh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(vr(d)),Di(d)&&Cv(d,a);const g=s.type;if(8&g)fh(t,r,s.child,a);else if(32&g){const E=yc(s,r);let M;for(;M=E();)a.push(M)}else if(16&g){const E=Pp(r,s);if(Array.isArray(E))a.push(...E);else{const M=jd(r[Qr]);fh(M[Bt],M,E,a,!0)}}s=c?s.projectionNext:s.next}return a}function Cv(t,r){for(let s=Ni;s<t.length;s++){const a=t[s],c=a[Bt].firstChild;null!==c&&fh(a[Bt],a,c,r)}t[Ii]!==t[Rr]&&r.push(t[Ii])}function Xi(t,r,s,a=!0){const c=r[fi],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{io(t,r,t.template,s)}catch(M){throw a&&Ws(r,M),M}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function io(t,r,s,a){const c=r[xn];if(256!=(256&c)){r[fi].effectManager?.flush(),Hn(r);try{As(r),function Rc(t){return dn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&hh(t,r,s,2,a);const g=3==(3&c);if(g){const U=t.preOrderCheckHooks;null!==U&&cc(r,U,null)}else{const U=t.preOrderHooks;null!==U&&_a(r,U,0,null),Au(r,0)}if(function Iw(t){for(let r=Cp(t);null!==r;r=Bl(r)){if(!r[vs])continue;const s=r[zi];for(let a=0;a<s.length;a++){$i(s[a])}}}(r),Lg(r,2),null!==t.contentQueries&&Og(t,r),g){const U=t.contentCheckHooks;null!==U&&cc(r,U)}else{const U=t.contentHooks;null!==U&&_a(r,U,1),Au(r,1)}!function hv(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Iy(r,Hs);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)za(~d);else{const g=d,E=s[++c],M=s[++c];m(E,g),a.dirty=!1;const U=w(a);try{M(2,r[g])}finally{P(a,U)}}}}finally{null===r[Hs]&&kf(r,Hs),za(-1)}}(t,r);const E=t.components;null!==E&&Av(r,E,0);const M=t.viewQuery;if(null!==M&&ui(2,M,a),g){const U=t.viewCheckHooks;null!==U&&cc(r,U)}else{const U=t.viewHooks;null!==U&&_a(r,U,2),Au(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[xn]&=-73,an(r)}finally{Jo()}}}function Lg(t,r){for(let s=Cp(t);null!==s;s=Bl(s))for(let a=Ni;a<s.length;a++)Vg(s[a],r)}function Dw(t,r,s){Vg($o(r,t),s)}function Vg(t,r){if(!function Du(t){return 128==(128&t[xn])}(t))return;const s=t[Bt],a=t[xn];if(80&a&&0===r||1024&a||2===r)io(s,t,s.template,t[ni]);else if(t[Ys]>0){Lg(t,1);const c=s.components;null!==c&&Av(t,c,1)}}function Av(t,r,s){for(let a=0;a<r.length;a++)Dw(t,r[a],s)}class Yf{get rootNodes(){const r=this._lView,s=r[Bt];return fh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ni]}set context(r){this._lView[ni]=r}get destroyed(){return 256==(256&this._lView[xn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[cr];if(Di(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&($l(r,a),Uc(s,a))}this._attachedToViewContainer=!1}zh(this._lView[Bt],this._lView)}onDestroy(r){!function Zr(t,r){if(256==(256&t[xn]))throw new yt(911,!1);null===t[Ts]&&(t[Ts]=[]),t[Ts].push(r)}(this._lView,r)}markForCheck(){hl(this._cdRefInjectingView||this._lView)}detach(){this._lView[xn]&=-129}reattach(){this._lView[xn]|=128}detectChanges(){Xi(this._lView[Bt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new yt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function S_(t,r){Wd(t,r,r[Cn],2,null,null)}(this._lView[Bt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new yt(902,!1);this._appRef=r}}class bw extends Yf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Xi(r[Bt],r,r[ni],!1)}checkNoChanges(){}get context(){return null}}class Mv extends sd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=An(r);return new yd(s,this.ngModule)}}function xv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Cw{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Ln(a);const c=this.injector.get(r,ug,a);return c!==ug||s===ug?c:this.parentInjector.get(r,s,a)}}class yd extends Ef{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=xv(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return xv(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Rs(t){return t.map(ao).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof yu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Cw(r,d):r,E=g.get(oy,null);if(null===E)throw new yt(407,!1);const le={rendererFactory:E,sanitizer:g.get(ag,null),effectManager:g.get(Fg,null),afterRenderEventManager:g.get(vg,null)},Ce=E.createRenderer(null,this.componentDef),Le=this.componentDef.selectors[0][0]||"div",ft=a?function fv(t,r,s,a){const d=a.get(fl,!1)||s===di.ShadowDom,g=t.selectRootElement(r,d);return function pv(t){by(t)}(g),g}(Ce,a,this.componentDef.encapsulation,g):Hd(Ce,Le,function Tw(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Le)),Nn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let wt=null;null!==ft&&(wt=td(ft,g,!0));const Cr=Bf(0,null,null,1,0,null,null,null,null,null,null),si=fd(null,Cr,null,Nn,null,null,le,Ce,g,null,wt);let as,eu;Hn(si);try{const Il=this.componentDef;let gp,fw=null;Il.findHostDirectiveDefs?(gp=[],fw=new Map,Il.findHostDirectiveDefs(Il,gp,fw),gp.push(Il)):gp=[Il];const rS=function Nv(t,r){const s=t[Bt],a=Pn;return t[a]=r,Sc(s,a,2,"#host",null)}(si,ft),iS=function ml(t,r,s,a,c,d,g){const E=c[Bt];!function _d(t,r,s,a){for(const c of t)r.mergedAttrs=tn(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(md(r,r.mergedAttrs,!0),null!==s&&Fp(a,s,r))}(a,t,r,g);let M=null;null!==r&&(M=td(r,c[cs]));const U=d.rendererFactory.createRenderer(r,s);let Q=16;s.signals?Q=4096:s.onPush&&(Q=64);const le=fd(c,pl(s),null,Q,c[t.index],t,d,U,null,null,M);return E.firstCreatePass&&qf(E,t,a.length-1),gl(c,le),c[t.index]=le}(rS,ft,Il,gp,si,le,Ce);eu=$u(Cr,Pn),ft&&function Ug(t,r,s,a){if(a)ke(t,s,["ng-version",Df.full]);else{const{attrs:c,classes:d}=function Ps(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!Ir(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&ke(t,s,c),d&&d.length>0&&Vm(t,s,d.join(" "))}}(Ce,Il,ft,a),void 0!==s&&function Bg(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(eu,this.ngContentSelectors,s),as=function Sw(t,r,s,a,c,d){const g=Fe(),E=c[Bt],M=zs(g,c);Gf(E,c,g,s,null,a);for(let Q=0;Q<s.length;Q++)Is(uu(c,E,g.directiveStart+Q,g),c);Sy(E,c,g),M&&Is(M,c);const U=uu(c,E,g.directiveStart+g.componentOffset,g);if(t[ni]=c[ni]=U,null!==d)for(const Q of d)Q(U,r);return bg(E,g,t),U}(iS,Il,gp,fw,si,[Rv]),Zf(Cr,si,null)}finally{Jo()}return new ph(this.componentType,as,od(eu,si),si,eu)}}class ph extends X_{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new bw(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;xo(d[Bt],d,c,r,s),this.previousInputValues.set(r,s),hl($o(this._tNode.index,d))}}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Rv(){const t=Fe();Qi(Et()[Bt],t)}function Qf(t){let r=function Ny(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(pe(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new yt(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=yl(t.inputs),g.inputTransforms=yl(t.inputTransforms),g.declaredInputs=yl(t.declaredInputs),g.outputs=yl(t.outputs);const E=c.hostBindings;E&&jg(t,E);const M=c.viewQuery,U=c.contentQueries;if(M&&Pv(t,M),U&&vd(t,U),rt(t.inputs,c.inputs),rt(t.declaredInputs,c.declaredInputs),rt(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),rt(g.inputTransforms,c.inputTransforms)),pe(c)&&c.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const E=d[g];E&&E.ngInherit&&E(t),E===Qf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Ry(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=tn(c.hostAttrs,s=tn(s,c.hostAttrs))}}(a)}function yl(t){return t===Si?{}:t===Jn?[]:t}function Pv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function vd(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function jg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Ac(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function mh(t){return!!Gg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Gg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Bo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function _h(t,r,s,a){const c=Et();return Bo(c,fs(),r)&&(Hr(),Fu(ss(),c,t,r,s,a)),_h}function Lu(t,r,s,a,c,d){const E=function _l(t,r,s,a){const c=Bo(t,r,s);return Bo(t,r+1,a)||c}(t,function Qo(){return dn.lFrame.bindingIndex}(),s,c);return ko(2),E?r+Ct(s)+a+Ct(c)+d:Er}function Hy(t,r,s,a,c,d,g,E){const M=Et(),U=Hr(),Q=t+Pn,le=U.firstCreatePass?function Uw(t,r,s,a,c,d,g,E,M){const U=r.consts,Q=Sc(r,t,4,g||null,go(U,E));zf(r,s,Q,go(U,M)),Qi(r,Q);const le=Q.tView=Bf(2,Q,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U,null);return null!==r.queries&&(r.queries.template(r,Q),le.queries=r.queries.embeddedTView(Q)),Q}(Q,U,M,r,s,a,c,d,g):U.data[Q];Zo(le,!1);const Ce=zy(U,M,le,t);Su()&&Pu(U,M,Ce,le),Is(Ce,M),gl(M,M[Q]=Pg(Ce,M,Ce,le)),ae(le)&&Vf(U,M,le),null!=g&&Uf(M,le,E)}let zy=function Gy(t,r,s,a){return ea(!0),r[Cn].createComment("")};function Kv(t){return oa(function $a(){return dn.lFrame.contextLView}(),Pn+t)}function qy(t,r,s){const a=Et();return Bo(a,fs(),r)&&function na(t,r,s,a,c,d,g,E){const M=zs(r,s);let Q,U=r.inputs;!E&&null!=U&&(Q=U[a])?(xo(t,s,Q,a,c),z(r)&&function xg(t,r){const s=$o(r,t);16&s[xn]||(s[xn]|=64)}(s,r.index)):3&r.type&&(a=function Mg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(M,a,c))}(Hr(),ss(),a,t,r,a[Cn],s,!1),qy}function Wy(t,r,s,a,c){const g=c?"class":"style";xo(t,s,r.inputs[g],g,a)}function rp(t,r,s,a){const c=Et(),d=Hr(),g=Pn+t,E=c[Cn],M=d.firstCreatePass?function Zv(t,r,s,a,c,d){const g=r.consts,M=Sc(r,t,2,a,go(g,c));return zf(r,s,M,go(g,d)),null!==M.attrs&&md(M,M.attrs,!1),null!==M.mergedAttrs&&md(M,M.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,M),M}(g,d,c,r,s,a):d.data[g],U=Zy(d,c,M,E,r,t);c[g]=U;const Q=ae(M);return Zo(M,!0),Fp(E,U,M),32!=(32&M.flags)&&Su()&&Pu(d,c,U,M),0===function Na(){return dn.lFrame.elementDepthCount}()&&Is(U,c),function aa(){dn.lFrame.elementDepthCount++}(),Q&&(Vf(d,c,M),bg(d,M,c)),null!==a&&Uf(c,M),rp}function ip(){let t=Fe();ua()?Yo():(t=t.parent,Zo(t,!1));const r=t;(function Pa(t){return dn.skipHydrationRootTNode===t})(r)&&function uc(){dn.skipHydrationRootTNode=null}(),function sc(){dn.lFrame.elementDepthCount--}();const s=Hr();return s.firstCreatePass&&(Qi(s,t),G(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function qs(t){return 0!=(8&t.flags)}(r)&&Wy(s,r,Et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Tl(t){return 0!=(16&t.flags)}(r)&&Wy(s,r,Et(),r.stylesWithoutHost,!1),ip}function Ky(t,r,s,a){return rp(t,r,s,a),ip(),Ky}let Zy=(t,r,s,a,c,d)=>(ea(!0),Hd(a,c,function Cu(){return dn.lFrame.currentNamespace}()));function Yg(t,r,s){const a=Et(),c=Hr(),d=t+Pn,g=c.firstCreatePass?function Qv(t,r,s,a,c){const d=r.consts,g=go(d,a),E=Sc(r,t,8,"ng-container",g);return null!==g&&md(E,g,!0),zf(r,s,E,go(d,c)),null!==r.queries&&r.queries.elementStart(r,E),E}(d,c,a,r,s):c.data[d];Zo(g,!0);const E=Jv(c,a,g,t);return a[d]=E,Su()&&Pu(c,a,E,g),Is(E,a),ae(g)&&(Vf(c,a,g),bg(c,g,a)),null!=s&&Uf(a,g),Yg}function Qg(){let t=Fe();const r=Hr();return ua()?Yo():(t=t.parent,Zo(t,!1)),r.firstCreatePass&&(Qi(r,t),G(t)&&r.queries.elementEnd(t)),Qg}let Jv=(t,r,s,a)=>(ea(!0),Hh(r[Cn],""));function eE(){return Et()}function Yy(t){return!!t&&"function"==typeof t.then}function Xg(t){return!!t&&"function"==typeof t.subscribe}function Jg(t,r,s,a){const c=Et(),d=Hr(),g=Fe();return function op(t,r,s,a,c,d,g){const E=ae(a),U=t.firstCreatePass&&gd(t),Q=r[ni],le=kg(r);let Ce=!0;if(3&a.type||g){const At=zs(a,r),Xt=g?g(At):At,Nn=le.length,wt=g?si=>g(vr(si[a.index])):a.index;let Cr=null;if(!g&&E&&(Cr=function tE(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const E=r[Mi],M=c[d+2];return E.length>M?E[M]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Cr)(Cr.__ngLastListenerFn__||Cr).__ngNextListenerFn__=d,Cr.__ngLastListenerFn__=d,Ce=!1;else{d=nE(a,r,Q,d,!1);const si=s.listen(Xt,c,d);le.push(d,si),U&&U.push(c,wt,Nn,Nn+1)}}else d=nE(a,r,Q,d,!1);const Le=a.outputs;let ft;if(Ce&&null!==Le&&(ft=Le[c])){const At=ft.length;if(At)for(let Xt=0;Xt<At;Xt+=2){const as=r[ft[Xt]][ft[Xt+1]].subscribe(d),eu=le.length;le.push(d,as),U&&U.push(c,a.index,eu,-(eu+1))}}}(d,c,c[Cn],g,t,r,a),Jg}function Qy(t,r,s,a){try{return lt(6,r,s),!1!==s(a)}catch(c){return Ws(t,c),!1}finally{lt(7,r,s)}}function nE(t,r,s,a,c){return function d(g){if(g===Function)return a;hl(t.componentOffset>-1?$o(t.index,r):r);let M=Qy(r,s,a,g),U=d.__ngNextListenerFn__;for(;U;)M=Qy(r,s,U,g)&&M,U=U.__ngNextListenerFn__;return c&&!1===M&&g.preventDefault(),M}}function tm(t=1){return function Tu(t){return(dn.lFrame.contextLView=function Js(t,r){for(;t>0;)r=r[js],t--;return r}(t,dn.lFrame.contextLView))[ni]}(t)}function El(t,r){return t<<17|r<<2}function nc(t){return t>>17&32767}function Ch(t){return 2|t}function wl(t){return(131068&t)>>2}function om(t,r){return-131069&t|r<<2}function am(t){return 1|t}function uE(t,r,s,a,c){const d=t[s+1],g=null===r;let E=a?nc(d):wl(d),M=!1;for(;0!==E&&(!1===M||g);){const Q=t[E+1];Kw(t[E],r)&&(M=!0,t[E+1]=a?am(Q):Ch(Q)),E=a?nc(Q):wl(Q)}M&&(t[s+1]=a?Ch(d):am(d))}function Kw(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&fu(t,r)>=0}function i_(t,r){return function Uu(t,r,s,a){const c=Et(),d=Hr(),g=ko(2);d.firstUpdatePass&&function yE(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Ls()],g=function mE(t,r){return r>=t.expandoStartIndex}(t,s);(function DE(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function n0(t,r,s,a){const c=function Y(t){const r=dn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=up(s=s_(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=s_(c,t,r,s,a),null===d){let M=function r0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==wl(a))return t[nc(a)]}(t,r,a);void 0!==M&&Array.isArray(M)&&(M=s_(null,t,r,M[1],a),M=up(M,r.attrs,a),function s0(t,r,s,a){t[nc(s?r.classBindings:r.styleBindings)]=a}(t,r,a,M))}else d=function _E(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=up(a,t[d].hostAttrs,s);return up(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function qw(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,E=nc(g),M=wl(g);t[a]=s;let Q,U=!1;if(Array.isArray(s)?(Q=s[1],(null===Q||fu(s,Q)>0)&&(U=!0)):Q=s,c)if(0!==M){const Ce=nc(t[E+1]);t[a+1]=El(Ce,E),0!==Ce&&(t[Ce+1]=om(t[Ce+1],a)),t[E+1]=function Hw(t,r){return 131071&t|r<<17}(t[E+1],a)}else t[a+1]=El(E,0),0!==E&&(t[E+1]=om(t[E+1],a)),E=a;else t[a+1]=El(M,0),0===E?E=a:t[M+1]=om(t[M+1],a),M=a;U&&(t[a+1]=Ch(t[a+1])),uE(t,Q,a,!0),uE(t,Q,a,!1),function Ww(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&fu(d,r)>=0&&(s[a+1]=am(s[a+1]))}(r,Q,t,a,d),g=El(E,M),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==Er&&Bo(c,g,r)&&function EE(t,r,s,a,c,d,g,E){if(!(3&r.type))return;const M=t.data,U=M[E+1],Q=function aE(t){return 1==(1&t)}(U)?wE(M,r,s,c,wl(U),g):void 0;um(Q)||(um(d)||function oE(t){return 2==(2&t)}(U)&&(d=wE(M,null,s,c,E,g)),function Kd(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Kc.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Kc.Important),t.setStyle(s,a,c,d))}}(a,g,ju(Ls(),s),c,d))}(d,d.data[Ls()],c,c[Cn],t,c[g+1]=function IE(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=et(Zu(t)))),t}(r,s),a,g)}(t,r,null,!0),i_}function s_(t,r,s,a,c){let d=null;const g=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<g&&(d=r[E],a=up(a,d.hostAttrs,c),d!==t);)E++;return null!==t&&(s.directiveStylingLast=E),a}function up(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Fo(t,g,!!s||r[++d]))}return void 0===t?null:t}function wE(t,r,s,a,c,d){const g=null===r;let E;for(;c>0;){const M=t[c],U=Array.isArray(M),Q=U?M[1]:M,le=null===Q;let Ce=s[c+1];Ce===Er&&(Ce=le?Jn:void 0);let Le=le?hu(Ce,a):Q===a?Ce:void 0;if(U&&!um(Le)&&(Le=hu(M,a)),um(Le)&&(E=Le,g))return E;const ft=t[c+1];c=g?nc(ft):wl(ft)}if(null!==r){let M=d?r.residualClasses:r.residualStyles;null!=M&&(E=hu(M,a))}return E}function um(t){return void 0!==t}function bE(t,r=""){const s=Et(),a=Hr(),c=t+Pn,d=a.firstCreatePass?Sc(a,c,1,r,null):a.data[c],g=TE(a,s,d,r,t);s[c]=g,Su()&&Pu(a,s,g,d),Zo(d,!1)}let TE=(t,r,s,a,c)=>(ea(!0),function $d(t,r){return t.createText(r)}(r[Cn],a));function o_(t){return cm("",t,""),o_}function cm(t,r,s){const a=Et(),c=function Id(t,r,s,a){return Bo(t,fs(),s)?r+Ct(s)+a:Er}(a,t,r,s);return c!==Er&&Uo(a,Ls(),c),cm}function a_(t,r,s,a,c){const d=Et(),g=Lu(d,t,r,s,a,c);return g!==Er&&Uo(d,Ls(),g),a_}const Ah=void 0;var MD=["en",[["a","p"],["AM","PM"],Ah],[["AM","PM"],Ah,Ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ah,"{1} 'at' {0}",Ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let cp={};function NE(t){const r=function xD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=g0(r);if(s)return s;const a=r.split("-")[0];if(s=g0(a),s)return s;if("en"===a)return MD;throw new yt(701,!1)}function p0(t){return NE(t)[lp.PluralCase]}function g0(t){return t in cp||(cp[t]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[t]),cp[t]}var lp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(lp||{});const dp="en-US";let m0=dp;function OE(t,r,s,a,c){if(t=mt(t),Array.isArray(t))for(let d=0;d<t.length;d++)OE(t[d],r,s,a,c);else{const d=Hr(),g=Et(),E=Fe();let M=rl(t)?t:mt(t.provide);const U=Zm(t),Q=1048575&E.providerIndexes,le=E.directiveStart,Ce=E.providerIndexes>>20;if(rl(t)||!t.multi){const Le=new iu(U,c,hd),ft=FE(M,r,c?Q:Q+Ce,le);-1===ft?(ha(ou(E,g),d,M),kE(d,t,r.length),r.push(M),E.directiveStart++,E.directiveEnd++,c&&(E.providerIndexes+=1048576),s.push(Le),g.push(Le)):(s[ft]=Le,g[ft]=Le)}else{const Le=FE(M,r,Q+Ce,le),ft=FE(M,r,Q,Q+Ce),Xt=ft>=0&&s[ft];if(c&&!Xt||!c&&!(Le>=0&&s[Le])){ha(ou(E,g),d,M);const Nn=function Ab(t,r,s,a,c){const d=new iu(t,s,hd);return d.multi=[],d.index=r,d.componentProviders=0,j0(d,c,a&&!s),d}(c?Sb:Cb,s.length,c,a,U);!c&&Xt&&(s[ft].providerFactory=Nn),kE(d,t,r.length,0),r.push(M),E.directiveStart++,E.directiveEnd++,c&&(E.providerIndexes+=1048576),s.push(Nn),g.push(Nn)}else kE(d,t,Le>-1?Le:ft,j0(s[c?ft:Le],U,!c&&a));!c&&a&&Xt&&s[ft].componentProviders++}}}function kE(t,r,s,a){const c=rl(r),d=function Km(t){return!!t.useClass}(r);if(c||d){const M=(d?mt(r.useClass):r).prototype.ngOnDestroy;if(M){const U=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const Q=U.indexOf(s);-1===Q?U.push(s,[a,M]):U[Q+1].push(a,M)}else U.push(s,M)}}}function j0(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function FE(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function Cb(t,r,s,a){return LE(this.multi,[])}function Sb(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,E=uu(s,s[Bt],this.providerFactory.index,a);d=E.slice(0,g),LE(c,d);for(let M=g;M<E.length;M++)d.push(E[M])}else d=[],LE(c,d);return d}function LE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function $0(t,r=[]){return s=>{s.providersResolver=(a,c)=>function Tb(t,r,s){const a=Hr();if(a.firstCreatePass){const c=pe(t);OE(s,a.data,a.blueprint,c,!0),OE(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Mh{}class H0{}function Mb(t,r){return new VE(t,r??null,[])}class VE extends Mh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mv(this);const c=Kr(r);this._bootstrapComponents=Ju(c.bootstrap),this._r3Injector=cy(r,s,[{provide:Mh,useValue:this},{provide:sd,useValue:this.componentFactoryResolver},...a],et(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class UE extends H0{constructor(r){super(),this.moduleType=r}create(r){return new VE(this.moduleType,r,[])}}class z0 extends Mh{constructor(r){super(),this.componentFactoryResolver=new Mv(this),this.instance=null;const s=new sl([...r.providers,{provide:Mh,useValue:this},{provide:sd,useValue:this.componentFactoryResolver}],r.parent||il(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function G0(t,r,s=null){return new z0({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let Nb=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=cf(0,s.type),c=a.length>0?G0([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=qn({token:t,providedIn:"environment",factory:()=>new t(kt(yu))})}return t})();function q0(t){t.getStandaloneInjector=r=>r.get(Nb).getOrCreateStandaloneInjector(t)}function J0(t,r,s,a,c,d){const g=r+s;return Bo(t,g,c)?function Va(t,r,s){return t[r]=s}(t,g+1,d?a.call(d,c):a(c)):function mm(t,r){const s=t[r];return s===Er?void 0:s}(t,g+1)}function iI(t,r){const s=Hr();let a;const c=t+Pn;s.firstCreatePass?(a=function Yb(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=bo(a.type)),E=qr(hd);try{const M=Go(!1),U=d();return Go(M),function Bw(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Et(),c,U),U}finally{qr(E)}}function sI(t,r,s){const a=t+Pn,c=Et(),d=oa(c,a);return function ym(t,r){return t[Bt].data[r].pure}(c,a)?J0(c,function Gs(){const t=dn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}(),r,d.transform,s,d):d.transform(s)}function tT(){return this._results[Symbol.iterator]()}class jE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Eu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=jE.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=tT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function So(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Nu(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function rT(t,r,s,a=!0){const c=r[Bt];if(function Sp(t,r,s,a){const c=Ni+a,d=s.length;a>0&&(s[c-1][wi]=r),a<d-Ni?(r[wi]=s[c],Vc(s,Ni+a,r)):(s.push(r),r[wi]=null),r[cr]=s;const g=r[$s];null!==g&&s!==g&&function A_(t,r){const s=t[zi];r[Qr]!==r[cr][cr][Qr]&&(t[vs]=!0),null===s?t[zi]=[r]:s.push(r)}(g,r);const E=r[Ui];null!==E&&E.insertView(t),r[xn]|=128}(c,r,t,s),a){const d=qd(s,t),g=r[Cn],E=Qa(g,t[Ii]);null!==E&&function C_(t,r,s,a,c,d){a[Rr]=c,a[Zi]=r,Wd(t,a,s,1,c,d)}(c,t[Zi],g,r,E,d)}}let _m=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=oT}return t})();const iT=_m,sT=class extends iT{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function nT(t,r,s,a){const c=r.tView,E=fd(t,c,s,4096&t[xn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);E[$s]=t[r.index];const U=t[Ui];return null!==U&&(E[Ui]=U.createEmbeddedView(c)),Zf(c,E,s),E}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Yf(c)}};function oT(){return p_(Fe(),Et())}function p_(t,r){return 4&t.type?new sT(r,t,od(t,r)):null}let m_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hT}return t})();function hT(){return hI(Fe(),Et())}const fT=m_,lI=class extends fT{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){const r=Oa(this._hostTNode,this._hostLView);if(ca(r)){const s=la(r,this._hostLView),a=va(r);return new Vr(s[Bt].data[a+8],s)}return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=dI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Ni}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const E=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(E,c,false),E}createComponent(r,s,a,c,d){const g=r&&!function Ya(t){return"function"==typeof t}(r);let E;if(g)E=s;else{const At=s||{};E=At.index,a=At.injector,c=At.projectableNodes,d=At.environmentInjector||At.ngModuleRef}const M=g?r:new yd(An(r)),U=a||this.parentInjector;if(!d&&null==M.ngModule){const Xt=(g?U:this.parentInjector).get(yu,null);Xt&&(d=Xt)}An(M.componentType??{});const Le=M.create(U,c,null,d);return this.insertImpl(Le.hostView,E,false),Le}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function hn(t){return Di(t[cr])}(c)){const M=this.indexOf(r);if(-1!==M)this.detach(M);else{const U=c[cr],Q=new lI(U,U[Zi],U[cr]);Q.detach(Q.indexOf(r))}}const g=this._adjustIndex(s),E=this._lContainer;return rT(E,c,g,!a),r.attachToViewContainerRef(),Vc($E(E),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=dI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=$l(this._lContainer,s);a&&(Uc($E(this._lContainer),s),zh(a[Bt],a))}detach(r){const s=this._adjustIndex(r,-1),a=$l(this._lContainer,s);return a&&null!=Uc($E(this._lContainer),s)?new Yf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function dI(t){return t[8]}function $E(t){return t[8]||(t[8]=[])}function hI(t,r){let s;const a=r[t.index];return Di(a)?s=a:(s=Pg(a,r,null,t),r[t.index]=s,gl(r,s)),fI(s,r,t,a),new lI(s,t,r)}let fI=function pI(t,r,s,a){if(t[Ii])return;let c;c=8&s.type?vr(a):function pT(t,r){const s=t[Cn],a=s.createComment(""),c=zs(r,t);return Ta(s,Qa(s,c),a,function km(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Ii]=c};class HE{constructor(r){this.queryList=r,this.matches=null}clone(){return new HE(this.queryList)}setDirty(){this.queryList.setDirty()}}class zE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new zE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==DI(r,s).matches&&this.queries[s].setDirty()}}class gI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class GE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new GE(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class qE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new qE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,yT(s,d)),this.matchTNodeWithReadOption(r,s,ka(s,r,d,!1,!1))}else a===_m?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ka(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===ad||c===m_||c===_m&&4&s.type)this.addMatch(s.index,-2);else{const d=ka(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function yT(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function vT(t,r,s,a){return-1===s?function _T(t,r){return 11&t.type?od(t,r):4&t.type?p_(t,r):null}(r,t):-2===s?function ET(t,r,s){return s===ad?od(r,t):s===_m?p_(r,t):s===m_?hI(r,t):void 0}(t,r,a):uu(t,t[Bt],s,r)}function mI(t,r,s,a){const c=r[Ui].queries[a];if(null===c.matches){const d=t.data,g=s.matches,E=[];for(let M=0;M<g.length;M+=2){const U=g[M];E.push(U<0?null:vT(r,d[U],g[M+1],s.metadata.read))}c.matches=E}return c.matches}function WE(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=mI(t,r,c,s);for(let E=0;E<d.length;E+=2){const M=d[E];if(M>0)a.push(g[E/2]);else{const U=d[E+1],Q=r[-M];for(let le=Ni;le<Q.length;le++){const Ce=Q[le];Ce[$s]===Ce[cr]&&WE(Ce[Bt],Ce,U,a)}if(null!==Q[zi]){const le=Q[zi];for(let Ce=0;Ce<le.length;Ce++){const Le=le[Ce];WE(Le[Bt],Le,U,a)}}}}}return a}function yI(t){const r=Et(),s=Hr(),a=he();qe(a+1);const c=DI(s,a);if(t.dirty&&function Es(t){return 4==(4&t[xn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?WE(s,r,a,[]):mI(s,r,c,a);t.reset(d,sy),t.notifyOnChanges()}return!0}return!1}function _I(t,r,s){const a=Hr();a.firstCreatePass&&(II(a,new gI(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),wI(a,Et(),r)}function vI(t,r,s,a){const c=Hr();if(c.firstCreatePass){const d=Fe();II(c,new gI(r,s,a),d.index),function IT(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}wI(c,Et(),s)}function EI(){return function wT(t,r){return t[Ui].queries[r].queryList}(Et(),he())}function wI(t,r,s){const a=new jE(4==(4&s));(function Tg(t,r,s,a){const c=kg(r);c.push(s),t.firstCreatePass&&gd(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Ui]&&(r[Ui]=new zE),r[Ui].queries.push(new HE(a))}function II(t,r,s){null===t.queries&&(t.queries=new GE),t.queries.track(new qE(r,s))}function DI(t,r){return t.queries.getByIndex(r)}function bI(t,r){return p_(t,r)}function KE(t){return!!Kr(t)}const jI=new Zt("Application Initializer");let JE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=zt(jI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(Yy(d))s.push(d);else if(Xg(d)){const g=new Promise((E,M)=>{d.subscribe({complete:E,error:M})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=qn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$I=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=qn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const __=new Zt("LocaleId",{providedIn:"root",factory:()=>zt(__,Ot.Optional|Ot.SkipSelf)||function HT(){return typeof $localize<"u"&&$localize.locale||dp}()}),zT=new Zt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let HI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=qn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qT{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let WT=(()=>{class t{compileModuleSync(s){return new UE(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Ju(Kr(s).declarations).reduce((g,E)=>{const M=An(E);return M&&g.push(new yd(M)),g},[]);return new qT(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=qn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const WI=new Zt(""),KI=new Zt("");let nw,gC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nw||(function mC(t){nw=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(kt(Mo),kt(ZI),kt(KI))};static#t=this.\u0275prov=qn({token:t,factory:t.\u0275fac})}return t})(),ZI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return nw?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=qn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Td=null;const YI=new Zt("AllowMultipleToken"),rw=new Zt("PlatformDestroyListeners"),iw=new Zt("appBootstrapListener");class vC{constructor(r,s){this.name=r,this.token=s}}function JI(t,r,s=[]){const a=`Platform: ${r}`,c=new Zt(a);return(d=[])=>{let g=sw();if(!g||g.injector.get(YI,!1)){const E=[...s,...d,{provide:c,useValue:!0}];t?t(E):function EC(t){if(Td&&!Td.get(YI,!1))throw new yt(400,!1);(function QI(){!function st(t){ce=t}(()=>{throw new yt(600,!1)})})(),Td=t;const r=t.get(tD);(function XI(t){t.get(pf,null)?.forEach(s=>s())})(t)}(function eD(t=[],r){return vu.create({name:r,providers:[{provide:Kp,useValue:"platform"},{provide:rw,useValue:new Set([()=>Td=null])},...t]})}(E,a))}return function IC(t){const r=sw();if(!r)throw new yt(401,!1);return r}()}}function sw(){return Td?.get(tD)??null}let tD=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function DC(t="zone.js",r){return"noop"===t?new mg:"zone.js"===t?new Mo(r):t}(a?.ngZone,function nD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function xb(t,r,s){return new VE(t,r,s)}(s.moduleType,this.injector,function aD(t){return[{provide:Mo,useFactory:t},{provide:eh,multi:!0,useFactory:()=>{const r=zt(TC,{optional:!0});return()=>r.initialize()}},{provide:oD,useFactory:bC},{provide:gy,useFactory:xf}]}(()=>c)),g=d.injector.get(Ou,null);return c.runOutsideAngular(()=>{const E=c.onError.subscribe({next:M=>{g.handleError(M)}});d.onDestroy(()=>{E_(this._modules,d),E.unsubscribe()})}),function rD(t,r,s){try{const a=s();return Yy(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const E=d.injector.get(JE);return E.runInitializers(),E.donePromise.then(()=>(function y0(t){Kn(t,"Expected localeId to be defined"),"string"==typeof t&&(m0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(__,dp)||dp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=iD({},a);return function yC(t,r,s){const a=new UE(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(pp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new yt(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new yt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(rw,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(kt(vu))};static#t=this.\u0275prov=qn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function iD(t,r){return Array.isArray(r)?r.reduce(iD,t):{...t,...r}}let pp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=zt(oD),this.zoneIsStable=zt(gy),this.componentTypes=[],this.components=[],this.isStable=zt(HI).hasPendingTasks.pipe((0,gt.w)(s=>s?(0,me.of)(!1):this.zoneIsStable),function tr(t,r=Ft.y){return t=t??Jt,(0,nt.e)((s,a)=>{let c,d=!0;s.subscribe((0,cn.x)(a,g=>{const E=r(g);(d||!t(c,E))&&(d=!1,c=E,a.next(g))}))})}(),Ae()),this._injector=zt(yu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Ef;if(!this._injector.get(JE).done)throw!c&&ns(s),new yt(405,!1);let g;g=c?s:this._injector.get(sd).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const E=function _C(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Mh),U=g.create(vu.NULL,[],a||g.selector,E),Q=U.location.nativeElement,le=U.injector.get(WI,null);return le?.registerApplication(Q),U.onDestroy(()=>{this.detachView(U.hostView),E_(this.components,U),le?.unregisterApplication(Q)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new yt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;E_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(iw,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>E_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new yt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=qn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function E_(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const oD=new Zt("",{providedIn:"root",factory:()=>zt(Ou).handleError.bind(void 0)});function bC(){const t=zt(Mo),r=zt(Ou);return s=>t.runOutsideAngular(()=>r.handleError(s))}let TC=(()=>{class t{constructor(){this.zone=zt(Mo),this.applicationRef=zt(pp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=qn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let SC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=AC}return t})();function AC(t){return function MC(t,r,s){if(z(t)&&!s){const a=$o(t.index,r);return new Yf(a,a)}return 47&t.type?new Yf(r[Qr],r):null}(Fe(),Et(),16==(16&t))}class dD{constructor(){}supports(r){return mh(r)}create(r){return new kC(r)}}const OC=(t,r)=>r;class kC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||OC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<fD(a,c,d)?s:a,E=fD(g,c,d),M=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const U=E-c,Q=M-c;if(U!=Q){for(let Ce=0;Ce<U;Ce++){const Le=Ce<d.length?d[Ce]:d[Ce]=0,ft=Le+Ce;Q<=ft&&ft<U&&(d[Ce]=Le+1)}d[g.previousIndex]=Q-U}}E!==M&&r(g,E,M)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!mh(r))throw new yt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let E=0;E<this.length;E++)d=r[E],g=this._trackByFn(E,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,E)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,E),a=!0),s=s._next}else c=0,function yh(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,E=>{g=this._trackByFn(c,E),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,E,g,c)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new FC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new hD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class FC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class hD{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new LC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fD(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class pD{constructor(){}supports(r){return r instanceof Map||Gg(r)}create(){return new VC}}class VC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Gg(r)))throw new yt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new UC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class UC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gD(){return new lw([new dD])}let lw=(()=>{class t{static#e=this.\u0275prov=qn({token:t,providedIn:"root",factory:gD});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||gD()),deps:[[t,new Lo,new La]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new yt(901,!1)}}return t})();function mD(){return new dw([new pD])}let dw=(()=>{class t{static#e=this.\u0275prov=qn({token:t,providedIn:"root",factory:mD});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||mD()),deps:[[t,new Lo,new La]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new yt(901,!1)}}return t})();const $C=JI(null,"core",[]);let HC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(kt(pp))};static#t=this.\u0275mod=co({type:t});static#n=this.\u0275inj=Rn({})}return t})();function eS(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function nS(t){const r=An(t);if(!r)return null;const s=new yd(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},95:(bn,dt,X)=>{X.d(dt,{Wl:()=>Ft,Fj:()=>De,CE:()=>Kr,qu:()=>Di,NI:()=>tn,u:()=>Bs,cw:()=>nn,sg:()=>An,x0:()=>wn,u5:()=>pe,Fd:()=>ks,qQ:()=>Qr,JJ:()=>Rn,JL:()=>Tn,F:()=>ke,On:()=>oo,YN:()=>xn,wV:()=>ao,UX:()=>Ne,EJ:()=>Bt,kI:()=>mt,_Y:()=>ms,Kr:()=>ni});var _=X(4946),ge=X(6814),Z=X(2459),Oe=X(5592),Se=X(7453),ue=X(4829),fe=X(4564),Ye=X(8251),Je=X(7400),ve=X(2714),We=X(7398);let nt=(()=>{class O{constructor(x,W){this._renderer=x,this._elementRef=W,this.onChange=de=>{},this.onTouched=()=>{}}setProperty(x,W){this._renderer.setProperty(this._elementRef.nativeElement,x,W)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(_.Qsj),_.Y36(_.SBq))};static#t=this.\u0275dir=_.lG2({type:O})}return O})(),Ae=(()=>{class O extends nt{static#e=this.\u0275fac=function(){let x;return function(de){return(x||(x=_.n5z(O)))(de||O)}}();static#t=this.\u0275dir=_.lG2({type:O,features:[_.qOj]})}return O})();const Mt=new _.OlP("NgValueAccessor"),gt={provide:Mt,useExisting:(0,_.Gpc)(()=>Ft),multi:!0};let Ft=(()=>{class O extends Ae{writeValue(x){this.setProperty("checked",x)}static#e=this.\u0275fac=function(){let x;return function(de){return(x||(x=_.n5z(O)))(de||O)}}();static#t=this.\u0275dir=_.lG2({type:O,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(W,de){1&W&&_.NdJ("change",function(Yt){return de.onChange(Yt.target.checked)})("blur",function(){return de.onTouched()})},features:[_._Bn([gt]),_.qOj]})}return O})();const cn={provide:Mt,useExisting:(0,_.Gpc)(()=>De),multi:!0},Jt=new _.OlP("CompositionEventMode");let De=(()=>{class O extends nt{constructor(x,W,de){super(x,W),this._compositionMode=de,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tr(){const O=(0,ge.q)()?(0,ge.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Jt,8))};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(W,de){1&W&&_.NdJ("input",function(Yt){return de._handleInput(Yt.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(Yt){return de._compositionEnd(Yt.target.value)})},features:[_._Bn([cn]),_.qOj]})}return O})();function rt(O){return null==O||("string"==typeof O||Array.isArray(O))&&0===O.length}function et(O){return null!=O&&"number"==typeof O.length}const pt=new _.OlP("NgValidators"),bt=new _.OlP("NgAsyncValidators"),ct=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mt{static min(F){return Bn(F)}static max(F){return hr(F)}static required(F){return function Sn(O){return rt(O.value)?{required:!0}:null}(F)}static requiredTrue(F){return function It(O){return!0===O.value?null:{required:!0}}(F)}static email(F){return function yt(O){return rt(O.value)||ct.test(O.value)?null:{email:!0}}(F)}static minLength(F){return function Wn(O){return F=>rt(F.value)||!et(F.value)?null:F.value.length<O?{minlength:{requiredLength:O,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function Ct(O){return F=>et(F.value)&&F.value.length>O?{maxlength:{requiredLength:O,actualLength:F.value.length}}:null}(F)}static pattern(F){return function En(O){if(!O)return Ve;let F,x;return"string"==typeof O?(x="","^"!==O.charAt(0)&&(x+="^"),x+=O,"$"!==O.charAt(O.length-1)&&(x+="$"),F=new RegExp(x)):(x=O.toString(),F=O),W=>{if(rt(W.value))return null;const de=W.value;return F.test(de)?null:{pattern:{requiredPattern:x,actualValue:de}}}}(F)}static nullValidator(F){return null}static compose(F){return Fn(F)}static composeAsync(F){return St(F)}}function Bn(O){return F=>{if(rt(F.value)||rt(O))return null;const x=parseFloat(F.value);return!isNaN(x)&&x<O?{min:{min:O,actual:F.value}}:null}}function hr(O){return F=>{if(rt(F.value)||rt(O))return null;const x=parseFloat(F.value);return!isNaN(x)&&x>O?{max:{max:O,actual:F.value}}:null}}function Ve(O){return null}function Ge(O){return null!=O}function Ze(O){return(0,_.QGY)(O)?(0,Z.D)(O):O}function Ue(O){let F={};return O.forEach(x=>{F=null!=x?{...F,...x}:F}),0===Object.keys(F).length?null:F}function ot(O,F){return F.map(x=>x(O))}function en(O){return O.map(F=>function Dt(O){return!O.validate}(F)?F:x=>F.validate(x))}function Fn(O){if(!O)return null;const F=O.filter(Ge);return 0==F.length?null:function(x){return Ue(ot(x,F))}}function fn(O){return null!=O?Fn(en(O)):null}function St(O){if(!O)return null;const F=O.filter(Ge);return 0==F.length?null:function(x){return function me(...O){const F=(0,fe.jO)(O),{args:x,keys:W}=(0,Se.D)(O),de=new Oe.y(vt=>{const{length:Yt}=x;if(!Yt)return void vt.complete();const lr=new Array(Yt);let jr=Yt,$r=Yt;for(let Fi=0;Fi<Yt;Fi++){let Dr=!1;(0,ue.Xf)(x[Fi]).subscribe((0,Ye.x)(vt,rs=>{Dr||(Dr=!0,$r--),lr[Fi]=rs},()=>jr--,void 0,()=>{(!jr||!Dr)&&($r||vt.next(W?(0,ve.n)(W,lr):lr),vt.complete())}))}});return F?de.pipe((0,Je.Z)(F)):de}(ot(x,F).map(Ze)).pipe((0,We.U)(Ue))}}function Dn(O){return null!=O?St(en(O)):null}function pr(O,F){return null===O?[F]:Array.isArray(O)?[...O,F]:[O,F]}function Yn(O){return O._rawValidators}function Qn(O){return O._rawAsyncValidators}function nr(O){return O?Array.isArray(O)?O:[O]:[]}function rr(O,F){return Array.isArray(O)?O.includes(F):O===F}function zr(O,F){const x=nr(F);return nr(O).forEach(de=>{rr(x,de)||x.push(de)}),x}function Kn(O,F){return nr(F).filter(x=>!rr(O,x))}class _n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=Dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F=void 0){this.control&&this.control.reset(F)}hasError(F,x){return!!this.control&&this.control.hasError(F,x)}getError(F,x){return this.control?this.control.getError(F,x):null}}class ir extends _n{get formDirective(){return null}get path(){return null}}class sn extends _n{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gi{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rn=(()=>{class O extends gi{constructor(x){super(x)}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(sn,2))};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(W,de){2&W&&_.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[_.qOj]})}return O})(),Tn=(()=>{class O extends gi{constructor(x){super(x)}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(ir,10))};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(W,de){2&W&&_.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)("ng-submitted",de.isSubmitted)},features:[_.qOj]})}return O})();const Zt="VALID",ar="INVALID",on="PENDING",wr="DISABLED";function _e(O){return(re(O)?O.validators:O)||null}function ee(O,F){return(re(F)?F.asyncValidators:O)||null}function re(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}function Me(O,F,x){const W=O.controls;if(!(F?Object.keys(W):W).length)throw new _.vHH(1e3,"");if(!W[x])throw new _.vHH(1001,"")}function ht(O,F,x){O._forEachChild((W,de)=>{if(void 0===x[de])throw new _.vHH(1002,"")})}class xt{constructor(F,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===Zt}get invalid(){return this.status===ar}get pending(){return this.status==on}get disabled(){return this.status===wr}get enabled(){return this.status!==wr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(zr(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(zr(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Kn(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Kn(F,this._rawAsyncValidators))}hasValidator(F){return rr(this._rawValidators,F)}hasAsyncValidator(F){return rr(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=on,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const x=this._parentMarkedDirty(F.onlySelf);this.status=wr,this.errors=null,this._forEachChild(W=>{W.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:x}),this._onDisabledChange.forEach(W=>W(!0))}enable(F={}){const x=this._parentMarkedDirty(F.onlySelf);this.status=Zt,this._forEachChild(W=>{W.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:x}),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zt||this.status===on)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wr:Zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=on,this._hasOwnPendingAsyncValidator=!0;const x=Ze(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,x={}){this.errors=F,this._updateControlsErrors(!1!==x.emitEvent)}get(F){let x=F;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((W,de)=>W&&W._find(de),this)}getError(F,x){const W=x?this.get(x):this;return W&&W.errors?W.errors[F]:null}hasError(F,x){return!!this.getError(F,x)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?wr:this.errors?ar:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(on)?on:this._anyControlsHaveStatus(ar)?ar:Zt}_anyControlsHaveStatus(F){return this._anyControls(x=>x.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){re(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function J(O){return Array.isArray(O)?fn(O):O||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function te(O){return Array.isArray(O)?Dn(O):O||null}(this._rawAsyncValidators)}}class nn extends xt{constructor(F,x,W){super(_e(x),ee(W,x)),this.controls=F,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,x){return this.controls[F]?this.controls[F]:(this.controls[F]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(F,x,W={}){this.registerControl(F,x),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(F,x={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(F,x,W={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],x&&this.registerControl(F,x),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,x={}){ht(this,0,F),Object.keys(F).forEach(W=>{Me(this,!0,W),this.controls[W].setValue(F[W],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(F,x={}){null!=F&&(Object.keys(F).forEach(W=>{const de=this.controls[W];de&&de.patchValue(F[W],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(F={},x={}){this._forEachChild((W,de)=>{W.reset(F?F[de]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(F,x,W)=>(F[W]=x.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(x,W)=>!!W._syncPendingControls()||x);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(x=>{const W=this.controls[x];W&&F(W,x)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[x,W]of Object.entries(this.controls))if(this.contains(x)&&F(W))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,W,de)=>((W.enabled||this.disabled)&&(x[de]=W.value),x))}_reduceChildren(F,x){let W=F;return this._forEachChild((de,vt)=>{W=x(W,de,vt)}),W}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}class pn extends nn{}const Br=new _.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yi}),yi="always";function Wr(O,F){return[...F.path,O]}function Ke(O,F,x=yi){vn(O,F),F.valueAccessor.writeValue(O.value),(O.disabled||"always"===x)&&F.valueAccessor.setDisabledState?.(O.disabled),function Ln(O,F){F.valueAccessor.registerOnChange(x=>{O._pendingValue=x,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&jn(O,F)})}(O,F),function ei(O,F){const x=(W,de)=>{F.valueAccessor.writeValue(W),de&&F.viewToModelUpdate(W)};O.registerOnChange(x),F._registerOnDestroy(()=>{O._unregisterOnChange(x)})}(O,F),function Ar(O,F){F.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&jn(O,F),"submit"!==O.updateOn&&O.markAsTouched()})}(O,F),function kt(O,F){if(F.valueAccessor.setDisabledState){const x=W=>{F.valueAccessor.setDisabledState(W)};O.registerOnDisabledChange(x),F._registerOnDestroy(()=>{O._unregisterOnDisabledChange(x)})}}(O,F)}function Pe(O,F,x=!0){const W=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(W),F.valueAccessor.registerOnTouched(W)),zt(O,F),O&&(F._invokeOnDestroyCallbacks(),O._registerOnCollectionChange(()=>{}))}function _t(O,F){O.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(F)})}function vn(O,F){const x=Yn(O);null!==F.validator?O.setValidators(pr(x,F.validator)):"function"==typeof x&&O.setValidators([x]);const W=Qn(O);null!==F.asyncValidator?O.setAsyncValidators(pr(W,F.asyncValidator)):"function"==typeof W&&O.setAsyncValidators([W]);const de=()=>O.updateValueAndValidity();_t(F._rawValidators,de),_t(F._rawAsyncValidators,de)}function zt(O,F){let x=!1;if(null!==O){if(null!==F.validator){const de=Yn(O);if(Array.isArray(de)&&de.length>0){const vt=de.filter(Yt=>Yt!==F.validator);vt.length!==de.length&&(x=!0,O.setValidators(vt))}}if(null!==F.asyncValidator){const de=Qn(O);if(Array.isArray(de)&&de.length>0){const vt=de.filter(Yt=>Yt!==F.asyncValidator);vt.length!==de.length&&(x=!0,O.setAsyncValidators(vt))}}}const W=()=>{};return _t(F._rawValidators,W),_t(F._rawAsyncValidators,W),x}function jn(O,F){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}function qi(O,F){vn(O,F)}function Ji(O,F){if(!O.hasOwnProperty("model"))return!1;const x=O.model;return!!x.isFirstChange()||!Object.is(F,x.currentValue)}function es(O,F){O._syncPendingControls(),F.forEach(x=>{const W=x.control;"submit"===W.updateOn&&W._pendingChange&&(x.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}function Wi(O,F){if(!F)return null;let x,W,de;return Array.isArray(F),F.forEach(vt=>{vt.constructor===De?x=vt:function ur(O){return Object.getPrototypeOf(O.constructor)===Ae}(vt)?W=vt:de=vt}),de||W||x||null}const be={provide:ir,useExisting:(0,_.Gpc)(()=>ke)},Te=(()=>Promise.resolve())();let ke=(()=>{class O extends ir{constructor(x,W,de){super(),this.callSetDisabledState=de,this.submitted=!1,this._directives=new Set,this.ngSubmit=new _.vpe,this.form=new nn({},fn(x),Dn(W))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){Te.then(()=>{const W=this._findContainer(x.path);x.control=W.registerControl(x.name,x.control),Ke(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){Te.then(()=>{const W=this._findContainer(x.path);W&&W.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){Te.then(()=>{const W=this._findContainer(x.path),de=new nn({});qi(de,x),W.registerControl(x.name,de),de.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){Te.then(()=>{const W=this._findContainer(x.path);W&&W.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,W){Te.then(()=>{this.form.get(x.path).setValue(W)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,es(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(pt,10),_.Y36(bt,10),_.Y36(Br,8))};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(W,de){1&W&&_.NdJ("submit",function(Yt){return de.onSubmit(Yt)})("reset",function(){return de.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([be]),_.qOj]})}return O})();function at(O,F){const x=O.indexOf(F);x>-1&&O.splice(x,1)}function Tt(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}const tn=class extends xt{constructor(F=null,x,W){super(_e(x),ee(W,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),re(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=Tt(F)?F.value:F)}setValue(F,x={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(F,x={}){this.setValue(F,x)}reset(F=this.defaultValue,x={}){this._applyFormState(F),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){at(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){at(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){Tt(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}};let Un=(()=>{class O extends ir{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Wr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let x;return function(de){return(x||(x=_.n5z(O)))(de||O)}}();static#t=this.\u0275dir=_.lG2({type:O,features:[_.qOj]})}return O})();const Zs={provide:sn,useExisting:(0,_.Gpc)(()=>oo)},Ns=(()=>Promise.resolve())();let oo=(()=>{class O extends sn{constructor(x,W,de,vt,Yt,lr){super(),this._changeDetectorRef=Yt,this.callSetDisabledState=lr,this.control=new tn,this._registered=!1,this.name="",this.update=new _.vpe,this._parent=x,this._setValidators(W),this._setAsyncValidators(de),this.valueAccessor=Wi(0,vt)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const W=x.name.previousValue;this.formDirective.removeControl({name:W,path:this._getPath(W)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),Ji(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ke(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Ns.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const W=x.isDisabled.currentValue,de=0!==W&&(0,_.VuI)(W);Ns.then(()=>{de&&!this.control.disabled?this.control.disable():!de&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?Wr(x,this._parent):[x]}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(ir,9),_.Y36(pt,10),_.Y36(bt,10),_.Y36(Mt,10),_.Y36(_.sBO,8),_.Y36(Br,8))};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([Zs]),_.qOj,_.TTD]})}return O})(),ms=(()=>{class O{static#e=this.\u0275fac=function(W){return new(W||O)};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return O})();const vo={provide:Mt,useExisting:(0,_.Gpc)(()=>ao),multi:!0};let ao=(()=>{class O extends Ae{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=W=>{x(""==W?null:parseFloat(W))}}static#e=this.\u0275fac=function(){let x;return function(de){return(x||(x=_.n5z(O)))(de||O)}}();static#t=this.\u0275dir=_.lG2({type:O,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(W,de){1&W&&_.NdJ("input",function(Yt){return de.onChange(Yt.target.value)})("blur",function(){return de.onTouched()})},features:[_._Bn([vo]),_.qOj]})}return O})(),Ki=(()=>{class O{static#e=this.\u0275fac=function(W){return new(W||O)};static#t=this.\u0275mod=_.oAB({type:O});static#n=this.\u0275inj=_.cJS({})}return O})();const Wo=new _.OlP("NgModelWithFormControlWarning"),Ds={provide:ir,useExisting:(0,_.Gpc)(()=>An)};let An=(()=>{class O extends ir{constructor(x,W,de){super(),this.callSetDisabledState=de,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(x),this._setAsyncValidators(W)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const W=this.form.get(x.path);return Ke(W,x,this.callSetDisabledState),W.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),W}getControl(x){return this.form.get(x.path)}removeControl(x){Pe(x.control||null,x,!1),function Nr(O,F){const x=O.indexOf(F);x>-1&&O.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,W){this.form.get(x.path).setValue(W)}onSubmit(x){return this.submitted=!0,es(this.form,this.directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const W=x.control,de=this.form.get(x.path);W!==de&&(Pe(W||null,x),(O=>O instanceof tn)(de)&&(Ke(de,x,this.callSetDisabledState),x.control=de))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const W=this.form.get(x.path);qi(W,x),W.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const W=this.form.get(x.path);W&&function us(O,F){return zt(O,F)}(W,x)&&W.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vn(this.form,this),this._oldForm&&zt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(pt,10),_.Y36(bt,10),_.Y36(Br,8))};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["","formGroup",""]],hostBindings:function(W,de){1&W&&_.NdJ("submit",function(Yt){return de.onSubmit(Yt)})("reset",function(){return de.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Ds]),_.qOj,_.TTD]})}return O})();const mr={provide:ir,useExisting:(0,_.Gpc)(()=>wn)};let wn=(()=>{class O extends Un{constructor(x,W,de){super(),this.name=null,this._parent=x,this._setValidators(W),this._setAsyncValidators(de)}_checkParentType(){Eo(this._parent)}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(ir,13),_.Y36(pt,10),_.Y36(bt,10))};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[_._Bn([mr]),_.qOj]})}return O})();const ns={provide:ir,useExisting:(0,_.Gpc)(()=>Kr)};let Kr=(()=>{class O extends ir{constructor(x,W,de){super(),this.name=null,this._parent=x,this._setValidators(W),this._setAsyncValidators(de)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Wr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Eo(this._parent)}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(ir,13),_.Y36(pt,10),_.Y36(bt,10))};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[_._Bn([ns]),_.qOj]})}return O})();function Eo(O){return!(O instanceof wn||O instanceof An||O instanceof Kr)}const Os={provide:sn,useExisting:(0,_.Gpc)(()=>Bs)};let Bs=(()=>{class O extends sn{set isDisabled(x){}static#e=this._ngModelWarningSentOnce=!1;constructor(x,W,de,vt,Yt){super(),this._ngModelWarningConfig=Yt,this._added=!1,this.name=null,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(W),this._setAsyncValidators(de),this.valueAccessor=Wi(0,vt)}ngOnChanges(x){this._added||this._setUpControl(),Ji(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return Wr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(W){return new(W||O)(_.Y36(ir,13),_.Y36(pt,10),_.Y36(bt,10),_.Y36(Mt,10),_.Y36(Wo,8))};static#n=this.\u0275dir=_.lG2({type:O,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([Os]),_.qOj,_.TTD]})}return O})();const ra={provide:Mt,useExisting:(0,_.Gpc)(()=>Bt),multi:!0};function bs(O,F){return null==O?`${F}`:(F&&"object"==typeof F&&(F="Object"),`${O}: ${F}`.slice(0,50))}let Bt=(()=>{class O extends Ae{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const de=bs(this._getOptionId(x),x);this.setProperty("value",de)}registerOnChange(x){this.onChange=W=>{this.value=this._getOptionValue(W),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const W of this._optionMap.keys())if(this._compareWith(this._optionMap.get(W),x))return W;return null}_getOptionValue(x){const W=function Rr(O){return O.split(":")[0]}(x);return this._optionMap.has(W)?this._optionMap.get(W):x}static#e=this.\u0275fac=function(){let x;return function(de){return(x||(x=_.n5z(O)))(de||O)}}();static#t=this.\u0275dir=_.lG2({type:O,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(W,de){1&W&&_.NdJ("change",function(Yt){return de.onChange(Yt.target.value)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([ra]),_.qOj]})}return O})(),xn=(()=>{class O{constructor(x,W,de){this._element=x,this._renderer=W,this._select=de,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(bs(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(Bt,9))};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return O})();const cr={provide:Mt,useExisting:(0,_.Gpc)(()=>Mi),multi:!0};function wi(O,F){return null==O?`${F}`:("string"==typeof F&&(F=`'${F}'`),F&&"object"==typeof F&&(F="Object"),`${O}: ${F}`.slice(0,50))}let Mi=(()=>{class O extends Ae{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let W;if(this.value=x,Array.isArray(x)){const de=x.map(vt=>this._getOptionId(vt));W=(vt,Yt)=>{vt._setSelected(de.indexOf(Yt.toString())>-1)}}else W=(de,vt)=>{de._setSelected(!1)};this._optionMap.forEach(W)}registerOnChange(x){this.onChange=W=>{const de=[],vt=W.selectedOptions;if(void 0!==vt){const Yt=vt;for(let lr=0;lr<Yt.length;lr++){const $r=this._getOptionValue(Yt[lr].value);de.push($r)}}else{const Yt=W.options;for(let lr=0;lr<Yt.length;lr++){const jr=Yt[lr];if(jr.selected){const $r=this._getOptionValue(jr.value);de.push($r)}}}this.value=de,x(de)}}_registerOption(x){const W=(this._idCounter++).toString();return this._optionMap.set(W,x),W}_getOptionId(x){for(const W of this._optionMap.keys())if(this._compareWith(this._optionMap.get(W)._value,x))return W;return null}_getOptionValue(x){const W=function Ys(O){return O.split(":")[0]}(x);return this._optionMap.has(W)?this._optionMap.get(W)._value:x}static#e=this.\u0275fac=function(){let x;return function(de){return(x||(x=_.n5z(O)))(de||O)}}();static#t=this.\u0275dir=_.lG2({type:O,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(W,de){1&W&&_.NdJ("change",function(Yt){return de.onChange(Yt.target)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([cr]),_.qOj]})}return O})(),ni=(()=>{class O{constructor(x,W,de){this._element=x,this._renderer=W,this._select=de,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(wi(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(wi(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(W){return new(W||O)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(Mi,9))};static#t=this.\u0275dir=_.lG2({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return O})();function fi(O){return"number"==typeof O?O:parseFloat(O)}let Cn=(()=>{class O{constructor(){this._validator=Ve}ngOnChanges(x){if(this.inputName in x){const W=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(W),this._validator=this._enabled?this.createValidator(W):Ve,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static#e=this.\u0275fac=function(W){return new(W||O)};static#t=this.\u0275dir=_.lG2({type:O,features:[_.TTD]})}return O})();const ys={provide:pt,useExisting:(0,_.Gpc)(()=>ks),multi:!0};let ks=(()=>{class O extends Cn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=x=>fi(x),this.createValidator=x=>hr(x)}static#e=this.\u0275fac=function(){let x;return function(de){return(x||(x=_.n5z(O)))(de||O)}}();static#t=this.\u0275dir=_.lG2({type:O,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(W,de){2&W&&_.uIk("max",de._enabled?de.max:null)},inputs:{max:"max"},features:[_._Bn([ys]),_.qOj]})}return O})();const js={provide:pt,useExisting:(0,_.Gpc)(()=>Qr),multi:!0};let Qr=(()=>{class O extends Cn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=x=>fi(x),this.createValidator=x=>Bn(x)}static#e=this.\u0275fac=function(){let x;return function(de){return(x||(x=_.n5z(O)))(de||O)}}();static#t=this.\u0275dir=_.lG2({type:O,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(W,de){2&W&&_.uIk("min",de._enabled?de.min:null)},inputs:{min:"min"},features:[_._Bn([js]),_.qOj]})}return O})(),zi=(()=>{class O{static#e=this.\u0275fac=function(W){return new(W||O)};static#t=this.\u0275mod=_.oAB({type:O});static#n=this.\u0275inj=_.cJS({imports:[Ki]})}return O})();class lo extends xt{constructor(F,x,W){super(_e(x),ee(W,x)),this.controls=F,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[this._adjustIndex(F)]}push(F,x={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(F,x,W={}){this.controls.splice(F,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:W.emitEvent})}removeAt(F,x={}){let W=this._adjustIndex(F);W<0&&(W=0),this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),this.controls.splice(W,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(F,x,W={}){let de=this._adjustIndex(F);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),x&&(this.controls.splice(de,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,x={}){ht(this,0,F),F.forEach((W,de)=>{Me(this,!1,de),this.at(de).setValue(W,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(F,x={}){null!=F&&(F.forEach((W,de)=>{this.at(de)&&this.at(de).patchValue(W,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(F=[],x={}){this._forEachChild((W,de)=>{W.reset(F[de],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(F=>F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_adjustIndex(F){return F<0?F+this.length:F}_syncPendingControls(){let F=this.controls.reduce((x,W)=>!!W._syncPendingControls()||x,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((x,W)=>{F(x,W)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(x=>x.enabled&&F(x))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}_find(F){return this.at(F)??null}}function Ri(O){return!!O&&(void 0!==O.asyncValidators||void 0!==O.validators||void 0!==O.updateOn)}let Di=(()=>{class O{constructor(){this.useNonNullable=!1}get nonNullable(){const x=new O;return x.useNonNullable=!0,x}group(x,W=null){const de=this._reduceControls(x);let vt={};return Ri(W)?vt=W:null!==W&&(vt.validators=W.validator,vt.asyncValidators=W.asyncValidator),new nn(de,vt)}record(x,W=null){const de=this._reduceControls(x);return new pn(de,W)}control(x,W,de){let vt={};return this.useNonNullable?(Ri(W)?vt=W:(vt.validators=W,vt.asyncValidators=de),new tn(x,{...vt,nonNullable:!0})):new tn(x,W,de)}array(x,W,de){const vt=x.map(Yt=>this._createControl(Yt));return new lo(vt,W,de)}_reduceControls(x){const W={};return Object.keys(x).forEach(de=>{W[de]=this._createControl(x[de])}),W}_createControl(x){return x instanceof tn||x instanceof xt?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}static#e=this.\u0275fac=function(W){return new(W||O)};static#t=this.\u0275prov=_.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),pe=(()=>{class O{static withConfig(x){return{ngModule:O,providers:[{provide:Br,useValue:x.callSetDisabledState??yi}]}}static#e=this.\u0275fac=function(W){return new(W||O)};static#t=this.\u0275mod=_.oAB({type:O});static#n=this.\u0275inj=_.cJS({imports:[zi]})}return O})(),Ne=(()=>{class O{static withConfig(x){return{ngModule:O,providers:[{provide:Wo,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:Br,useValue:x.callSetDisabledState??yi}]}}static#e=this.\u0275fac=function(W){return new(W||O)};static#t=this.\u0275mod=_.oAB({type:O});static#n=this.\u0275inj=_.cJS({imports:[zi]})}return O})()},6593:(bn,dt,X)=>{X.d(dt,{Dx:()=>sn,b2:()=>rr,q6:()=>pr,se:()=>ct});var _=X(4946),ge=X(6814);class Z extends ge.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Oe extends Z{static makeCurrent(){(0,ge.HT)(new Oe)}onAndCancel(ee,te,re){return ee.addEventListener(te,re),()=>{ee.removeEventListener(te,re)}}dispatchEvent(ee,te){ee.dispatchEvent(te)}remove(ee){ee.parentNode&&ee.parentNode.removeChild(ee)}createElement(ee,te){return(te=te||this.getDefaultDocument()).createElement(ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ee){return ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(ee){return ee instanceof DocumentFragment}getGlobalEventTarget(ee,te){return"window"===te?window:"document"===te?ee:"body"===te?ee.body:null}getBaseHref(ee){const te=function ue(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==te?null:function Ye(J){fe=fe||document.createElement("a"),fe.setAttribute("href",J);const ee=fe.pathname;return"/"===ee.charAt(0)?ee:`/${ee}`}(te)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(ee){return(0,ge.Mx)(document.cookie,ee)}}let fe,Se=null,ve=(()=>{class J{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(re){return new(re||J)};static#t=this.\u0275prov=_.Yz7({token:J,factory:J.\u0275fac})}return J})();const me=new _.OlP("EventManagerPlugins");let We=(()=>{class J{constructor(te,re){this._zone=re,this._eventNameToPlugin=new Map,te.forEach(Me=>{Me.manager=this}),this._plugins=te.slice().reverse()}addEventListener(te,re,Me){return this._findPluginFor(re).addEventListener(te,re,Me)}getZone(){return this._zone}_findPluginFor(te){let re=this._eventNameToPlugin.get(te);if(re)return re;if(re=this._plugins.find(ht=>ht.supports(te)),!re)throw new _.vHH(5101,!1);return this._eventNameToPlugin.set(te,re),re}static#e=this.\u0275fac=function(re){return new(re||J)(_.LFG(me),_.LFG(_.R0b))};static#t=this.\u0275prov=_.Yz7({token:J,factory:J.\u0275fac})}return J})();class nt{constructor(ee){this._doc=ee}}const Ae="ng-app-id";let Mt=(()=>{class J{constructor(te,re,Me,ht={}){this.doc=te,this.appId=re,this.nonce=Me,this.platformId=ht,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ge.PM)(ht),this.resetHostNodes()}addStyles(te){for(const re of te)1===this.changeUsageCount(re,1)&&this.onStyleAdded(re)}removeStyles(te){for(const re of te)this.changeUsageCount(re,-1)<=0&&this.onStyleRemoved(re)}ngOnDestroy(){const te=this.styleNodesInDOM;te&&(te.forEach(re=>re.remove()),te.clear());for(const re of this.getAllStyles())this.onStyleRemoved(re);this.resetHostNodes()}addHost(te){this.hostNodes.add(te);for(const re of this.getAllStyles())this.addStyleToHost(te,re)}removeHost(te){this.hostNodes.delete(te)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(te){for(const re of this.hostNodes)this.addStyleToHost(re,te)}onStyleRemoved(te){const re=this.styleRef;re.get(te)?.elements?.forEach(Me=>Me.remove()),re.delete(te)}collectServerRenderedStyles(){const te=this.doc.head?.querySelectorAll(`style[${Ae}="${this.appId}"]`);if(te?.length){const re=new Map;return te.forEach(Me=>{null!=Me.textContent&&re.set(Me.textContent,Me)}),re}return null}changeUsageCount(te,re){const Me=this.styleRef;if(Me.has(te)){const ht=Me.get(te);return ht.usage+=re,ht.usage}return Me.set(te,{usage:re,elements:[]}),re}getStyleElement(te,re){const Me=this.styleNodesInDOM,ht=Me?.get(re);if(ht?.parentNode===te)return Me.delete(re),ht.removeAttribute(Ae),ht;{const xt=this.doc.createElement("style");return this.nonce&&xt.setAttribute("nonce",this.nonce),xt.textContent=re,this.platformIsServer&&xt.setAttribute(Ae,this.appId),xt}}addStyleToHost(te,re){const Me=this.getStyleElement(te,re);te.appendChild(Me);const ht=this.styleRef,xt=ht.get(re)?.elements;xt?xt.push(Me):ht.set(re,{elements:[Me],usage:1})}resetHostNodes(){const te=this.hostNodes;te.clear(),te.add(this.doc.head)}static#e=this.\u0275fac=function(re){return new(re||J)(_.LFG(ge.K0),_.LFG(_.AFp),_.LFG(_.Ojb,8),_.LFG(_.Lbi))};static#t=this.\u0275prov=_.Yz7({token:J,factory:J.\u0275fac})}return J})();const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ft=/%COMP%/g,rt=new _.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function bt(J,ee){return ee.map(te=>te.replace(Ft,J))}let ct=(()=>{class J{constructor(te,re,Me,ht,xt,nn,mn,Gn=null){this.eventManager=te,this.sharedStylesHost=re,this.appId=Me,this.removeStylesOnCompDestroy=ht,this.doc=xt,this.platformId=nn,this.ngZone=mn,this.nonce=Gn,this.rendererByCompId=new Map,this.platformIsServer=(0,ge.PM)(nn),this.defaultRenderer=new mt(te,xt,mn,this.platformIsServer)}createRenderer(te,re){if(!te||!re)return this.defaultRenderer;this.platformIsServer&&re.encapsulation===_.ifc.ShadowDom&&(re={...re,encapsulation:_.ifc.Emulated});const Me=this.getOrCreateRenderer(te,re);return Me instanceof Wn?Me.applyToHost(te):Me instanceof yt&&Me.applyStyles(),Me}getOrCreateRenderer(te,re){const Me=this.rendererByCompId;let ht=Me.get(re.id);if(!ht){const xt=this.doc,nn=this.ngZone,mn=this.eventManager,Gn=this.sharedStylesHost,pn=this.removeStylesOnCompDestroy,Xn=this.platformIsServer;switch(re.encapsulation){case _.ifc.Emulated:ht=new Wn(mn,Gn,re,this.appId,pn,xt,nn,Xn);break;case _.ifc.ShadowDom:return new It(mn,Gn,te,re,xt,nn,this.nonce,Xn);default:ht=new yt(mn,Gn,re,pn,xt,nn,Xn)}Me.set(re.id,ht)}return ht}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(re){return new(re||J)(_.LFG(We),_.LFG(Mt),_.LFG(_.AFp),_.LFG(rt),_.LFG(ge.K0),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(_.Ojb))};static#t=this.\u0275prov=_.Yz7({token:J,factory:J.\u0275fac})}return J})();class mt{constructor(ee,te,re,Me){this.eventManager=ee,this.doc=te,this.ngZone=re,this.platformIsServer=Me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ee,te){return te?this.doc.createElementNS(gt[te]||te,ee):this.doc.createElement(ee)}createComment(ee){return this.doc.createComment(ee)}createText(ee){return this.doc.createTextNode(ee)}appendChild(ee,te){(Sn(ee)?ee.content:ee).appendChild(te)}insertBefore(ee,te,re){ee&&(Sn(ee)?ee.content:ee).insertBefore(te,re)}removeChild(ee,te){ee&&ee.removeChild(te)}selectRootElement(ee,te){let re="string"==typeof ee?this.doc.querySelector(ee):ee;if(!re)throw new _.vHH(-5104,!1);return te||(re.textContent=""),re}parentNode(ee){return ee.parentNode}nextSibling(ee){return ee.nextSibling}setAttribute(ee,te,re,Me){if(Me){te=Me+":"+te;const ht=gt[Me];ht?ee.setAttributeNS(ht,te,re):ee.setAttribute(te,re)}else ee.setAttribute(te,re)}removeAttribute(ee,te,re){if(re){const Me=gt[re];Me?ee.removeAttributeNS(Me,te):ee.removeAttribute(`${re}:${te}`)}else ee.removeAttribute(te)}addClass(ee,te){ee.classList.add(te)}removeClass(ee,te){ee.classList.remove(te)}setStyle(ee,te,re,Me){Me&(_.JOm.DashCase|_.JOm.Important)?ee.style.setProperty(te,re,Me&_.JOm.Important?"important":""):ee.style[te]=re}removeStyle(ee,te,re){re&_.JOm.DashCase?ee.style.removeProperty(te):ee.style[te]=""}setProperty(ee,te,re){ee[te]=re}setValue(ee,te){ee.nodeValue=te}listen(ee,te,re){if("string"==typeof ee&&!(ee=(0,ge.q)().getGlobalEventTarget(this.doc,ee)))throw new Error(`Unsupported event target ${ee} for event ${te}`);return this.eventManager.addEventListener(ee,te,this.decoratePreventDefault(re))}decoratePreventDefault(ee){return te=>{if("__ngUnwrap__"===te)return ee;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ee(te)):ee(te))&&te.preventDefault()}}}function Sn(J){return"TEMPLATE"===J.tagName&&void 0!==J.content}class It extends mt{constructor(ee,te,re,Me,ht,xt,nn,mn){super(ee,ht,xt,mn),this.sharedStylesHost=te,this.hostEl=re,this.shadowRoot=re.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gn=bt(Me.id,Me.styles);for(const pn of Gn){const Xn=document.createElement("style");nn&&Xn.setAttribute("nonce",nn),Xn.textContent=pn,this.shadowRoot.appendChild(Xn)}}nodeOrShadowRoot(ee){return ee===this.hostEl?this.shadowRoot:ee}appendChild(ee,te){return super.appendChild(this.nodeOrShadowRoot(ee),te)}insertBefore(ee,te,re){return super.insertBefore(this.nodeOrShadowRoot(ee),te,re)}removeChild(ee,te){return super.removeChild(this.nodeOrShadowRoot(ee),te)}parentNode(ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ee)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yt extends mt{constructor(ee,te,re,Me,ht,xt,nn,mn){super(ee,ht,xt,nn),this.sharedStylesHost=te,this.removeStylesOnCompDestroy=Me,this.styles=mn?bt(mn,re.styles):re.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wn extends yt{constructor(ee,te,re,Me,ht,xt,nn,mn){const Gn=Me+"-"+re.id;super(ee,te,re,ht,xt,nn,mn,Gn),this.contentAttr=function et(J){return"_ngcontent-%COMP%".replace(Ft,J)}(Gn),this.hostAttr=function pt(J){return"_nghost-%COMP%".replace(Ft,J)}(Gn)}applyToHost(ee){this.applyStyles(),this.setAttribute(ee,this.hostAttr,"")}createElement(ee,te){const re=super.createElement(ee,te);return super.setAttribute(re,this.contentAttr,""),re}}let Ct=(()=>{class J extends nt{constructor(te){super(te)}supports(te){return!0}addEventListener(te,re,Me){return te.addEventListener(re,Me,!1),()=>this.removeEventListener(te,re,Me)}removeEventListener(te,re,Me){return te.removeEventListener(re,Me)}static#e=this.\u0275fac=function(re){return new(re||J)(_.LFG(ge.K0))};static#t=this.\u0275prov=_.Yz7({token:J,factory:J.\u0275fac})}return J})();const En=["alt","control","meta","shift"],Ve={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ge={alt:J=>J.altKey,control:J=>J.ctrlKey,meta:J=>J.metaKey,shift:J=>J.shiftKey};let Ze=(()=>{class J extends nt{constructor(te){super(te)}supports(te){return null!=J.parseEventName(te)}addEventListener(te,re,Me){const ht=J.parseEventName(re),xt=J.eventCallback(ht.fullKey,Me,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ge.q)().onAndCancel(te,ht.domEventName,xt))}static parseEventName(te){const re=te.toLowerCase().split("."),Me=re.shift();if(0===re.length||"keydown"!==Me&&"keyup"!==Me)return null;const ht=J._normalizeKey(re.pop());let xt="",nn=re.indexOf("code");if(nn>-1&&(re.splice(nn,1),xt="code."),En.forEach(Gn=>{const pn=re.indexOf(Gn);pn>-1&&(re.splice(pn,1),xt+=Gn+".")}),xt+=ht,0!=re.length||0===ht.length)return null;const mn={};return mn.domEventName=Me,mn.fullKey=xt,mn}static matchEventFullKeyCode(te,re){let Me=Ve[te.key]||te.key,ht="";return re.indexOf("code.")>-1&&(Me=te.code,ht="code."),!(null==Me||!Me)&&(Me=Me.toLowerCase()," "===Me?Me="space":"."===Me&&(Me="dot"),En.forEach(xt=>{xt!==Me&&(0,Ge[xt])(te)&&(ht+=xt+".")}),ht+=Me,ht===re)}static eventCallback(te,re,Me){return ht=>{J.matchEventFullKeyCode(ht,te)&&Me.runGuarded(()=>re(ht))}}static _normalizeKey(te){return"esc"===te?"escape":te}static#e=this.\u0275fac=function(re){return new(re||J)(_.LFG(ge.K0))};static#t=this.\u0275prov=_.Yz7({token:J,factory:J.\u0275fac})}return J})();const pr=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:ge.bD},{provide:_.g9A,useValue:function Fn(){Oe.makeCurrent()},multi:!0},{provide:ge.K0,useFactory:function St(){return(0,_.RDi)(document),document},deps:[]}]),Yn=new _.OlP(""),Qn=[{provide:_.rWj,useClass:class Je{addToWindow(ee){_.dqk.getAngularTestability=(re,Me=!0)=>{const ht=ee.findTestabilityInTree(re,Me);if(null==ht)throw new _.vHH(5103,!1);return ht},_.dqk.getAllAngularTestabilities=()=>ee.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>ee.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(re=>{const Me=_.dqk.getAllAngularTestabilities();let ht=Me.length,xt=!1;const nn=function(mn){xt=xt||mn,ht--,0==ht&&re(xt)};Me.forEach(mn=>{mn.whenStable(nn)})})}findTestabilityInTree(ee,te,re){return null==te?null:ee.getTestability(te)??(re?(0,ge.q)().isShadowRoot(te)?this.findTestabilityInTree(ee,te.host,!0):this.findTestabilityInTree(ee,te.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],nr=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function fn(){return new _.qLn},deps:[]},{provide:me,useClass:Ct,multi:!0,deps:[ge.K0,_.R0b,_.Lbi]},{provide:me,useClass:Ze,multi:!0,deps:[ge.K0]},ct,Mt,We,{provide:_.FYo,useExisting:ct},{provide:ge.JF,useClass:ve,deps:[]},[]];let rr=(()=>{class J{constructor(te){}static withServerTransition(te){return{ngModule:J,providers:[{provide:_.AFp,useValue:te.appId}]}}static#e=this.\u0275fac=function(re){return new(re||J)(_.LFG(Yn,12))};static#t=this.\u0275mod=_.oAB({type:J});static#n=this.\u0275inj=_.cJS({providers:[...nr,...Qn],imports:[ge.ez,_.hGG]})}return J})(),sn=(()=>{class J{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}static#e=this.\u0275fac=function(re){return new(re||J)(_.LFG(ge.K0))};static#t=this.\u0275prov=_.Yz7({token:J,factory:function(re){let Me=null;return Me=re?new re:function ir(){return new sn((0,_.LFG)(ge.K0))}(),Me},providedIn:"root"})}return J})();typeof window<"u"&&window},5920:(bn,dt,X)=>{X.d(dt,{F0:()=>vr,Bz:()=>Fe,lC:()=>Ys});var _=X(4946),ge=X(5592),Z=X(4674),Se=X(2459),ue=X(2096),fe=X(5619),Ye=X(7453),Je=X(2737),ve=X(7400),me=X(4564),We=X(2714),nt=X(8251),Ae=X(7103);function Mt(...v){const S=(0,me.yG)(v),m=(0,me.jO)(v),{args:A,keys:L}=(0,Ye.D)(v);if(0===A.length)return(0,Se.D)([],S);const Y=new ge.y(function gt(v,S,m=Je.y){return A=>{Ft(S,()=>{const{length:L}=v,Y=new Array(L);let he=L,qe=L;for(let He=0;He<L;He++)Ft(S,()=>{const Gt=(0,Se.D)(v[He],S);let Hn=!1;Gt.subscribe((0,nt.x)(A,Pr=>{Y[He]=Pr,Hn||(Hn=!0,qe--),qe||A.next(m(Y.slice()))},()=>{--he||A.complete()}))},A)},A)}}(A,S,L?he=>(0,We.n)(L,he):Je.y));return m?Y.pipe((0,ve.Z)(m)):Y}function Ft(v,S,m){v?(0,Ae.f)(m,v,S):S()}const tr=(0,X(2306).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var Jt=X(7537);function rt(...v){return function De(){return(0,Jt.J)(1)}()((0,Se.D)(v,(0,me.yG)(v)))}var et=X(4829);function pt(v){return new ge.y(S=>{(0,et.Xf)(v()).subscribe(S)})}var bt=X(8407);function ct(v,S){const m=(0,Z.m)(v)?v:()=>v,A=L=>L.error(m());return new ge.y(S?L=>S.schedule(A,0,L):A)}var mt=X(6232),Bn=X(7394),hr=X(9360);function Sn(){return(0,hr.e)((v,S)=>{let m=null;v._refCount++;const A=(0,nt.x)(S,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(m=null);const L=v._connection,Y=m;m=null,L&&(!Y||L===Y)&&L.unsubscribe(),S.unsubscribe()});v.subscribe(A),A.closed||(m=v.connect())})}class It extends ge.y{constructor(S,m){super(),this.source=S,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,hr.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Bn.w0;const m=this.getSubject();S.add(this.source.subscribe((0,nt.x)(m,void 0,()=>{this._teardown(),m.complete()},A=>{this._teardown(),m.error(A)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Bn.w0.EMPTY)}return S}refCount(){return Sn()(this)}}var yt=X(8645),Wn=X(6814),Ct=X(7398),En=X(4664);function Ve(v){return v<=0?()=>mt.E:(0,hr.e)((S,m)=>{let A=0;S.subscribe((0,nt.x)(m,L=>{++A<=v&&(m.next(L),v<=A&&m.complete())}))})}function Ze(v,S){return(0,hr.e)((m,A)=>{let L=0;m.subscribe((0,nt.x)(A,Y=>v.call(S,Y,L++)&&A.next(Y)))})}var Ue=X(1631);function ot(v){return(0,hr.e)((S,m)=>{let A=!1;S.subscribe((0,nt.x)(m,L=>{A=!0,m.next(L)},()=>{A||m.next(v),m.complete()}))})}function Dt(v=en){return(0,hr.e)((S,m)=>{let A=!1;S.subscribe((0,nt.x)(m,L=>{A=!0,m.next(L)},()=>A?m.complete():m.error(v())))})}function en(){return new tr}function Fn(v,S){const m=arguments.length>=2;return A=>A.pipe(v?Ze((L,Y)=>v(L,Y,A)):Je.y,Ve(1),m?ot(S):Dt(()=>new tr))}function fn(v,S){return(0,Z.m)(S)?(0,Ue.z)(v,S,1):(0,Ue.z)(v,1)}var St=X(9397);function Dn(v){return(0,hr.e)((S,m)=>{let Y,A=null,L=!1;A=S.subscribe((0,nt.x)(m,void 0,void 0,he=>{Y=(0,et.Xf)(v(he,Dn(v)(S))),A?(A.unsubscribe(),A=null,Y.subscribe(m)):L=!0})),L&&(A.unsubscribe(),A=null,Y.subscribe(m))})}function Qn(v){return v<=0?()=>mt.E:(0,hr.e)((S,m)=>{let A=[];S.subscribe((0,nt.x)(m,L=>{A.push(L),v<A.length&&A.shift()},()=>{for(const L of A)m.next(L);m.complete()},void 0,()=>{A=null}))})}function zr(v){return(0,hr.e)((S,m)=>{try{S.subscribe(m)}finally{m.add(v)}})}var Kn=X(2420),ir=X(6593);const sn="primary",gi=Symbol("RouteTitle");class qn{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const m=this.params[S];return Array.isArray(m)?m[0]:m}return null}getAll(S){if(this.has(S)){const m=this.params[S];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function xr(v){return new qn(v)}function Rn(v,S,m){const A=m.path.split("/");if(A.length>v.length||"full"===m.pathMatch&&(S.hasChildren()||A.length<v.length))return null;const L={};for(let Y=0;Y<A.length;Y++){const he=A[Y],qe=v[Y];if(he.startsWith(":"))L[he.substring(1)]=qe;else if(he!==qe.path)return null}return{consumed:v.slice(0,A.length),posParams:L}}function gr(v,S){const m=v?Object.keys(v):void 0,A=S?Object.keys(S):void 0;if(!m||!A||m.length!=A.length)return!1;let L;for(let Y=0;Y<m.length;Y++)if(L=m[Y],!Gr(v[L],S[L]))return!1;return!0}function Gr(v,S){if(Array.isArray(v)&&Array.isArray(S)){if(v.length!==S.length)return!1;const m=[...v].sort(),A=[...S].sort();return m.every((L,Y)=>A[Y]===L)}return v===S}function ci(v){return v.length>0?v[v.length-1]:null}function Vn(v){return function Oe(v){return!!v&&(v instanceof ge.y||(0,Z.m)(v.lift)&&(0,Z.m)(v.subscribe))}(v)?v:(0,_.QGY)(v)?(0,Se.D)(Promise.resolve(v)):(0,ue.of)(v)}const Sr={exact:function Ot(v,S,m){if(!Zt(v.segments,S.segments)||!fr(v.segments,S.segments,m)||v.numberOfChildren!==S.numberOfChildren)return!1;for(const A in S.children)if(!v.children[A]||!Ot(v.children[A],S.children[A],m))return!1;return!0},subset:Ci},li={exact:function Ei(v,S){return gr(v,S)},subset:function xi(v,S){return Object.keys(S).length<=Object.keys(v).length&&Object.keys(S).every(m=>Gr(v[m],S[m]))},ignored:()=>!0};function or(v,S,m){return Sr[m.paths](v.root,S.root,m.matrixParams)&&li[m.queryParams](v.queryParams,S.queryParams)&&!("exact"===m.fragment&&v.fragment!==S.fragment)}function Ci(v,S,m){return qr(v,S,S.segments,m)}function qr(v,S,m,A){if(v.segments.length>m.length){const L=v.segments.slice(0,m.length);return!(!Zt(L,m)||S.hasChildren()||!fr(L,m,A))}if(v.segments.length===m.length){if(!Zt(v.segments,m)||!fr(v.segments,m,A))return!1;for(const L in S.children)if(!v.children[L]||!Ci(v.children[L],S.children[L],A))return!1;return!0}{const L=m.slice(0,v.segments.length),Y=m.slice(v.segments.length);return!!(Zt(v.segments,L)&&fr(v.segments,L,A)&&v.children[sn])&&qr(v.children[sn],S,Y,A)}}function fr(v,S,m){return S.every((A,L)=>li[m](v[L].parameters,A.parameters))}class Fr{constructor(S=new ln([],{}),m={},A=null){this.root=S,this.queryParams=m,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xr(this.queryParams)),this._queryParamMap}toString(){return _e.serialize(this)}}class ln{constructor(S,m){this.segments=S,this.children=m,this.parent=null,Object.values(m).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return J(this)}}class mi{constructor(S,m){this.path=S,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=xr(this.parameters)),this._parameterMap}toString(){return mn(this)}}function Zt(v,S){return v.length===S.length&&v.every((m,A)=>m.path===S[A].path)}let on=(()=>{class v{static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return new wr},providedIn:"root"})}return v})();class wr{parse(S){const m=new vn(S);return new Fr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(S){const m=`/${ee(S.root,!0)}`,A=function pn(v){const S=Object.keys(v).map(m=>{const A=v[m];return Array.isArray(A)?A.map(L=>`${re(m)}=${re(L)}`).join("&"):`${re(m)}=${re(A)}`}).filter(m=>!!m);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${m}${A}${"string"==typeof S.fragment?`#${function Me(v){return encodeURI(v)}(S.fragment)}`:""}`}}const _e=new wr;function J(v){return v.segments.map(S=>mn(S)).join("/")}function ee(v,S){if(!v.hasChildren())return J(v);if(S){const m=v.children[sn]?ee(v.children[sn],!1):"",A=[];return Object.entries(v.children).forEach(([L,Y])=>{L!==sn&&A.push(`${L}:${ee(Y,!1)}`)}),A.length>0?`${m}(${A.join("//")})`:m}{const m=function ar(v,S){let m=[];return Object.entries(v.children).forEach(([A,L])=>{A===sn&&(m=m.concat(S(L,A)))}),Object.entries(v.children).forEach(([A,L])=>{A!==sn&&(m=m.concat(S(L,A)))}),m}(v,(A,L)=>L===sn?[ee(v.children[sn],!1)]:[`${L}:${ee(A,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[sn]?`${J(v)}/${m[0]}`:`${J(v)}/(${m.join("//")})`}}function te(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function re(v){return te(v).replace(/%3B/gi,";")}function ht(v){return te(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xt(v){return decodeURIComponent(v)}function nn(v){return xt(v.replace(/\+/g,"%20"))}function mn(v){return`${ht(v.path)}${function Gn(v){return Object.keys(v).map(S=>`;${ht(S)}=${ht(v[S])}`).join("")}(v.parameters)}`}const Xn=/^[^\/()?;#]+/;function Br(v){const S=v.match(Xn);return S?S[0]:""}const yi=/^[^\/()?;=#]+/,Ke=/^[^=?&#]+/,_t=/^[^&#]+/;class vn{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(S.length>0||Object.keys(m).length>0)&&(A[sn]=new ln(S,m)),A}parseSegment(){const S=Br(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new _.vHH(4009,!1);return this.capture(S),new mi(xt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const m=function Wr(v){const S=v.match(yi);return S?S[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const L=Br(this.remaining);L&&(A=L,this.capture(A))}S[xt(m)]=xt(A)}parseQueryParam(S){const m=function Pe(v){const S=v.match(Ke);return S?S[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const he=function kt(v){const S=v.match(_t);return S?S[0]:""}(this.remaining);he&&(A=he,this.capture(A))}const L=nn(m),Y=nn(A);if(S.hasOwnProperty(L)){let he=S[L];Array.isArray(he)||(he=[he],S[L]=he),he.push(Y)}else S[L]=Y}parseParens(S){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Br(this.remaining),L=this.remaining[A.length];if("/"!==L&&")"!==L&&";"!==L)throw new _.vHH(4010,!1);let Y;A.indexOf(":")>-1?(Y=A.slice(0,A.indexOf(":")),this.capture(Y),this.capture(":")):S&&(Y=sn);const he=this.parseChildren();m[Y]=1===Object.keys(he).length?he[sn]:new ln([],he),this.consumeOptional("//")}return m}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new _.vHH(4011,!1)}}function zt(v){return v.segments.length>0?new ln([],{[sn]:v}):v}function Ln(v){const S={};for(const A of Object.keys(v.children)){const Y=Ln(v.children[A]);if(A===sn&&0===Y.segments.length&&Y.hasChildren())for(const[he,qe]of Object.entries(Y.children))S[he]=qe;else(Y.segments.length>0||Y.hasChildren())&&(S[A]=Y)}return function Ar(v){if(1===v.numberOfChildren&&v.children[sn]){const S=v.children[sn];return new ln(v.segments.concat(S.segments),S.children)}return v}(new ln(v.segments,S))}function jn(v){return v instanceof Fr}function qi(v){let S;const L=zt(function m(Y){const he={};for(const He of Y.children){const Gt=m(He);he[He.outlet]=Gt}const qe=new ln(Y.url,he);return Y===v&&(S=qe),qe}(v.root));return S??L}function us(v,S,m,A){let L=v;for(;L.parent;)L=L.parent;if(0===S.length)return di(L,L,L,m,A);const Y=function Ji(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Jn(!0,0,v);let S=0,m=!1;const A=v.reduce((L,Y,he)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const qe={};return Object.entries(Y.outlets).forEach(([He,Gt])=>{qe[He]="string"==typeof Gt?Gt.split("/"):Gt}),[...L,{outlets:qe}]}if(Y.segmentPath)return[...L,Y.segmentPath]}return"string"!=typeof Y?[...L,Y]:0===he?(Y.split("/").forEach((qe,He)=>{0==He&&"."===qe||(0==He&&""===qe?m=!0:".."===qe?S++:""!=qe&&L.push(qe))}),L):[...L,Y]},[]);return new Jn(m,S,A)}(S);if(Y.toRoot())return di(L,L,new ln([],{}),m,A);const he=function es(v,S,m){if(v.isAbsolute)return new ur(S,!0,0);if(!m)return new ur(S,!1,NaN);if(null===m.parent)return new ur(m,!0,0);const A=oi(v.commands[0])?0:1;return function Wi(v,S,m){let A=v,L=S,Y=m;for(;Y>L;){if(Y-=L,A=A.parent,!A)throw new _.vHH(4005,!1);L=A.segments.length}return new ur(A,!1,L-Y)}(m,m.segments.length-1+A,v.numberOfDoubleDots)}(Y,L,v),qe=he.processChildren?be(he.segmentGroup,he.index,Y.commands):xs(he.segmentGroup,he.index,Y.commands);return di(L,he.segmentGroup,qe,m,A)}function oi(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Oi(v){return"object"==typeof v&&null!=v&&v.outlets}function di(v,S,m,A,L){let he,Y={};A&&Object.entries(A).forEach(([He,Gt])=>{Y[He]=Array.isArray(Gt)?Gt.map(Hn=>`${Hn}`):`${Gt}`}),he=v===S?m:Si(v,S,m);const qe=zt(Ln(he));return new Fr(qe,Y,L)}function Si(v,S,m){const A={};return Object.entries(v.children).forEach(([L,Y])=>{A[L]=Y===S?m:Si(Y,S,m)}),new ln(v.segments,A)}class Jn{constructor(S,m,A){if(this.isAbsolute=S,this.numberOfDoubleDots=m,this.commands=A,S&&A.length>0&&oi(A[0]))throw new _.vHH(4003,!1);const L=A.find(Oi);if(L&&L!==ci(A))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ur{constructor(S,m,A){this.segmentGroup=S,this.processChildren=m,this.index=A}}function xs(v,S,m){if(v||(v=new ln([],{})),0===v.segments.length&&v.hasChildren())return be(v,S,m);const A=function Te(v,S,m){let A=0,L=S;const Y={match:!1,pathIndex:0,commandIndex:0};for(;L<v.segments.length;){if(A>=m.length)return Y;const he=v.segments[L],qe=m[A];if(Oi(qe))break;const He=`${qe}`,Gt=A<m.length-1?m[A+1]:null;if(L>0&&void 0===He)break;if(He&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!tn(He,Gt,he))return Y;A+=2}else{if(!tn(He,{},he))return Y;A++}L++}return{match:!0,pathIndex:L,commandIndex:A}}(v,S,m),L=m.slice(A.commandIndex);if(A.match&&A.pathIndex<v.segments.length){const Y=new ln(v.segments.slice(0,A.pathIndex),{});return Y.children[sn]=new ln(v.segments.slice(A.pathIndex),v.children),be(Y,0,L)}return A.match&&0===L.length?new ln(v.segments,{}):A.match&&!v.hasChildren()?ke(v,S,m):A.match?be(v,0,L):ke(v,S,m)}function be(v,S,m){if(0===m.length)return new ln(v.segments,{});{const A=function Nr(v){return Oi(v[0])?v[0].outlets:{[sn]:v}}(m),L={};if(Object.keys(A).some(Y=>Y!==sn)&&v.children[sn]&&1===v.numberOfChildren&&0===v.children[sn].segments.length){const Y=be(v.children[sn],S,m);return new ln(v.segments,Y.children)}return Object.entries(A).forEach(([Y,he])=>{"string"==typeof he&&(he=[he]),null!==he&&(L[Y]=xs(v.children[Y],S,he))}),Object.entries(v.children).forEach(([Y,he])=>{void 0===A[Y]&&(L[Y]=he)}),new ln(v.segments,L)}}function ke(v,S,m){const A=v.segments.slice(0,S);let L=0;for(;L<m.length;){const Y=m[L];if(Oi(Y)){const He=at(Y.outlets);return new ln(A,He)}if(0===L&&oi(m[0])){A.push(new mi(v.segments[S].path,Tt(m[0]))),L++;continue}const he=Oi(Y)?Y.outlets[sn]:`${Y}`,qe=L<m.length-1?m[L+1]:null;he&&qe&&oi(qe)?(A.push(new mi(he,Tt(qe))),L+=2):(A.push(new mi(he,{})),L++)}return new ln(A,{})}function at(v){const S={};return Object.entries(v).forEach(([m,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(S[m]=ke(new ln([],{}),0,A))}),S}function Tt(v){const S={};return Object.entries(v).forEach(([m,A])=>S[m]=`${A}`),S}function tn(v,S,m){return v==m.path&&gr(S,m.parameters)}const zn="imperative";class On{constructor(S,m){this.id=S,this.url=m}}class Un extends On{constructor(S,m,A="imperative",L=null){super(S,m),this.type=0,this.navigationTrigger=A,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hi extends On{constructor(S,m,A){super(S,m),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hi extends On{constructor(S,m,A,L){super(S,m),this.reason=A,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ti extends On{constructor(S,m,A,L){super(S,m),this.reason=A,this.code=L,this.type=16}}class Ir extends On{constructor(S,m,A,L){super(S,m),this.error=A,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ks extends On{constructor(S,m,A,L){super(S,m),this.urlAfterRedirects=A,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ro extends On{constructor(S,m,A,L){super(S,m),this.urlAfterRedirects=A,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zs extends On{constructor(S,m,A,L,Y){super(S,m),this.urlAfterRedirects=A,this.state=L,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ns extends On{constructor(S,m,A,L){super(S,m),this.urlAfterRedirects=A,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends On{constructor(S,m,A,L){super(S,m),this.urlAfterRedirects=A,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ms{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vo{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ao{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ps{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(S,m,A){this.routerEvent=S,this.position=m,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Us{}class uo{constructor(S){this.url=S}}class Wo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ai,this.attachRef=null}}let Ai=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(m,A){const L=this.getOrCreateContext(m);L.outlet=A,this.contexts.set(m,L)}onChildOutletDestroyed(m){const A=this.getContext(m);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let A=this.getContext(m);return A||(A=new Wo,this.contexts.set(m,A)),A}getContext(m){return this.contexts.get(m)||null}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class ts{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const m=this.pathFromRoot(S);return m.length>1?m[m.length-2]:null}children(S){const m=Ds(S,this._root);return m?m.children.map(A=>A.value):[]}firstChild(S){const m=Ds(S,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(S){const m=An(S,this._root);return m.length<2?[]:m[m.length-2].children.map(L=>L.value).filter(L=>L!==S)}pathFromRoot(S){return An(S,this._root).map(m=>m.value)}}function Ds(v,S){if(v===S.value)return S;for(const m of S.children){const A=Ds(v,m);if(A)return A}return null}function An(v,S){if(v===S.value)return[S];for(const m of S.children){const A=An(v,m);if(A.length)return A.unshift(S),A}return[]}class mr{constructor(S,m){this.value=S,this.children=m}toString(){return`TreeNode(${this.value})`}}function wn(v){const S={};return v&&v.children.forEach(m=>S[m.value.outlet]=m),S}class ns extends ts{constructor(S,m){super(S),this.snapshot=m,Bt(this,S)}toString(){return this.snapshot.toString()}}function Kr(v,S){const m=function Eo(v,S){const he=new bs([],{},{},"",{},sn,S,null,{});return new Rr("",new mr(he,[]))}(0,S),A=new fe.X([new mi("",{})]),L=new fe.X({}),Y=new fe.X({}),he=new fe.X({}),qe=new fe.X(""),He=new Os(A,L,he,qe,Y,sn,S,m.root);return He.snapshot=m.root,new ns(new mr(He,[]),m)}class Os{constructor(S,m,A,L,Y,he,qe,He){this.urlSubject=S,this.paramsSubject=m,this.queryParamsSubject=A,this.fragmentSubject=L,this.dataSubject=Y,this.outlet=he,this.component=qe,this._futureSnapshot=He,this.title=this.dataSubject?.pipe((0,Ct.U)(Gt=>Gt[gi]))??(0,ue.of)(void 0),this.url=S,this.params=m,this.queryParams=A,this.fragment=L,this.data=Y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(S=>xr(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(S=>xr(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bs(v,S="emptyOnly"){const m=v.pathFromRoot;let A=0;if("always"!==S)for(A=m.length-1;A>=1;){const L=m[A],Y=m[A-1];if(L.routeConfig&&""===L.routeConfig.path)A--;else{if(Y.component)break;A--}}return function ra(v){return v.reduce((S,m)=>({params:{...S.params,...m.params},data:{...S.data,...m.data},resolve:{...m.data,...S.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(A))}class bs{get title(){return this.data?.[gi]}constructor(S,m,A,L,Y,he,qe,He,Gt){this.url=S,this.params=m,this.queryParams=A,this.fragment=L,this.data=Y,this.outlet=he,this.component=qe,this.routeConfig=He,this._resolve=Gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rr extends ts{constructor(S,m){super(m),this.url=S,Bt(this,m)}toString(){return xn(this._root)}}function Bt(v,S){S.value._routerState=v,S.children.forEach(m=>Bt(v,m))}function xn(v){const S=v.children.length>0?` { ${v.children.map(xn).join(", ")} } `:"";return`${v.value}${S}`}function cr(v){if(v.snapshot){const S=v.snapshot,m=v._futureSnapshot;v.snapshot=m,gr(S.queryParams,m.queryParams)||v.queryParamsSubject.next(m.queryParams),S.fragment!==m.fragment&&v.fragmentSubject.next(m.fragment),gr(S.params,m.params)||v.paramsSubject.next(m.params),function Tn(v,S){if(v.length!==S.length)return!1;for(let m=0;m<v.length;++m)if(!gr(v[m],S[m]))return!1;return!0}(S.url,m.url)||v.urlSubject.next(m.url),gr(S.data,m.data)||v.dataSubject.next(m.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function wi(v,S){const m=gr(v.params,S.params)&&function Vi(v,S){return Zt(v,S)&&v.every((m,A)=>gr(m.parameters,S[A].parameters))}(v.url,S.url);return m&&!(!v.parent!=!S.parent)&&(!v.parent||wi(v.parent,S.parent))}let Ys=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=sn,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(Ai),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb),this.inputBinder=(0,_.f3M)(Mi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:A,previousValue:L}=m.name;if(A)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,A){this.activated=m,this._activatedRoute=A,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,A){if(this.isActivated)throw new _.vHH(4013,!1);this._activatedRoute=m;const L=this.location,he=m.snapshot.component,qe=this.parentContexts.getOrCreateContext(this.name).children,He=new Zi(m,qe,L.injector);this.activated=L.createComponent(he,{index:L.length,injector:He,environmentInjector:A??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275dir=_.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]})}return v})();class Zi{constructor(S,m,A){this.route=S,this.childContexts=m,this.parent=A}get(S,m){return S===Os?this.route:S===Ai?this.childContexts:this.parent.get(S,m)}}const Mi=new _.OlP("");let ni=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:A}=m,L=Mt([A.queryParams,A.params,A.data]).pipe((0,En.w)(([Y,he,qe],He)=>(qe={...Y,...he,...qe},0===He?(0,ue.of)(qe):Promise.resolve(qe)))).subscribe(Y=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(m);const he=(0,_.qFp)(A.component);if(he)for(const{templateName:qe}of he.inputs)m.activatedComponentRef.setInput(qe,Y[qe]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,L)}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac})}return v})();function fi(v,S,m){if(m&&v.shouldReuseRoute(S.value,m.value.snapshot)){const A=m.value;A._futureSnapshot=S.value;const L=function Cn(v,S,m){return S.children.map(A=>{for(const L of m.children)if(v.shouldReuseRoute(A.value,L.value.snapshot))return fi(v,A,L);return fi(v,A)})}(v,S,m);return new mr(A,L)}{if(v.shouldAttach(S.value)){const Y=v.retrieve(S.value);if(null!==Y){const he=Y.route;return he.value._futureSnapshot=S.value,he.children=S.children.map(qe=>fi(v,qe)),he}}const A=function ys(v){return new Os(new fe.X(v.url),new fe.X(v.params),new fe.X(v.queryParams),new fe.X(v.fragment),new fe.X(v.data),v.outlet,v.component,v)}(S.value),L=S.children.map(Y=>fi(v,Y));return new mr(A,L)}}const ks="ngNavigationCancelingError";function js(v,S){const{redirectTo:m,navigationBehaviorOptions:A}=jn(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,L=Qr(!1,0,S);return L.url=m,L.navigationBehaviorOptions=A,L}function Qr(v,S,m){const A=new Error("NavigationCancelingError: "+(v||""));return A[ks]=!0,A.cancellationCode=S,m&&(A.url=m),A}function ki(v){return v&&v[ks]}let Ui=(()=>{class v{static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275cmp=_.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(A,L){1&A&&_._UZ(0,"router-outlet")},dependencies:[Ys],encapsulation:2})}return v})();function vs(v){const S=v.children&&v.children.map(vs),m=S?{...v,children:S}:{...v};return!m.component&&!m.loadComponent&&(S||m.loadChildren)&&m.outlet&&m.outlet!==sn&&(m.component=Ui),m}function Ii(v){return v.outlet||sn}function zi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let S=v.parent;S;S=S.parent){const m=S.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class ho{constructor(S,m,A,L,Y){this.routeReuseStrategy=S,this.futureState=m,this.currState=A,this.forwardEvent=L,this.inputBindingEnabled=Y}activate(S){const m=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,A,S),cr(this.futureState.root),this.activateChildRoutes(m,A,S)}deactivateChildRoutes(S,m,A){const L=wn(m);S.children.forEach(Y=>{const he=Y.value.outlet;this.deactivateRoutes(Y,L[he],A),delete L[he]}),Object.values(L).forEach(Y=>{this.deactivateRouteAndItsChildren(Y,A)})}deactivateRoutes(S,m,A){const L=S.value,Y=m?m.value:null;if(L===Y)if(L.component){const he=A.getContext(L.outlet);he&&this.deactivateChildRoutes(S,m,he.children)}else this.deactivateChildRoutes(S,m,A);else Y&&this.deactivateRouteAndItsChildren(m,A)}deactivateRouteAndItsChildren(S,m){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,m):this.deactivateRouteAndOutlet(S,m)}detachAndStoreRouteSubtree(S,m){const A=m.getContext(S.value.outlet),L=A&&S.value.component?A.children:m,Y=wn(S);for(const he of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[he],L);if(A&&A.outlet){const he=A.outlet.detach(),qe=A.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:he,route:S,contexts:qe})}}deactivateRouteAndOutlet(S,m){const A=m.getContext(S.value.outlet),L=A&&S.value.component?A.children:m,Y=wn(S);for(const he of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[he],L);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(S,m,A){const L=wn(m);S.children.forEach(Y=>{this.activateRoutes(Y,L[Y.value.outlet],A),this.forwardEvent(new Ki(Y.value.snapshot))}),S.children.length&&this.forwardEvent(new Rs(S.value.snapshot))}activateRoutes(S,m,A){const L=S.value,Y=m?m.value:null;if(cr(L),L===Y)if(L.component){const he=A.getOrCreateContext(L.outlet);this.activateChildRoutes(S,m,he.children)}else this.activateChildRoutes(S,m,A);else if(L.component){const he=A.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const qe=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),he.children.onOutletReAttached(qe.contexts),he.attachRef=qe.componentRef,he.route=qe.route.value,he.outlet&&he.outlet.attach(qe.componentRef,qe.route.value),cr(qe.route.value),this.activateChildRoutes(S,null,he.children)}else{const qe=zi(L.snapshot);he.attachRef=null,he.route=L,he.injector=qe,he.outlet&&he.outlet.activateWith(L,he.injector),this.activateChildRoutes(S,null,he.children)}}else this.activateChildRoutes(S,null,A)}}class Ri{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Di{constructor(S,m){this.component=S,this.route=m}}function G(v,S,m){const A=v._root;return pe(A,S?S._root:null,m,[A.value])}function ae(v,S){const m=Symbol(),A=S.get(v,m);return A===m?"function"!=typeof v||(0,_.Z0I)(v)?S.get(v):v:A}function pe(v,S,m,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const Y=wn(S);return v.children.forEach(he=>{(function Ne(v,S,m,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const Y=v.value,he=S?S.value:null,qe=m?m.getContext(v.value.outlet):null;if(he&&Y.routeConfig===he.routeConfig){const He=function O(v,S,m){if("function"==typeof m)return m(v,S);switch(m){case"pathParamsChange":return!Zt(v.url,S.url);case"pathParamsOrQueryParamsChange":return!Zt(v.url,S.url)||!gr(v.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wi(v,S)||!gr(v.queryParams,S.queryParams);default:return!wi(v,S)}}(he,Y,Y.routeConfig.runGuardsAndResolvers);He?L.canActivateChecks.push(new Ri(A)):(Y.data=he.data,Y._resolvedData=he._resolvedData),pe(v,S,Y.component?qe?qe.children:null:m,A,L),He&&qe&&qe.outlet&&qe.outlet.isActivated&&L.canDeactivateChecks.push(new Di(qe.outlet.component,he))}else he&&F(S,qe,L),L.canActivateChecks.push(new Ri(A)),pe(v,null,Y.component?qe?qe.children:null:m,A,L)})(he,Y[he.value.outlet],m,A.concat([he.value]),L),delete Y[he.value.outlet]}),Object.entries(Y).forEach(([he,qe])=>F(qe,m.getContext(he),L)),L}function F(v,S,m){const A=wn(v),L=v.value;Object.entries(A).forEach(([Y,he])=>{F(he,L.component?S?S.children.getContext(Y):null:S,m)}),m.canDeactivateChecks.push(new Di(L.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,L))}function x(v){return"function"==typeof v}function Dr(v){return v instanceof tr||"EmptyError"===v?.name}const rs=Symbol("INITIAL_VALUE");function ii(){return(0,En.w)(v=>Mt(v.map(S=>S.pipe(Ve(1),function Ge(...v){const S=(0,me.yG)(v);return(0,hr.e)((m,A)=>{(S?rt(v,m,S):rt(v,m)).subscribe(A)})}(rs)))).pipe((0,Ct.U)(S=>{for(const m of S)if(!0!==m){if(m===rs)return rs;if(!1===m||m instanceof Fr)return m}return!0}),Ze(S=>S!==rs),Ve(1)))}function Qs(v){return(0,bt.z)((0,St.b)(S=>{if(jn(S))throw js(0,S)}),(0,Ct.U)(S=>!0===S))}class sa{constructor(S){this.segmentGroup=S||null}}class br{constructor(S){this.urlTree=S}}function To(v){return ct(new sa(v))}function Cs(v){return ct(new br(v))}class Ss{constructor(S,m){this.urlSerializer=S,this.urlTree=m}noMatchError(S){return new _.vHH(4002,!1)}lineralizeSegments(S,m){let A=[],L=m.root;for(;;){if(A=A.concat(L.segments),0===L.numberOfChildren)return(0,ue.of)(A);if(L.numberOfChildren>1||!L.children[sn])return ct(new _.vHH(4e3,!1));L=L.children[sn]}}applyRedirectCommands(S,m,A){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),S,A)}applyRedirectCreateUrlTree(S,m,A,L){const Y=this.createSegmentGroup(S,m.root,A,L);return new Fr(Y,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(S,m){const A={};return Object.entries(S).forEach(([L,Y])=>{if("string"==typeof Y&&Y.startsWith(":")){const qe=Y.substring(1);A[L]=m[qe]}else A[L]=Y}),A}createSegmentGroup(S,m,A,L){const Y=this.createSegments(S,m.segments,A,L);let he={};return Object.entries(m.children).forEach(([qe,He])=>{he[qe]=this.createSegmentGroup(S,He,A,L)}),new ln(Y,he)}createSegments(S,m,A,L){return m.map(Y=>Y.path.startsWith(":")?this.findPosParam(S,Y,L):this.findOrReturn(Y,A))}findPosParam(S,m,A){const L=A[m.path.substring(1)];if(!L)throw new _.vHH(4001,!1);return L}findOrReturn(S,m){let A=0;for(const L of m){if(L.path===S.path)return m.splice(A),L;A++}return S}}const jo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j(v,S,m,A,L){const Y=y(v,S,m);return Y.matched?(A=function Fs(v,S){return v.providers&&!v._injector&&(v._injector=(0,_.MMx)(v.providers,S,`Route: ${v.path}`)),v._injector??S}(S,A),function ls(v,S,m,A){const L=S.canMatch;if(!L||0===L.length)return(0,ue.of)(!0);const Y=L.map(he=>{const qe=ae(he,v);return Vn(function jr(v){return v&&x(v.canMatch)}(qe)?qe.canMatch(S,m):v.runInContext(()=>qe(S,m)))});return(0,ue.of)(Y).pipe(ii(),Qs())}(A,S,m).pipe((0,Ct.U)(he=>!0===he?Y:{...jo}))):(0,ue.of)(Y)}function y(v,S,m){if(""===S.path)return"full"===S.pathMatch&&(v.hasChildren()||m.length>0)?{...jo}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const L=(S.matcher||Rn)(m,v,S);if(!L)return{...jo};const Y={};Object.entries(L.posParams??{}).forEach(([qe,He])=>{Y[qe]=He.path});const he=L.consumed.length>0?{...Y,...L.consumed[L.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:L.consumed,remainingSegments:m.slice(L.consumed.length),parameters:he,positionalParamSegments:L.posParams??{}}}function w(v,S,m,A){return m.length>0&&function oe(v,S,m){return m.some(A=>Ie(v,S,A)&&Ii(A)!==sn)}(v,m,A)?{segmentGroup:new ln(S,q(A,new ln(m,v.children))),slicedSegments:[]}:0===m.length&&function Ee(v,S,m){return m.some(A=>Ie(v,S,A))}(v,m,A)?{segmentGroup:new ln(v.segments,P(v,0,m,A,v.children)),slicedSegments:m}:{segmentGroup:new ln(v.segments,v.children),slicedSegments:m}}function P(v,S,m,A,L){const Y={};for(const he of A)if(Ie(v,m,he)&&!L[Ii(he)]){const qe=new ln([],{});Y[Ii(he)]=qe}return{...L,...Y}}function q(v,S){const m={};m[sn]=S;for(const A of v)if(""===A.path&&Ii(A)!==sn){const L=new ln([],{});m[Ii(A)]=L}return m}function Ie(v,S,m){return(!(v.hasChildren()||S.length>0)||"full"!==m.pathMatch)&&""===m.path}class Nt{constructor(S,m,A,L,Y,he,qe){this.injector=S,this.configLoader=m,this.rootComponentType=A,this.config=L,this.urlTree=Y,this.paramsInheritanceStrategy=he,this.urlSerializer=qe,this.allowRedirects=!0,this.applyRedirects=new Ss(this.urlSerializer,this.urlTree)}noMatchError(S){return new _.vHH(4002,!1)}recognize(){const S=w(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,sn).pipe(Dn(m=>{if(m instanceof br)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof sa?this.noMatchError(m):m}),(0,Ct.U)(m=>{const A=new bs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,{}),L=new mr(A,m),Y=new Rr("",L),he=function ei(v,S,m=null,A=null){return us(qi(v),S,m,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return he.queryParams=this.urlTree.queryParams,Y.url=this.urlSerializer.serialize(he),this.inheritParamsAndData(Y._root),{state:Y,tree:he}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,sn).pipe(Dn(A=>{throw A instanceof sa?this.noMatchError(A):A}))}inheritParamsAndData(S){const m=S.value,A=Bs(m,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data),S.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(S,m,A,L){return 0===A.segments.length&&A.hasChildren()?this.processChildren(S,m,A):this.processSegment(S,m,A,A.segments,L,!0)}processChildren(S,m,A){const L=[];for(const Y of Object.keys(A.children))"primary"===Y?L.unshift(Y):L.push(Y);return(0,Se.D)(L).pipe(fn(Y=>{const he=A.children[Y],qe=function ri(v,S){const m=v.filter(A=>Ii(A)===S);return m.push(...v.filter(A=>Ii(A)!==S)),m}(m,Y);return this.processSegmentGroup(S,qe,he,Y)}),function Yn(v,S){return(0,hr.e)(function pr(v,S,m,A,L){return(Y,he)=>{let qe=m,He=S,Gt=0;Y.subscribe((0,nt.x)(he,Hn=>{const Pr=Gt++;He=qe?v(He,Hn,Pr):(qe=!0,Hn),A&&he.next(He)},L&&(()=>{qe&&he.next(He),he.complete()})))}}(v,S,arguments.length>=2,!0))}((Y,he)=>(Y.push(...he),Y)),ot(null),function nr(v,S){const m=arguments.length>=2;return A=>A.pipe(v?Ze((L,Y)=>v(L,Y,A)):Je.y,Qn(1),m?ot(S):Dt(()=>new tr))}(),(0,Ue.z)(Y=>{if(null===Y)return To(A);const he=H(Y);return function er(v){v.sort((S,m)=>S.value.outlet===sn?-1:m.value.outlet===sn?1:S.value.outlet.localeCompare(m.value.outlet))}(he),(0,ue.of)(he)}))}processSegment(S,m,A,L,Y,he){return(0,Se.D)(m).pipe(fn(qe=>this.processSegmentAgainstRoute(qe._injector??S,m,qe,A,L,Y,he).pipe(Dn(He=>{if(He instanceof sa)return(0,ue.of)(null);throw He}))),Fn(qe=>!!qe),Dn(qe=>{if(Dr(qe))return function Qe(v,S,m){return 0===S.length&&!v.children[m]}(A,L,Y)?(0,ue.of)([]):To(A);throw qe}))}processSegmentAgainstRoute(S,m,A,L,Y,he,qe){return function je(v,S,m,A){return!!(Ii(v)===A||A!==sn&&Ie(S,m,v))&&("**"===v.path||y(S,v,m).matched)}(A,L,Y,he)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(S,L,A,Y,he,qe):qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,L,m,A,Y,he):To(L):To(L)}expandSegmentAgainstRouteUsingRedirect(S,m,A,L,Y,he){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,A,L,he):this.expandRegularSegmentAgainstRouteUsingRedirect(S,m,A,L,Y,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,m,A,L){const Y=this.applyRedirects.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?Cs(Y):this.applyRedirects.lineralizeSegments(A,Y).pipe((0,Ue.z)(he=>{const qe=new ln(he,{});return this.processSegment(S,m,qe,he,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,m,A,L,Y,he){const{matched:qe,consumedSegments:He,remainingSegments:Gt,positionalParamSegments:Hn}=y(m,L,Y);if(!qe)return To(m);const Pr=this.applyRedirects.applyRedirectCommands(He,L.redirectTo,Hn);return L.redirectTo.startsWith("/")?Cs(Pr):this.applyRedirects.lineralizeSegments(L,Pr).pipe((0,Ue.z)(Or=>this.processSegment(S,A,m,Or.concat(Gt),he,!1)))}matchSegmentAgainstRoute(S,m,A,L,Y,he){let qe;if("**"===A.path){const He=L.length>0?ci(L).parameters:{},Gt=new bs(L,He,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(A),Ii(A),A.component??A._loadedComponent??null,A,ce(A));qe=(0,ue.of)({snapshot:Gt,consumedSegments:[],remainingSegments:[]}),m.children={}}else qe=j(m,A,L,S).pipe((0,Ct.U)(({matched:He,consumedSegments:Gt,remainingSegments:Hn,parameters:Pr})=>He?{snapshot:new bs(Gt,Pr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(A),Ii(A),A.component??A._loadedComponent??null,A,ce(A)),consumedSegments:Gt,remainingSegments:Hn}:null));return qe.pipe((0,En.w)(He=>null===He?To(m):this.getChildConfig(S=A._injector??S,A,L).pipe((0,En.w)(({routes:Gt})=>{const Hn=A._loadedInjector??S,{snapshot:Pr,consumedSegments:Or,remainingSegments:Xo}=He,{segmentGroup:Xs,slicedSegments:Jo}=w(m,Or,Xo,Gt);if(0===Jo.length&&Xs.hasChildren())return this.processChildren(Hn,Gt,Xs).pipe((0,Ct.U)(Js=>null===Js?null:[new mr(Pr,Js)]));if(0===Gt.length&&0===Jo.length)return(0,ue.of)([new mr(Pr,[])]);const Tu=Ii(A)===Y;return this.processSegment(Hn,Gt,Xs,Jo,Tu?sn:Y,!0).pipe((0,Ct.U)(Js=>[new mr(Pr,Js)]))}))))}getChildConfig(S,m,A){return m.children?(0,ue.of)({routes:m.children,injector:S}):m.loadChildren?void 0!==m._loadedRoutes?(0,ue.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function bo(v,S,m,A){const L=S.canLoad;if(void 0===L||0===L.length)return(0,ue.of)(!0);const Y=L.map(he=>{const qe=ae(he,v);return Vn(function de(v){return v&&x(v.canLoad)}(qe)?qe.canLoad(S,m):v.runInContext(()=>qe(S,m)))});return(0,ue.of)(Y).pipe(ii(),Qs())}(S,m,A).pipe((0,Ue.z)(L=>L?this.configLoader.loadChildren(S,m).pipe((0,St.b)(Y=>{m._loadedRoutes=Y.routes,m._loadedInjector=Y.injector})):function Ca(v){return ct(Qr(!1,3))}())):(0,ue.of)({routes:[],injector:S})}}function I(v){const S=v.value.routeConfig;return S&&""===S.path}function H(v){const S=[],m=new Set;for(const A of v){if(!I(A)){S.push(A);continue}const L=S.find(Y=>A.value.routeConfig===Y.value.routeConfig);void 0!==L?(L.children.push(...A.children),m.add(L)):S.push(A)}for(const A of m){const L=H(A.children);S.push(new mr(A.value,L))}return S.filter(A=>!m.has(A))}function B(v){return v.data||{}}function ce(v){return v.resolve||{}}function kn(v){return"string"==typeof v.title||null===v.title}function Tr(v){return(0,En.w)(S=>{const m=v(S);return m?(0,Se.D)(m).pipe((0,Ct.U)(()=>S)):(0,ue.of)(S)})}const sr=new _.OlP("ROUTES");let ji=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,ue.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const A=Vn(m.loadComponent()).pipe((0,Ct.U)(Xr),(0,St.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=Y}),zr(()=>{this.componentLoaders.delete(m)})),L=new It(A,()=>new yt.x).pipe(Sn());return this.componentLoaders.set(m,L),L}loadChildren(m,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,ue.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const Y=function Yi(v,S,m,A){return Vn(v.loadChildren()).pipe((0,Ct.U)(Xr),(0,Ue.z)(L=>L instanceof _.YKP||Array.isArray(L)?(0,ue.of)(L):(0,Se.D)(S.compileModuleAsync(L))),(0,Ct.U)(L=>{A&&A(v);let Y,he,qe=!1;return Array.isArray(L)?(he=L,!0):(Y=L.create(m).injector,he=Y.get(sr,[],{optional:!0,self:!0}).flat()),{routes:he.map(vs),injector:Y}}))}(A,this.compiler,m,this.onLoadEndListener).pipe(zr(()=>{this.childrenLoaders.delete(A)})),he=new It(Y,()=>new yt.x).pipe(Sn());return this.childrenLoaders.set(A,he),he}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Xr(v){return function ds(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let ai=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yt.x,this.transitionAbortSubject=new yt.x,this.configLoader=(0,_.f3M)(ji),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(on),this.rootContexts=(0,_.f3M)(Ai),this.inputBindingEnabled=null!==(0,_.f3M)(Mi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ue.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new vo(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new ms(L))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:A})}setupNavigations(m,A,L){return this.transitions=new fe.X({id:0,currentUrlTree:A,currentRawUrl:A,currentBrowserUrl:A,extractedUrl:m.urlHandlingStrategy.extract(A),urlAfterRedirects:m.urlHandlingStrategy.extract(A),rawUrl:A,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zn,restoredState:null,currentSnapshot:L.snapshot,targetSnapshot:null,currentRouterState:L,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ze(Y=>0!==Y.id),(0,Ct.U)(Y=>({...Y,extractedUrl:m.urlHandlingStrategy.extract(Y.rawUrl)})),(0,En.w)(Y=>{this.currentTransition=Y;let he=!1,qe=!1;return(0,ue.of)(Y).pipe((0,St.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.rawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,En.w)(He=>{const Gt=He.currentBrowserUrl.toString(),Hn=!m.navigated||He.extractedUrl.toString()!==Gt||Gt!==He.currentUrlTree.toString();if(!Hn&&"reload"!==(He.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Or="";return this.events.next(new ti(He.id,this.urlSerializer.serialize(He.rawUrl),Or,0)),He.resolve(null),mt.E}if(m.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return(0,ue.of)(He).pipe((0,En.w)(Or=>{const Xo=this.transitions?.getValue();return this.events.next(new Un(Or.id,this.urlSerializer.serialize(Or.extractedUrl),Or.source,Or.restoredState)),Xo!==this.transitions?.getValue()?mt.E:Promise.resolve(Or)}),function Be(v,S,m,A,L,Y){return(0,Ue.z)(he=>function Rt(v,S,m,A,L,Y,he="emptyOnly"){return new Nt(v,S,m,A,L,he,Y).recognize()}(v,S,m,A,he.extractedUrl,L,Y).pipe((0,Ct.U)(({state:qe,tree:He})=>({...he,targetSnapshot:qe,urlAfterRedirects:He}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,St.b)(Or=>{Y.targetSnapshot=Or.targetSnapshot,Y.urlAfterRedirects=Or.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Or.urlAfterRedirects};const Xo=new Ks(Or.id,this.urlSerializer.serialize(Or.extractedUrl),this.urlSerializer.serialize(Or.urlAfterRedirects),Or.targetSnapshot);this.events.next(Xo)}));if(Hn&&m.urlHandlingStrategy.shouldProcessUrl(He.currentRawUrl)){const{id:Or,extractedUrl:Xo,source:Xs,restoredState:Jo,extras:Tu}=He,Js=new Un(Or,this.urlSerializer.serialize(Xo),Xs,Jo);this.events.next(Js);const Ls=Kr(0,this.rootComponentType).snapshot;return this.currentTransition=Y={...He,targetSnapshot:Ls,urlAfterRedirects:Xo,extras:{...Tu,skipLocationChange:!1,replaceUrl:!1}},(0,ue.of)(Y)}{const Or="";return this.events.next(new ti(He.id,this.urlSerializer.serialize(He.extractedUrl),Or,1)),He.resolve(null),mt.E}}),(0,St.b)(He=>{const Gt=new Ro(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(Gt)}),(0,Ct.U)(He=>(this.currentTransition=Y={...He,guards:G(He.targetSnapshot,He.currentSnapshot,this.rootContexts)},Y)),function Bi(v,S){return(0,Ue.z)(m=>{const{targetSnapshot:A,currentSnapshot:L,guards:{canActivateChecks:Y,canDeactivateChecks:he}}=m;return 0===he.length&&0===Y.length?(0,ue.of)({...m,guardsResult:!0}):function pi(v,S,m,A){return(0,Se.D)(v).pipe((0,Ue.z)(L=>function Ko(v,S,m,A,L){const Y=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,ue.of)(!0);const he=Y.map(qe=>{const He=zi(S)??L,Gt=ae(qe,He);return Vn(function lr(v){return v&&x(v.canDeactivate)}(Gt)?Gt.canDeactivate(v,S,m,A):He.runInContext(()=>Gt(v,S,m,A))).pipe(Fn())});return(0,ue.of)(he).pipe(ii())}(L.component,L.route,m,S,A)),Fn(L=>!0!==L,!0))}(he,A,L,v).pipe((0,Ue.z)(qe=>qe&&function W(v){return"boolean"==typeof v}(qe)?function fo(v,S,m,A){return(0,Se.D)(S).pipe(fn(L=>rt(function Io(v,S){return null!==v&&S&&S(new ao(v)),(0,ue.of)(!0)}(L.route.parent,A),function is(v,S){return null!==v&&S&&S(new Ps(v)),(0,ue.of)(!0)}(L.route,A),function Do(v,S,m){const A=S[S.length-1],Y=S.slice(0,S.length-1).reverse().map(he=>function z(v){const S=v.routeConfig?v.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:v,guards:S}:null}(he)).filter(he=>null!==he).map(he=>pt(()=>{const qe=he.guards.map(He=>{const Gt=zi(he.node)??m,Hn=ae(He,Gt);return Vn(function Yt(v){return v&&x(v.canActivateChild)}(Hn)?Hn.canActivateChild(A,v):Gt.runInContext(()=>Hn(A,v))).pipe(Fn())});return(0,ue.of)(qe).pipe(ii())}));return(0,ue.of)(Y).pipe(ii())}(v,L.path,m),function po(v,S,m){const A=S.routeConfig?S.routeConfig.canActivate:null;if(!A||0===A.length)return(0,ue.of)(!0);const L=A.map(Y=>pt(()=>{const he=zi(S)??m,qe=ae(Y,he);return Vn(function vt(v){return v&&x(v.canActivate)}(qe)?qe.canActivate(S,v):he.runInContext(()=>qe(S,v))).pipe(Fn())}));return(0,ue.of)(L).pipe(ii())}(v,L.route,m))),Fn(L=>!0!==L,!0))}(A,Y,v,S):(0,ue.of)(qe)),(0,Ct.U)(qe=>({...m,guardsResult:qe})))})}(this.environmentInjector,He=>this.events.next(He)),(0,St.b)(He=>{if(Y.guardsResult=He.guardsResult,jn(He.guardsResult))throw js(0,He.guardsResult);const Gt=new Zs(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.events.next(Gt)}),Ze(He=>!!He.guardsResult||(this.cancelNavigationTransition(He,"",3),!1)),Tr(He=>{if(He.guards.canActivateChecks.length)return(0,ue.of)(He).pipe((0,St.b)(Gt=>{const Hn=new Ns(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(Hn)}),(0,En.w)(Gt=>{let Hn=!1;return(0,ue.of)(Gt).pipe(function st(v,S){return(0,Ue.z)(m=>{const{targetSnapshot:A,guards:{canActivateChecks:L}}=m;if(!L.length)return(0,ue.of)(m);let Y=0;return(0,Se.D)(L).pipe(fn(he=>function $t(v,S,m,A){const L=v.routeConfig,Y=v._resolve;return void 0!==L?.title&&!kn(L)&&(Y[gi]=L.title),function Lr(v,S,m,A){const L=function Mr(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===L.length)return(0,ue.of)({});const Y={};return(0,Se.D)(L).pipe((0,Ue.z)(he=>function $n(v,S,m,A){const L=zi(S)??A,Y=ae(v,L);return Vn(Y.resolve?Y.resolve(S,m):L.runInContext(()=>Y(S,m)))}(v[he],S,m,A).pipe(Fn(),(0,St.b)(qe=>{Y[he]=qe}))),Qn(1),function rr(v){return(0,Ct.U)(()=>v)}(Y),Dn(he=>Dr(he)?mt.E:ct(he)))}(Y,v,S,A).pipe((0,Ct.U)(he=>(v._resolvedData=he,v.data=Bs(v,m).resolve,L&&kn(L)&&(v.data[gi]=L.title),null)))}(he.route,A,v,S)),(0,St.b)(()=>Y++),Qn(1),(0,Ue.z)(he=>Y===L.length?(0,ue.of)(m):mt.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,St.b)({next:()=>Hn=!0,complete:()=>{Hn||this.cancelNavigationTransition(Gt,"",2)}}))}),(0,St.b)(Gt=>{const Hn=new oo(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(Hn)}))}),Tr(He=>{const Gt=Hn=>{const Pr=[];Hn.routeConfig?.loadComponent&&!Hn.routeConfig._loadedComponent&&Pr.push(this.configLoader.loadComponent(Hn.routeConfig).pipe((0,St.b)(Or=>{Hn.component=Or}),(0,Ct.U)(()=>{})));for(const Or of Hn.children)Pr.push(...Gt(Or));return Pr};return Mt(Gt(He.targetSnapshot.root)).pipe(ot(),Ve(1))}),Tr(()=>this.afterPreactivation()),(0,Ct.U)(He=>{const Gt=function cs(v,S,m){const A=fi(v,S._root,m?m._root:void 0);return new ns(A,S)}(m.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return this.currentTransition=Y={...He,targetRouterState:Gt},Y}),(0,St.b)(()=>{this.events.next(new Us)}),((v,S,m,A)=>(0,Ct.U)(L=>(new ho(S,L.targetRouterState,L.currentRouterState,m,A).activate(v),L)))(this.rootContexts,m.routeReuseStrategy,He=>this.events.next(He),this.inputBindingEnabled),Ve(1),(0,St.b)({next:He=>{he=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hi(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects))),m.titleStrategy?.updateTitle(He.targetRouterState.snapshot),He.resolve(!0)},complete:()=>{he=!0}}),function _n(v){return(0,hr.e)((S,m)=>{(0,et.Xf)(v).subscribe((0,nt.x)(m,()=>m.complete(),Kn.Z)),!m.closed&&S.subscribe(m)})}(this.transitionAbortSubject.pipe((0,St.b)(He=>{throw He}))),zr(()=>{he||qe||this.cancelNavigationTransition(Y,"",1),this.currentNavigation?.id===Y.id&&(this.currentNavigation=null)}),Dn(He=>{if(qe=!0,ki(He))this.events.next(new hi(Y.id,this.urlSerializer.serialize(Y.extractedUrl),He.message,He.cancellationCode)),function $s(v){return ki(v)&&jn(v.url)}(He)?this.events.next(new uo(He.url)):Y.resolve(!1);else{this.events.next(new Ir(Y.id,this.urlSerializer.serialize(Y.extractedUrl),He,Y.targetSnapshot??void 0));try{Y.resolve(m.errorHandler(He))}catch(Gt){Y.reject(Gt)}}return mt.E}))}))}cancelNavigationTransition(m,A,L){const Y=new hi(m.id,this.urlSerializer.serialize(m.extractedUrl),A,L);this.events.next(Y),m.resolve(!1)}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Ht(v){return v!==zn}let yn=(()=>{class v{buildTitle(m){let A,L=m.root;for(;void 0!==L;)A=this.getResolvedTitleForRoute(L)??A,L=L.children.find(Y=>Y.outlet===sn);return A}getResolvedTitleForRoute(m){return m.data[gi]}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return(0,_.f3M)(Mn)},providedIn:"root"})}return v})(),Mn=(()=>{class v extends yn{constructor(m){super(),this.title=m}updateTitle(m){const A=this.buildTitle(m);void 0!==A&&this.title.setTitle(A)}static#e=this.\u0275fac=function(A){return new(A||v)(_.LFG(ir.Dx))};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),it=(()=>{class v{static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return(0,_.f3M)(Gi)},providedIn:"root"})}return v})();class yr{shouldDetach(S){return!1}store(S,m){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,m){return S.routeConfig===m.routeConfig}}let Gi=(()=>{class v extends yr{static#e=this.\u0275fac=function(){let m;return function(L){return(m||(m=_.n5z(v)))(L||v)}}();static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const hs=new _.OlP("",{providedIn:"root",factory:()=>({})});let Kt=(()=>{class v{static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:function(){return(0,_.f3M)(Lt)},providedIn:"root"})}return v})(),Lt=(()=>{class v{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,A){return m}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var Sa=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(Sa||{});function Vt(v,S){v.events.pipe(Ze(m=>m instanceof Hi||m instanceof hi||m instanceof Ir||m instanceof ti),(0,Ct.U)(m=>m instanceof Hi||m instanceof ti?Sa.COMPLETE:m instanceof hi&&(0===m.code||1===m.code)?Sa.REDIRECTING:Sa.FAILED),Ze(m=>m!==Sa.REDIRECTING),Ve(1)).subscribe(()=>{S()})}function $e(v){throw v}function lt(v,S,m){return S.parse("/")}const Jr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Aa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vr=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this._events=new yt.x,this.options=(0,_.f3M)(hs,{optional:!0})||{},this.pendingTasks=(0,_.f3M)(_.HDt),this.errorHandler=this.options.errorHandler||$e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(Kt),this.routeReuseStrategy=(0,_.f3M)(it),this.titleStrategy=(0,_.f3M)(yn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,_.f3M)(sr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,_.f3M)(ai),this.urlSerializer=(0,_.f3M)(on),this.location=(0,_.f3M)(Wn.Ye),this.componentInputBindingEnabled=!!(0,_.f3M)(Mi,{optional:!0}),this.eventsSubscription=new Bn.w0,this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Kr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(A=>{try{const{currentTransition:L}=this.navigationTransitions;if(null===L)return void(ju(A)&&this._events.next(A));if(A instanceof Un)Ht(L.source)&&(this.browserUrlTree=L.extractedUrl);else if(A instanceof ti)this.rawUrlTree=L.rawUrl;else if(A instanceof Ks){if("eager"===this.urlUpdateStrategy){if(!L.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl);this.setBrowserUrl(Y,L)}this.browserUrlTree=L.urlAfterRedirects}}else if(A instanceof Us)this.currentUrlTree=L.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl),this.routerState=L.targetRouterState,"deferred"===this.urlUpdateStrategy&&(L.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,L),this.browserUrlTree=L.urlAfterRedirects);else if(A instanceof hi)0!==A.code&&1!==A.code&&(this.navigated=!0),(3===A.code||2===A.code)&&this.restoreHistory(L);else if(A instanceof uo){const Y=this.urlHandlingStrategy.merge(A.url,L.currentRawUrl),he={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ht(L.source)};this.scheduleNavigation(Y,zn,null,he,{resolve:L.resolve,reject:L.reject,promise:L.promise})}A instanceof Ir&&this.restoreHistory(L,!0),A instanceof Hi&&(this.navigated=!0),ju(A)&&this._events.next(A)}catch(L){this.navigationTransitions.transitionAbortSubject.next(L)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const A="popstate"===m.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,A,m.state)},0)}))}navigateToSyncWithBrowser(m,A,L){const Y={replaceUrl:!0},he=L?.navigationId?L:null;if(L){const He={...L};delete He.navigationId,delete He.\u0275routerPageId,0!==Object.keys(He).length&&(Y.state=He)}const qe=this.parseUrl(m);this.scheduleNavigation(qe,A,he,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(vs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,A={}){const{relativeTo:L,queryParams:Y,fragment:he,queryParamsHandling:qe,preserveFragment:He}=A,Gt=He?this.currentUrlTree.fragment:he;let Pr,Hn=null;switch(qe){case"merge":Hn={...this.currentUrlTree.queryParams,...Y};break;case"preserve":Hn=this.currentUrlTree.queryParams;break;default:Hn=Y||null}null!==Hn&&(Hn=this.removeEmptyProps(Hn));try{Pr=qi(L?L.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Pr=this.currentUrlTree.root}return us(Pr,m,Hn,Gt??null)}navigateByUrl(m,A={skipLocationChange:!1}){const L=jn(m)?m:this.parseUrl(m),Y=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(Y,zn,null,A)}navigate(m,A={skipLocationChange:!1}){return function tu(v){for(let S=0;S<v.length;S++)if(null==v[S])throw new _.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,A),A)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let A;try{A=this.urlSerializer.parse(m)}catch(L){A=this.malformedUriErrorHandler(L,this.urlSerializer,m)}return A}isActive(m,A){let L;if(L=!0===A?{...Jr}:!1===A?{...Aa}:A,jn(m))return or(this.currentUrlTree,m,L);const Y=this.parseUrl(m);return or(this.currentUrlTree,Y,L)}removeEmptyProps(m){return Object.keys(m).reduce((A,L)=>{const Y=m[L];return null!=Y&&(A[L]=Y),A},{})}scheduleNavigation(m,A,L,Y,he){if(this.disposed)return Promise.resolve(!1);let qe,He,Gt;he?(qe=he.resolve,He=he.reject,Gt=he.promise):Gt=new Promise((Pr,Or)=>{qe=Pr,He=Or});const Hn=this.pendingTasks.add();return Vt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Hn))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:Y,resolve:qe,reject:He,promise:Gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gt.catch(Pr=>Promise.reject(Pr))}setBrowserUrl(m,A){const L=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(L)||A.extras.replaceUrl){const he={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(L,"",he)}else{const Y={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId+1)};this.location.go(L,"",Y)}}restoreHistory(m,A=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-this.browserPageId;0!==Y?this.location.historyGo(Y):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,A){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:A}:{navigationId:m}}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function ju(v){return!(v instanceof Us||v instanceof uo)}class oa{}let Du=(()=>{class v{constructor(m,A,L,Y,he){this.router=m,this.injector=L,this.preloadingStrategy=Y,this.loader=he}setUpPreloading(){this.subscription=this.router.events.pipe(Ze(m=>m instanceof Hi),fn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,A){const L=[];for(const Y of A){Y.providers&&!Y._injector&&(Y._injector=(0,_.MMx)(Y.providers,m,`Route: ${Y.path}`));const he=Y._injector??m,qe=Y._loadedInjector??he;(Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent)&&L.push(this.preloadConfig(he,Y)),(Y.children||Y._loadedRoutes)&&L.push(this.processRoutes(qe,Y.children??Y._loadedRoutes))}return(0,Se.D)(L).pipe((0,Jt.J)())}preloadConfig(m,A){return this.preloadingStrategy.preload(A,()=>{let L;L=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(m,A):(0,ue.of)(null);const Y=L.pipe((0,Ue.z)(he=>null===he?(0,ue.of)(void 0):(A._loadedRoutes=he.routes,A._loadedInjector=he.injector,this.processRoutes(he.injector??m,he.routes))));if(A.loadComponent&&!A._loadedComponent){const he=this.loader.loadComponent(A);return(0,Se.D)([Y,he]).pipe((0,Jt.J)())}return Y})}static#e=this.\u0275fac=function(A){return new(A||v)(_.LFG(vr),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(oa),_.LFG(ji))};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const hn=new _.OlP("");let go=(()=>{class v{constructor(m,A,L,Y,he={}){this.urlSerializer=m,this.transitions=A,this.viewportScroller=L,this.zone=Y,this.options=he,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},he.scrollPositionRestoration=he.scrollPositionRestoration||"disabled",he.anchorScrolling=he.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Un?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Hi?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof ti&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Vs&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vs(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(A){_.$Z()};static#t=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac})}return v})();function an(v,S){return{\u0275kind:v,\u0275providers:S}}function Ut(){const v=(0,_.f3M)(_.zs3);return S=>{const m=v.get(_.z2F);if(S!==m.components[0])return;const A=v.get(vr),L=v.get(xa);1===v.get(Na)&&A.initialNavigation(),v.get(Ra,null,_.XFs.Optional)?.setUpPreloading(),v.get(hn,null,_.XFs.Optional)?.init(),A.resetRootComponentType(m.componentTypes[0]),L.closed||(L.next(),L.complete(),L.unsubscribe())}}const xa=new _.OlP("",{factory:()=>new yt.x}),Na=new _.OlP("",{providedIn:"root",factory:()=>1}),Ra=new _.OlP("");function Pa(v){return an(0,[{provide:Ra,useExisting:Du},{provide:oa,useExisting:v}])}const Hr=new _.OlP("ROUTER_FORROOT_GUARD"),Ho=[Wn.Ye,{provide:on,useClass:wr},vr,Ai,{provide:Os,useFactory:function $i(v){return v.routerState.root},deps:[vr]},ji,[]];function nu(){return new _.PXZ("Router",vr)}let Fe=(()=>{class v{constructor(m){}static forRoot(m,A){return{ngModule:v,providers:[Ho,[],{provide:sr,multi:!0,useValue:m},{provide:Hr,useFactory:ua,deps:[[vr,new _.FiY,new _.tp0]]},{provide:hs,useValue:A||{}},A?.useHash?{provide:Wn.S$,useClass:Wn.Do}:{provide:Wn.S$,useClass:Wn.b0},{provide:hn,useFactory:()=>{const v=(0,_.f3M)(Wn.EM),S=(0,_.f3M)(_.R0b),m=(0,_.f3M)(hs),A=(0,_.f3M)(ai),L=(0,_.f3M)(on);return m.scrollOffset&&v.setOffset(m.scrollOffset),new go(L,A,v,S,m)}},A?.preloadingStrategy?Pa(A.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:nu},A?.initialNavigation?Yo(A):[],A?.bindToComponentInputs?an(8,[ni,{provide:Mi,useExisting:ni}]).\u0275providers:[],[{provide:$a,useFactory:Ut},{provide:_.tb,multi:!0,useExisting:$a}]]}}static forChild(m){return{ngModule:v,providers:[{provide:sr,multi:!0,useValue:m}]}}static#e=this.\u0275fac=function(A){return new(A||v)(_.LFG(Hr,8))};static#t=this.\u0275mod=_.oAB({type:v});static#n=this.\u0275inj=_.cJS({})}return v})();function ua(v){return"guarded"}function Yo(v){return["disabled"===v.initialNavigation?an(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const S=(0,_.f3M)(vr);return()=>{S.setUpLocationChangeListener()}}},{provide:Na,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?an(2,[{provide:Na,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:S=>{const m=S.get(Wn.V_,Promise.resolve());return()=>m.then(()=>new Promise(A=>{const L=S.get(vr),Y=S.get(xa);Vt(L,()=>{A(!0)}),S.get(ai).afterPreactivation=()=>(A(!0),Y.closed?(0,ue.of)(void 0):Y),L.initialNavigation()}))}}]).\u0275providers:[]]}const $a=new _.OlP("")},534:(bn,dt,X)=>{X.d(dt,{Jn:()=>Ci,qX:()=>Sr,Xd:()=>Vn,Mq:()=>fr,C6:()=>Fr,ZF:()=>qr,KN:()=>Vi});var _=X(5861),ge=X(4537),Z=X(7879),Oe=X(9058);const Se=(Ke,Pe)=>Pe.some(_t=>Ke instanceof _t);let ue,fe;const ve=new WeakMap,me=new WeakMap,We=new WeakMap,nt=new WeakMap,Ae=new WeakMap;let Ft={get(Ke,Pe,_t){if(Ke instanceof IDBTransaction){if("done"===Pe)return me.get(Ke);if("objectStoreNames"===Pe)return Ke.objectStoreNames||We.get(Ke);if("store"===Pe)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return De(Ke[Pe])},set:(Ke,Pe,_t)=>(Ke[Pe]=_t,!0),has:(Ke,Pe)=>Ke instanceof IDBTransaction&&("done"===Pe||"store"===Pe)||Pe in Ke};function Jt(Ke){return"function"==typeof Ke?function tr(Ke){return Ke!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Je(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ke)?function(...Pe){return Ke.apply(rt(this),Pe),De(ve.get(this))}:function(...Pe){return De(Ke.apply(rt(this),Pe))}:function(Pe,..._t){const kt=Ke.call(rt(this),Pe,..._t);return We.set(kt,Pe.sort?Pe.sort():[Pe]),De(kt)}}(Ke):(Ke instanceof IDBTransaction&&function gt(Ke){if(me.has(Ke))return;const Pe=new Promise((_t,kt)=>{const vn=()=>{Ke.removeEventListener("complete",zt),Ke.removeEventListener("error",Ln),Ke.removeEventListener("abort",Ln)},zt=()=>{_t(),vn()},Ln=()=>{kt(Ke.error||new DOMException("AbortError","AbortError")),vn()};Ke.addEventListener("complete",zt),Ke.addEventListener("error",Ln),Ke.addEventListener("abort",Ln)});me.set(Ke,Pe)}(Ke),Se(Ke,function Ye(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ke,Ft):Ke)}function De(Ke){if(Ke instanceof IDBRequest)return function Mt(Ke){const Pe=new Promise((_t,kt)=>{const vn=()=>{Ke.removeEventListener("success",zt),Ke.removeEventListener("error",Ln)},zt=()=>{_t(De(Ke.result)),vn()},Ln=()=>{kt(Ke.error),vn()};Ke.addEventListener("success",zt),Ke.addEventListener("error",Ln)});return Pe.then(_t=>{_t instanceof IDBCursor&&ve.set(_t,Ke)}).catch(()=>{}),Ae.set(Pe,Ke),Pe}(Ke);if(nt.has(Ke))return nt.get(Ke);const Pe=Jt(Ke);return Pe!==Ke&&(nt.set(Ke,Pe),Ae.set(Pe,Ke)),Pe}const rt=Ke=>Ae.get(Ke),bt=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],mt=new Map;function Bn(Ke,Pe){if(!(Ke instanceof IDBDatabase)||Pe in Ke||"string"!=typeof Pe)return;if(mt.get(Pe))return mt.get(Pe);const _t=Pe.replace(/FromIndex$/,""),kt=Pe!==_t,vn=ct.includes(_t);if(!(_t in(kt?IDBIndex:IDBObjectStore).prototype)||!vn&&!bt.includes(_t))return;const zt=function(){var Ln=(0,_.Z)(function*(Ar,...jn){const ei=this.transaction(Ar,vn?"readwrite":"readonly");let qi=ei.store;return kt&&(qi=qi.index(jn.shift())),(yield Promise.all([qi[_t](...jn),vn&&ei.done]))[0]});return function(jn){return Ln.apply(this,arguments)}}();return mt.set(Pe,zt),zt}!function cn(Ke){Ft=Ke(Ft)}(Ke=>({...Ke,get:(Pe,_t,kt)=>Bn(Pe,_t)||Ke.get(Pe,_t,kt),has:(Pe,_t)=>!!Bn(Pe,_t)||Ke.has(Pe,_t)}));class hr{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function Sn(Ke){const Pe=Ke.getComponent();return"VERSION"===Pe?.type}(_t)){const kt=_t.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(_t=>_t).join(" ")}}const It="@firebase/app",Wn=new Z.Yd("@firebase/app"),xr="[DEFAULT]",Rn={[It]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tn=new Map,gr=new Map;function Gr(Ke,Pe){try{Ke.container.addComponent(Pe)}catch(_t){Wn.debug(`Component ${Pe.name} failed to register with FirebaseApp ${Ke.name}`,_t)}}function Vn(Ke){const Pe=Ke.name;if(gr.has(Pe))return Wn.debug(`There were multiple attempts to register component ${Pe}.`),!1;gr.set(Pe,Ke);for(const _t of Tn.values())Gr(_t,Ke);return!0}function Sr(Ke,Pe){const _t=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),Ke.container.getProvider(Pe)}const Ot=new Oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xi{constructor(Pe,_t,kt){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new ge.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw Ot.create("app-deleted",{appName:this._name})}}const Ci="9.23.0";function qr(Ke,Pe={}){let _t=Ke;"object"!=typeof Pe&&(Pe={name:Pe});const kt=Object.assign({name:xr,automaticDataCollectionEnabled:!1},Pe),vn=kt.name;if("string"!=typeof vn||!vn)throw Ot.create("bad-app-name",{appName:String(vn)});if(_t||(_t=(0,Oe.aH)()),!_t)throw Ot.create("no-options");const zt=Tn.get(vn);if(zt){if((0,Oe.vZ)(_t,zt.options)&&(0,Oe.vZ)(kt,zt.config))return zt;throw Ot.create("duplicate-app",{appName:vn})}const Ln=new ge.H0(vn);for(const jn of gr.values())Ln.addComponent(jn);const Ar=new xi(_t,kt,Ln);return Tn.set(vn,Ar),Ar}function fr(Ke=xr){const Pe=Tn.get(Ke);if(!Pe&&Ke===xr&&(0,Oe.aH)())return qr();if(!Pe)throw Ot.create("no-app",{appName:Ke});return Pe}function Fr(){return Array.from(Tn.values())}function Vi(Ke,Pe,_t){var kt;let vn=null!==(kt=Rn[Ke])&&void 0!==kt?kt:Ke;_t&&(vn+=`-${_t}`);const zt=vn.match(/\s|\//),Ln=Pe.match(/\s|\//);if(zt||Ln){const Ar=[`Unable to register library "${vn}" with version "${Pe}":`];return zt&&Ar.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),zt&&Ln&&Ar.push("and"),Ln&&Ar.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void Wn.warn(Ar.join(" "))}Vn(new ge.wA(`${vn}-version`,()=>({library:vn,version:Pe}),"VERSION"))}const on="firebase-heartbeat-database",wr=1,_e="firebase-heartbeat-store";let J=null;function ee(){return J||(J=function et(Ke,Pe,{blocked:_t,upgrade:kt,blocking:vn,terminated:zt}={}){const Ln=indexedDB.open(Ke,Pe),Ar=De(Ln);return kt&&Ln.addEventListener("upgradeneeded",jn=>{kt(De(Ln.result),jn.oldVersion,jn.newVersion,De(Ln.transaction),jn)}),_t&&Ln.addEventListener("blocked",jn=>_t(jn.oldVersion,jn.newVersion,jn)),Ar.then(jn=>{zt&&jn.addEventListener("close",()=>zt()),vn&&jn.addEventListener("versionchange",ei=>vn(ei.oldVersion,ei.newVersion,ei))}).catch(()=>{}),Ar}(on,wr,{upgrade:(Ke,Pe)=>{0===Pe&&Ke.createObjectStore(_e)}}).catch(Ke=>{throw Ot.create("idb-open",{originalErrorMessage:Ke.message})})),J}function re(){return(re=(0,_.Z)(function*(Ke){try{return yield(yield ee()).transaction(_e).objectStore(_e).get(xt(Ke))}catch(Pe){if(Pe instanceof Oe.ZR)Wn.warn(Pe.message);else{const _t=Ot.create("idb-get",{originalErrorMessage:Pe?.message});Wn.warn(_t.message)}}})).apply(this,arguments)}function Me(Ke,Pe){return ht.apply(this,arguments)}function ht(){return(ht=(0,_.Z)(function*(Ke,Pe){try{const kt=(yield ee()).transaction(_e,"readwrite");yield kt.objectStore(_e).put(Pe,xt(Ke)),yield kt.done}catch(_t){if(_t instanceof Oe.ZR)Wn.warn(_t.message);else{const kt=Ot.create("idb-set",{originalErrorMessage:_t?.message});Wn.warn(kt.message)}}})).apply(this,arguments)}function xt(Ke){return`${Ke.name}!${Ke.options.appId}`}class Gn{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new Br(_t),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Pe=this;return(0,_.Z)(function*(){const kt=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=pn();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==vn&&!Pe._heartbeatsCache.heartbeats.some(zt=>zt.date===vn))return Pe._heartbeatsCache.heartbeats.push({date:vn,agent:kt}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(zt=>{const Ln=new Date(zt.date).valueOf();return Date.now()-Ln<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,_.Z)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const _t=pn(),{heartbeatsToSend:kt,unsentEntries:vn}=function Xn(Ke,Pe=1024){const _t=[];let kt=Ke.slice();for(const vn of Ke){const zt=_t.find(Ln=>Ln.agent===vn.agent);if(zt){if(zt.dates.push(vn.date),yi(_t)>Pe){zt.dates.pop();break}}else if(_t.push({agent:vn.agent,dates:[vn.date]}),yi(_t)>Pe){_t.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:kt}}(Pe._heartbeatsCache.heartbeats),zt=(0,Oe.L)(JSON.stringify({version:2,heartbeats:kt}));return Pe._heartbeatsCache.lastSentHeartbeatDate=_t,vn.length>0?(Pe._heartbeatsCache.heartbeats=vn,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),zt})()}}function pn(){return(new Date).toISOString().substring(0,10)}class Br{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,Oe.hl)()&&(0,Oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,_.Z)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function te(Ke){return re.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var _t=this;return(0,_.Z)(function*(){var kt;if(yield _t._canUseIndexedDBPromise){const zt=yield _t.read();return Me(_t.app,{lastSentHeartbeatDate:null!==(kt=Pe.lastSentHeartbeatDate)&&void 0!==kt?kt:zt.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var _t=this;return(0,_.Z)(function*(){var kt;if(yield _t._canUseIndexedDBPromise){const zt=yield _t.read();return Me(_t.app,{lastSentHeartbeatDate:null!==(kt=Pe.lastSentHeartbeatDate)&&void 0!==kt?kt:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...Pe.heartbeats]})}})()}}function yi(Ke){return(0,Oe.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Wr(Ke){Vn(new ge.wA("platform-logger",Pe=>new hr(Pe),"PRIVATE")),Vn(new ge.wA("heartbeat",Pe=>new Gn(Pe),"PRIVATE")),Vi(It,"0.9.13",Ke),Vi(It,"0.9.13","esm2017"),Vi("fire-js","")}("")},4537:(bn,dt,X)=>{X.d(dt,{H0:()=>Ye,wA:()=>Z});var _=X(5861),ge=X(9058);class Z{constructor(ve,me,We){this.name=ve,this.instanceFactory=me,this.type=We,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ve){return this.instantiationMode=ve,this}setMultipleInstances(ve){return this.multipleInstances=ve,this}setServiceProps(ve){return this.serviceProps=ve,this}setInstanceCreatedCallback(ve){return this.onInstanceCreated=ve,this}}const Oe="[DEFAULT]";class Se{constructor(ve,me){this.name=ve,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ve){const me=this.normalizeInstanceIdentifier(ve);if(!this.instancesDeferred.has(me)){const We=new ge.BH;if(this.instancesDeferred.set(me,We),this.isInitialized(me)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:me});nt&&We.resolve(nt)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(ve){var me;const We=this.normalizeInstanceIdentifier(ve?.identifier),nt=null!==(me=ve?.optional)&&void 0!==me&&me;if(!this.isInitialized(We)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:We})}catch(Ae){if(nt)return null;throw Ae}}getComponent(){return this.component}setComponent(ve){if(ve.name!==this.name)throw Error(`Mismatching Component ${ve.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ve,this.shouldAutoInitialize()){if(function fe(Je){return"EAGER"===Je.instantiationMode}(ve))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch{}for(const[me,We]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(me);try{const Ae=this.getOrInitializeService({instanceIdentifier:nt});We.resolve(Ae)}catch{}}}}clearInstance(ve=Oe){this.instancesDeferred.delete(ve),this.instancesOptions.delete(ve),this.instances.delete(ve)}delete(){var ve=this;return(0,_.Z)(function*(){const me=Array.from(ve.instances.values());yield Promise.all([...me.filter(We=>"INTERNAL"in We).map(We=>We.INTERNAL.delete()),...me.filter(We=>"_delete"in We).map(We=>We._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ve=Oe){return this.instances.has(ve)}getOptions(ve=Oe){return this.instancesOptions.get(ve)||{}}initialize(ve={}){const{options:me={}}=ve,We=this.normalizeInstanceIdentifier(ve.instanceIdentifier);if(this.isInitialized(We))throw Error(`${this.name}(${We}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:We,options:me});for(const[Ae,Mt]of this.instancesDeferred.entries())We===this.normalizeInstanceIdentifier(Ae)&&Mt.resolve(nt);return nt}onInit(ve,me){var We;const nt=this.normalizeInstanceIdentifier(me),Ae=null!==(We=this.onInitCallbacks.get(nt))&&void 0!==We?We:new Set;Ae.add(ve),this.onInitCallbacks.set(nt,Ae);const Mt=this.instances.get(nt);return Mt&&ve(Mt,nt),()=>{Ae.delete(ve)}}invokeOnInitCallbacks(ve,me){const We=this.onInitCallbacks.get(me);if(We)for(const nt of We)try{nt(ve,me)}catch{}}getOrInitializeService({instanceIdentifier:ve,options:me={}}){let We=this.instances.get(ve);if(!We&&this.component&&(We=this.component.instanceFactory(this.container,{instanceIdentifier:(Je=ve,Je===Oe?void 0:Je),options:me}),this.instances.set(ve,We),this.instancesOptions.set(ve,me),this.invokeOnInitCallbacks(We,ve),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ve,We)}catch{}var Je;return We||null}normalizeInstanceIdentifier(ve=Oe){return this.component?this.component.multipleInstances?ve:Oe:ve}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ye{constructor(ve){this.name=ve,this.providers=new Map}addComponent(ve){const me=this.getProvider(ve.name);if(me.isComponentSet())throw new Error(`Component ${ve.name} has already been registered with ${this.name}`);me.setComponent(ve)}addOrOverwriteComponent(ve){this.getProvider(ve.name).isComponentSet()&&this.providers.delete(ve.name),this.addComponent(ve)}getProvider(ve){if(this.providers.has(ve))return this.providers.get(ve);const me=new Se(ve,this);return this.providers.set(ve,me),me}getProviders(){return Array.from(this.providers.values())}}},7879:(bn,dt,X)=>{X.d(dt,{Yd:()=>fe,in:()=>ge});const _=[];var ge=function(ve){return ve[ve.DEBUG=0]="DEBUG",ve[ve.VERBOSE=1]="VERBOSE",ve[ve.INFO=2]="INFO",ve[ve.WARN=3]="WARN",ve[ve.ERROR=4]="ERROR",ve[ve.SILENT=5]="SILENT",ve}(ge||{});const Z={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},Oe=ge.INFO,Se={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},ue=(ve,me,...We)=>{if(me<ve.logLevel)return;const nt=(new Date).toISOString(),Ae=Se[me];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[Ae](`[${nt}]  ${ve.name}:`,...We)};class fe{constructor(me){this.name=me,this._logLevel=Oe,this._logHandler=ue,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in ge))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?Z[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...me),this._logHandler(this,ge.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...me),this._logHandler(this,ge.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...me),this._logHandler(this,ge.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...me),this._logHandler(this,ge.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...me),this._logHandler(this,ge.ERROR,...me)}}},3182:(bn,dt,X)=>{X.d(dt,{C6:()=>_.C6,KN:()=>_.KN,Mq:()=>_.Mq,ZF:()=>_.ZF});var _=X(534);(0,_.KN)("firebase","9.23.0","app")},5861:(bn,dt,X)=>{function _(Z,Oe,Se,ue,fe,Ye,Je){try{var ve=Z[Ye](Je),me=ve.value}catch(We){return void Se(We)}ve.done?Oe(me):Promise.resolve(me).then(ue,fe)}function ge(Z){return function(){var Oe=this,Se=arguments;return new Promise(function(ue,fe){var Ye=Z.apply(Oe,Se);function Je(me){_(Ye,ue,fe,Je,ve,"next",me)}function ve(me){_(Ye,ue,fe,Je,ve,"throw",me)}Je(void 0)})}}X.d(dt,{Z:()=>ge})},7582:(bn,dt,X)=>{function Oe(Ve,Ge){var Ze={};for(var Ue in Ve)Object.prototype.hasOwnProperty.call(Ve,Ue)&&Ge.indexOf(Ue)<0&&(Ze[Ue]=Ve[Ue]);if(null!=Ve&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ue=Object.getOwnPropertySymbols(Ve);ot<Ue.length;ot++)Ge.indexOf(Ue[ot])<0&&Object.prototype.propertyIsEnumerable.call(Ve,Ue[ot])&&(Ze[Ue[ot]]=Ve[Ue[ot]])}return Ze}function We(Ve,Ge,Ze,Ue){return new(Ze||(Ze=Promise))(function(Dt,en){function Fn(Dn){try{St(Ue.next(Dn))}catch(pr){en(pr)}}function fn(Dn){try{St(Ue.throw(Dn))}catch(pr){en(pr)}}function St(Dn){Dn.done?Dt(Dn.value):function ot(Dt){return Dt instanceof Ze?Dt:new Ze(function(en){en(Dt)})}(Dn.value).then(Fn,fn)}St((Ue=Ue.apply(Ve,Ge||[])).next())})}function De(Ve){return this instanceof De?(this.v=Ve,this):new De(Ve)}function rt(Ve,Ge,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,Ue=Ze.apply(Ve,Ge||[]),Dt=[];return ot={},en("next"),en("throw"),en("return"),ot[Symbol.asyncIterator]=function(){return this},ot;function en(Yn){Ue[Yn]&&(ot[Yn]=function(Qn){return new Promise(function(nr,rr){Dt.push([Yn,Qn,nr,rr])>1||Fn(Yn,Qn)})})}function Fn(Yn,Qn){try{!function fn(Yn){Yn.value instanceof De?Promise.resolve(Yn.value.v).then(St,Dn):pr(Dt[0][2],Yn)}(Ue[Yn](Qn))}catch(nr){pr(Dt[0][3],nr)}}function St(Yn){Fn("next",Yn)}function Dn(Yn){Fn("throw",Yn)}function pr(Yn,Qn){Yn(Qn),Dt.shift(),Dt.length&&Fn(Dt[0][0],Dt[0][1])}}function pt(Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Ge=Ve[Symbol.asyncIterator];return Ge?Ge.call(Ve):(Ve=function gt(Ve){var Ge="function"==typeof Symbol&&Symbol.iterator,Ze=Ge&&Ve[Ge],Ue=0;if(Ze)return Ze.call(Ve);if(Ve&&"number"==typeof Ve.length)return{next:function(){return Ve&&Ue>=Ve.length&&(Ve=void 0),{value:Ve&&Ve[Ue++],done:!Ve}}};throw new TypeError(Ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ve),Ze={},Ue("next"),Ue("throw"),Ue("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function Ue(Dt){Ze[Dt]=Ve[Dt]&&function(en){return new Promise(function(Fn,fn){!function ot(Dt,en,Fn,fn){Promise.resolve(fn).then(function(St){Dt({value:St,done:Fn})},en)}(Fn,fn,(en=Ve[Dt](en)).done,en.value)})}}}X.d(dt,{FC:()=>rt,KL:()=>pt,_T:()=>Oe,mG:()=>We,qq:()=>De}),"function"==typeof SuppressedError&&SuppressedError}},bn=>{bn(bn.s=3171)}]);