"use strict";(self.webpackChunktp_clinica_online=self.webpackChunktp_clinica_online||[]).push([[179],{7247:(Dn,dt,X)=>{X.d(dt,{nm:()=>ii});var v=X(456),Ae=(X(4946),X(8726),X(3182),X(5861)),ce=X(534),fe=X(4537),Xe=X(9058),et=X(7879);const _e=new Map,me={activated:!1,tokenObservers:[]},qe={initialized:!1,enabled:!1};function st(Ie){return _e.get(Ie)||Object.assign({},me)}function Mt(){return qe}const pt="https://content-firebaseappcheck.googleapis.com/v1",er="exchangeDebugToken",Jt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ot{constructor(Te,ke,ut,Ct,tn){if(this.operation=Te,this.retryPolicy=ke,this.getWaitDuration=ut,this.lowerBound=Ct,this.upperBound=tn,this.pending=null,this.nextErrorWaitInterval=Ct,Ct>tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Te){var ke=this;return(0,Ae.Z)(function*(){ke.stop();try{ke.pending=new Xe.BH,yield function tt(Ie){return new Promise(Te=>{setTimeout(Te,Ie)})}(ke.getNextRun(Te)),ke.pending.resolve(),yield ke.pending.promise,ke.pending=new Xe.BH,yield ke.operation(),ke.pending.resolve(),yield ke.pending.promise,ke.process(!0).catch(()=>{})}catch(ut){ke.retryPolicy(ut)?ke.process(!1).catch(()=>{}):ke.stop()}})()}getNextRun(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ke=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ke}}}const Tt=new Xe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mt(Ie){if(!st(Ie).activated)throw Tt.create("use-before-activation",{appName:Ie.name})}function Xr(Ie,Te){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,Ae.Z)(function*({url:Ie,body:Te},ke){const ut={"Content-Type":"application/json"},Ct=ke.getImmediate({optional:!0});if(Ct){const pi=yield Ct.getHeartbeatsHeader();pi&&(ut["X-Firebase-Client"]=pi)}const tn={method:"POST",body:JSON.stringify(Te),headers:ut};let Yn,Pn;try{Yn=yield fetch(Ie,tn)}catch(pi){throw Tt.create("fetch-network-error",{originalErrorMessage:pi?.message})}if(200!==Yn.status)throw Tt.create("fetch-status-error",{httpStatus:Yn.status});try{Pn=yield Yn.json()}catch(pi){throw Tt.create("fetch-parse-error",{originalErrorMessage:pi?.message})}const Nn=Pn.ttl.match(/^([\d.]+)(s)$/);if(!Nn||!Nn[2]||isNaN(Number(Nn[1])))throw Tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Pn.ttl}`});const qi=1e3*Number(Nn[1]),bi=Date.now();return{token:Pn.token,expireTimeMillis:bi+qi,issuedAtTimeMillis:bi}})).apply(this,arguments)}function St(Ie,Te){const{projectId:ke,appId:ut,apiKey:Ct}=Ie.options;return{url:`${pt}/projects/${ke}/apps/${ut}:${er}?key=${Ct}`,body:{debug_token:Te}}}const vn="firebase-app-check-database",Ue=1,ze="firebase-app-check-store";let Be=null;function wn(){return(wn=(0,Ae.Z)(function*(Ie,Te){const ut=(yield function at(){return Be||(Be=new Promise((Ie,Te)=>{try{const ke=indexedDB.open(vn,Ue);ke.onsuccess=ut=>{Ie(ut.target.result)},ke.onerror=ut=>{var Ct;Te(Tt.create("storage-open",{originalErrorMessage:null===(Ct=ut.target.error)||void 0===Ct?void 0:Ct.message}))},ke.onupgradeneeded=ut=>{0===ut.oldVersion&&ut.target.result.createObjectStore(ze,{keyPath:"compositeKey"})}}catch(ke){Te(Tt.create("storage-open",{originalErrorMessage:ke?.message}))}}),Be)}()).transaction(ze,"readwrite"),tn=ut.objectStore(ze).put({compositeKey:Ie,value:Te});return new Promise((Yn,Pn)=>{tn.onsuccess=Nn=>{Yn()},ut.onerror=Nn=>{var qi;Pn(Tt.create("storage-set",{originalErrorMessage:null===(qi=Nn.target.error)||void 0===qi?void 0:qi.message}))}})})).apply(this,arguments)}const nr=new et.Yd("@firebase/app-check");function jn(Ie,Te){return(0,Xe.hl)()?function en(Ie,Te){return function xt(Ie,Te){return wn.apply(this,arguments)}(function Wn(Ie){return`${Ie.options.appId}-${Ie.name}`}(Ie),Te)}(Ie,Te).catch(ke=>{nr.warn(`Failed to write token to IndexedDB. Error: ${ke}`)}):Promise.resolve()}function on(){return Mt().enabled}function fi(){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,Ae.Z)(function*(){const Ie=Mt();if(Ie.enabled&&Ie.token)return Ie.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Sn={error:"UNKNOWN_ERROR"};function bn(Ie){return Xe.US.encodeString(JSON.stringify(Ie),!1)}function fr(Ie){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,Ae.Z)(function*(Ie,Te=!1){const ke=Ie.app;mt(ke);const ut=st(ke);let tn,Ct=ut.token;if(Ct&&!ri(Ct)&&(ut.token=void 0,Ct=void 0),!Ct){const Nn=yield ut.cachedTokenPromise;Nn&&(ri(Nn)?Ct=Nn:yield jn(ke,void 0))}if(!Te&&Ct&&ri(Ct))return{token:Ct.token};let Pn,Yn=!1;if(on()){ut.exchangeTokenPromise||(ut.exchangeTokenPromise=Xr(St(ke,yield fi()),Ie.heartbeatServiceProvider).finally(()=>{ut.exchangeTokenPromise=void 0}),Yn=!0);const Nn=yield ut.exchangeTokenPromise;return yield jn(ke,Nn),ut.token=Nn,{token:Nn.token}}try{ut.exchangeTokenPromise||(ut.exchangeTokenPromise=ut.provider.getToken().finally(()=>{ut.exchangeTokenPromise=void 0}),Yn=!0),Ct=yield st(ke).exchangeTokenPromise}catch(Nn){"appCheck/throttled"===Nn.code?nr.warn(Nn.message):nr.error(Nn),tn=Nn}return Ct?tn?Pn=ri(Ct)?{token:Ct.token,internalError:tn}:Si(tn):(Pn={token:Ct.token},ut.token=Ct,yield jn(ke,Ct)):Pn=Si(tn),Yn&&function Ot(Ie,Te){const ke=st(Ie).tokenObservers;for(const ut of ke)try{"EXTERNAL"===ut.type&&null!=Te.error?ut.error(Te.error):ut.next(Te)}catch{}}(ke,Pn),Pn})).apply(this,arguments)}function ui(Ie){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,Ae.Z)(function*(Ie){const Te=Ie.app;mt(Te);const{provider:ke}=st(Te);if(on()){const ut=yield fi(),{token:Ct}=yield Xr(St(Te,ut),Ie.heartbeatServiceProvider);return{token:Ct}}{const{token:ut}=yield ke.getToken();return{token:ut}}})).apply(this,arguments)}function ci(Ie,Te){const ke=st(Ie),ut=ke.tokenObservers.filter(Ct=>Ct.next!==Te);0===ut.length&&ke.tokenRefresher&&ke.tokenRefresher.isRunning()&&ke.tokenRefresher.stop(),ke.tokenObservers=ut}function ur(Ie){const{app:Te}=Ie,ke=st(Te);let ut=ke.tokenRefresher;ut||(ut=function Xi(Ie){const{app:Te}=Ie;return new ot((0,Ae.Z)(function*(){let ut;if(ut=st(Te).token?yield fr(Ie,!0):yield fr(Ie),ut.error)throw ut.error;if(ut.internalError)throw ut.internalError}),()=>!0,()=>{const ke=st(Te);if(ke.token){let ut=ke.token.issuedAtTimeMillis+.5*(ke.token.expireTimeMillis-ke.token.issuedAtTimeMillis)+3e5;return ut=Math.min(ut,ke.token.expireTimeMillis-3e5),Math.max(0,ut-Date.now())}return 0},Jt.RETRIAL_MIN_WAIT,Jt.RETRIAL_MAX_WAIT)}(Ie),ke.tokenRefresher=ut),!ut.isRunning()&&ke.isTokenAutoRefreshEnabled&&ut.start()}function ri(Ie){return Ie.expireTimeMillis-Date.now()>0}function Si(Ie){return{token:bn(Sn),error:Ie}}class zr{constructor(Te,ke){this.app=Te,this.heartbeatServiceProvider=ke}_delete(){const{tokenObservers:Te}=st(this.app);for(const ke of Te)ci(this.app,ke.next);return Promise.resolve()}}const kt="app-check-internal";!function _n(){(0,ce.Xd)(new fe.wA("app-check",Ie=>function Jr(Ie,Te){return new zr(Ie,Te)}(Ie.getProvider("app").getImmediate(),Ie.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ie,Te,ke)=>{Ie.getProvider(kt).initialize()})),(0,ce.Xd)(new fe.wA(kt,Ie=>function Cr(Ie){return{getToken:Te=>fr(Ie,Te),getLimitedUseToken:()=>ui(Ie),addTokenListener:Te=>function Ir(Ie,Te,ke,ut){const{app:Ct}=Ie,tn=st(Ct);if(tn.tokenObservers=[...tn.tokenObservers,{next:ke,error:ut,type:Te}],tn.token&&ri(tn.token)){const Pn=tn.token;Promise.resolve().then(()=>{ke({token:Pn.token}),ur(Ie)}).catch(()=>{})}tn.cachedTokenPromise.then(()=>ur(Ie))}(Ie,"INTERNAL",Te),removeTokenListener:Te=>ci(Ie.app,Te)}}(Ie.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ce.KN)("@firebase/app-check","0.8.0")}();class ii{constructor(){return(0,v.vb)("app-check")}}typeof window<"u"&&window},8726:(Dn,dt,X)=>{X.d(dt,{Ot:()=>Oe,ZF:()=>Pt,hX:()=>st,z6:()=>Ae});var v=X(3182),pe=X(4946),Z=X(456);class Oe{constructor(ot){return ot}}class Ae{constructor(){return(0,v.C6)()}}const Xe=new pe.OlP("angularfire2._apps"),et={provide:Oe,useFactory:function fe(be){return be&&1===be.length?be[0]:new Oe((0,v.Mq)())},deps:[[new pe.FiY,Xe]]},_e={provide:Ae,deps:[[new pe.FiY,Xe]]};function me(be){return(ot,tt)=>{const gt=ot.runOutsideAngular(()=>be(tt));return new Oe(gt)}}let qe=(()=>{class be{constructor(tt){(0,v.KN)("angularfire",Z.q4.full,"core"),(0,v.KN)("angularfire",Z.q4.full,"app"),(0,v.KN)("angular",pe.q4F.full,tt.toString())}}return be.\u0275fac=function(tt){return new(tt||be)(pe.LFG(pe.Lbi))},be.\u0275mod=pe.oAB({type:be}),be.\u0275inj=pe.cJS({providers:[et,_e]}),be})();function st(be,...ot){return{ngModule:qe,providers:[{provide:Xe,useFactory:me(be),multi:!0,deps:[pe.R0b,pe.zs3,Z.HU,...ot]}]}}const Pt=(0,Z.u3)(v.ZF,!0)},5609:(Dn,dt,X)=>{X.d(dt,{gx:()=>fu,dh:()=>pu,Xb:()=>Rl,v0:()=>_p,Aj:()=>Gu,AR:()=>$c,w$:()=>qu,e5:()=>Am});var v=X(456),pe=X(4946),Z=X(8726),Oe=X(3182),Ae=X(7247),ce=X(5861),fe=X(9058),Xe=X(534),et=X(7582),_e=X(7879),me=X(4537);const Jt=function cn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new _e.Yd("@firebase/auth");function Tt(D,...h){tt.logLevel<=_e.in.ERROR&&tt.error(`Auth (${Xe.Jn}): ${D}`,...h)}function lt(D,...h){throw Xr(D,...h)}function mt(D,...h){return Xr(D,...h)}function Xr(D,...h){if("string"!=typeof D){const p=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=D.name),D._errorFactory.create(p,...C)}return be.create(D,...h)}function Dt(D,h,...p){if(!D)throw Xr(h,...p)}function nt(D){const h="INTERNAL ASSERTION FAILED: "+D;throw Tt(h),new Error(h)}function Gn(D,h){D||nt(h)}function St(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Ue(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Be{constructor(h,p){this.shortDelay=h,this.longDelay=p,Gn(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function ze(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function vn(){return"http:"===Ue()||"https:"===Ue()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function at(D,h){Gn(D.emulator,"Emulator should always be set here");const{url:p}=D.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class bt{static initialize(h,p,C){this.fetchImpl=h,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rn=new Be(3e4,6e4);function fn(D,h){return D.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:D.tenantId}):h}function xt(D,h,p,C){return wn.apply(this,arguments)}function wn(){return(wn=(0,ce.Z)(function*(D,h,p,C,K={}){return hr(D,K,(0,ce.Z)(function*(){let se={},xe={};C&&("GET"===h?xe=C:se={body:JSON.stringify(C)});const Je=(0,fe.xO)(Object.assign({key:D.config.apiKey},xe)).slice(1),Bt=yield D._getAdditionalHeaders();return Bt["Content-Type"]="application/json",D.languageCode&&(Bt["X-Firebase-Locale"]=D.languageCode),bt.fetch()(rr(D,D.config.apiHost,p,Je),Object.assign({method:h,headers:Bt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function hr(D,h,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,ce.Z)(function*(D,h,p){D._canInitEmulator=!1;const C=Object.assign(Object.assign({},en),h);try{const K=new $r(D),se=yield Promise.race([p(),K.promise]);K.clearNetworkTimeout();const xe=yield se.json();if("needConfirmation"in xe)throw jn(D,"account-exists-with-different-credential",xe);if(se.ok&&!("errorMessage"in xe))return xe;{const Je=se.ok?xe.errorMessage:xe.error.message,[Bt,Qt]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw jn(D,"credential-already-in-use",xe);if("EMAIL_EXISTS"===Bt)throw jn(D,"email-already-in-use",xe);if("USER_DISABLED"===Bt)throw jn(D,"user-disabled",xe);const un=C[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(Qt)throw function kn(D,h,p){const C=Object.assign(Object.assign({},Jt()),{[h]:p});return new fe.LL("auth","Firebase",C).create(h,{appName:D.name})}(D,un,Qt);lt(D,un)}}catch(K){if(K instanceof fe.ZR)throw K;lt(D,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function Wn(D,h,p,C){return nr.apply(this,arguments)}function nr(){return(nr=(0,ce.Z)(function*(D,h,p,C,K={}){const se=yield xt(D,h,p,C,K);return"mfaPendingCredential"in se&&lt(D,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function rr(D,h,p,C){const K=`${h}${p}?${C}`;return D.config.emulator?at(D.config,K):`${D.config.apiScheme}://${K}`}class $r{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(mt(this.auth,"network-request-failed")),Rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(D,h,p){const C={appName:D.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const K=mt(D,h,C);return K.customData._tokenResponse=p,K}function ir(){return(ir=(0,ce.Z)(function*(D,h){return xt(D,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Tr(){return(Tr=(0,ce.Z)(function*(D,h){return xt(D,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Sn(D){if(D)try{const h=new Date(Number(D));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Hr(){return(Hr=(0,ce.Z)(function*(D,h=!1){const p=(0,fe.m9)(D),C=yield p.getIdToken(h),K=Fn(C);Dt(K&&K.exp&&K.auth_time&&K.iat,p.auth,"internal-error");const se="object"==typeof K.firebase?K.firebase:void 0,xe=se?.sign_in_provider;return{claims:K,token:C,authTime:Sn(ui(K.auth_time)),issuedAtTime:Sn(ui(K.iat)),expirationTime:Sn(ui(K.exp)),signInProvider:xe||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function ui(D){return 1e3*Number(D)}function Fn(D){const[h,p,C]=D.split(".");if(void 0===h||void 0===p||void 0===C)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,fe.tV)(p);return K?JSON.parse(K):(Tt("Failed to decode base64 JWT payload"),null)}catch(K){return Tt("Caught error parsing JWT payload as JSON",K?.toString()),null}}function ci(D,h){return ur.apply(this,arguments)}function ur(){return(ur=(0,ce.Z)(function*(D,h,p=!1){if(p)return h;try{return yield h}catch(C){throw C instanceof fe.ZR&&function Xi({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(C)&&D.auth.currentUser===D&&(yield D.auth.signOut()),C}})).apply(this,arguments)}class Ot{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const K=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,ce.Z)(function*(){yield p.iteration()}),C)}iteration(){var h=this;return(0,ce.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class ri{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Si(D){return zr.apply(this,arguments)}function zr(){return zr=(0,ce.Z)(function*(D){var h;const p=D.auth,C=yield D.getIdToken(),K=yield ci(D,function Bn(D,h){return Tr.apply(this,arguments)}(p,{idToken:C}));Dt(K?.users.length,p,"internal-error");const se=K.users[0];D._notifyReloadListener(se);const xe=null!==(h=se.providerUserInfo)&&void 0!==h&&h.length?function gi(D){return D.map(h=>{var{providerId:p}=h,C=(0,et._T)(h,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(se.providerUserInfo):[],Je=function qt(D,h){return[...D.filter(C=>!h.some(K=>K.providerId===C.providerId)),...h]}(D.providerData,xe),un=!!D.isAnonymous&&!(D.email&&se.passwordHash||Je?.length),Pr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Je,metadata:new ri(se.createdAt,se.lastLoginAt),isAnonymous:un};Object.assign(D,Pr)}),zr.apply(this,arguments)}function Cr(){return(Cr=(0,ce.Z)(function*(D){const h=(0,fe.m9)(D);yield Si(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ln(){return(ln=(0,ce.Z)(function*(D,h){const p=yield hr(D,{},(0,ce.Z)(function*(){const C=(0,fe.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:K,apiKey:se}=D.config,xe=rr(D,K,"/v1/token",`key=${se}`),Je=yield D._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",bt.fetch()(xe,{method:"POST",headers:Je,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class cr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Dt(h.idToken,"internal-error"),Dt(typeof h.idToken<"u","internal-error"),Dt(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ir(D){const h=Fn(D);return Dt(h,"internal-error"),Dt(typeof h.exp<"u","internal-error"),Dt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var C=this;return(0,ce.Z)(function*(){return Dt(!C.accessToken||C.refreshToken,h,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var C=this;return(0,ce.Z)(function*(){const{accessToken:K,refreshToken:se,expiresIn:xe}=yield function Bi(D,h){return ln.apply(this,arguments)}(h,p);C.updateTokensAndExpiration(K,se,Number(xe))})()}updateTokensAndExpiration(h,p,C){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,p){const{refreshToken:C,accessToken:K,expirationTime:se}=p,xe=new cr;return C&&(Dt("string"==typeof C,"internal-error",{appName:h}),xe.refreshToken=C),K&&(Dt("string"==typeof K,"internal-error",{appName:h}),xe.accessToken=K),se&&(Dt("number"==typeof se,"internal-error",{appName:h}),xe.expirationTime=se),xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new cr,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Kt(D,h){Dt("string"==typeof D||typeof D>"u","internal-error",{appName:h})}class pr{constructor(h){var{uid:p,auth:C,stsTokenManager:K}=h,se=(0,et._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new ri(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,ce.Z)(function*(){const C=yield ci(p,p.stsTokenManager.getToken(p.auth,h));return Dt(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(h){return function fr(D){return Hr.apply(this,arguments)}(this,h)}reload(){return function Jr(D){return Cr.apply(this,arguments)}(this)}_assign(h){this!==h&&(Dt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new pr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var C=this;return(0,ce.Z)(function*(){let K=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),K=!0),p&&(yield Si(C)),yield C.auth._persistUserIfCurrent(C),K&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,ce.Z)(function*(){const p=yield h.getIdToken();return yield ci(h,function yn(D,h){return ir.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var C,K,se,xe,Je,Bt,Qt,un;const Pr=null!==(C=p.displayName)&&void 0!==C?C:void 0,to=null!==(K=p.email)&&void 0!==K?K:void 0,sa=null!==(se=p.phoneNumber)&&void 0!==se?se:void 0,ws=null!==(xe=p.photoURL)&&void 0!==xe?xe:void 0,mu=null!==(Je=p.tenantId)&&void 0!==Je?Je:void 0,Zc=null!==(Bt=p._redirectEventId)&&void 0!==Bt?Bt:void 0,Ll=null!==(Qt=p.createdAt)&&void 0!==Qt?Qt:void 0,Fd=null!==(un=p.lastLoginAt)&&void 0!==un?un:void 0,{uid:Vl,emailVerified:Ld,isAnonymous:Ul,providerData:Vd,stsTokenManager:Ud}=p;Dt(Vl&&Ud,h,"internal-error");const bp=cr.fromJSON(this.name,Ud);Dt("string"==typeof Vl,h,"internal-error"),Kt(Pr,h.name),Kt(to,h.name),Dt("boolean"==typeof Ld,h,"internal-error"),Dt("boolean"==typeof Ul,h,"internal-error"),Kt(sa,h.name),Kt(ws,h.name),Kt(mu,h.name),Kt(Zc,h.name),Kt(Ll,h.name),Kt(Fd,h.name);const Bd=new pr({uid:Vl,auth:h,email:to,emailVerified:Ld,displayName:Pr,isAnonymous:Ul,photoURL:ws,phoneNumber:sa,tenantId:mu,stsTokenManager:bp,createdAt:Ll,lastLoginAt:Fd});return Vd&&Array.isArray(Vd)&&(Bd.providerData=Vd.map(Yc=>Object.assign({},Yc))),Zc&&(Bd._redirectEventId=Zc),Bd}static _fromIdTokenResponse(h,p,C=!1){return(0,ce.Z)(function*(){const K=new cr;K.updateFromServerResponse(p);const se=new pr({uid:p.localId,auth:h,stsTokenManager:K,isAnonymous:C});return yield Si(se),se})()}}const ve=new Map;function J(D){Gn(D instanceof Function,"Expected a class definition");let h=ve.get(D);return h?(Gn(h instanceof D,"Instance stored in cache mismatched with class"),h):(h=new D,ve.set(D,h),h)}const te=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ce.Z)(function*(){return!0})()}_set(p,C){var K=this;return(0,ce.Z)(function*(){K.storage[p]=C})()}_get(p){var C=this;return(0,ce.Z)(function*(){const K=C.storage[p];return void 0===K?null:K})()}_remove(p){var C=this;return(0,ce.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return D.type="NONE",D})();function re(D,h,p){return`firebase:${D}:${h}:${p}`}class Ne{constructor(h,p,C){this.persistence=h,this.auth=p,this.userKey=C;const{config:K,name:se}=this.auth;this.fullUserKey=re(this.userKey,K.apiKey,se),this.fullPersistenceKey=re("persistence",K.apiKey,se),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,ce.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?pr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,ce.Z)(function*(){if(p.persistence===h)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,C="authUser"){return(0,ce.Z)(function*(){if(!p.length)return new Ne(J(te),h,C);const K=(yield Promise.all(p.map(function(){var Qt=(0,ce.Z)(function*(un){if(yield un._isAvailable())return un});return function(un){return Qt.apply(this,arguments)}}()))).filter(Qt=>Qt);let se=K[0]||J(te);const xe=re(C,h.config.apiKey,h.name);let Je=null;for(const Qt of p)try{const un=yield Qt._get(xe);if(un){const Pr=pr._fromJSON(h,un);Qt!==se&&(Je=Pr),se=Qt;break}}catch{}const Bt=K.filter(Qt=>Qt._shouldAllowMigration);return se._shouldAllowMigration&&Bt.length?(se=Bt[0],Je&&(yield se._set(xe,Je.toJSON())),yield Promise.all(p.map(function(){var Qt=(0,ce.Z)(function*(un){if(un!==se)try{yield un._remove(xe)}catch{}});return function(un){return Qt.apply(this,arguments)}}())),new Ne(se,h,C)):new Ne(se,h,C)})()}}function ht(D){const h=D.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Kn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Nt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Zn(h))return"Blackberry";if(Sr(h))return"Webos";if(nn(h))return"Safari";if((h.includes("chrome/")||mn(h))&&!h.includes("edge/"))return"Chrome";if(gn(h))return"Android";{const C=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Nt(D=(0,fe.z$)()){return/firefox\//i.test(D)}function nn(D=(0,fe.z$)()){const h=D.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function mn(D=(0,fe.z$)()){return/crios\//i.test(D)}function Kn(D=(0,fe.z$)()){return/iemobile/i.test(D)}function gn(D=(0,fe.z$)()){return/android/i.test(D)}function Zn(D=(0,fe.z$)()){return/blackberry/i.test(D)}function Sr(D=(0,fe.z$)()){return/webos/i.test(D)}function li(D=(0,fe.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function vt(D=(0,fe.z$)()){return li(D)||gn(D)||Sr(D)||Zn(D)||/windows phone/i.test(D)||Kn(D)}function _n(D,h=[]){let p;switch(D){case"Browser":p=ht((0,fe.z$)());break;case"Worker":p=`${ht((0,fe.z$)())}-${D}`;break;default:p=D}const C=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Xe.Jn}/${C}`}function ii(D,h){return lr.apply(this,arguments)}function lr(){return(lr=(0,ce.Z)(function*(D,h){return xt(D,"GET","/v2/recaptchaConfig",fn(D,h))})).apply(this,arguments)}function Di(D){return void 0!==D&&void 0!==D.enterprise}class Ai{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function ji(D){return new Promise((h,p)=>{const C=document.createElement("script");C.setAttribute("src",D),C.onload=h,C.onerror=K=>{const se=mt("internal-error");se.customData=K,p(se)},C.type="text/javascript",C.charset="UTF-8",function Qr(){var D,h;return null!==(h=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==h?h:document}().appendChild(C)})}function mi(D){return`__${D}${Math.floor(1e6*Math.random())}`}class sr{constructor(h){this.type="recaptcha-enterprise",this.auth=Ie(h)}verify(h="verify",p=!1){var C=this;return(0,ce.Z)(function*(){function se(){return se=(0,ce.Z)(function*(Je){if(!p){if(null==Je.tenantId&&null!=Je._agentRecaptchaConfig)return Je._agentRecaptchaConfig.siteKey;if(null!=Je.tenantId&&void 0!==Je._tenantRecaptchaConfigs[Je.tenantId])return Je._tenantRecaptchaConfigs[Je.tenantId].siteKey}return new Promise(function(){var Bt=(0,ce.Z)(function*(Qt,un){ii(Je,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pr=>{if(void 0!==Pr.recaptchaKey){const to=new Ai(Pr);return null==Je.tenantId?Je._agentRecaptchaConfig=to:Je._tenantRecaptchaConfigs[Je.tenantId]=to,Qt(to.siteKey)}un(new Error("recaptcha Enterprise site key undefined"))}).catch(Pr=>{un(Pr)})});return function(Qt,un){return Bt.apply(this,arguments)}}())}),se.apply(this,arguments)}function xe(Je,Bt,Qt){const un=window.grecaptcha;Di(un)?un.enterprise.ready(()=>{un.enterprise.execute(Je,{action:h}).then(Pr=>{Bt(Pr)}).catch(()=>{Bt("NO_RECAPTCHA")})}):Qt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Je,Bt)=>{(function K(Je){return se.apply(this,arguments)})(C.auth).then(Qt=>{if(!p&&Di(window.grecaptcha))xe(Qt,Je,Bt);else{if(typeof window>"u")return void Bt(new Error("RecaptchaVerifier is only supported in browser"));ji("https://www.google.com/recaptcha/enterprise.js?render="+Qt).then(()=>{xe(Qt,Je,Bt)}).catch(un=>{Bt(un)})}}).catch(Qt=>{Bt(Qt)})})})()}}function Gi(D,h,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,ce.Z)(function*(D,h,p,C=!1){const K=new sr(D);let se;try{se=yield K.verify(p)}catch{se=yield K.verify(p,!0)}const xe=Object.assign({},h);return Object.assign(xe,C?{captchaResp:se}:{captchaResponse:se}),Object.assign(xe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(xe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),xe})).apply(this,arguments)}class Oi{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const C=se=>new Promise((xe,Je)=>{try{xe(h(se))}catch(Bt){Je(Bt)}});C.onAbort=p,this.queue.push(C);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,ce.Z)(function*(){if(p.auth.currentUser===h)return;const C=[];try{for(const K of p.queue)yield K(h),K.onAbort&&C.push(K.onAbort)}catch(K){C.reverse();for(const se of C)try{se()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}class Rs{constructor(h,p,C,K){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Te(this),this.idTokenSubscription=new Te(this),this.beforeStateQueue=new Oi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(h,p){var C=this;return p&&(this._popupRedirectResolver=J(p)),this._initializationPromise=this.queue((0,ce.Z)(function*(){var K,se;if(!C._deleted&&(C.persistenceManager=yield Ne.create(C,h),!C._deleted)){if(null!==(K=C._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(se=C.currentUser)||void 0===se?void 0:se.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,ce.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,ce.Z)(function*(){var C;const K=yield p.assertedPersistence.getCurrentUser();let se=K,xe=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Je=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,Bt=se?._redirectEventId,Qt=yield p.tryRedirectSignIn(h);(!Je||Je===Bt)&&Qt?.user&&(se=Qt.user,xe=!0)}if(!se)return p.directlySetCurrentUser(null);if(!se._redirectEventId){if(xe)try{yield p.beforeStateQueue.runMiddleware(se)}catch(Je){se=K,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Je))}return se?p.reloadAndSetCurrentUserOrClear(se):p.directlySetCurrentUser(null)}return Dt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===se._redirectEventId?p.directlySetCurrentUser(se):p.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(h){var p=this;return(0,ce.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,ce.Z)(function*(){try{yield Si(h)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Qe(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var h=this;return(0,ce.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,ce.Z)(function*(){const C=h?(0,fe.m9)(h):null;return C&&Dt(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(h,p=!1){var C=this;return(0,ce.Z)(function*(){if(!C._deleted)return h&&Dt(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,ce.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,ce.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,ce.Z)(function*(){yield p.assertedPersistence.setPersistence(J(h))}))}initializeRecaptchaConfig(){var h=this;return(0,ce.Z)(function*(){const p=yield ii(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Ai(p);null==h.tenantId?h._agentRecaptchaConfig=C:h._tenantRecaptchaConfigs[h.tenantId]=C,C.emailPasswordEnabled&&new sr(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new fe.LL("auth","Firebase",h())}onAuthStateChanged(h,p,C){return this.registerStateListener(this.authStateSubscription,h,p,C)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,C){return this.registerStateListener(this.idTokenSubscription,h,p,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var C=this;return(0,ce.Z)(function*(){const K=yield C.getOrInitRedirectPersistenceManager(p);return null===h?K.removeCurrentUser():K.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,ce.Z)(function*(){if(!p.redirectPersistenceManager){const C=h&&J(h)||p._popupRedirectResolver;Dt(C,p,"argument-error"),p.redirectPersistenceManager=yield Ne.create(p,[J(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,ce.Z)(function*(){var C,K;return p._isInitialized&&(yield p.queue((0,ce.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===h?p._currentUser:(null===(K=p.redirectUser)||void 0===K?void 0:K._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,ce.Z)(function*(){if(h===p.currentUser)return p.queue((0,ce.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,C,K){if(this._deleted)return()=>{};const se="function"==typeof p?p:p.next.bind(p),xe=this._isInitialized?Promise.resolve():this._initializationPromise;return Dt(xe,this,"internal-error"),xe.then(()=>se(this.currentUser)),"function"==typeof p?h.addObserver(p,C,K):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,ce.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=_n(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,ce.Z)(function*(){var p;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const K=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();K&&(C["X-Firebase-Client"]=K);const se=yield h._getAppCheckToken();return se&&(C["X-Firebase-AppCheck"]=se),C})()}_getAppCheckToken(){var h=this;return(0,ce.Z)(function*(){var p;const C=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function gt(D,...h){tt.logLevel<=_e.in.WARN&&tt.warn(`Auth (${Xe.Jn}): ${D}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Ie(D){return(0,fe.m9)(D)}class Te{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,fe.ne)(p=>this.observer=p)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tn(D){const h=D.indexOf(":");return h<0?"":D.substr(0,h+1)}function Pn(D){if(!D)return null;const h=Number(D);return isNaN(h)?null:h}class qi{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return nt("not implemented")}_getIdTokenResponse(h){return nt("not implemented")}_linkToIdToken(h,p){return nt("not implemented")}_getReauthenticationResolver(h){return nt("not implemented")}}function gr(D,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,ce.Z)(function*(D,h){return xt(D,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ps(D,h){return Os.apply(this,arguments)}function Os(){return(Os=(0,ce.Z)(function*(D,h){return Wn(D,"POST","/v1/accounts:signInWithPassword",fn(D,h))})).apply(this,arguments)}function _o(){return(_o=(0,ce.Z)(function*(D,h){return xt(D,"POST","/v1/accounts:sendOobCode",fn(D,h))})).apply(this,arguments)}function As(){return(As=(0,ce.Z)(function*(D,h){return function os(D,h){return _o.apply(this,arguments)}(D,h)})).apply(this,arguments)}function Ti(){return(Ti=(0,ce.Z)(function*(D,h){return Wn(D,"POST","/v1/accounts:signInWithEmailLink",fn(D,h))})).apply(this,arguments)}function Is(){return(Is=(0,ce.Z)(function*(D,h){return Wn(D,"POST","/v1/accounts:signInWithEmailLink",fn(D,h))})).apply(this,arguments)}class An extends qi{constructor(h,p,C,K=null){super("password",C),this._email=h,this._password=p,this._tenantId=K}static _fromEmailAndPassword(h,p){return new An(h,p,"password")}static _fromEmailAndCode(h,p,C=null){return new An(h,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,ce.Z)(function*(){var C;switch(p.signInMethod){case"password":const K={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=h._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const se=yield Gi(h,K,"signInWithPassword");return Ps(h,se)}return Ps(h,K).catch(function(){var se=(0,ce.Z)(function*(xe){if("auth/missing-recaptcha-token"===xe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Je=yield Gi(h,K,"signInWithPassword");return Ps(h,Je)}return Promise.reject(xe)});return function(xe){return se.apply(this,arguments)}}());case"emailLink":return function wo(D,h){return Ti.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:lt(h,"internal-error")}})()}_linkToIdToken(h,p){var C=this;return(0,ce.Z)(function*(){switch(C.signInMethod){case"password":return gr(h,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function es(D,h){return Is.apply(this,arguments)}(h,{idToken:p,email:C._email,oobCode:C._password});default:lt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function mr(D,h){return In.apply(this,arguments)}function In(){return(In=(0,ce.Z)(function*(D,h){return Wn(D,"POST","/v1/accounts:signInWithIdp",fn(D,h))})).apply(this,arguments)}class yi{constructor(h){var p,C,K,se,xe,Je;const Bt=(0,fe.zd)((0,fe.pd)(h)),Qt=null!==(p=Bt.apiKey)&&void 0!==p?p:null,un=null!==(C=Bt.oobCode)&&void 0!==C?C:null,Pr=function Ws(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=Bt.mode)&&void 0!==K?K:null);Dt(Qt&&un&&Pr,"argument-error"),this.apiKey=Qt,this.operation=Pr,this.code=un,this.continueUrl=null!==(se=Bt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(xe=Bt.languageCode)&&void 0!==xe?xe:null,this.tenantId=null!==(Je=Bt.tenantId)&&void 0!==Je?Je:null}static parseLink(h){const p=function ki(D){const h=(0,fe.zd)((0,fe.pd)(D)).link,p=h?(0,fe.zd)((0,fe.pd)(h)).deep_link_id:null,C=(0,fe.zd)((0,fe.pd)(D)).deep_link_id;return(C?(0,fe.zd)((0,fe.pd)(C)).link:null)||C||p||h||D}(h);try{return new yi(p)}catch{return null}}}let us=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(p,C){return An._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const K=yi.parseLink(C);return Dt(K,"argument-error"),An._fromEmailAndCode(p,K.code,K.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class di{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Tn extends di{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Ds(D,h){return ys.apply(this,arguments)}function ys(){return(ys=(0,ce.Z)(function*(D,h){return Wn(D,"POST","/v1/accounts:signUp",fn(D,h))})).apply(this,arguments)}class vi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,C,K=!1){return(0,ce.Z)(function*(){const se=yield pr._fromIdTokenResponse(h,C,K),xe=js(C);return new vi({user:se,providerId:xe,_tokenResponse:C,operationType:p})})()}static _forOperation(h,p,C){return(0,ce.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const K=js(C);return new vi({user:h,providerId:K,_tokenResponse:C,operationType:p})})()}}function js(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}class Ur extends fe.ZR{constructor(h,p,C,K){var se;super(p.code,p.message),this.operationType=C,this.user=K,Object.setPrototypeOf(this,Ur.prototype),this.customData={appName:h.name,tenantId:null!==(se=h.tenantId)&&void 0!==se?se:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,p,C,K){return new Ur(h,p,C,K)}}function vs(D,h,p,C){return("reauthenticate"===h?p._getReauthenticationResolver(D):p._getIdTokenResponse(D)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Ur._fromErrorAndOperation(D,se,h,C):se})}function _i(){return(_i=(0,ce.Z)(function*(D,h,p=!1){const C=yield ci(D,h._linkToIdToken(D.auth,yield D.getIdToken()),p);return vi._forOperation(D,"link",C)})).apply(this,arguments)}function G(){return(G=(0,ce.Z)(function*(D,h,p=!1){const{auth:C}=D,K="reauthenticate";try{const se=yield ci(D,vs(C,K,h,D),p);Dt(se.idToken,C,"internal-error");const xe=Fn(se.idToken);Dt(xe,C,"internal-error");const{sub:Je}=xe;return Dt(D.uid===Je,C,"user-mismatch"),vi._forOperation(D,K,se)}catch(se){throw"auth/user-not-found"===se?.code&&lt(C,"user-mismatch"),se}})).apply(this,arguments)}function $(D,h){return ue.apply(this,arguments)}function ue(){return(ue=(0,ce.Z)(function*(D,h,p=!1){const C="signIn",K=yield vs(D,C,h),se=yield vi._fromIdTokenResponse(D,C,K);return p||(yield D._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Se(){return(Se=(0,ce.Z)(function*(D,h){return $(Ie(D),h)})).apply(this,arguments)}function Do(D,h,p){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,ce.Z)(function*(D,h,p){var C;const K=Ie(D),se={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let xe;if(null!==(C=K._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Qt=yield Gi(K,se,"signUpPassword");xe=Ds(K,Qt)}else xe=Ds(K,se).catch(function(){var Qt=(0,ce.Z)(function*(un){if("auth/missing-recaptcha-token"===un.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Pr=yield Gi(K,se,"signUpPassword");return Ds(K,Pr)}return Promise.reject(un)});return function(un){return Qt.apply(this,arguments)}}());const Je=yield xe.catch(Qt=>Promise.reject(Qt)),Bt=yield vi._fromIdTokenResponse(K,"signIn",Je);return yield K._updateCurrentUser(Bt.user),Bt}),Zs.apply(this,arguments)}function cs(D,h,p){return function ge(D,h){return Se.apply(this,arguments)}((0,fe.m9)(D),us.credential(h,p))}function wa(D,h){return H.apply(this,arguments)}function H(){return H=(0,ce.Z)(function*(D,h){const p=(0,fe.m9)(D),K={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};h&&function Er(D,h,p){var C;Dt((null===(C=p.url)||void 0===C?void 0:C.length)>0,D,"invalid-continue-uri"),Dt(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Dt(p.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Dt(p.android.packageName.length>0,D,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}(p.auth,K,h);const{email:se}=yield function oo(D,h){return As.apply(this,arguments)}(p.auth,K);se!==D.email&&(yield D.reload())}),H.apply(this,arguments)}function Jn(D,h,p,C){return(0,fe.m9)(D).onAuthStateChanged(h,p,C)}const wt="__sak";class Ze{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(wt,"1"),this.storage.removeItem(wt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xo=(()=>{class D extends Ze{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yt(){const D=(0,fe.z$)();return nn(D)||li(D)}()&&function kt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const K=this.storage.getItem(C),se=this.localCache[C];K!==se&&p(C,se,K)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((Je,Bt,Qt)=>{this.notifyListeners(Je,Qt)});const K=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(K);if(p.newValue!==Je)null!==p.newValue?this.storage.setItem(K,p.newValue):this.storage.removeItem(K);else if(this.localCache[K]===p.newValue&&!C)return}const se=()=>{const Je=this.storage.getItem(K);!C&&this.localCache[K]===Je||this.notifyListeners(K,Je)},xe=this.storage.getItem(K);!function Re(){return(0,fe.w1)()&&10===document.documentMode}()||xe===p.newValue||p.newValue===p.oldValue?se():setTimeout(se,10)}notifyListeners(p,C){this.localCache[p]=C;const K=this.listeners[p];if(K)for(const se of Array.from(K))se(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var K=()=>super._set,se=this;return(0,ce.Z)(function*(){yield K().call(se,p,C),se.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,K=this;return(0,ce.Z)(function*(){const se=yield C().call(K,p);return K.localCache[p]=JSON.stringify(se),se})()}_remove(p){var C=()=>super._remove,K=this;return(0,ce.Z)(function*(){yield C().call(K,p),delete K.localCache[p]})()}}return D.type="LOCAL",D})(),$s=(()=>{class D extends Ze{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return D.type="SESSION",D})();let $u=(()=>{class D{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(se=>se.isListeningto(p));if(C)return C;const K=new D(p);return this.receivers.push(K),K}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,ce.Z)(function*(){const K=p,{eventId:se,eventType:xe,data:Je}=K.data,Bt=C.handlersMap[xe];if(!Bt?.size)return;K.ports[0].postMessage({status:"ack",eventId:se,eventType:xe});const Qt=Array.from(Bt).map(function(){var Pr=(0,ce.Z)(function*(to){return to(K.origin,Je)});return function(to){return Pr.apply(this,arguments)}}()),un=yield function Du(D){return Promise.all(D.map(function(){var h=(0,ce.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return h.apply(this,arguments)}}()))}(Qt);K.ports[0].postMessage({status:"done",eventId:se,eventType:xe,response:un})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function aa(D="",h=10){let p="";for(let C=0;C<h;C++)p+=Math.floor(10*Math.random());return D+p}class zo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,C=50){var K=this;return(0,ce.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let xe,Je;return new Promise((Bt,Qt)=>{const un=aa("",20);se.port1.start();const Pr=setTimeout(()=>{Qt(new Error("unsupported_event"))},C);Je={messageChannel:se,onMessage(to){const sa=to;if(sa.data.eventId===un)switch(sa.data.status){case"ack":clearTimeout(Pr),xe=setTimeout(()=>{Qt(new Error("timeout"))},3e3);break;case"done":clearTimeout(xe),Bt(sa.data.response);break;default:clearTimeout(Pr),clearTimeout(xe),Qt(new Error("invalid_response"))}}},K.handlers.add(Je),se.port1.addEventListener("message",Je.onMessage),K.target.postMessage({eventType:h,eventId:un,data:p},[se.port2])}).finally(()=>{Je&&K.removeMessageHandler(Je)})})()}}function _s(){return window}function hn(){return typeof _s().WorkerGlobalScope<"u"&&"function"==typeof _s().importScripts}function Ts(){return(Ts=(0,ce.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Na="firebaseLocalStorageDb",Hu="firebaseLocalStorage",dn="fbase_key";class Vt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ra(D,h){return D.transaction([Hu],h?"readwrite":"readonly").objectStore(Hu)}function ua(){const D=indexedDB.open(Na,1);return new Promise((h,p)=>{D.addEventListener("error",()=>{p(D.error)}),D.addEventListener("upgradeneeded",()=>{const C=D.result;try{C.createObjectStore(Hu,{keyPath:dn})}catch(K){p(K)}}),D.addEventListener("success",(0,ce.Z)(function*(){const C=D.result;C.objectStoreNames.contains(Hu)?h(C):(C.close(),yield function Pa(){const D=indexedDB.deleteDatabase(Na);return new Vt(D).toPromise()}(),h(yield ua()))}))})}function sc(D,h,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,ce.Z)(function*(D,h,p){const C=Ra(D,!0).put({[dn]:h,value:p});return new Vt(C).toPromise()})).apply(this,arguments)}function ka(){return(ka=(0,ce.Z)(function*(D,h){const p=Ra(D,!1).get(h),C=yield new Vt(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function oc(D,h){const p=Ra(D,!0).delete(h);return new Vt(p).toPromise()}const Et=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,ce.Z)(function*(){return p.db||(p.db=yield ua()),p.db})()}_withRetries(p){var C=this;return(0,ce.Z)(function*(){let K=0;for(;;)try{const se=yield C._openDb();return yield p(se)}catch(se){if(K++>3)throw se;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,ce.Z)(function*(){return hn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,ce.Z)(function*(){p.receiver=$u._getInstance(function an(){return hn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,ce.Z)(function*(K,se){return{keyProcessed:(yield p._poll()).includes(se.key)}});return function(K,se){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,ce.Z)(function*(K,se){return["keyChanged"]});return function(K,se){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,ce.Z)(function*(){var C,K;if(p.activeServiceWorker=yield function po(){return Ts.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new zo(p.activeServiceWorker);const se=yield p.sender._send("ping",{},800);se&&null!==(C=se[0])&&void 0!==C&&C.fulfilled&&null!==(K=se[0])&&void 0!==K&&K.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,ce.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function zi(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ce.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ua();return yield sc(p,wt,"1"),yield oc(p,wt),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,ce.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var K=this;return(0,ce.Z)(function*(){return K._withPendingWrite((0,ce.Z)(function*(){return yield K._withRetries(se=>sc(se,p,C)),K.localCache[p]=C,K.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,ce.Z)(function*(){const K=yield C._withRetries(se=>function Oa(D,h){return ka.apply(this,arguments)}(se,p));return C.localCache[p]=K,K})()}_remove(p){var C=this;return(0,ce.Z)(function*(){return C._withPendingWrite((0,ce.Z)(function*(){return yield C._withRetries(K=>oc(K,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,ce.Z)(function*(){const C=yield p._withRetries(xe=>{const Je=Ra(xe,!1).getAll();return new Vt(Je).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const K=[],se=new Set;for(const{fbase_key:xe,value:Je}of C)se.add(xe),JSON.stringify(p.localCache[xe])!==JSON.stringify(Je)&&(p.notifyListeners(xe,Je),K.push(xe));for(const xe of Object.keys(p.localCache))p.localCache[xe]&&!se.has(xe)&&(p.notifyListeners(xe,null),K.push(xe));return K})()}notifyListeners(p,C){this.localCache[p]=C;const K=this.listeners[p];if(K)for(const se of Array.from(K))se(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,ce.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();mi("rcb"),new Be(3e4,6e4);class ra extends qi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return mr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return mr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return mr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Cu(D){return $(D.auth,new ra(D),D.bypassAuthState)}function Xs(D){const{auth:h,user:p}=D;return Dt(p,h,"internal-error"),function hi(D,h){return G.apply(this,arguments)}(p,new ra(D),D.bypassAuthState)}function Ns(D){return qa.apply(this,arguments)}function qa(){return(qa=(0,ce.Z)(function*(D){const{auth:h,user:p}=D;return Dt(p,h,"internal-error"),function uo(D,h){return _i.apply(this,arguments)}(p,new ra(D),D.bypassAuthState)})).apply(this,arguments)}class rs{constructor(h,p,C,K,se=!1){this.auth=h,this.resolver=C,this.user=K,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,ce.Z)(function*(C,K){h.pendingPromise={resolve:C,reject:K};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(se){h.reject(se)}});return function(C,K){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,ce.Z)(function*(){const{urlResponse:C,sessionId:K,postBody:se,tenantId:xe,error:Je,type:Bt}=h;if(Je)return void p.reject(Je);const Qt={auth:p.auth,requestUri:C,sessionId:K,tenantId:xe||void 0,postBody:se||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Bt)(Qt))}catch(un){p.reject(un)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Cu;case"linkViaPopup":case"linkViaRedirect":return Ns;case"reauthViaPopup":case"reauthViaRedirect":return Xs;default:lt(this.auth,"internal-error")}}resolve(h){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Be(2e3,1e4);const Dl="pendingRedirect",Yi=new Map;class cc extends rs{constructor(h,p,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,ce.Z)(function*(){let C=Yi.get(p.auth._key());if(!C){try{const se=(yield function Ia(D,h){return Mu.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;C=()=>Promise.resolve(se)}catch(K){C=()=>Promise.reject(K)}Yi.set(p.auth._key(),C)}return p.bypassAuthState||Yi.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,C=this;return(0,ce.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(C,h);if("unknown"!==h.type){if(h.eventId){const K=yield C.auth._redirectUserForId(h.eventId);if(K)return C.user=K,p().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,ce.Z)(function*(){})()}cleanUp(){}}function Mu(){return(Mu=(0,ce.Z)(function*(D,h){const p=function ou(D){return re(Dl,D.config.apiKey,D.name)}(h),C=function su(D){return J(D._redirectPersistence)}(D);if(!(yield C._isAvailable()))return!1;const K="true"===(yield C._get(p));return yield C._remove(p),K})).apply(this,arguments)}function Ei(D,h){Yi.set(D._key(),h)}function Oc(D,h){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,ce.Z)(function*(D,h,p=!1){const C=Ie(D),K=function Qs(D,h){return h?J(h):(Dt(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}(C,h),xe=yield new cc(C,K,p).execute();return xe&&!p&&(delete xe.user._redirectEventId,yield C._persistUserIfCurrent(xe.user),yield C._setRedirectUser(null,h)),xe})).apply(this,arguments)}class Ta{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(p=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function au(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ha(D);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var C;if(h.error&&!ha(h)){const K=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(mt(this.auth,K))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const C=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eo(h))}saveEventToCache(h){this.cachedEventUids.add(eo(h)),this.lastProcessedEventTime=Date.now()}}function eo(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(h=>h).join("-")}function ha({type:D,error:h}){return"unknown"===D&&"auth/no-auth-event"===h?.code}function Ya(){return(Ya=(0,ce.Z)(function*(D,h={}){return xt(D,"GET","/v1/projects",h)})).apply(this,arguments)}const Fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fa=/^https?/;function uu(){return uu=(0,ce.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:h}=yield function Ca(D){return Ya.apply(this,arguments)}(D);for(const p of h)try{if(Al(p))return}catch{}lt(D,"unauthorized-domain")}),uu.apply(this,arguments)}function Al(D){const h=St(),{protocol:p,hostname:C}=new URL(h);if(D.startsWith("chrome-extension://")){const xe=new URL(D);return""===xe.hostname&&""===C?"chrome-extension:"===p&&D.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&xe.hostname===C}if(!fa.test(p))return!1;if(Fa.test(D))return C===D;const K=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(C)}const kc=new Be(3e4,6e4);function xu(){const D=_s().___jsl;if(D?.H)for(const h of Object.keys(D.H))if(D.H[h].r=D.H[h].r||[],D.H[h].L=D.H[h].L||[],D.H[h].r=[...D.H[h].L],D.CP)for(let p=0;p<D.CP.length;p++)D.CP[p]=null}let La=null;const Ad=new Be(5e3,15e3),Va="__/auth/iframe",Fc="emulator/auth/iframe",Ui={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Md=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lr(D){const h=D.config;Dt(h.authDomain,D,"auth-domain-config-required");const p=h.emulator?at(h,Fc):`https://${D.config.authDomain}/${Va}`,C={apiKey:h.apiKey,appName:D.name,v:Xe.Jn},K=Md.get(D.config.apiHost);K&&(C.eid=K);const se=D._getFrameworks();return se.length&&(C.fw=se.join(",")),`${p}?${(0,fe.xO)(C).slice(1)}`}function zu(){return zu=(0,ce.Z)(function*(D){const h=yield function cu(D){return La=La||function Sa(D){return new Promise((h,p)=>{var C,K,se;function xe(){xu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{xu(),p(mt(D,"network-request-failed"))},timeout:kc.get()})}if(null!==(K=null===(C=_s().gapi)||void 0===C?void 0:C.iframes)&&void 0!==K&&K.Iframe)h(gapi.iframes.getContext());else{if(null===(se=_s().gapi)||void 0===se||!se.load){const Je=mi("iframefcb");return _s()[Je]=()=>{gapi.load?xe():p(mt(D,"network-request-failed"))},ji(`https://apis.google.com/js/api.js?onload=${Je}`).catch(Bt=>p(Bt))}xe()}}).catch(h=>{throw La=null,h})}(D),La}(D),p=_s().gapi;return Dt(p,D,"internal-error"),h.open({where:document.body,url:Lr(D),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ui,dontclear:!0},C=>new Promise(function(){var K=(0,ce.Z)(function*(se,xe){yield C.restyle({setHideOnLeave:!1});const Je=mt(D,"network-request-failed"),Bt=_s().setTimeout(()=>{xe(Je)},Ad.get());function Qt(){_s().clearTimeout(Bt),se(C)}C.ping(Qt).then(Qt,()=>{xe(Je)})});return function(se,xe){return K.apply(this,arguments)}}()))}),zu.apply(this,arguments)}const dc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ie{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const it="__/auth/handler",Ht="emulator/auth/handler",zt=encodeURIComponent("fac");function En(D,h,p,C,K,se){return zn.apply(this,arguments)}function zn(){return(zn=(0,ce.Z)(function*(D,h,p,C,K,se){Dt(D.config.authDomain,D,"auth-domain-config-required"),Dt(D.config.apiKey,D,"invalid-api-key");const xe={apiKey:D.config.apiKey,appName:D.name,authType:p,redirectUrl:C,v:Xe.Jn,eventId:K};if(h instanceof di){h.setDefaultLanguage(D.languageCode),xe.providerId=h.providerId||"",(0,fe.xb)(h.getCustomParameters())||(xe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[un,Pr]of Object.entries(se||{}))xe[un]=Pr}if(h instanceof Tn){const un=h.getScopes().filter(Pr=>""!==Pr);un.length>0&&(xe.scopes=un.join(","))}D.tenantId&&(xe.tid=D.tenantId);const Je=xe;for(const un of Object.keys(Je))void 0===Je[un]&&delete Je[un];const Bt=yield D._getAppCheckToken(),Qt=Bt?`#${zt}=${encodeURIComponent(Bt)}`:"";return`${function ar({config:D}){return D.emulator?at(D,Ht):`https://${D.authDomain}/${it}`}(D)}?${(0,fe.xO)(Je).slice(1)}${Qt}`})).apply(this,arguments)}const Ko="webStorageSupport",Lc=class go{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$s,this._completeRedirectFn=Oc,this._overrideRedirectResult=Ei}_openPopup(h,p,C,K){var se=this;return(0,ce.Z)(function*(){var xe;Gn(null===(xe=se.eventManagers[h._key()])||void 0===xe?void 0:xe.manager,"_initialize() not called before _openPopup()");const Je=yield En(h,p,C,St(),K);return function De(D,h,p,C=500,K=600){const se=Math.max((window.screen.availHeight-K)/2,0).toString(),xe=Math.max((window.screen.availWidth-C)/2,0).toString();let Je="";const Bt=Object.assign(Object.assign({},dc),{width:C.toString(),height:K.toString(),top:se,left:xe}),Qt=(0,fe.z$)().toLowerCase();p&&(Je=mn(Qt)?"_blank":p),Nt(Qt)&&(h=h||"http://localhost",Bt.scrollbars="yes");const un=Object.entries(Bt).reduce((to,[sa,ws])=>`${to}${sa}=${ws},`,"");if(function Ke(D=(0,fe.z$)()){var h;return li(D)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Qt)&&"_self"!==Je)return function Pe(D,h){const p=document.createElement("a");p.href=D,p.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(h||"",Je),new ie(null);const Pr=window.open(h||"",Je,un);Dt(Pr,D,"popup-blocked");try{Pr.focus()}catch{}return new ie(Pr)}(h,Je,aa())})()}_openRedirect(h,p,C,K){var se=this;return(0,ce.Z)(function*(){return yield se._originValidation(h),function bu(D){_s().location.href=D}(yield En(h,p,C,St(),K)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:K,promise:se}=this.eventManagers[p];return K?Promise.resolve(K):(Gn(se,"If manager is not set, promise should be"),se)}const C=this.initAndGetManager(h);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(h){var p=this;return(0,ce.Z)(function*(){const C=yield function Qa(D){return zu.apply(this,arguments)}(h),K=new Ta(h);return C.register("authEvent",se=>(Dt(se?.authEvent,h,"invalid-auth-event"),{status:K.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:K},p.iframes[h._key()]=C,K})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Ko,{type:Ko},K=>{var se;const xe=null===(se=K?.[0])||void 0===se?void 0:se[Ko];void 0!==xe&&p(!!xe),lt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Sl(D){return uu.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return vt()||nn()||li()}};var Ru="@firebase/auth";class du{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,ce.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hu=(0,fe.Pz)("authIdTokenMaxAge")||300;let Ph=null;const fc=D=>function(){var h=(0,ce.Z)(function*(p){const C=p&&(yield p.getIdTokenResult()),K=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(K&&K>hu)return;const se=C?.token;Ph!==se&&(Ph=se,yield fetch(D,{method:se?"POST":"DELETE",headers:se?{Authorization:`Bearer ${se}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function yp(D=(0,Xe.Mq)()){const h=(0,Xe.qX)(D,"auth");if(h.isInitialized())return h.getImmediate();const p=function ke(D,h){const p=(0,Xe.qX)(D,"auth");if(p.isInitialized()){const K=p.getImmediate(),se=p.getOptions();if((0,fe.vZ)(se,h??{}))return K;lt(K,"already-initialized")}return p.initialize({options:h})}(D,{popupRedirectResolver:Lc,persistence:[Et,Xo,$s]}),C=(0,fe.Pz)("authTokenSyncURL");if(C){const se=fc(C);(function xn(D,h,p){(0,fe.m9)(D).beforeAuthStateChanged(h,p)})(p,se,()=>se(p.currentUser)),function vr(D,h,p,C){(0,fe.m9)(D).onIdTokenChanged(h,p,C)}(p,xe=>se(xe))}const K=(0,fe.q4)("auth");return K&&function Ct(D,h,p){const C=Ie(D);Dt(C._canInitEmulator,C,"emulator-config-failed"),Dt(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const K=!!p?.disableWarnings,se=tn(h),{host:xe,port:Je}=function Yn(D){const h=tn(D),p=/(\/\/)?([^?#/]+)/.exec(D.substr(h.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(C);if(K){const se=K[1];return{host:se,port:Pn(C.substr(se.length+1))}}{const[se,xe]=C.split(":");return{host:se,port:Pn(xe)}}}(h);C.config.emulator={url:`${se}//${xe}${null===Je?"":`:${Je}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:xe,port:Je,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Nn(){function D(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(p,`http://${K}`),p}!function Uc(D){(0,Xe.Xd)(new me.wA("auth",(h,{options:p})=>{const C=h.getProvider("app").getImmediate(),K=h.getProvider("heartbeat"),se=h.getProvider("app-check-internal"),{apiKey:xe,authDomain:Je}=C.options;Dt(xe&&!xe.includes(":"),"invalid-api-key",{appName:C.name});const Bt={apiKey:xe,authDomain:Je,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_n(D)},Qt=new Rs(C,K,se,Bt);return function ut(D,h){const p=h?.persistence||[],C=(Array.isArray(p)?p:[p]).map(J);h?.errorMap&&D._updateErrorMap(h.errorMap),D._initializeWithPersistence(C,h?.popupRedirectResolver)}(Qt,p),Qt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,C)=>{h.getProvider("auth-internal").initialize()})),(0,Xe.Xd)(new me.wA("auth-internal",h=>{const p=Ie(h.getProvider("auth").getImmediate());return new du(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Xe.KN)(Ru,"0.23.2",function Vc(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,Xe.KN)(Ru,"0.23.2","esm2017")}("Browser");class fu{constructor(h){return h}}class pu{constructor(){return(0,v.vb)("auth")}}const mo=new pe.OlP("angularfire2.auth-instances");function xl(D){return(h,p)=>{const C=h.runOutsideAngular(()=>D(p));return new fu(C)}}const jc={provide:pu,deps:[[new pe.FiY,mo]]},Oh={provide:fu,useFactory:function xd(D,h){const p=(0,v.JM)("auth",D,h);return p&&new fu(p)},deps:[[new pe.FiY,mo],Z.Ot]};let Nd=(()=>{class D{constructor(){(0,Oe.KN)("angularfire",v.q4.full,"auth")}}return D.\u0275fac=function(p){return new(p||D)},D.\u0275mod=pe.oAB({type:D}),D.\u0275inj=pe.cJS({providers:[Oh,jc]}),D})();function $c(D,...h){return{ngModule:Nd,providers:[{provide:mo,useFactory:xl(D),multi:!0,deps:[pe.R0b,pe.zs3,v.HU,Z.z6,[new pe.FiY,Ae.nm],...h]}]}}const Rl=(0,v.u3)(Do,!0),_p=(0,v.u3)(yp,!0),Gu=(0,v.u3)(Jn,!0),qu=(0,v.u3)(wa,!0),Am=(0,v.u3)(cs,!0)},5723:(Dn,dt,X)=>{X.d(dt,{gg:()=>El,hJ:()=>fE,BS:()=>Ro,JU:()=>rv,ad:()=>vE,Cm:()=>Gw,IO:()=>IE,pl:()=>CE,r7:()=>uv,ar:()=>cv});var Me,v=X(456),pe=X(4946),Z=X(5609),Oe=X(8726),Ae=X(3182),ce=X(7247),fe=X(5861),Xe=X(534),et=X(4537),_e=X(7879),me=X(9058),qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},st={},Mt=Mt||{},pt=qe||self;function Pt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function cn(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Jt="closure_uid_"+(1e9*Math.random()>>>0),be=0;function ot(i,e,n){return i.call.apply(i.bind,arguments)}function tt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function gt(i,e,n){return(gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ot:tt).apply(null,arguments)}function Tt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function lt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[u].apply(o,f)}}function mt(){this.s=this.s,this.o=this.o}mt.prototype.s=!1,mt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function er(i){Object.prototype.hasOwnProperty.call(i,Jt)&&i[Jt]||(i[Jt]=++be)}(this)},mt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tr=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Xr(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Dt(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Pt(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function nt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var Gn=function(){if(!pt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{pt.addEventListener("test",()=>{},e),pt.removeEventListener("test",()=>{},e)}catch{}return i}();function St(i){return/^[\s\xa0]*$/.test(i)}function vn(){var i=pt.navigator;return i&&(i=i.userAgent)?i:""}function Ue(i){return-1!=vn().indexOf(i)}function ze(i){return ze[" "](i),i}ze[" "]=function(){};var wn,i,Be=Ue("Opera"),at=Ue("Trident")||Ue("MSIE"),bt=Ue("Edge"),en=bt||at,Rn=Ue("Gecko")&&!(-1!=vn().toLowerCase().indexOf("webkit")&&!Ue("Edge"))&&!(Ue("Trident")||Ue("MSIE"))&&!Ue("Edge"),fn=-1!=vn().toLowerCase().indexOf("webkit")&&!Ue("Edge");function xt(){var i=pt.document;return i?i.documentMode:void 0}e:{var hr="",qn=(i=vn(),Rn?/rv:([^\);]+)(\)|;)/.exec(i):bt?/Edge\/([\d\.]+)/.exec(i):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):fn?/WebKit\/(\S+)/.exec(i):Be?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(qn&&(hr=qn?qn[1]:""),at){var Wn=xt();if(null!=Wn&&Wn>parseFloat(hr)){wn=String(Wn);break e}}wn=hr}var $r=pt.document&&at&&(xt()||parseInt(wn,10))||void 0;function jn(i,e){if(nt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Rn){e:{try{ze(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:yn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&jn.$.h.call(this)}}lt(jn,nt);var yn={2:"touch",3:"pen",4:"mouse"};jn.prototype.h=function(){jn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ir="closure_listenable_"+(1e6*Math.random()|0),on=0;function fi(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++on,this.fa=this.ia=!1}function Bn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Tr(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function bn(i){const e={};for(const n in i)e[n]=i[n];return e}const fr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<fr.length;l++)n=fr[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function ui(i){this.src=i,this.g={},this.h=0}function Fn(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=tr(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Bn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Ir(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}ui.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=Ir(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new fi(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var ci="closure_lm_"+(1e6*Math.random()|0),ur={};function Xi(i,e,n,o,u){if(o&&o.once)return Si(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Xi(i,e[l],n,o,u);return null}return n=ln(n),i&&i[ir]?i.O(e,n,cn(o)?!!o.capture:!!o,u):Ot(i,e,n,!1,o,u)}function Ot(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=cn(u)?!!u.capture:!!u,T=gi(i);if(T||(i[ci]=T=new ui(i)),(n=T.add(e,n,o,f,l)).proxy)return n;if(o=function ri(){const e=qt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Gn||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Cr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Si(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Si(i,e[l],n,o,u);return null}return n=ln(n),i&&i[ir]?i.P(e,n,cn(o)?!!o.capture:!!o,u):Ot(i,e,n,!0,o,u)}function zr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)zr(i,e[l],n,o,u);else o=cn(o)?!!o.capture:!!o,n=ln(n),i&&i[ir]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Ir(l=i.g[e],n,o,u))&&(Bn(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=gi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ir(e,n,o,u)),(n=-1<i?e[i]:null)&&Jr(n))}function Jr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[ir])Fn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Cr(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=gi(e))?(Fn(n,i),0==n.h&&(n.src=null,e[ci]=null)):Bn(i)}}}function Cr(i){return i in ur?ur[i]:ur[i]="on"+i}function qt(i,e){if(i.fa)i=!0;else{e=new jn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Jr(i),i=n.call(o,e)}return i}function gi(i){return(i=i[ci])instanceof ui?i:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ln(i){return"function"==typeof i?i:(i[Bi]||(i[Bi]=function(e){return i.handleEvent(e)}),i[Bi])}function cr(){mt.call(this),this.i=new ui(this),this.S=this,this.J=null}function Kt(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new nt(e,i);else if(e instanceof nt)e.target=e.target||i;else{var u=e;Hr(e=new nt(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=pr(f,o,!0,e)&&u}if(u=pr(f=e.g=i,o,!0,e)&&u,u=pr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=pr(f=e.g=n[l],o,!1,e)&&u}function pr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var T=f.listener,k=f.la||f.src;f.ia&&Fn(i.i,f),u=!1!==T.call(k,o)&&u}}return u&&!o.defaultPrevented}lt(cr,mt),cr.prototype[ir]=!0,cr.prototype.removeEventListener=function(i,e,n,o){zr(this,i,e,n,o)},cr.prototype.N=function(){if(cr.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Bn(n[o]);delete i.g[e],i.h--}}this.J=null},cr.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},cr.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var ve=pt.JSON.stringify;function ee(){var i=Kn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var re=new class J{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ne,i=>i.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ht(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Nt(i){pt.setTimeout(()=>{throw i},0)}let nn,mn=!1,Kn=new class te{constructor(){this.h=this.g=null}add(e,n){const o=re.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},gn=()=>{const i=pt.Promise.resolve(void 0);nn=()=>{i.then(Zn)}};var Zn=()=>{for(var i;i=ee();){try{i.h.call(i.g)}catch(n){Nt(n)}var e=re;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}mn=!1};function Sr(i,e){cr.call(this),this.h=i||1,this.g=e||pt,this.j=gt(this.qb,this),this.l=Date.now()}function li(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ii(i,e,n){if("function"==typeof i)n&&(i=gt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=gt(i.handleEvent,i)}return 2147483647<Number(e)?-1:pt.setTimeout(i,e||0)}function Ke(i){i.g=Ii(()=>{i.g=null,i.i&&(i.i=!1,Ke(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}lt(Sr,cr),(Me=Sr.prototype).ga=!1,Me.T=null,Me.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kt(this,"tick"),this.ga&&(li(this),this.start()))}},Me.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Me.N=function(){Sr.$.N.call(this),li(this),delete this.g};class Re extends mt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vt(i){mt.call(this),this.h=i,this.g={}}lt(vt,mt);var kt=[];function _n(i,e,n,o){Array.isArray(n)||(n&&(kt[0]=n.toString()),n=kt);for(var u=0;u<n.length;u++){var l=Xi(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Lt(i){Tr(i.g,function(e,n){this.g.hasOwnProperty(n)&&Jr(e)},i),i.g={}}function On(){this.g=!0}function Yr(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ai(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return ve(n)}catch{return e}}(i,n)+(o?" "+o:"")})}vt.prototype.N=function(){vt.$.N.call(this),Lt(this)},vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},On.prototype.Ea=function(){this.g=!1},On.prototype.info=function(){};var Qr={},ji=null;function mi(){return ji=ji||new cr}function Pi(i){nt.call(this,Qr.Ta,i)}function Vn(i){const e=mi();Kt(e,new Pi(e))}function Zi(i,e){nt.call(this,Qr.STAT_EVENT,i),this.stat=e}function sr(i){const e=mi();Kt(e,new Zi(e,i))}function Gi(i,e){nt.call(this,Qr.Ua,i),this.size=e}function Ji(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return pt.setTimeout(function(){i()},e)}Qr.Ta="serverreachability",lt(Pi,nt),Qr.STAT_EVENT="statevent",lt(Zi,nt),Qr.Ua="timingevent",lt(Gi,nt);var Oi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Rs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ie(){}function ke(){}Ie.prototype.h=null;var Yn,ut={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ct(){nt.call(this,"d")}function tn(){nt.call(this,"c")}function Pn(){}function Nn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new vt(this),this.P=bi,this.V=new Sr(i=en?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qi}function qi(){this.i=null,this.g="",this.h=!1}lt(Ct,nt),lt(tn,nt),lt(Pn,Ie),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},Yn=new Pn;var bi=45e3,pi={},gr={};function Ss(i,e,n){i.L=1,i.v=ps(es(e)),i.s=n,i.S=!0,vo(i,null)}function vo(i,e){i.G=Date.now(),os(i),i.A=es(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),ki(n.i,"t",o),i.C=0,n=i.l.J,i.h=new qi,i.g=Zs(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Re(gt(i.Pa,i,i.g),i.O)),_n(i.U,i.g,"readystatechange",i.nb),e=i.I?bn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Vn(),function ii(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",T=l.split("&"),k=0;k<T.length;k++){var j=T[k].split("=");if(1<j.length){var ne=j[0];j=j[1];var ye=ne.split("_");f=2<=ye.length&&"type"==ye[1]?f+(ne+"=")+j+"&":f+(ne+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function so(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Ps(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=Os(i,n),u==gr){4==e&&(i.o=4,sr(14),o=!1),Yr(i.j,i.m,null,"[Incomplete Response]");break}if(u==pi){i.o=4,sr(15),Yr(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Yr(i.j,i.m,u,null),ks(i,u)}so(i)&&u!=gr&&u!=pi&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,sr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ci(e),e.M=!0,sr(11))):(Yr(i.j,i.m,n,"[Invalid Chunked Response]"),Ms(i),As(i))}function Os(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?gr:(n=Number(e.substring(n,o)),isNaN(n)?pi:(o+=1)+n>e.length?gr:(e=e.slice(o,o+n),i.C=o+n,e))}function os(i){i.Y=Date.now()+i.P,_o(i,i.P)}function _o(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ji(gt(i.lb,i),e)}function oo(i){i.B&&(pt.clearTimeout(i.B),i.B=null)}function As(i){0==i.l.H||i.J||Io(i.l,i)}function Ms(i){oo(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,li(i.V),Lt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function ks(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Bs(n.i,i)))if(!i.K&&Bs(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;$i(n),Zt(n)}Ki(n),sr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ji(gt(n.ib,n),6e3));if(1>=Us(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ho(n,11)}else if((i.K||n.g==i)&&$i(n),!St(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let j=u[e];if(n.V=j[0],j=j[1],2==n.H)if("c"==j[0]){n.K=j[1],n.pa=j[2];const ne=j[3];null!=ne&&(n.ra=ne,n.l.info("VER="+n.ra));const ye=j[4];null!=ye&&(n.Ga=ye,n.l.info("SVER="+n.Ga));const He=j[5];null!=He&&"number"==typeof He&&0<He&&(n.L=o=1.5*He,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const ct=i.g;if(ct){const Rt=ct.g?ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rt){var l=o.i;l.g||-1==Rt.indexOf("spdy")&&-1==Rt.indexOf("quic")&&-1==Rt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(qr(l,l.h),l.h=null))}if(o.F){const sn=ct.g?ct.g.getResponseHeader("X-HTTP-Session-Id"):null;sn&&(o.Da=sn,In(o.I,o.F,sn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=Do(o,o.J?o.pa:null,o.Y),f.K){Ks(o.i,f);var T=f,k=o.L;k&&T.setTimeout(k),T.B&&(oo(T),os(T)),o.g=f}else ti(o);0<n.j.length&&Br(n)}else"stop"!=j[0]&&"close"!=j[0]||ho(n,7);else 3==n.H&&("stop"==j[0]||"close"==j[0]?"stop"==j[0]?ho(n,7):_t(n):"noop"!=j[0]&&n.h&&n.h.Aa(j),n.A=0)}Vn()}catch{}}function Eo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Pt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function as(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Pt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function ao(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Pt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(Me=Nn.prototype).setTimeout=function(i){this.P=i},Me.nb=function(i){i=i.target;const e=this.M;e&&3==ge(i)?e.l():this.Pa(i)},Me.Pa=function(i){try{if(i==this.g)e:{const ne=ge(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||en||this.g&&(this.h.h||this.g.ja()||Se(this.g)))){this.J||4!=ne||7==e||Vn(),oo(this);var n=this.g.da();this.ca=n;t:if(so(this)){var o=Se(this.g);i="";var u=o.length,l=4==ge(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),As(this);var f="";break t}this.h.i=new pt.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function lr(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,ne,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!St(T)){var j=T;break t}}j=null}if(!(n=j)){this.i=!1,this.o=3,sr(12),Ms(this),As(this);break e}Yr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ks(this,n)}this.S?(Ps(this,ne,f),en&&this.i&&3==ne&&(_n(this.U,this.V,"tick",this.mb),this.V.start())):(Yr(this.j,this.m,f,null),ks(this,f)),4==ne&&Ms(this),this.i&&!this.J&&(4==ne?Io(this.l,this):(this.i=!1,os(this)))}else(function P(i){const e={};i=(i.g&&2<=ge(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(St(i[o]))continue;var n=ht(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function Sn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,sr(12)):(this.o=0,sr(13)),Ms(this),As(this)}}}catch{}},Me.mb=function(){if(this.g){var i=ge(this.g),e=this.g.ja();this.C<e.length&&(oo(this),Ps(this,i,e),this.i&&4!=i&&os(this))}},Me.cancel=function(){this.J=!0,Ms(this)},Me.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Di(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Vn(),sr(17)),Ms(this),this.o=2,As(this)):_o(this,this.Y-i)};var Fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ti(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ti){this.h=i.h,Is(this,i.j),this.s=i.s,this.g=i.g,An(this,i.m),this.l=i.l;var e=i.i,n=new Mn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mr(this,n),this.o=i.o}else i&&(e=String(i).match(Fs))?(this.h=!1,Is(this,e[1]||"",!0),this.s=Gr(e[2]||""),this.g=Gr(e[3]||"",!0),An(this,e[4]),this.l=Gr(e[5]||"",!0),mr(this,e[6]||"",!0),this.o=Gr(e[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}function es(i){return new Ti(i)}function Is(i,e,n){i.j=n?Gr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function An(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function mr(i,e,n){e instanceof Mn?(i.i=e,function si(i,e){e&&!i.j&&(dr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Mi(this,o),ki(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=qs(e,Ar)),i.i=new Mn(e,i.h))}function In(i,e,n){i.i.set(e,n)}function ps(i){return In(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Gr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function qs(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,gs),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function gs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ti.prototype.toString=function(){var i=[],e=this.j;e&&i.push(qs(e,Ls,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(qs(e,Ls,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(qs(n,"/"==n.charAt(0)?Vs:Bo,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",qs(n,Ft)),i.join("")};var Ls=/[#\/\?@]/g,Bo=/[#\?:]/g,Vs=/[#\?]/g,Ar=/[#\?@]/g,Ft=/#/g;function Mn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function dr(i){i.g||(i.g=new Map,i.h=0,i.i&&function wo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Mi(i,e){dr(i),e=yi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ws(i,e){return dr(i),e=yi(i,e),i.g.has(e)}function ki(i,e,n){Mi(i,e),0<n.length&&(i.i=null,i.g.set(yi(i,e),Xr(n)),i.h+=n.length)}function yi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function di(i){this.l=i||Tn,i=pt.PerformanceNavigationTiming?0<(i=pt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(pt.g&&pt.g.Ka&&pt.g.Ka()&&pt.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Me=Mn.prototype).add=function(i,e){dr(this),this.i=null,i=yi(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Me.forEach=function(i,e){dr(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Me.ta=function(){dr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},Me.Z=function(i){dr(this);let e=[];if("string"==typeof i)Ws(this,i)&&(e=e.concat(this.g.get(yi(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Me.set=function(i,e){return dr(this),this.i=null,Ws(this,i=yi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Me.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var Tn=10;function ms(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Us(i){return i.h?1:i.g?i.g.size:0}function Bs(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function qr(i,e){i.g?i.g.add(e):i.h=e}function Ks(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Fi(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Xr(i.i)}di.prototype.cancel=function(){if(this.i=Fi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Wi=class{stringify(i){return pt.JSON.stringify(i,void 0)}parse(i){return pt.JSON.parse(i,void 0)}};function xs(){this.g=new Wi}function jo(i,e,n){const o=n||"";try{Eo(i,function(u,l){let f=u;cn(u)&&(f=ve(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ys(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function vi(i){this.l=i.fc||null,this.j=i.ob||!1}function js(i,e){cr.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=$n,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lt(vi,Ie),vi.prototype.g=function(){return new js(this.l,this.j)},vi.prototype.i=function(i){return function(){return i}}({}),lt(js,cr);var $n=0;function $o(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Ur(i){i.readyState=4,i.l=null,i.j=null,i.A=null,vs(i)}function vs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Me=js.prototype).open=function(i,e){if(this.readyState!=$n)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,vs(this)},Me.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||pt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ur(this)),this.readyState=$n},Me.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$o(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Me.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ur(this):vs(this),3==this.readyState&&$o(this)}},Me.Za=function(i){this.g&&(this.response=this.responseText=i,Ur(this))},Me.Ya=function(i){this.g&&(this.response=i,Ur(this))},Me.ka=function(){this.g&&Ur(this)},Me.setRequestHeader=function(i,e){this.v.append(i,e)},Me.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Me.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(js.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ei=pt.JSON.parse;function Wr(i){cr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ts,this.L=this.M=!1}lt(Wr,cr);var ts="",uo=/^https?$/i,_i=["POST","PUT"];function xi(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,hi(i),$(i)}function hi(i){i.F||(i.F=!0,Kt(i,"complete"),Kt(i,"error"))}function G(i){if(i.h&&typeof Mt<"u"&&(!i.C[1]||4!=ge(i)||2!=i.da()))if(i.v&&4==ge(i))Ii(i.La,0,i);else if(Kt(i,"readystatechange"),4==ge(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(Fs)[1]||null;!u&&pt.self&&pt.self.location&&(u=pt.self.location.protocol.slice(0,-1)),o=!uo.test(u?u.toLowerCase():"")}n=o}if(n)Kt(i,"complete"),Kt(i,"success");else{i.m=6;try{var l=2<ge(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",hi(i)}}finally{$(i)}}}function $(i,e){if(i.g){ue(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Kt(i,"ready");try{n.onreadystatechange=o}catch{}}}function ue(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(pt.clearTimeout(i.A),i.A=null)}function ge(i){return i.g?i.g.readyState:0}function Se(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case ts:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function F(i){let e="";return Tr(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function x(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=F(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):In(i,e,n))}function W(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function he(i){this.Ga=0,this.j=[],this.l=new On,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=W("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=W("baseRetryDelayMs",5e3,i),this.hb=W("retryDelaySeedMs",1e4,i),this.eb=W("forwardChannelMaxRetries",2,i),this.xa=W("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new di(i&&i.concurrentRequestLimit),this.Ja=new xs,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _t(i){if(yr(i),3==i.H){var e=i.W++,n=es(i.I);if(In(n,"SID",i.K),In(n,"RID",e),In(n,"TYPE","terminate"),Er(i,n),(e=new Nn(i,i.l,e)).L=2,e.v=ps(es(n)),n=!1,pt.navigator&&pt.navigator.sendBeacon)try{n=pt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&pt.Image&&((new Image).src=e.v,n=!0),n||(e.g=Zs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),os(e)}Zo(i)}function Zt(i){i.g&&(Ci(i),i.g.cancel(),i.g=null)}function yr(i){Zt(i),i.u&&(pt.clearTimeout(i.u),i.u=null),$i(i),i.i.cancel(),i.m&&("number"==typeof i.m&&pt.clearTimeout(i.m),i.m=null)}function Br(i){if(!ms(i.i)&&!i.m){i.m=!0;var e=i.Na;nn||gn(),mn||(nn(),mn=!0),Kn.add(e,i),i.C=0}}function Li(i,e){var n;n=e?e.m:i.W++;const o=es(i.I);In(o,"SID",i.K),In(o,"RID",n),In(o,"AID",i.V),Er(i,o),i.o&&i.s&&x(o,i.o,i.s),n=new Nn(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ns(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),qr(i.i,n),Ss(n,o,e)}function Er(i,e){i.na&&Tr(i.na,function(n,o){In(e,o,n)}),i.h&&Eo({},function(n,o){In(e,o,n)})}function ns(i,e,n){n=Math.min(i.j.length,n);var o=i.h?gt(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let T=!0;for(let k=0;k<n;k++){let j=u[k].g;const ne=u[k].map;if(j-=l,0>j)l=Math.max(0,u[k].g-100),T=!1;else try{jo(ne,f,"req"+j+"_")}catch{o&&o(ne)}}if(T){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ti(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;nn||gn(),mn||(nn(),mn=!0),Kn.add(e,i),i.A=0}}function Ki(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ji(gt(i.Ma,i),lo(i,i.A)),i.A++,0))}function Ci(i){null!=i.B&&(pt.clearTimeout(i.B),i.B=null)}function co(i){i.g=new Nn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=es(i.wa);In(e,"RID","rpc"),In(e,"SID",i.K),In(e,"AID",i.V),In(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&In(e,"TO",i.qa),In(e,"TYPE","xmlhttp"),Er(i,e),i.o&&i.s&&x(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=ps(es(e)),n.s=null,n.S=!0,vo(n,i)}function $i(i){null!=i.v&&(pt.clearTimeout(i.v),i.v=null)}function Io(i,e){var n=null;if(i.g==e){$i(i),Ci(i),i.g=null;var o=2}else{if(!Bs(i.i,e))return;n=e.F,Ks(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Kt(o=mi(),new Gi(o,n)),Br(i)}else ti(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Or(i,e){return!(Us(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ji(gt(i.Na,i,e),lo(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ki(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:ho(i,5);break;case 4:ho(i,10);break;case 3:ho(i,6);break;default:ho(i,2)}}function lo(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function ho(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=gt(i.pb,i);n||(n=new Ti("//www.google.com/images/cleardot.gif"),pt.location&&"http"==pt.location.protocol||Is(n,"https"),ps(n)),function Ds(i,e){const n=new On;if(pt.Image){const o=new Image;o.onload=Tt(ys,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Tt(ys,n,o,"TestLoadImage: error",!1,e),o.onabort=Tt(ys,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Tt(ys,n,o,"TestLoadImage: timeout",!1,e),pt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else sr(2);i.H=0,i.h&&i.h.za(e),Zo(i),yr(i)}function Zo(i){if(i.H=0,i.ma=[],i.h){const e=Fi(i.i);(0!=e.length||0!=i.j.length)&&(Dt(i.ma,e),Dt(i.ma,i.j),i.i.i.length=0,Xr(i.j),i.j.length=0),i.h.ya()}}function Do(i,e,n){var o=n instanceof Ti?es(n):new Ti(n);if(""!=o.g)e&&(o.g=e+"."+o.g),An(o,o.m);else{var u=pt.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Ti(null);o&&Is(l,o),e&&(l.g=e),u&&An(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&In(o,n,e),In(o,"VER",i.ra),Er(i,o),o}function Zs(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(n&&i.Ha&&!i.va?new vi({ob:!0}):i.va)).Oa(i.J),e}function cs(){}function _a(){if(at&&!(10<=Number($r)))throw Error("Environmental error: no available transport.")}function Mr(i,e){cr.call(this),this.g=new he(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!St(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!St(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new fo(this)}function bo(i){Ct.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ls(){tn.call(this),this.status=1}function fo(i){this.g=i}function bs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yo(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function br(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(Me=Wr.prototype).Oa=function(i){this.M=i},Me.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yn.g(),this.C=function Te(i){return i.h||(i.h=i.i())}(this.u?this.u:Yn),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void xi(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=pt.FormData&&i instanceof pt.FormData,!(0<=tr(_i,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ue(this),0<this.B&&((this.L=function Ho(i){return at&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=Ii(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){xi(this,l)}},Me.ua=function(){typeof Mt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},Me.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Kt(this,"complete"),Kt(this,"abort"),$(this))},Me.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$(this,!0)),Wr.$.N.call(this)},Me.La=function(){this.s||(this.G||this.v||this.l?G(this):this.kb())},Me.kb=function(){G(this)},Me.isActive=function(){return!!this.g},Me.da=function(){try{return 2<ge(this)?this.g.status:-1}catch{return-1}},Me.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Me.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ei(e)}},Me.Ia=function(){return this.m},Me.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Me=he.prototype).ra=8,Me.H=1,Me.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Nn(this,this.l,i);let l=this.s;if(this.U&&(l?(l=bn(l),Hr(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ns(this,u,e),In(n=es(this.I),"RID",i),In(n,"CVER",22),this.F&&In(n,"X-HTTP-Session-Id",this.F),Er(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(F(l)))+"&"+e:this.o&&x(n,this.o,l)),qr(this.i,u),this.bb&&In(n,"TYPE","init"),this.P?(In(n,"$req",e),In(n,"SID","null"),u.aa=!0,Ss(u,n,null)):Ss(u,n,e),this.H=2}}else 3==this.H&&(i?Li(this,i):0==this.j.length||ms(this.i)||Li(this))},Me.Ma=function(){if(this.u=null,co(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ji(gt(this.jb,this),i)}},Me.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sr(10),Zt(this),co(this))},Me.ib=function(){null!=this.v&&(this.v=null,Zt(this),Ki(this),sr(19))},Me.pb=function(i){i?(this.l.info("Successfully pinged google.com"),sr(2)):(this.l.info("Failed to ping google.com"),sr(1))},Me.isActive=function(){return!!this.h&&this.h.isActive(this)},(Me=cs.prototype).Ba=function(){},Me.Aa=function(){},Me.za=function(){},Me.ya=function(){},Me.isActive=function(){return!0},Me.Va=function(){},_a.prototype.g=function(i,e){return new Mr(i,e)},lt(Mr,cr),Mr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;sr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Do(i,null,i.Y),Br(i)},Mr.prototype.close=function(){_t(this.g)},Mr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=ve(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Br(e)},Mr.prototype.N=function(){this.g.h=null,delete this.j,_t(this.g),delete this.g,Mr.$.N.call(this)},lt(bo,Ct),lt(ls,tn),lt(fo,cs),fo.prototype.Ba=function(){Kt(this.g,"a")},fo.prototype.Aa=function(i){Kt(this.g,new bo(i))},fo.prototype.za=function(i){Kt(this.g,new ls)},fo.prototype.ya=function(){Kt(this.g,"b")},lt(bs,function Ea(){this.blockSize=-1}),bs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bs.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Yo(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Yo(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Yo(this,o),u=0;break}}this.h=u,this.i+=e},bs.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var wa={};function H(i){return-128<=i&&128>i?function Qe(i,e){var n=wa;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new br([0|e],0>e?-1:0)}):new br([0|i],0>i?-1:0)}function y(i){if(isNaN(i)||!isFinite(i))return z;if(0>i)return Ye(y(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=O;return new br(e,0)}var O=4294967296,z=H(0),oe=H(1),Ee=H(16777216);function we(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function je(i){return-1==i.h}function Ye(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new br(n,~i.h).add(oe)}function jt(i,e){return i.add(Ye(e))}function I(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function q(i,e){this.g=i,this.h=e}function R(i,e){if(we(e))throw Error("division by zero");if(we(i))return new q(z,z);if(je(i))return e=R(Ye(i),e),new q(Ye(e.g),Ye(e.h));if(je(e))return e=R(i,Ye(e)),new q(Ye(e.g),e.h);if(30<i.g.length){if(je(i)||je(e))throw Error("slowDivide_ only works with positive integers.");for(var n=oe,o=e;0>=o.X(i);)n=B(n),o=B(o);var u=ae(n,1),l=ae(o,1);for(o=ae(o,2),n=ae(n,2);!we(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=ae(o,1),n=ae(n,1)}return e=jt(i,u.R(e)),new q(u,e)}for(u=z;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=y(n)).R(e);je(f)||0<f.X(i);)f=(l=y(n-=o)).R(e);we(l)&&(l=oe),u=u.add(l),i=jt(i,f)}return new q(u,i)}function B(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new br(n,i.h)}function ae(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new br(u,i.h)}(Me=br.prototype).ea=function(){if(je(this))return-Ye(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:O+o)*e,e*=O}return i},Me.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(we(this))return"0";if(je(this))return"-"+Ye(this).toString(i);for(var e=y(Math.pow(i,6)),n=this,o="";;){var u=R(n,e).g,l=((0<(n=jt(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(we(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},Me.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Me.X=function(i){return je(i=jt(this,i))?-1:we(i)?0:1},Me.abs=function(){return je(this)?Ye(this):this},Me.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new br(n,-2147483648&n[n.length-1]?-1:0)},Me.R=function(i){if(we(this)||we(i))return z;if(je(this))return je(i)?Ye(this).R(Ye(i)):Ye(Ye(this).R(i));if(je(i))return Ye(this.R(Ye(i)));if(0>this.X(Ee)&&0>i.X(Ee))return y(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),T=i.D(u)>>>16,k=65535&i.D(u);n[2*o+2*u]+=f*k,I(n,2*o+2*u),n[2*o+2*u+1]+=l*k,I(n,2*o+2*u+1),n[2*o+2*u+1]+=f*T,I(n,2*o+2*u+1),n[2*o+2*u+2]+=l*T,I(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new br(n,0)},Me.gb=function(i){return R(this,i).h},Me.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new br(n,this.h&i.h)},Me.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new br(n,this.h|i.h)},Me.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new br(n,this.h^i.h)},_a.prototype.createWebChannel=_a.prototype.g,Mr.prototype.send=Mr.prototype.u,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,Rs.COMPLETE="complete",ke.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",cr.prototype.listen=cr.prototype.O,Wr.prototype.listenOnce=Wr.prototype.P,Wr.prototype.getLastError=Wr.prototype.Sa,Wr.prototype.getLastErrorCode=Wr.prototype.Ia,Wr.prototype.getStatus=Wr.prototype.da,Wr.prototype.getResponseJson=Wr.prototype.Wa,Wr.prototype.getResponseText=Wr.prototype.ja,Wr.prototype.send=Wr.prototype.ha,Wr.prototype.setWithCredentials=Wr.prototype.Oa,bs.prototype.digest=bs.prototype.l,bs.prototype.reset=bs.prototype.reset,bs.prototype.update=bs.prototype.j,br.prototype.add=br.prototype.add,br.prototype.multiply=br.prototype.R,br.prototype.modulo=br.prototype.gb,br.prototype.compare=br.prototype.X,br.prototype.toNumber=br.prototype.ea,br.prototype.toString=br.prototype.toString,br.prototype.getBits=br.prototype.D,br.fromNumber=y,br.fromString=function w(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Ye(w(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=y(Math.pow(e,8)),o=z,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=y(Math.pow(e,l)),o=o.R(l).add(y(f))):o=(o=o.R(n)).add(y(f))}return o};var Le=st.createWebChannelTransport=function(){return new _a},rt=st.getStatEventTarget=function(){return mi()},Ut=st.ErrorCode=Oi,Qn=st.EventType=Rs,Xn=st.Event=Qr,vr=st.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xn=st.FetchXmlHttpFactory=vi,Jn=st.WebChannel=ke,or=st.XhrIo=Wr,oi=st.Md5=bs,Ni=st.Integer=br;const Ys="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let Fr="9.23.0";const Hi=new _e.Yd("@firebase/firestore");function To(){return Hi.logLevel}function We(i,...e){if(Hi.logLevel<=_e.in.DEBUG){const n=e.map(Vi);Hi.debug(`Firestore (${Fr}): ${i}`,...n)}}function Yt(i,...e){if(Hi.logLevel<=_e.in.ERROR){const n=e.map(Vi);Hi.error(`Firestore (${Fr}): ${i}`,...n)}}function Hn(i,...e){if(Hi.logLevel<=_e.in.WARN){const n=e.map(Vi);Hi.warn(`Firestore (${Fr}): ${i}`,...n)}}function Vi(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Gt(i="Unexpected state"){const e=`FIRESTORE (${Fr}) INTERNAL ASSERTION FAILED: `+i;throw Yt(e),new Error(e)}function Wt(i,e){i||Gt()}function wt(i,e){return i}const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends me.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Qo{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Un{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kr.UNAUTHENTICATED))}shutdown(){}}class Xo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xa{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=j=>this.i!==u?(u=this.i,n(j)):Promise.resolve();let f=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new xr,e.enqueueRetryable(()=>l(this.currentUser))};const T=()=>{const j=f;e.enqueueRetryable((0,fe.Z)(function*(){yield j.promise,yield l(o.currentUser)}))},k=j=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(j=>k(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?k(j):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new xr)}},0),T()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Wt("string"==typeof o.accessToken),new Qo(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wt(null===e||"string"==typeof e),new kr(e)}}class $s{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Du{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new $s(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $u{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aa{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,We("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Wt("string"==typeof n.token),this.T=n.token,new $u(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _s(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class bu{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=_s(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function hn(i,e){return i<e?-1:i>e?1:0}function po(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class zi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new yt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new yt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zi.fromMillis(Date.now())}static fromDate(e){return zi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new zi(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class an{constructor(e){this.timestamp=e}static fromTimestamp(e){return new an(e)}static min(){return new an(new zi(0,0))}static max(){return new an(new zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Na{constructor(e,n,o){void 0===n?n=0:n>e.length&&Gt(),void 0===o?o=e.length-n:o>e.length-n&&Gt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Na.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Na?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Kr extends Na{construct(e,n,o){return new Kr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new yt(Ze.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Kr(n)}static emptyPath(){return new Kr([])}}const Hu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Na{construct(e,n,o){return new dn(e,n,o)}static isValidIdentifier(e){return Hu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dn(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new yt(Ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new yt(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const k=e[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new yt(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=k,u+=2}else"`"===T?(f=!f,u++):"."!==T||f?(o+=T,u++):(l(),u++)}if(l(),f)throw new yt(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(Kr.fromString(e))}static fromName(e){return new Vt(Kr.fromString(e).popFirst(5))}static empty(){return new Vt(Kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Kr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new Kr(e.slice()))}}function ac(i){return new Po(i.readTime,i.key,-1)}class Po{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Po(an.min(),Vt.empty(),-1)}static max(){return new Po(an.max(),Vt.empty(),-1)}}function uc(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Vt.comparator(i.documentKey,e.documentKey),0!==n?n:hn(i.largestBatchId,e.largestBatchId))}const Et="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Go(i){return ru.apply(this,arguments)}function ru(){return ru=(0,fe.Z)(function*(i){if(i.code!==Ze.FAILED_PRECONDITION||i.message!==Et)throw i;We("LocalStore","Unexpectedly lost primary lease")}),ru.apply(this,arguments)}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Fe((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Fe?n:Fe.resolve(n)}catch(n){return Fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Fe.reject(n)}static resolve(e){return new Fe((n,o)=>{n(e)})}static reject(e){return new Fe((n,o)=>{o(e)})}static waitFor(e){return new Fe((n,o)=>{let u=0,l=0,f=!1;e.forEach(T=>{++u,T.next(()=>{++l,f&&l===u&&n()},k=>o(k))}),f=!0,l===u&&n()})}static or(e){let n=Fe.resolve(!1);for(const o of e)n=n.next(u=>u?Fe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Fe((o,u)=>{const l=e.length,f=new Array(l);let T=0;for(let k=0;k<l;k++){const j=k;n(e[j]).next(ne=>{f[j]=ne,++T,T===l&&o(f)},ne=>u(ne))}})}static doWhile(e,n){return new Fe((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function ea(i){return"IndexedDbTransactionError"===i.name}let ds=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function Oo(i){return null==i}function _(i){return 0===i&&1/i==-1/0}function cc(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ia(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Mu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ri{constructor(e,n){this.comparator=e,this.root=n||Js.EMPTY}insert(e,n){return new Ri(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Js.BLACK,null,null))}remove(e){return new Ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Js.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wa(this.root,e,this.comparator,!0)}}class Wa{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Js{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Js.RED,this.left=u??Js.EMPTY,this.right=l??Js.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Js(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Js.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Js.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Js.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gt();const e=this.left.check();if(e!==this.right.check())throw Gt();return e+(this.isRed()?0:1)}}Js.EMPTY=null,Js.RED=!0,Js.BLACK=!1,Js.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt()}get value(){throw Gt()}get color(){throw Gt()}get left(){throw Gt()}get right(){throw Gt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Js(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(e){this.comparator=e,this.data=new Ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new su(this.data.getIterator())}getIteratorFrom(e){return new su(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ei(this.comparator);return n.data=e,n}}class su{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class So{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new So([])}unionWith(e){let n=new Ei(dn.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new So(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class lc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lc("Invalid base64 string: "+u):u}}(e);return new zs(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new zs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zs.EMPTY_BYTE_STRING=new zs("");const Tl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(i){if(Wt(!!i),"string"==typeof i){let e=0;const n=Tl.exec(i);if(Wt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Es(i.seconds),nanos:Es(i.nanos)}}function Es(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function la(i){return"string"==typeof i?zs.fromBase64String(i):zs.fromUint8Array(i)}function Da(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cl(i){const e=i.mapValue.fields.__previous_value__;return Da(e)?Cl(e):e}function da(i){const e=qo(i.mapValue.fields.__local_write_time__.timestampValue);return new zi(e.seconds,e.nanos)}class Oc{constructor(e,n,o,u,l,f,T,k,j){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=k,this.useFetchStreams=j}}class Wo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wo&&e.projectId===this.projectId&&e.database===this.database}}const Ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ba(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Da(i)?4:La(i)?9007199254740991:10:Gt()}function Ta(i,e){if(i===e)return!0;const n=ba(i);if(n!==ba(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return da(i).isEqual(da(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=qo(o.timestampValue),f=qo(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,la(i.bytesValue).isEqual(la(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Es(o.geoPointValue.latitude)===Es(u.geoPointValue.latitude)&&Es(o.geoPointValue.longitude)===Es(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Es(o.integerValue)===Es(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=Es(o.doubleValue),f=Es(u.doubleValue);return l===f?_(l)===_(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return po(i.arrayValue.values||[],e.arrayValue.values||[],Ta);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(cc(l)!==cc(f))return!1;for(const T in l)if(l.hasOwnProperty(T)&&(void 0===f[T]||!Ta(l[T],f[T])))return!1;return!0}(i,e);default:return Gt()}var u}function eo(i,e){return void 0!==(i.values||[]).find(n=>Ta(n,e))}function ha(i,e){if(i===e)return 0;const n=ba(i),o=ba(e);if(n!==o)return hn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return hn(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=Es(u.integerValue||u.doubleValue),T=Es(l.integerValue||l.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(i,e);case 3:return au(i.timestampValue,e.timestampValue);case 4:return au(da(i),da(e));case 5:return hn(i.stringValue,e.stringValue);case 6:return function(u,l){const f=la(u),T=la(l);return f.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),T=l.split("/");for(let k=0;k<f.length&&k<T.length;k++){const j=hn(f[k],T[k]);if(0!==j)return j}return hn(f.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=hn(Es(u.latitude),Es(l.latitude));return 0!==f?f:hn(Es(u.longitude),Es(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],T=l.values||[];for(let k=0;k<f.length&&k<T.length;++k){const j=ha(f[k],T[k]);if(j)return j}return hn(f.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Ka.mapValue&&l===Ka.mapValue)return 0;if(u===Ka.mapValue)return 1;if(l===Ka.mapValue)return-1;const f=u.fields||{},T=Object.keys(f),k=l.fields||{},j=Object.keys(k);T.sort(),j.sort();for(let ne=0;ne<T.length&&ne<j.length;++ne){const ye=hn(T[ne],j[ne]);if(0!==ye)return ye;const He=ha(f[T[ne]],k[j[ne]]);if(0!==He)return He}return hn(T.length,j.length)}(i.mapValue,e.mapValue);default:throw Gt()}}function au(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return hn(i,e);const n=qo(i),o=qo(e),u=hn(n.seconds,o.seconds);return 0!==u?u:hn(n.nanos,o.nanos)}function Ca(i){return Ya(i)}function Ya(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=qo(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?la(i.bytesValue).toBase64():"referenceValue"in i?Vt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=Ya(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const T of u)f?f=!1:l+=",",l+=`${T}:${Ya(o.fields[T])}`;return l+"}"}(i.mapValue):Gt();var e}function fa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Sl(i){return!!i&&"integerValue"in i}function uu(i){return!!i&&"arrayValue"in i}function Al(i){return!!i&&"nullValue"in i}function kc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xu(i){return!!i&&"mapValue"in i}function Sa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ia(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Sa(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sa(i.arrayValue.values[n]);return e}return Object.assign({},i)}function La(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!xu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sa(n)}setAll(e){let n=dn.emptyPath(),o={},u=[];e.forEach((f,T)=>{if(!n.isImmediateParentOf(T)){const k=this.getFieldsMap(n);this.applyChanges(k,o,u),o={},u=[],n=T.popLast()}f?o[T.lastSegment()]=Sa(f):u.push(T.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());xu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ta(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];xu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Ia(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Ui(Sa(this.value))}}function Md(i){const e=[];return Ia(i.fields,(n,o)=>{const u=new dn([n]);if(xu(o)){const l=Md(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new So(e)}class Lr{constructor(e,n,o,u,l,f,T){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=T}static newInvalidDocument(e){return new Lr(e,0,an.min(),an.min(),an.min(),Ui.empty(),0)}static newFoundDocument(e,n,o,u){return new Lr(e,1,n,an.min(),o,u,0)}static newNoDocument(e,n){return new Lr(e,2,n,an.min(),an.min(),Ui.empty(),0)}static newUnknownDocument(e,n){return new Lr(e,3,n,an.min(),an.min(),Ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(an.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qa{constructor(e,n){this.position=e,this.inclusive=n}}function zu(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?Vt.comparator(Vt.fromName(f.referenceValue),n.key):ha(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function dc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ta(i.position[n],e.position[n]))return!1;return!0}class Nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function b(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class N{}class V extends N{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Ko(e,n,o):"array-contains"===n?new pa(e,o):"in"===n?new ga(e,o):"not-in"===n?new lu(e,o):"array-contains-any"===n?new hs(e,o):new V(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new go(e,o):new Lc(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ha(n,this.value)):null!==n&&ba(this.value)===ba(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ie extends N{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ie(e,n)}matches(e){return De(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function De(i){return"and"===i.op}function it(i){return function Ht(i){for(const e of i.filters)if(e instanceof ie)return!1;return!0}(i)&&De(i)}function zt(i){if(i instanceof V)return i.field.canonicalString()+i.op.toString()+Ca(i.value);if(it(i))return i.filters.map(e=>zt(e)).join(",");{const e=i.filters.map(n=>zt(n)).join(",");return`${i.op}(${e})`}}function En(i,e){return i instanceof V?(n=i,(o=e)instanceof V&&n.op===o.op&&n.field.isEqual(o.field)&&Ta(n.value,o.value)):i instanceof ie?function(n,o){return o instanceof ie&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&En(l,o.filters[f]),!0)}(i,e):void Gt();var n,o}function ar(i){return i instanceof V?`${(e=i).field.canonicalString()} ${e.op} ${Ca(e.value)}`:i instanceof ie?function(e){return e.op.toString()+" {"+e.getFilters().map(ar).join(" ,")+"}"}(i):"Filter";var e}class Ko extends V{constructor(e,n,o){super(e,n,o),this.key=Vt.fromName(o.referenceValue)}matches(e){const n=Vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class go extends V{constructor(e,n){super(e,"in",n),this.keys=Ml(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lc extends V{constructor(e,n){super(e,"not-in",n),this.keys=Ml(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ml(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Vt.fromName(o.referenceValue))}class pa extends V{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uu(n)&&eo(n.arrayValue,this.value)}}class ga extends V{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&eo(this.value.arrayValue,n)}}class lu extends V{constructor(e,n){super(e,"not-in",n)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!eo(this.value.arrayValue,n)}}class hs extends V{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>eo(this.value.arrayValue,o))}}class Rh{constructor(e,n=null,o=[],u=[],l=null,f=null,T=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=T,this.dt=null}}function Xa(i,e=null,n=[],o=[],u=null,l=null,f=null){return new Rh(i,e,n,o,u,l,f)}function Ru(i){const e=wt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>zt(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Oo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Ca(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Ca(o)).join(",")),e.dt=n}return e.dt}function Ao(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!b(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!En(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!dc(i.startAt,e.startAt)&&dc(i.endAt,e.endAt)}function du(i){return Vt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class hu{constructor(e,n=null,o=[],u=[],l=null,f="F",T=null,k=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=T,this.endAt=k,this.wt=null,this._t=null}}function fc(i){return new hu(i)}function yp(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ko(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function fu(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function pu(i){return null!==i.collectionGroup}function Bc(i){const e=wt(i);if(null===e.wt){e.wt=[];const n=fu(e),o=ko(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Nu(n)),e.wt.push(new Nu(dn.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Nu(dn.keyField(),l))}}}return e.wt}function mo(i){const e=wt(i);if(!e._t)if("F"===e.limitType)e._t=Xa(e.path,e.collectionGroup,Bc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Bc(e))n.push(new Nu(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new Qa(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Qa(e.startAt.position,e.startAt.inclusive):null;e._t=Xa(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function xd(i,e){e.getFirstInequalityField(),fu(i);const n=i.filters.concat([e]);return new hu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function xl(i,e,n){return new hu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function jc(i,e){return Ao(mo(i),mo(e))&&i.limitType===e.limitType}function Oh(i){return`${Ru(mo(i))}|lt:${i.limitType}`}function Nd(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>ar(o)).join(", ")}]`),Oo(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Ca(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Ca(o)).join(",")),`Target(${n})`}(mo(i))}; limitType=${i.limitType})`}function $c(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Vt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of Bc(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const T=zu(u,l,f);return u.inclusive?T<=0:T<0}(n.startAt,Bc(n),o)||n.endAt&&!function(u,l,f){const T=zu(u,l,f);return u.inclusive?T>=0:T>0}(n.endAt,Bc(n),o)));var n,o}function Nl(i){return(e,n)=>{let o=!1;for(const u of Bc(i)){const l=wm(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function wm(i,e,n){const o=i.field.isKeyField()?Vt.comparator(e.key,n.key):function(u,l,f){const T=l.data.field(u),k=f.data.field(u);return null!==T&&null!==k?ha(T,k):Gt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Gt()}}class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Mu(this.inner)}size(){return this.innerSize}}const Im=new Ri(Vt.comparator);function Fo(){return Im}const vp=new Ri(Vt.comparator);function Hc(...i){let e=vp;for(const n of i)e=e.insert(n.key,n);return e}function Rl(i){let e=vp;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Aa(){return Pl()}function kh(){return Pl()}function Pl(){return new Ua(i=>i.toString(),(i,e)=>i.isEqual(e))}const _p=new Ri(Vt.comparator),zc=new Ei(Vt.comparator);function _r(...i){let e=zc;for(const n of i)e=e.add(n);return e}const Dm=new Ei(hn);function Fh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_(e)?"-0":e}}function wp(i){return{integerValue:""+i}}function bm(i,e){return function S(i){return"number"==typeof i&&Number.isInteger(i)&&!_(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?wp(e):Fh(i,e)}class Pd{constructor(){this._=void 0}}function Tm(i,e,n){return i instanceof Gu?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Da(u)&&(u=Cl(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof pc?Lh(i,e):i instanceof Gc?Vh(i,e):function(o,u){const l=Ol(o,u),f=Ip(l)+Ip(o.gt);return Sl(l)&&Sl(o.gt)?wp(f):Fh(o.serializer,f)}(i,e)}function Cm(i,e,n){return i instanceof pc?Lh(i,e):i instanceof Gc?Vh(i,e):n}function Ol(i,e){return i instanceof kl?Sl(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Gu extends Pd{}class pc extends Pd{constructor(e){super(),this.elements=e}}function Lh(i,e){const n=Dp(e);for(const o of i.elements)n.some(u=>Ta(u,o))||n.push(o);return{arrayValue:{values:n}}}class Gc extends Pd{constructor(e){super(),this.elements=e}}function Vh(i,e){let n=Dp(e);for(const o of i.elements)n=n.filter(u=>!Ta(u,o));return{arrayValue:{values:n}}}class kl extends Pd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Ip(i){return Es(i.integerValue||i.doubleValue)}function Dp(i){return uu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Tv{constructor(e,n){this.version=e,this.transformResults=n}}class is{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Bh{}function Sm(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new mc(i.key,is.none()):new Pu(i.key,i.data,is.none());{const n=i.data,o=Ui.empty();let u=new Ei(dn.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new gu(i.key,o,new So(u.toArray()),is.none())}}function Am(i,e,n){i instanceof Pu?function(o,u,l){const f=o.value.clone(),T=$h(o.fieldTransforms,u,l.transformResults);f.setAll(T),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof gu?function(o,u,l){if(!Uh(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=$h(o.fieldTransforms,u,l.transformResults),T=u.data;T.setAll(jh(o)),T.setAll(f),u.convertToFoundDocument(l.version,T).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Od(i,e,n,o){return i instanceof Pu?function(u,l,f,T){if(!Uh(u.precondition,l))return f;const k=u.value.clone(),j=gc(u.fieldTransforms,T,l);return k.setAll(j),l.convertToFoundDocument(l.version,k).setHasLocalMutations(),null}(i,e,n,o):i instanceof gu?function(u,l,f,T){if(!Uh(u.precondition,l))return f;const k=gc(u.fieldTransforms,T,l),j=l.data;return j.setAll(jh(u)),j.setAll(k),l.convertToFoundDocument(l.version,j).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ne=>ne.field))}(i,e,n,o):(f=n,Uh(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Mm(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Ol(o.transform,u||null);null!=l&&(null===n&&(n=Ui.empty()),n.set(o.field,l))}return n||null}function Fl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&po(n,o,(u,l)=>function bv(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof pc&&o instanceof pc||n instanceof Gc&&o instanceof Gc?po(n.elements,o.elements,Ta):n instanceof kl&&o instanceof kl?Ta(n.gt,o.gt):n instanceof Gu&&o instanceof Gu);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Pu extends Bh{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class gu extends Bh{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function $h(i,e,n){const o=new Map;Wt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,T=e.data.field(l.field);o.set(l.field,Cm(f,T,n[u]))}return o}function gc(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Tm(l,f,e))}return o}class mc extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kd extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qc{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Am(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Od(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Od(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=kh();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let T=this.applyToLocalView(f,l.mutatedFields);T=n.has(u.key)?null:T;const k=Sm(f,T);null!==k&&o.set(u.key,k),f.isValidDocument()||f.convertToNoDocument(an.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_r())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,o)=>Fl(n,o))&&po(this.baseMutations,e.baseMutations,(n,o)=>Fl(n,o))}}class Wc{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Wt(e.mutations.length===o.length);let u=_p;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Wc(e,n,o,u)}}class Kc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class D{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,p;function K(i){if(void 0===i)return Yt("GRPC error has no .code"),Ze.UNKNOWN;switch(i){case h.OK:return Ze.OK;case h.CANCELLED:return Ze.CANCELLED;case h.UNKNOWN:return Ze.UNKNOWN;case h.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case h.INTERNAL:return Ze.INTERNAL;case h.UNAVAILABLE:return Ze.UNAVAILABLE;case h.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case h.NOT_FOUND:return Ze.NOT_FOUND;case h.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case h.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case h.ABORTED:return Ze.ABORTED;case h.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case h.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case h.DATA_LOSS:return Ze.DATA_LOSS;default:return Gt()}}(p=h||(h={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class se{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xe}static getOrCreateInstance(){return null===xe&&(xe=new se),xe}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let xe=null;const Bt=new Ni([4294967295,4294967295],0);function Qt(i){const e=function Je(){return new TextEncoder}().encode(i),n=new oi;return n.update(e),new Uint8Array(n.digest())}function un(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ni([n,o],0),new Ni([u,l],0)]}class Pr{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new to(`Invalid padding: ${n}`);if(o<0)throw new to(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new to(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new to(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ni.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(Ni.fromNumber(o)));return 1===u.compare(Bt)&&(u=new Ni([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=Qt(e),[o,u]=un(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Pr(l,u,n);return o.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const n=Qt(e),[o,u]=un(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class to extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sa{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,ws.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new sa(an.min(),u,new Ri(hn),Fo(),_r())}}class ws{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new ws(o,n,_r(),_r(),_r())}}class mu{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class Zc{constructor(e,n){this.targetId=e,this.Vt=n}}class Ll{constructor(e,n,o=zs.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Fd{constructor(){this.St=0,this.Dt=Ul(),this.Ct=zs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=_r(),n=_r(),o=_r();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Gt()}}),new ws(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=Ul()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Vl{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Fo(),this.zt=Ld(),this.Wt=new Ri(hn)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:Gt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(du(f))if(0===u){const T=new Vt(f.path);this.Yt(o,T,Lr.newNoDocument(T,an.min()))}else Wt(1===u);else{const T=this.ie(o);if(T!==u){const k=this.re(e,T);0!==k&&(this.ee(o),this.Wt=this.Wt.insert(o,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=se.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(j,ne,ye){var He,ct,Rt,sn,pn,Vr;const wi={localCacheCount:ne,existenceFilterCount:ye.count},Zr=ye.unchangedNames;return Zr&&(wi.bloomFilter={applied:0===j,hashCount:null!==(He=Zr?.hashCount)&&void 0!==He?He:0,bitmapLength:null!==(sn=null===(Rt=null===(ct=Zr?.bits)||void 0===ct?void 0:ct.bitmap)||void 0===Rt?void 0:Rt.length)&&void 0!==sn?sn:0,padding:null!==(Vr=null===(pn=Zr?.bits)||void 0===pn?void 0:pn.padding)&&void 0!==Vr?Vr:0}),wi}(k,T,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:T=0}=o;let k,j;try{k=la(l).toUint8Array()}catch(ne){if(ne instanceof lc)return Hn("Decoding the base64 bloom filter in existence filter failed ("+ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ne}try{j=new Pr(k,f,T)}catch(ne){return Hn(ne instanceof to?"BloomFilter error: ":"Applying bloom filter failed: ",ne),1}return 0===j.It?1:u!==n-this.oe(e.targetId,j)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(T)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const T=this.se(f);if(T){if(l.current&&du(T.target)){const k=new Vt(T.target.path);null!==this.jt.get(k)||this.ae(f,k)||this.Yt(f,k,Lr.newNoDocument(k,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=_r();this.zt.forEach((l,f)=>{let T=!0;f.forEachWhile(k=>{const j=this.se(k);return!j||"TargetPurposeLimboResolution"===j.purpose||(T=!1,!1)}),T&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new sa(e,n,this.Wt,this.jt,o);return this.jt=Fo(),this.zt=Ld(),this.Wt=new Ri(hn),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Fd,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ei(hn),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||We("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Fd),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Ld(){return new Ri(Vt.comparator)}function Ul(){return new Ri(Vt.comparator)}const Vd={asc:"ASCENDING",desc:"DESCENDING"},Ud={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bp={and:"AND",or:"OR"};class Bd{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yc(i,e){return i.useProto3Json||Oo(e)?e:{value:e}}function yc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jd(i,e){return yc(i,e.toTimestamp())}function no(i){return Wt(!!i),an.fromTimestamp(function(e){const n=qo(e);return new zi(n.seconds,n.nanos)}(i))}function Tp(i,e){return(n=i,new Kr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Cp(i){const e=Kr.fromString(i);return Wt(Nv(e)),e}function Bl(i,e){return Tp(i.databaseId,e.path)}function yu(i,e){const n=Cp(e);if(n.get(1)!==i.databaseId.projectId)throw new yt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new yt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Vt(Hh(n))}function vc(i,e){return Tp(i.databaseId,e)}function jl(i){return new Kr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hh(i){return Wt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Hd(i,e,n){return{name:Bl(i,e),fields:n.value.mapValue.fields}}function Ap(i,e){return{documents:[vc(i,e.path)]}}function $l(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=vc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(k){if(0!==k.length)return Np(ie.create(k,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(k){if(0!==k.length)return k.map(j=>{return{field:Ma((ne=j).field),direction:Mv(ne.dir)};var ne})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Yc(i,e.limit);var T,k;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(n.structuredQuery.endAt={before:!(k=e.endAt).inclusive,values:k.position}),n}function zh(i){let e=function $d(i){const e=Cp(i);return 4===e.length?Kr.emptyPath():Hh(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Wt(1===o);const ne=n.from[0];ne.allDescendants?u=ne.collectionId:e=e.child(ne.collectionId)}let l=[];n.where&&(l=function(ne){const ye=Pm(ne);return ye instanceof ie&&it(ye)?ye.getFilters():[ye]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(ne=>{return new Nu(Qc((ye=ne).field),function(He){switch(He){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ye.direction));var ye}));let T=null;n.limit&&(T=function(ne){let ye;return ye="object"==typeof ne?ne.value:ne,Oo(ye)?null:ye}(n.limit));let k=null;var ne;n.startAt&&(k=new Qa((ne=n.startAt).values||[],!!ne.before));let j=null;return n.endAt&&(j=function(ne){return new Qa(ne.values||[],!ne.before)}(n.endAt)),function Ph(i,e,n,o,u,l,f,T){return new hu(i,e,n,o,u,l,f,T)}(e,u,f,l,T,"F",k,j)}function Pm(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Qc(e.unaryFilter.field);return V.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Qc(e.unaryFilter.field);return V.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qc(e.unaryFilter.field);return V.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Qc(e.unaryFilter.field);return V.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Gt()}}(i):void 0!==i.fieldFilter?V.create(Qc((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return ie.create(e.compositeFilter.filters.map(n=>Pm(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Gt()}}(e.compositeFilter.op))}(i):Gt();var e}function Mv(i){return Vd[i]}function xp(i){return Ud[i]}function Om(i){return bp[i]}function Ma(i){return{fieldPath:i.canonicalString()}}function Qc(i){return dn.fromServerFormat(i.fieldPath)}function Np(i){return i instanceof V?function(e){if("=="===e.op){if(kc(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NAN"}};if(Al(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kc(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NOT_NAN"}};if(Al(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(e.field),op:xp(e.op),value:e.value}}}(i):i instanceof ie?function(e){const n=e.getFilters().map(o=>Np(o));return 1===n.length?n[0]:{compositeFilter:{op:Om(e.op),filters:n}}}(i):Gt()}function xv(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Nv(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Ja{constructor(e,n,o,u,l=an.min(),f=an.min(),T=zs.EMPTY_BYTE_STRING,k=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=k}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class km{constructor(e){this.fe=e}}function qd(i){const e=zh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?xl(e,e.limit,"L"):e}class Xc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Es(e.integerValue));else if("doubleValue"in e){const o=Es(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),_(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(la(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?La(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Gt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),Vt.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Xc.Ve=new Xc;class Rv{constructor(){this.rn=new jp}addToCollectionParentIndex(e,n){return this.rn.add(n),Fe.resolve()}getCollectionParents(e,n){return Fe.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Fe.resolve()}deleteFieldIndex(e,n){return Fe.resolve()}getDocumentsMatchingTarget(e,n){return Fe.resolve(null)}getIndexType(e,n){return Fe.resolve(0)}getFieldIndexes(e,n){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,n){return Fe.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,n){return Fe.resolve(Po.min())}updateCollectionGroup(e,n,o){return Fe.resolve()}updateIndexEntries(e,n){return Fe.resolve()}}class jp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Ei(Kr.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Ei(Kr.comparator)).toArray()}}new Uint8Array(0);class ma{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ma(e,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ma.DEFAULT_COLLECTION_PERCENTILE=10,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ma.DEFAULT=new ma(41943040,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ma.DISABLED=new ma(-1,0,0);class ya{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ya(0)}static Mn(){return new ya(-1)}}class $m{constructor(){this.changes=new Ua(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Fe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nl{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Od(o.mutation,u,So.empty(),zi.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,_r()).next(()=>o))}getLocalViewOfDocuments(e,n,o=_r()){const u=Aa();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=Hc();return l.forEach((T,k)=>{f=f.insert(T,k.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=Aa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,_r()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,T)=>{n.set(f,T)})})}computeViews(e,n,o,u){let l=Fo();const f=Pl(),T=Pl();return n.forEach((k,j)=>{const ne=o.get(j.key);u.has(j.key)&&(void 0===ne||ne.mutation instanceof gu)?l=l.insert(j.key,j):void 0!==ne?(f.set(j.key,ne.mutation.getFieldMask()),Od(ne.mutation,j,ne.mutation.getFieldMask(),zi.now())):f.set(j.key,So.empty())}),this.recalculateAndSaveOverlays(e,l).next(k=>(k.forEach((j,ne)=>f.set(j,ne)),n.forEach((j,ne)=>{var ye;return T.set(j,new jv(ne,null!==(ye=f.get(j))&&void 0!==ye?ye:null))}),T))}recalculateAndSaveOverlays(e,n){const o=Pl();let u=new Ri((f,T)=>f-T),l=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const T of f)T.keys().forEach(k=>{const j=n.get(k);if(null===j)return;let ne=o.get(k)||So.empty();ne=T.applyToLocalView(j,ne),o.set(k,ne);const ye=(u.get(T.batchId)||_r()).add(k);u=u.insert(T.batchId,ye)})}).next(()=>{const f=[],T=u.getReverseIterator();for(;T.hasNext();){const k=T.getNext(),j=k.key,ne=k.value,ye=kh();ne.forEach(He=>{if(!l.has(He)){const ct=Sm(n.get(He),o.get(He));null!==ct&&ye.set(He,ct),l=l.add(He)}}),f.push(this.documentOverlayCache.saveOverlays(e,j,ye))}return Fe.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Vt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):pu(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Fe.resolve(Aa());let T=-1,k=l;return f.next(j=>Fe.forEach(j,(ne,ye)=>(T<ye.largestBatchId&&(T=ye.largestBatchId),l.get(ne)?Fe.resolve():this.remoteDocumentCache.getEntry(e,ne).next(He=>{k=k.insert(ne,He)}))).next(()=>this.populateOverlays(e,j,l)).next(()=>this.computeViews(e,k,j,_r())).next(ne=>({batchId:T,changes:Rl(ne)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Vt(n)).next(o=>{let u=Hc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=Hc();return this.indexManager.getCollectionParents(e,u).next(f=>Fe.forEach(f,T=>{const k=(j=n,ne=T.child(u),new hu(ne,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt));var j,ne;return this.getDocumentsMatchingCollectionQuery(e,k,o).next(j=>{j.forEach((ne,ye)=>{l=l.insert(ne,ye)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((T,k)=>{const j=k.getKey();null===l.get(j)&&(l=l.insert(j,Lr.newInvalidDocument(j)))});let f=Hc();return l.forEach((T,k)=>{const j=u.get(T);void 0!==j&&Od(j.mutation,k,So.empty(),zi.now()),$c(n,k)&&(f=f.insert(T,k))}),f})}}class $v{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Fe.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:no(o.createTime)}),Fe.resolve()}getNamedQuery(e,n){return Fe.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:qd(o.bundledQuery),readTime:no(o.readTime)}),Fe.resolve();var o}}class Hv{constructor(){this.overlays=new Ri(Vt.comparator),this.ls=new Map}getOverlay(e,n){return Fe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Aa();return Fe.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Fe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Fe.resolve()}getOverlaysForCollection(e,n,o){const u=Aa(),l=n.length+1,f=new Vt(n.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const k=T.getNext().value,j=k.getKey();if(!n.isPrefixOf(j.path))break;j.path.length===l&&k.largestBatchId>o&&u.set(k.getKey(),k)}return Fe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new Ri((j,ne)=>j-ne);const f=this.overlays.getIterator();for(;f.hasNext();){const j=f.getNext().value;if(j.getKey().getCollectionGroup()===n&&j.largestBatchId>o){let ne=l.get(j.largestBatchId);null===ne&&(ne=Aa(),l=l.insert(j.largestBatchId,ne)),ne.set(j.getKey(),j)}}const T=Aa(),k=l.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((j,ne)=>T.set(j,ne)),!(T.size()>=u)););return Fe.resolve(T)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Kc(n,o));let l=this.ls.get(n);void 0===l&&(l=_r(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class Jd{constructor(){this.fs=new Ei(Mo.ds),this.ws=new Ei(Mo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new Mo(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new Mo(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new Vt(new Kr([])),o=new Mo(n,e),u=new Mo(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Vt(new Kr([])),o=new Mo(n,e),u=new Mo(n,e+1);let l=_r();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Mo(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Mo{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Vt.comparator(e.key,n.key)||hn(e.As,n.As)}static _s(e,n){return hn(e.As,n.As)||Vt.comparator(e.key,n.key)}}class zv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ei(Mo.ds)}checkEmpty(e){return Fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new qc(l,n,o,u);this.mutationQueue.push(f);for(const T of u)this.Rs=this.Rs.add(new Mo(T.key,l)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Fe.resolve(f)}lookupMutationBatch(e,n){return Fe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Mo(n,0),u=new Mo(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const T=this.Ps(f.As);l.push(T)}),Fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Ei(hn);return n.forEach(u=>{const l=new Mo(u,0),f=new Mo(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],T=>{o=o.add(T.As)})}),Fe.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Vt.isDocumentKey(l)||(l=l.child(""));const f=new Mo(new Vt(l),0);let T=new Ei(hn);return this.Rs.forEachWhile(k=>{const j=k.key.path;return!!o.isPrefixOf(j)&&(j.length===u&&(T=T.add(k.As)),!0)},f),Fe.resolve(this.Vs(T))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Wt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Fe.forEach(n.mutations,u=>{const l=new Mo(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new Mo(n,0),u=this.Rs.firstAfterOrEqual(o);return Fe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Fe.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Gv{constructor(e){this.Ds=e,this.docs=new Ri(Vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Fe.resolve(o?o.document.mutableCopy():Lr.newInvalidDocument(n))}getEntries(e,n){let o=Fo();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Lr.newInvalidDocument(u))}),Fe.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=Fo();const f=n.path,T=new Vt(f.child("")),k=this.docs.getIteratorFrom(T);for(;k.hasNext();){const{key:j,value:{document:ne}}=k.getNext();if(!f.isPrefixOf(j.path))break;j.path.length>f.length+1||uc(ac(ne),o)<=0||(u.has(ne.key)||$c(n,ne))&&(l=l.insert(ne.key,ne.mutableCopy()))}return Fe.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Gt()}Cs(e,n){return Fe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new qv(this)}getSize(e){return Fe.resolve(this.size)}}class qv extends $m{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Fe.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Wv{constructor(e){this.persistence=e,this.xs=new Ua(n=>Ru(n),Ao),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Jd,this.targetCount=0,this.Ms=ya.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Fe.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ya(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Fe.resolve()}updateTargetData(e,n){return this.Fn(n),Fe.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=n&&null===o.get(T.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Fe.waitFor(l).next(()=>u)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Fe.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Fe.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Fe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Fe.resolve(o)}containsKey(e,n){return Fe.resolve(this.ks.containsKey(n))}}class sf{constructor(e,n){this.$s={},this.overlays={},this.Os=new ds(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wv(this),this.indexManager=new Rv,this.remoteDocumentCache=new Gv(o=>this.referenceDelegate.Ls(o)),this.serializer=new km(n),this.qs=new $v(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new zv(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){We("MemoryPersistence","Starting transaction:",e);const u=new mw(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Fe.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class mw extends jr{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Qs=new Jd,this.js=null}static zs(e){return new Gp(e)}get Ws(){if(this.js)return this.js;throw Gt()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Fe.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Fe.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Fe.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Ws,o=>{const u=Vt.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,an.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Fe.or([()=>Fe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class lf{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=_r(),u=_r();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new lf(e,n.fromCache,o,u)}}class nh{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(yp(n))return Fe.resolve(null);let o=mo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=xl(n,null,"F"),o=mo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=_r(...l);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,o).next(k=>{const j=this.ji(n,T);return this.zi(n,j,f,k.readTime)?this.Ki(e,xl(n,null,"F")):this.Wi(e,j,n,k)}))})))}Gi(e,n,o,u){return yp(n)||u.isEqual(an.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(To()<=_e.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Nd(n)),this.Wi(e,f,n,function oc(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=an.fromTimestamp(1e9===o?new zi(n+1,0):new zi(n,o));return new Po(u,Vt.empty(),e)}(u,-1)))})}ji(e,n){let o=new Ei(Nl(e));return n.forEach((u,l)=>{$c(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return To()<=_e.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",Nd(n)),this.Ui.getDocumentsMatchingQuery(e,n,Po.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class yw{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new Ri(hn),this.Yi=new Ua(l=>Ru(l),Ao),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nl(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function qm(i,e){return rh.apply(this,arguments)}function rh(){return rh=(0,fe.Z)(function*(i,e){const n=wt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],T=[];let k=_r();for(const j of u){f.push(j.batchId);for(const ne of j.mutations)k=k.add(ne.key)}for(const j of l){T.push(j.batchId);for(const ne of j.mutations)k=k.add(ne.key)}return n.localDocuments.getDocuments(o,k).next(j=>({er:j,removedBatchIds:f,addedBatchIds:T}))})})}),rh.apply(this,arguments)}function Wp(i){const e=wt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Kp(i,e){const n=wt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Zl(i,e,n){return ih.apply(this,arguments)}function ih(){return ih=(0,fe.Z)(function*(i,e,n){const o=wt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!ea(f))throw f;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),ih.apply(this,arguments)}function il(i,e,n){const o=wt(i);let u=an.min(),l=_r();return o.persistence.runTransaction("Execute query","readonly",f=>function(T,k,j){const ne=wt(T),ye=ne.Yi.get(j);return void 0!==ye?Fe.resolve(ne.Ji.get(ye)):ne.Bs.getTargetData(k,j)}(o,f,mo(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,T.targetId).next(k=>{l=k})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:an.min(),n?l:_r())).next(T=>(function hf(i,e,n){let o=i.Xi.get(e)||an.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function Rd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),T),{documents:T,ir:l})))}class sh{constructor(){this.activeTargetIds=function Ep(){return Dm}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jm{constructor(){this.Hr=new sh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zv{Yr(e){}shutdown(){}}class ey{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qp=null;function ty(){return null===Qp?Qp=268435456+Math.round(2147483648*Math.random()):Qp++,"0x"+Qp.toString(16)}const gf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Lo="WebChannelConnection";class Xp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=ty(),T=this.To(e,n);We("RestConnection",`Sending RPC '${e}' ${f}:`,T,o);const k={};return this.Eo(k,u,l),this.Ao(e,T,k,o).then(j=>(We("RestConnection",`Received RPC '${e}' ${f}: `,j),j),j=>{throw Hn("RestConnection",`RPC '${e}' ${f} failed with error: `,j,"url: ",T,"request:",o),j})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${gf[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=ty();return new Promise((f,T)=>{const k=new or;k.setWithCredentials(!0),k.listenOnce(Qn.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case Ut.NO_ERROR:const ne=k.getResponseJson();We(Lo,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(ne)),f(ne);break;case Ut.TIMEOUT:We(Lo,`RPC '${e}' ${l} timed out`),T(new yt(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case Ut.HTTP_ERROR:const ye=k.getStatus();if(We(Lo,`RPC '${e}' ${l} failed with status:`,ye,"response text:",k.getResponseText()),ye>0){let He=k.getResponseJson();Array.isArray(He)&&(He=He[0]);const ct=He?.error;if(ct&&ct.status&&ct.message){const Rt=function(sn){const pn=sn.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(pn)>=0?pn:Ze.UNKNOWN}(ct.status);T(new yt(Rt,ct.message))}else T(new yt(Ze.UNKNOWN,"Server responded with status "+k.getStatus()))}else T(new yt(Ze.UNAVAILABLE,"Connection failed."));break;default:Gt()}}finally{We(Lo,`RPC '${e}' ${l} completed.`)}});const j=JSON.stringify(u);We(Lo,`RPC '${e}' ${l} sending request:`,u),k.send(n,"POST",j,o,15)})}Ro(e,n,o){const u=ty(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Le(),T=rt(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(k.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(k.xmlHttpFactory=new xn({})),this.Eo(k.initMessageHeaders,n,o),k.encodeInitMessageHeaders=!0;const ne=l.join("");We(Lo,`Creating RPC '${e}' stream ${u}: ${ne}`,k);const ye=f.createWebChannel(ne,k);let He=!1,ct=!1;const Rt=new Yv({ro:pn=>{ct?We(Lo,`Not sending because RPC '${e}' stream ${u} is closed:`,pn):(He||(We(Lo,`Opening RPC '${e}' stream ${u} transport.`),ye.open(),He=!0),We(Lo,`RPC '${e}' stream ${u} sending:`,pn),ye.send(pn))},oo:()=>ye.close()}),sn=(pn,Vr,wi)=>{pn.listen(Vr,Zr=>{try{wi(Zr)}catch(yo){setTimeout(()=>{throw yo},0)}})};return sn(ye,Jn.EventType.OPEN,()=>{ct||We(Lo,`RPC '${e}' stream ${u} transport opened.`)}),sn(ye,Jn.EventType.CLOSE,()=>{ct||(ct=!0,We(Lo,`RPC '${e}' stream ${u} transport closed`),Rt.wo())}),sn(ye,Jn.EventType.ERROR,pn=>{ct||(ct=!0,Hn(Lo,`RPC '${e}' stream ${u} transport errored:`,pn),Rt.wo(new yt(Ze.UNAVAILABLE,"The operation could not be completed")))}),sn(ye,Jn.EventType.MESSAGE,pn=>{var Vr;if(!ct){const wi=pn.data[0];Wt(!!wi);const yo=wi.error||(null===(Vr=wi[0])||void 0===Vr?void 0:Vr.error);if(yo){We(Lo,`RPC '${e}' stream ${u} received error:`,yo);const io=yo.status;let fs=function(Nc){const lm=h[Nc];if(void 0!==lm)return K(lm)}(io),va=yo.message;void 0===fs&&(fs=Ze.INTERNAL,va="Unknown error status: "+io+" with message "+yo.message),ct=!0,Rt.wo(new yt(fs,va)),ye.close()}else We(Lo,`RPC '${e}' stream ${u} received:`,wi),Rt._o(wi)}}),sn(T,Xn.STAT_EVENT,pn=>{pn.stat===vr.PROXY?We(Lo,`RPC '${e}' stream ${u} detected buffering proxy`):pn.stat===vr.NOPROXY&&We(Lo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Rt.fo()},0),Rt}}function Xl(){return typeof document<"u"?document:null}function al(i){return new Bd(i,!0)}class ul{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&We("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class oh{constructor(e,n,o,u,l,f,T,k){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=k,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ul(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,fe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,fe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,fe.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===Ze.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===Ze.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new yt(Ze.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,fe.Z)(function*(){e.state=0,e.start()}))}tu(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jl extends oh{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Sv(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(k=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:Gt(),u=e.targetChange.targetIds||[],l=function(k,j){return k.useProto3Json?(Wt(void 0===j||"string"==typeof j),zs.fromBase64String(j||"")):(Wt(void 0===j||j instanceof Uint8Array),zs.fromUint8Array(j||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(k){const j=void 0===k.code?Ze.UNKNOWN:K(k.code);return new yt(j,k.message||"")}(f);n=new Ll(o,u,l,T||null)}else if("documentChange"in e){const o=e.documentChange,u=yu(i,o.document.name),l=no(o.document.updateTime),f=o.document.createTime?no(o.document.createTime):an.min(),T=new Ui({mapValue:{fields:o.document.fields}}),k=Lr.newFoundDocument(u,l,f,T);n=new mu(o.targetIds||[],o.removedTargetIds||[],k.key,k)}else if("documentDelete"in e){const o=e.documentDelete,u=yu(i,o.document),l=o.readTime?no(o.readTime):an.min(),f=Lr.newNoDocument(u,l);n=new mu([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=yu(i,o.document);n=new mu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Gt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new D(u,l);n=new Zc(o.targetId,f)}}var k;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return an.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?an.min():l.readTime?no(l.readTime):an.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=jl(this.serializer),n.addTarget=function(u,l){let f;const T=l.target;if(f=du(T)?{documents:Ap(u,T)}:{query:$l(u,T)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Nm(u,l.resumeToken);const k=Yc(u,l.expectedCount);null!==k&&(f.expectedCount=k)}else if(l.snapshotVersion.compareTo(an.min())>0){f.readTime=yc(u,l.snapshotVersion.toTimestamp());const k=Yc(u,l.expectedCount);null!==k&&(f.expectedCount=k)}return f}(this.serializer,e);const o=function Mp(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=jl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Jp extends oh{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Av(i,e){return i&&i.length>0?(Wt(void 0!==e),i.map(n=>function(o,u){let l=no(o.updateTime?o.updateTime:u);return l.isEqual(an.min())&&(l=no(u)),new Tv(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=no(e.commitTime);return this.listener.cu(o,n)}return Wt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=jl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function zd(i,e){let n;if(e instanceof Pu)n={update:Hd(i,e.key,e.value)};else if(e instanceof mc)n={delete:Bl(i,e.key)};else if(e instanceof gu)n={update:Hd(i,e.key,e.data),updateMask:xv(e.fieldMask)};else{if(!(e instanceof kd))return Gt();n={verify:Bl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof Gu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof pc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Gc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw Gt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:jd(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Gt()),n;var u}(this.serializer,o))};this.Wo(n)}}class eg extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new yt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(Ze.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(Ze.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class tg{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Yt(n),this.mu=!1):We("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ah{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(T=>{o.enqueueAndForget((0,fe.Z)(function*(){var k;_u(f)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,fe.Z)(function*(j){const ne=wt(j);ne.vu.add(4),yield ed(ne),ne.bu.set("Unknown"),ne.vu.delete(4),yield uh(ne)}),function(j){return k.apply(this,arguments)})(f))}))}),this.bu=new tg(o,u)}}function uh(i){return yf.apply(this,arguments)}function yf(){return yf=(0,fe.Z)(function*(i){if(_u(i))for(const e of i.Ru)yield e(!0)}),yf.apply(this,arguments)}function ed(i){return ng.apply(this,arguments)}function ng(){return ng=(0,fe.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),ng.apply(this,arguments)}function td(i,e){const n=wt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ig(n)?iy(n):cl(n).Ko()&&rg(n,e))}function nd(i,e){const n=wt(i),o=cl(n);n.Au.delete(e),o.Ko()&&ry(n,e),0===n.Au.size&&(o.Ko()?o.jo():_u(n)&&n.bu.set("Unknown"))}function rg(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(i).su(e)}function ry(i,e){i.Vu.qt(e),cl(i).iu(e)}function iy(i){i.Vu=new Vl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),cl(i).start(),i.bu.gu()}function ig(i){return _u(i)&&!cl(i).Uo()&&i.Au.size>0}function _u(i){return 0===wt(i).vu.size}function vf(i){i.Vu=void 0}function Qv(i){return _f.apply(this,arguments)}function _f(){return _f=(0,fe.Z)(function*(i){i.Au.forEach((e,n)=>{rg(i,e)})}),_f.apply(this,arguments)}function sg(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,fe.Z)(function*(i,e){vf(i),ig(i)?(i.bu.Iu(e),iy(i)):i.bu.set("Unknown")}),rd.apply(this,arguments)}function Xv(i,e,n){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,fe.Z)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Ll&&2===e.state&&e.cause)try{yield(o=(0,fe.Z)(function*(u,l){const f=l.cause;for(const T of l.targetIds)u.Au.has(T)&&(yield u.remoteSyncer.rejectListen(T,f),u.Au.delete(T),u.Vu.removeTarget(T))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield wf(i,o)}else if(e instanceof mu?i.Vu.Ht(e):e instanceof Zc?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(an.min()))try{const o=yield Wp(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((T,k)=>{if(T.resumeToken.approximateByteSize()>0){const j=u.Au.get(k);j&&u.Au.set(k,j.withResumeToken(T.resumeToken,l))}}),f.targetMismatches.forEach((T,k)=>{const j=u.Au.get(T);if(!j)return;u.Au.set(T,j.withResumeToken(zs.EMPTY_BYTE_STRING,j.snapshotVersion)),ry(u,T);const ne=new Ja(j.target,T,k,j.sequenceNumber);rg(u,ne)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){We("RemoteStore","Failed to raise snapshot:",o),yield wf(i,o)}var o}),Ef.apply(this,arguments)}function wf(i,e,n){return If.apply(this,arguments)}function If(){return If=(0,fe.Z)(function*(i,e,n){if(!ea(e))throw e;i.vu.add(1),yield ed(i),i.bu.set("Offline"),n||(n=()=>Wp(i.localStore)),i.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield uh(i)}))}),If.apply(this,arguments)}function Jv(i,e){return e().catch(n=>wf(i,n,e))}function id(i){return sd.apply(this,arguments)}function sd(){return sd=(0,fe.Z)(function*(i){const e=wt(i),n=Tc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;e_(e);)try{const u=yield Kp(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,od(e,u)}catch(u){yield wf(e,u)}ad(e)&&sy(e)}),sd.apply(this,arguments)}function e_(i){return _u(i)&&i.Eu.length<10}function od(i,e){i.Eu.push(e);const n=Tc(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function ad(i){return _u(i)&&!Tc(i).Uo()&&i.Eu.length>0}function sy(i){Tc(i).start()}function oy(i){return og.apply(this,arguments)}function og(){return og=(0,fe.Z)(function*(i){Tc(i).hu()}),og.apply(this,arguments)}function t_(i){return ag.apply(this,arguments)}function ag(){return ag=(0,fe.Z)(function*(i){const e=Tc(i);for(const n of i.Eu)e.uu(n.mutations)}),ag.apply(this,arguments)}function ay(i,e,n){return Df.apply(this,arguments)}function Df(){return Df=(0,fe.Z)(function*(i,e,n){const o=i.Eu.shift(),u=Wc.from(o,e,n);yield Jv(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield id(i)}),Df.apply(this,arguments)}function ug(i,e){return uy.apply(this,arguments)}function uy(){return uy=(0,fe.Z)(function*(i,e){var n;e&&Tc(i).ou&&(yield(n=(0,fe.Z)(function*(o,u){if(function C(i){switch(i){default:return Gt();case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0}}(l=u.code)&&l!==Ze.ABORTED){const f=o.Eu.shift();Tc(o).Qo(),yield Jv(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield id(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),ad(i)&&sy(i)}),uy.apply(this,arguments)}function bf(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,fe.Z)(function*(i,e){const n=wt(i);n.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const o=_u(n);n.vu.add(3),yield ed(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield uh(n)}),Tf.apply(this,arguments)}function lg(){return lg=(0,fe.Z)(function*(i,e){const n=wt(i);e?(n.vu.delete(2),yield uh(n)):e||(n.vu.add(2),yield ed(n),n.bu.set("Unknown"))}),lg.apply(this,arguments)}function cl(i){return i.Su||(i.Su=function(e,n,o){const u=wt(e);return u.fu(),new Jl(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Qv.bind(null,i),ao:sg.bind(null,i),nu:Xv.bind(null,i)}),i.Ru.push(function(){var e=(0,fe.Z)(function*(n){n?(i.Su.Qo(),ig(i)?iy(i):i.bu.set("Unknown")):(yield i.Su.stop(),vf(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function Tc(i){return i.Du||(i.Du=function(e,n,o){const u=wt(e);return u.fu(),new Jp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:oy.bind(null,i),ao:ug.bind(null,i),au:t_.bind(null,i),cu:ay.bind(null,i)}),i.Ru.push(function(){var e=(0,fe.Z)(function*(n){n?(i.Du.Qo(),yield id(i)):(yield i.Du.stop(),i.Eu.length>0&&(We("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class Cf{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,T=new Cf(e,n,f,u,l);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yt(Ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ud(i,e){if(Yt("AsyncQueue",`${e}: ${i}`),ea(i))return new yt(Ze.UNAVAILABLE,`${e}: ${i}`);throw i}class cd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Vt.comparator(n.key,o.key):(n,o)=>Vt.comparator(n.key,o.key),this.keyedMap=Hc(),this.sortedSet=new Ri(this.comparator)}static emptySet(e){return new cd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new cd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class n_{constructor(){this.Cu=new Ri(Vt.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Gt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class ll{constructor(e,n,o,u,l,f,T,k,j){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=k,this.hasCachedResults=j}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(T=>{f.push({type:0,doc:T})}),new ll(e,n,cd.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class cy{constructor(){this.Nu=void 0,this.listeners=[]}}class Eu{constructor(){this.queries=new Ua(e=>Oh(e),jc),this.onlineState="Unknown",this.ku=new Set}}function ly(){return ly=(0,fe.Z)(function*(i,e){const n=wt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new cy),u)try{l.Nu=yield n.onListen(o)}catch(f){const T=ud(f,`Initialization of query '${Nd(e.query)}' failed`);return void e.onError(T)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&dy(n)}),ly.apply(this,arguments)}function ku(){return ku=(0,fe.Z)(function*(i,e){const n=wt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),ku.apply(this,arguments)}function dg(i,e){const n=wt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const T of f.listeners)T.$u(u)&&(o=!0);f.Nu=u}}o&&dy(n)}function r_(i,e,n){const o=wt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function dy(i){i.ku.forEach(e=>{e.next()})}class hg{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new ll(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class i_{constructor(e){this.key=e}}class xo{constructor(e){this.key=e}}class py{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=_r(),this.mutatedKeys=_r(),this.tc=Nl(e),this.ec=new cd(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new n_,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,T=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,j="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ne,ye)=>{const He=u.get(ne),ct=$c(this.query,ye)?ye:null,Rt=!!He&&this.mutatedKeys.has(He.key),sn=!!ct&&(ct.hasLocalMutations||this.mutatedKeys.has(ct.key)&&ct.hasCommittedMutations);let pn=!1;He&&ct?He.data.isEqual(ct.data)?Rt!==sn&&(o.track({type:3,doc:ct}),pn=!0):this.rc(He,ct)||(o.track({type:2,doc:ct}),pn=!0,(k&&this.tc(ct,k)>0||j&&this.tc(ct,j)<0)&&(T=!0)):!He&&ct?(o.track({type:0,doc:ct}),pn=!0):He&&!ct&&(o.track({type:1,doc:He}),pn=!0,(k||j)&&(T=!0)),pn&&(ct?(f=f.add(ct),l=sn?l.add(ne):l.delete(ne)):(f=f.delete(ne),l=l.delete(ne)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const ne="F"===this.query.limitType?f.last():f.first();f=f.delete(ne.key),l=l.delete(ne.key),o.track({type:1,doc:ne})}return{ec:f,ic:o,zi:T,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((j,ne)=>function(ye,He){const ct=Rt=>{switch(Rt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt()}};return ct(ye)-ct(He)}(j.type,ne.type)||this.tc(j.doc,ne.doc)),this.oc(o);const f=n?this.uc():[],T=0===this.Zu.size&&this.current?1:0,k=T!==this.Xu;return this.Xu=T,0!==l.length||k?{snapshot:new ll(this.query,e.ec,u,l,e.mutatedKeys,0===T,k,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new n_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=_r(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new xo(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new i_(o))}),n}hc(e){this.Yu=e.ir,this.Zu=_r();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ll.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class s_{constructor(e){this.key=e,this.fc=!1}}class o_{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Ua(T=>Oh(T),jc),this._c=new Map,this.mc=new Set,this.gc=new Ri(Vt.comparator),this.yc=new Map,this.Ic=new Jd,this.Tc={},this.Ec=new Map,this.Ac=ya.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function gg(i,e){return Af.apply(this,arguments)}function Af(){return Af=(0,fe.Z)(function*(i,e){const n=function Sc(i){const e=wt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=my.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ju.bind(null,e),e.dc.nu=dg.bind(null,e.eventManager),e.dc.Pc=r_.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function Xu(i,e){const n=wt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Fe.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new Ja(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,mo(e)),T=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Mf(i,e,n,o,u){return mg.apply(this,arguments)}(n,e,o,"current"===T,f.resumeToken),n.isPrimaryClient&&td(n.remoteStore,f)}return u}),Af.apply(this,arguments)}function mg(){return mg=(0,fe.Z)(function*(i,e,n,o,u){i.Rc=(ye,He,ct)=>{return(Rt=(0,fe.Z)(function*(sn,pn,Vr,wi){let Zr=pn.view.sc(Vr);Zr.zi&&(Zr=yield il(sn.localStore,pn.query,!1).then(({documents:fs})=>pn.view.sc(fs,Zr)));const yo=wi&&wi.targetChanges.get(pn.targetId),io=pn.view.applyChanges(Zr,sn.isPrimaryClient,yo);return Eg(sn,pn.targetId,io.cc),io.snapshot}),function(sn,pn,Vr,wi){return Rt.apply(this,arguments)})(i,ye,He,ct);var Rt};const l=yield il(i.localStore,e,!0),f=new py(e,l.ir),T=f.sc(l.documents),k=ws.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),j=f.applyChanges(T,i.isPrimaryClient,k);Eg(i,n,j.cc);const ne=new pg(e,n,f);return i.wc.set(e,ne),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),j.snapshot}),mg.apply(this,arguments)}function gy(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,fe.Z)(function*(i,e){const n=wt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!jc(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Zl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),nd(n.remoteStore,o.targetId),fl(n,o.targetId)}).catch(Go))):(fl(n,o.targetId),yield Zl(n.localStore,o.targetId,!0))}),xf.apply(this,arguments)}function yg(){return yg=(0,fe.Z)(function*(i,e,n){const o=function lh(i){const e=wt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yy.bind(null,e),e}(i);try{const u=yield function(l,f){const T=wt(l),k=zi.now(),j=f.reduce((He,ct)=>He.add(ct.key),_r());let ne,ye;return T.persistence.runTransaction("Locally write mutations","readwrite",He=>{let ct=Fo(),Rt=_r();return T.Zi.getEntries(He,j).next(sn=>{ct=sn,ct.forEach((pn,Vr)=>{Vr.isValidDocument()||(Rt=Rt.add(pn))})}).next(()=>T.localDocuments.getOverlayedDocuments(He,ct)).next(sn=>{ne=sn;const pn=[];for(const Vr of f){const wi=Mm(Vr,ne.get(Vr.key).overlayedDocument);null!=wi&&pn.push(new gu(Vr.key,wi,Md(wi.value.mapValue),is.exists(!0)))}return T.mutationQueue.addMutationBatch(He,k,pn,f)}).next(sn=>{ye=sn;const pn=sn.applyToLocalDocumentSet(ne,Rt);return T.documentOverlayCache.saveOverlays(He,sn.batchId,pn)})}).then(()=>({batchId:ye.batchId,changes:Rl(ne)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,T){let k=l.Tc[l.currentUser.toKey()];k||(k=new Ri(hn)),k=k.insert(f,T),l.Tc[l.currentUser.toKey()]=k}(o,u.batchId,n),yield Fu(o,u.changes),yield id(o.remoteStore)}catch(u){const l=ud(u,"Failed to persist write");n.reject(l)}}),yg.apply(this,arguments)}function my(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,fe.Z)(function*(i,e){const n=wt(i);try{const o=yield function rl(i,e){const n=wt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const T=[];e.targetChanges.forEach((ne,ye)=>{const He=u.get(ye);if(!He)return;T.push(n.Bs.removeMatchingKeys(l,ne.removedDocuments,ye).next(()=>n.Bs.addMatchingKeys(l,ne.addedDocuments,ye)));let ct=He.withSequenceNumber(l.currentSequenceNumber);var Rt,sn,pn;null!==e.targetMismatches.get(ye)?ct=ct.withResumeToken(zs.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):ne.resumeToken.approximateByteSize()>0&&(ct=ct.withResumeToken(ne.resumeToken,o)),u=u.insert(ye,ct),sn=ct,pn=ne,(0===(Rt=He).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-Rt.snapshotVersion.toMicroseconds()>=3e8||pn.addedDocuments.size+pn.modifiedDocuments.size+pn.removedDocuments.size>0)&&T.push(n.Bs.updateTargetData(l,ct))});let k=Fo(),j=_r();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&T.push(n.persistence.referenceDelegate.updateLimboDocument(l,ne))}),T.push(function Km(i,e,n){let o=_r(),u=_r();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=Fo();return n.forEach((T,k)=>{const j=l.get(T);k.isFoundDocument()!==j.isFoundDocument()&&(u=u.add(T)),k.isNoDocument()&&k.version.isEqual(an.min())?(e.removeEntry(T,k.readTime),f=f.insert(T,k)):!j.isValidDocument()||k.version.compareTo(j.version)>0||0===k.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(k),f=f.insert(T,k)):We("LocalStore","Ignoring outdated watch update for ",T,". Current version:",j.version," Watch version:",k.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(ne=>{k=ne.nr,j=ne.sr})),!o.isEqual(an.min())){const ne=n.Bs.getLastRemoteSnapshotVersion(l).next(ye=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));T.push(ne)}return Fe.waitFor(T).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,k,j)).next(()=>k)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(Wt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?Wt(f.fc):u.removedDocuments.size>0&&(Wt(f.fc),f.fc=!1))}),yield Fu(n,o,e)}catch(o){yield Go(o)}}),Nf.apply(this,arguments)}function dl(i,e,n){const o=wt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const T=f.view.Mu(e);T.snapshot&&u.push(T.snapshot)}),function(l,f){const T=wt(l);T.onlineState=f;let k=!1;T.queries.forEach((j,ne)=>{for(const ye of ne.listeners)ye.Mu(f)&&(k=!0)}),k&&dy(T)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Ju(i,e,n){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,fe.Z)(function*(i,e,n){const o=wt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new Ri(Vt.comparator);f=f.insert(l,Lr.newNoDocument(l,an.min()));const T=_r().add(l),k=new sa(an.min(),new Map,new Ri(hn),f,T);yield my(o,k),o.gc=o.gc.remove(l),o.yc.delete(e),wg(o)}else yield Zl(o.localStore,e,!1).then(()=>fl(o,e,n)).catch(Go)}),Cc.apply(this,arguments)}function u_(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,fe.Z)(function*(i,e){const n=wt(i),o=e.batch.batchId;try{const u=yield function Wm(i,e){const n=wt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,k,j){const ne=k.batch,ye=ne.keys();let He=Fe.resolve();return ye.forEach(ct=>{He=He.next(()=>j.getEntry(T,ct)).next(Rt=>{const sn=k.docVersions.get(ct);Wt(null!==sn),Rt.version.compareTo(sn)<0&&(ne.applyToRemoteDocument(Rt,k),Rt.isValidDocument()&&(Rt.setReadTime(k.commitVersion),j.addEntry(Rt)))})}),He.next(()=>f.mutationQueue.removeMutationBatch(T,ne))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let T=_r();for(let k=0;k<f.mutationResults.length;++k)f.mutationResults[k].transformResults.length>0&&(T=T.add(f.batch.mutations[k].key));return T}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Pf(n,o,null),ld(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Fu(n,u)}catch(u){yield Go(u)}}),vg.apply(this,arguments)}function yy(i,e,n){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,fe.Z)(function*(i,e,n){const o=wt(i);try{const u=yield function(l,f){const T=wt(l);return T.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let j;return T.mutationQueue.lookupMutationBatch(k,f).next(ne=>(Wt(null!==ne),j=ne.keys(),T.mutationQueue.removeMutationBatch(k,ne))).next(()=>T.mutationQueue.performConsistencyCheck(k)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(k,j,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,j)).next(()=>T.localDocuments.getDocuments(k,j))})}(o.localStore,e);Pf(o,e,n),ld(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Fu(o,u)}catch(u){yield Go(u)}}),Rf.apply(this,arguments)}function ld(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function Pf(i,e,n){const o=wt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function fl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||vy(i,o)})}function vy(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(nd(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),wg(i))}function Eg(i,e,n){for(const o of n)o instanceof i_?(i.Ic.addReference(o.key,e),c_(i,o)):o instanceof xo?(We("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||vy(i,o.key)):Gt()}function c_(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(We("SyncEngine","New document in limbo: "+n),i.mc.add(o),wg(i))}function wg(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new Vt(Kr.fromString(e)),o=i.Ac.next();i.yc.set(o,new s_(n)),i.gc=i.gc.insert(n,o),td(i.remoteStore,new Ja(mo(fc(n.path)),o,"TargetPurposeLimboResolution",ds.ct))}}function Fu(i,e,n){return _y.apply(this,arguments)}function _y(){return _y=(0,fe.Z)(function*(i,e,n){const o=wt(i),u=[],l=[],f=[];var T;o.wc.isEmpty()||(o.wc.forEach((T,k)=>{f.push(o.Rc(k,e,n).then(j=>{if((j||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(k.targetId,j?.fromCache?"not-current":"current"),j){u.push(j);const ne=lf.Li(k.targetId,j);l.push(ne)}}))}),yield Promise.all(f),o.dc.nu(u),yield(T=(0,fe.Z)(function*(k,j){const ne=wt(k);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",ye=>Fe.forEach(j,He=>Fe.forEach(He.Fi,ct=>ne.persistence.referenceDelegate.addReference(ye,He.targetId,ct)).next(()=>Fe.forEach(He.Bi,ct=>ne.persistence.referenceDelegate.removeReference(ye,He.targetId,ct)))))}catch(ye){if(!ea(ye))throw ye;We("LocalStore","Failed to update sequence numbers: "+ye)}for(const ye of j){const He=ye.targetId;if(!ye.fromCache){const ct=ne.Ji.get(He),sn=ct.withLastLimboFreeSnapshotVersion(ct.snapshotVersion);ne.Ji=ne.Ji.insert(He,sn)}}}),function(k,j){return T.apply(this,arguments)})(o.localStore,l))}),_y.apply(this,arguments)}function l_(i,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,fe.Z)(function*(i,e){const n=wt(i);if(!n.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const o=yield qm(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(T=>{T.reject(new yt(Ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Fu(n,o.er)}var u}),Ey.apply(this,arguments)}function vw(i,e){const n=wt(i),o=n.yc.get(e);if(o&&o.fc)return _r().add(o.key);{let u=_r();const l=n._c.get(e);if(!l)return u;for(const f of l){const T=n.wc.get(f);u=u.unionWith(T.view.nc)}return u}}class hh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,fe.Z)(function*(){n.serializer=al(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function df(i,e,n,o){return new yw(i,e,n,o)}(this.persistence,new nh,e.initialUser,this.serializer)}createPersistence(e){return new sf(Gp.zs,this.serializer)}createSharedClientState(e){return new Jm}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pl{initialize(e,n){var o=this;return(0,fe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>dl(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=l_.bind(null,o.syncEngine),yield function cg(i,e){return lg.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Eu}createDatastore(e){const n=al(e.databaseInfo.databaseId),o=new Xp(e.databaseInfo);return new eg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=T=>dl(this.syncEngine,T,0),f=ey.D()?new ey:new Zv,new ah(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,T,k,j){const ne=new o_(o,u,l,f,T,k);return j&&(ne.vc=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,fe.Z)(function*(n){const o=wt(n);We("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ed(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class jf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class g_{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=kr.UNAUTHENTICATED,this.clientId=bu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,fe.Z)(function*(T){We("FirestoreClient","Received user=",T.uid),yield l.authCredentialListener(T),l.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(We("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=ud(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function $f(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,fe.Z)(function*(l){o.isEqual(l)||(yield qm(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Tg.apply(this,arguments)}function Cg(i,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Ag(i){return Mg.apply(this,arguments)}(i);We("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>bf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>bf(e.remoteStore,l)),i._onlineComponents=e}),Hf.apply(this,arguments)}function Mg(){return Mg=(0,fe.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $f(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Sg(i){return"FirebaseError"===i.name?i.code===Ze.FAILED_PRECONDITION||i.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Hn("Error using user provided cache. Falling back to memory cache: "+n),yield $f(i,new hh)}}else We("FirestoreClient","Using default OfflineComponentProvider"),yield $f(i,new hh);return i._offlineComponents}),Mg.apply(this,arguments)}function oa(i){return xg.apply(this,arguments)}function xg(){return xg=(0,fe.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),yield Cg(i,i._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),yield Cg(i,new pl))),i._onlineComponents}),xg.apply(this,arguments)}function pd(i){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,fe.Z)(function*(i){const e=yield oa(i),n=e.eventManager;return n.onListen=gg.bind(null,e.syncEngine),n.onUnlisten=gy.bind(null,e.syncEngine),n}),Rg.apply(this,arguments)}function Wf(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const My=new Map;function Kf(i,e,n){if(!n)throw new yt(Ze.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Pg(i){if(!Vt.isDocumentKey(i))throw new yt(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Og(i){if(Vt.isDocumentKey(i))throw new yt(Ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function gl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Gt()}function ai(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new yt(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gl(i);throw new yt(Ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class kg{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new yt(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yt(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function I_(i,e,n,o){if(!0===e&&!0===o)throw new yt(Ze.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Wf(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new yt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new yt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new yt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yt(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yt(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Un;switch(n.type){case"firstParty":return new Du(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new yt(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=My.get(e);n&&(We("ComponentProvider","Removing Datastore"),My.delete(e),n.terminate())}(this),Promise.resolve()}}class Gs{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gs(this.firestore,e,this._key)}}class No{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class Vo extends No{constructor(e,n,o){super(e,n,fc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gs(this.firestore,null,new Vt(e))}withConverter(e){return new Vo(this.firestore,e,this._path)}}function b_(i,e,...n){if(i=(0,me.m9)(i),Kf("collection","path",e),i instanceof gd){const o=Kr.fromString(e,...n);return Og(o),new Vo(i,null,o)}{if(!(i instanceof Gs||i instanceof Vo))throw new yt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Kr.fromString(e,...n));return Og(o),new Vo(i.firestore,null,o)}}function Zf(i,e,...n){if(i=(0,me.m9)(i),1===arguments.length&&(e=bu.A()),Kf("doc","path",e),i instanceof gd){const o=Kr.fromString(e,...n);return Pg(o),new Gs(i,null,new Vt(o))}{if(!(i instanceof Gs||i instanceof Vo))throw new yt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Kr.fromString(e,...n));return Pg(o),new Gs(i.firestore,i instanceof Vo?i.converter:null,new Vt(o))}}class T_{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ul(this,"async_queue_retry"),this.Xc=()=>{const n=Xl();n&&We("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Xl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Xl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new xr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,fe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ea(n))throw n;We("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=Cf.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&Gt()}verifyOperationInProgress(){}sa(){var e=this;return(0,fe.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function md(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Qi extends gd{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new T_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lg(this),this._firestoreClient.terminate()}}function S_(i,e){const n="object"==typeof i?i:(0,Xe.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,Xe.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,me.P0)("firestore");l&&function xy(i,e,n,o={}){var u;const l=(i=ai(i,gd))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Hn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let T,k;if("string"==typeof o.mockUserToken)T=o.mockUserToken,k=kr.MOCK_USER;else{T=(0,me.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new yt(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new kr(j)}i._authCredentials=new Xo(new Qo(T,k))}}(u,...l)}return u}function ro(i){return i._firestoreClient||Lg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Lg(i){var e,n,o;const u=i._freezeSettings(),l=(T=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Oc(i._databaseId,T,i._persistenceKey,(j=u).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,Wf(j.experimentalLongPollingOptions),j.useFetchStreams));var T,j;i._firestoreClient=new g_(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(zs.fromBase64String(e))}catch(n){throw new yt(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(zs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new yt(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ug{constructor(e){this._methodName=e}}class Bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new yt(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new yt(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}}const R_=/^__.*__$/;class Ny{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new gu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class Qf{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new gu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ry(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt()}}class yl{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new yl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ba(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ry(this.ca)&&R_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class P_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||al(e)}ya(e,n,o,u=!1){return new yl({ca:e,methodName:n,ga:o,path:dn.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(i){const e=i._freezeSettings(),n=al(i._databaseId);return new P_(i._databaseId,!!e.ignoreUndefinedProperties,n)}function jg(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);zg("Data must be an object, but it was:",f,o);const T=F_(o,f);let k,j;if(l.merge)k=new So(f.fieldMask),j=f.fieldTransforms;else if(l.mergeFields){const ne=[];for(const ye of l.mergeFields){const He=yh(e,ye,n);if(!f.contains(He))throw new yt(Ze.INVALID_ARGUMENT,`Field '${He}' is specified in your field mask but missing from your input data.`);Ed(ne,He)||ne.push(He)}k=new So(ne),j=f.fieldTransforms.filter(ye=>k.covers(ye.field))}else k=null,j=f.fieldTransforms;return new Ny(new Ui(T),k,j)}class gh extends Ug{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function Ac(i,e){if(mh(i=(0,me.m9)(i)))return zg("Unsupported field value:",e,i),F_(i,e);if(i instanceof Ug)return function(n,o){if(!Ry(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let T=Ac(f,o.wa(l));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,me.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return bm(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=zi.fromDate(n);return{timestampValue:yc(o.serializer,u)}}if(n instanceof zi){const u=new zi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yc(o.serializer,u)}}if(n instanceof Bg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ml)return{bytesValue:Nm(o.serializer,n._byteString)};if(n instanceof Gs){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${gl(n)}`)}(i,e)}function F_(i,e){const n={};return Mu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(i,(o,u)=>{const l=Ac(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function mh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof zi||i instanceof Bg||i instanceof ml||i instanceof Gs||i instanceof Ug)}function zg(i,e,n){if(!mh(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=gl(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function yh(i,e,n){if((e=(0,me.m9)(e))instanceof vd)return e._internalPath;if("string"==typeof e)return Xf(i,e);throw Ba("Field path arguments must be of type string or ",i,!1,void 0,n)}const Gg=new RegExp("[~\\*/\\[\\]]");function Xf(i,e,n){if(e.search(Gg)>=0)throw Ba(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new vd(...e.split("."))._internalPath}catch{throw Ba(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ba(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let T=`Function ${e}() called with invalid data`;n&&(T+=" (via `toFirestore()`)"),T+=". ";let k="";return(l||f)&&(k+=" (found",l&&(k+=` in field ${o}`),f&&(k+=` in document ${u}`),k+=")"),new yt(Ze.INVALID_ARGUMENT,T+i+k)}function Ed(i,e){return i.some(n=>n.isEqual(e))}class Uo{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_l("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class vl extends Uo{data(){return super.data()}}function _l(i,e){return"string"==typeof e?Xf(i,e):e instanceof vd?e._internalPath:e._delegate._internalPath}class vh{}class wd extends vh{}function Id(i,e,...n){let o=[];e instanceof vh&&o.push(e),o=o.concat(n),function(u){const l=u.filter(T=>T instanceof Iu).length,f=u.filter(T=>T instanceof Vu).length;if(l>1||l>0&&f>0)throw new yt(Ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Vu extends wd{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Vu(e,n,o)}_apply(e){const n=this._parse(e);return z_(e._query,n),new No(e.firestore,e.converter,xd(e._query,n))}_parse(e){const n=_d(e.firestore);return function(u,l,f,T,k,j,ne){let ye;if(k.isKeyField()){if("array-contains"===j||"array-contains-any"===j)throw new yt(Ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${j}' queries on documentId().`);if("in"===j||"not-in"===j){H_(ne,j);const He=[];for(const ct of ne)He.push(Ly(T,u,ct));ye={arrayValue:{values:He}}}else ye=Ly(T,u,ne)}else"in"!==j&&"not-in"!==j&&"array-contains-any"!==j||H_(ne,j),ye=function Hg(i,e,n,o=!1){return Ac(n,i.ya(o?4:3,e))}(f,"where",ne,"in"===j||"not-in"===j);return V.create(k,j,ye)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dd(i,e,n){const o=e,u=_l("where",i);return Vu._create(u,o,n)}class Iu extends vh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iu(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:ie.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const T of f)z_(l,T),l=xd(l,T)}(e._query,n),new No(e.firestore,e.converter,xd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ly(i,e,n){if("string"==typeof(n=(0,me.m9)(n))){if(""===n)throw new yt(Ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pu(e)&&-1!==n.indexOf("/"))throw new yt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Kr.fromString(n));if(!Vt.isDocumentKey(o))throw new yt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return fa(i,new Vt(o))}if(n instanceof Gs)return fa(i,n._key);throw new yt(Ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gl(n)}.`)}function H_(i,e){if(!Array.isArray(i)||0===i.length)throw new yt(Ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z_(i,e){if(e.isInequality()){const o=fu(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new yt(Ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=ko(i);null!==l&&function Vy(i,e,n){if(!n.isEqual(e))throw new yt(Ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new yt(Ze.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Aw{convertValue(e,n="none"){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Es(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Gt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Ia(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Bg(Es(e.latitude),Es(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Cl(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(da(e));default:return null}}convertTimestamp(e){const n=qo(e);return new zi(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Kr.fromString(e);Wt(Nv(o));const u=new Wo(o.get(1),o.get(3)),l=new Vt(o.popFirst(5));return u.isEqual(n)||Yt(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tc extends Uo{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(_l("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Th extends tc{data(e={}){return super.data(e)}}class Uu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new ec(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Th(this._firestore,this._userDataWriter,o.key,o,new ec(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new yt(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Th(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ec(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const T=new Th(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ec(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let k=-1,j=-1;return 0!==f.type&&(k=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),j=l.indexOf(f.doc.key)),{type:jy(f.type),doc:T,oldIndex:k,newIndex:j}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt()}}class xc extends Aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,n)}}function np(i,e,n){i=ai(i,Gs);const o=ai(i.firestore,Qi),u=function qg(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e,n);return bd(o,[jg(_d(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,is.none())])}function kw(i,e,n,...o){i=ai(i,Gs);const u=ai(i.firestore,Qi),l=_d(u);let f;return f="string"==typeof(e=(0,me.m9)(e))||e instanceof vd?function k_(i,e,n,o,u,l){const f=i.ya(1,e,n),T=[yh(e,o,n)],k=[u];if(l.length%2!=0)throw new yt(Ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let He=0;He<l.length;He+=2)T.push(yh(e,l[He])),k.push(l[He+1]);const j=[],ne=Ui.empty();for(let He=T.length-1;He>=0;--He)if(!Ed(j,T[He])){const ct=T[He];let Rt=k[He];Rt=(0,me.m9)(Rt);const sn=f.da(ct);if(Rt instanceof gh)j.push(ct);else{const pn=Ac(Rt,sn);null!=pn&&(j.push(ct),ne.set(ct,pn))}}const ye=new So(j);return new Qf(ne,ye,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function Fy(i,e,n,o){const u=i.ya(1,e,n);zg("Data must be an object, but it was:",u,o);const l=[],f=Ui.empty();Ia(o,(k,j)=>{const ne=Xf(e,k,n);j=(0,me.m9)(j);const ye=u.da(ne);if(j instanceof gh)l.push(ne);else{const He=Ac(j,ye);null!=He&&(l.push(ne),f.set(ne,He))}});const T=new So(l);return new Qf(f,T,u.fieldTransforms)}(l,"updateDoc",i._key,e),bd(u,[f.toMutation(i._key,is.exists(!0))])}function bd(i,e){return function(n,o){const u=new xr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function a_(i,e,n){return yg.apply(this,arguments)}(yield function Gf(i){return oa(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(ro(i),e)}!function(i,e=!0){Fr=Xe.Jn,(0,Xe.Xd)(new et.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new Qi(new xa(n.getProvider("auth-internal")),new aa(n.getProvider("app-check-internal")),function(T,k){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new yt(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wo(T.options.projectId,k)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Xe.KN)(Ys,"3.13.0",i),(0,Xe.KN)(Ys,"3.13.0","esm2017")}();var Jg=X(5592),em=X(7398),tE={includeMetadataChanges:!1};function op(i,e){return void 0===e&&(e=tE),new Jg.y(function(n){var o=function Kg(i,...e){var n,o,u;i=(0,me.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||md(e[f])||(l=e[f],f++);const T={includeMetadataChanges:l.includeMetadataChanges};if(md(e[f])){const ye=e[f];e[f]=null===(n=ye.next)||void 0===n?void 0:n.bind(ye),e[f+1]=null===(o=ye.error)||void 0===o?void 0:o.bind(ye),e[f+2]=null===(u=ye.complete)||void 0===u?void 0:u.bind(ye)}let k,j,ne;if(i instanceof Gs)j=ai(i.firestore,Qi),ne=fc(i._key.path),k={next:ye=>{e[f]&&e[f](function Zg(i,e,n){const o=n.docs.get(e._key),u=new xc(i);return new tc(i,u,e._key,o,new ec(n.hasPendingWrites,n.fromCache),e.converter)}(j,i,ye))},error:e[f+1],complete:e[f+2]};else{const ye=ai(i,No);j=ai(ye.firestore,Qi),ne=ye._query;const He=new xc(j);k={next:ct=>{e[f]&&e[f](new Uu(j,He,ye,ct))},error:e[f+1],complete:e[f+2]},function ja(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new yt(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(ye,He,ct,Rt){const sn=new jf(Rt),pn=new hg(He,sn,ct);return ye.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function Sf(i,e){return ly.apply(this,arguments)}(yield pd(ye),pn)})),()=>{sn.Dc(),ye.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function ch(i,e){return ku.apply(this,arguments)}(yield pd(ye),pn)}))}}(ro(j),ne,T,k)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function nv(i,e){return void 0===e&&(e={}),function tv(i){return op(i,{includeMetadataChanges:!0}).pipe((0,em.U)(function(e){return e.docs}))}(i).pipe((0,em.U)(function(n){return n.map(function(o){return function tm(i,e){void 0===e&&(e={});var n=i.data();return!i.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=i.id),n}(o,e)})}))}class El{constructor(e){return e}}const nc="firestore",Ch=new pe.OlP("angularfire2.firestore-instances");function om(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new El(o)}}const aE={provide:class oE{constructor(){return(0,v.vb)(nc)}},deps:[[new pe.FiY,Ch]]},am={provide:El,useFactory:function wl(i,e){const n=(0,v.JM)(nc,i,e);return n&&new El(n)},deps:[[new pe.FiY,Ch],Oe.Ot]};let zw=(()=>{class i{constructor(){(0,Ae.KN)("angularfire",v.q4.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=pe.oAB({type:i}),i.\u0275inj=pe.cJS({providers:[am,aE]}),i})();function Gw(i,...e){return{ngModule:zw,providers:[{provide:Ch,useFactory:om(i),multi:!0,deps:[pe.R0b,pe.zs3,v.HU,Oe.z6,[new pe.FiY,Z.dh],[new pe.FiY,ce.nm],...e]}]}}const Ro=(0,v.u3)(nv,!0),fE=(0,v.u3)(b_,!0),rv=(0,v.u3)(Zf,!0),vE=(0,v.u3)(S_,!0),IE=(0,v.u3)(Id,!0),CE=(0,v.u3)(np,!0),uv=(0,v.u3)(kw,!0),cv=(0,v.u3)(Dd,!0)},9493:(Dn,dt,X)=>{X.d(dt,{Ke:()=>us,Jt:()=>$o,cF:()=>vs,Vq:()=>xs,iH:()=>uo,KV:()=>Ho});var v=X(456),pe=X(4946),Z=X(8726),Oe=X(5609),Ae=X(3182),ce=X(7247),fe=X(5861),Xe=X(534),et=X(9058),_e=X(4537);const me="firebasestorage.googleapis.com",qe="storageBucket";class pt extends et.ZR{constructor($,ue,ge=0){super(cn($),`Firebase Storage: ${ue} (${cn($)})`),this.status_=ge,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status($){this.status_=$}_codeEquals($){return cn($)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse($){this.customData.serverResponse=$,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Pt=function(G){return G.UNKNOWN="unknown",G.OBJECT_NOT_FOUND="object-not-found",G.BUCKET_NOT_FOUND="bucket-not-found",G.PROJECT_NOT_FOUND="project-not-found",G.QUOTA_EXCEEDED="quota-exceeded",G.UNAUTHENTICATED="unauthenticated",G.UNAUTHORIZED="unauthorized",G.UNAUTHORIZED_APP="unauthorized-app",G.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",G.INVALID_CHECKSUM="invalid-checksum",G.CANCELED="canceled",G.INVALID_EVENT_NAME="invalid-event-name",G.INVALID_URL="invalid-url",G.INVALID_DEFAULT_BUCKET="invalid-default-bucket",G.NO_DEFAULT_BUCKET="no-default-bucket",G.CANNOT_SLICE_BLOB="cannot-slice-blob",G.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",G.NO_DOWNLOAD_URL="no-download-url",G.INVALID_ARGUMENT="invalid-argument",G.INVALID_ARGUMENT_COUNT="invalid-argument-count",G.APP_DELETED="app-deleted",G.INVALID_ROOT_OPERATION="invalid-root-operation",G.INVALID_FORMAT="invalid-format",G.INTERNAL_ERROR="internal-error",G.UNSUPPORTED_ENVIRONMENT="unsupported-environment",G}(Pt||{});function cn(G){return"storage/"+G}function er(){return new pt(Pt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function St(G){return new pt(Pt.INVALID_ARGUMENT,G)}function vn(){return new pt(Pt.APP_DELETED,"The Firebase app was deleted.")}function ze(G,$){return new pt(Pt.INVALID_FORMAT,"String does not match format '"+G+"': "+$)}function Qe(G){throw new pt(Pt.INTERNAL_ERROR,"Internal error: "+G)}class Be{constructor($,ue){this.bucket=$,this.path_=ue}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const $=encodeURIComponent;return"/b/"+$(this.bucket)+"/o/"+$(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec($,ue){let ge;try{ge=Be.makeFromUrl($,ue)}catch{return new Be($,"")}if(""===ge.path)return ge;throw function kn(G){return new pt(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+G+"'.")}($)}static makeFromUrl($,ue){let ge=null;const Se="([A-Za-z0-9.\\-_]+)",x=new RegExp("^gs://"+Se+"(/(.*))?$","i");function he(Ci){Ci.path_=decodeURIComponent(Ci.path)}const Zt=ue.replace(/[.]/g,"\\."),Ki=[{regex:x,indices:{bucket:1,path:3},postModify:function P(Ci){"/"===Ci.path.charAt(Ci.path.length-1)&&(Ci.path_=Ci.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Zt}/v[A-Za-z0-9_]+/b/${Se}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:he},{regex:new RegExp(`^https?://${ue===me?"(?:storage.googleapis.com|storage.cloud.google.com)":ue}/${Se}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:he}];for(let Ci=0;Ci<Ki.length;Ci++){const co=Ki[Ci],$i=co.regex.exec($);if($i){let lo=$i[co.indices.path];lo||(lo=""),ge=new Be($i[co.indices.bucket],lo),co.postModify(ge);break}}if(null==ge)throw function mt(G){return new pt(Pt.INVALID_URL,"Invalid URL '"+G+"'.")}($);return ge}}class at{constructor($){this.promise_=Promise.reject($)}getPromise(){return this.promise_}cancel($=!1){}}function wn(G){return"string"==typeof G||G instanceof String}function hr(G){return qn()&&G instanceof Blob}function qn(){return typeof Blob<"u"&&!(0,et.UG)()}function Wn(G,$,ue,ge){if(ge<$)throw St(`Invalid value for '${G}'. Expected ${$} or greater.`);if(ge>ue)throw St(`Invalid value for '${G}'. Expected ${ue} or less.`)}function nr(G,$,ue){let ge=$;return null==ue&&(ge=`https://${$}`),`${ue}://${ge}/v0${G}`}function rr(G){const $=encodeURIComponent;let ue="?";for(const ge in G)G.hasOwnProperty(ge)&&(ue=ue+($(ge)+"=")+$(G[ge])+"&");return ue=ue.slice(0,-1),ue}var $r=function(G){return G[G.NO_ERROR=0]="NO_ERROR",G[G.NETWORK_ERROR=1]="NETWORK_ERROR",G[G.ABORT=2]="ABORT",G}($r||{});class yn{constructor($,ue,ge,Se,P,F,x,W,he,_t,Zt,yr=!0){this.url_=$,this.method_=ue,this.headers_=ge,this.body_=Se,this.successCodes_=P,this.additionalRetryCodes_=F,this.callback_=x,this.errorCallback_=W,this.timeout_=he,this.progressCallback_=_t,this.connectionFactory_=Zt,this.retry=yr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Br,Or)=>{this.resolve_=Br,this.reject_=Or,this.start_()})}start_(){const ue=(ge,Se)=>{const P=this.resolve_,F=this.reject_,x=Se.connection;if(Se.wasSuccessCode)try{const W=this.callback_(x,x.getResponse());!function Rn(G){return void 0!==G}(W)?P():P(W)}catch(W){F(W)}else if(null!==x){const W=er();W.serverResponse=x.getErrorText(),F(this.errorCallback_?this.errorCallback_(x,W):W)}else F(Se.canceled?this.appDelete_?vn():function lt(){return new pt(Pt.CANCELED,"User canceled the upload/download.")}():function Tt(){return new pt(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?ue(0,new ir(!1,null,!0)):this.backoffId_=function bt(G,$,ue){let ge=1,Se=null,P=null,F=!1,x=0;function W(){return 2===x}let he=!1;function _t(...Er){he||(he=!0,$.apply(null,Er))}function Zt(Er){Se=setTimeout(()=>{Se=null,G(Br,W())},Er)}function yr(){P&&clearTimeout(P)}function Br(Er,...ns){if(he)return void yr();if(Er)return yr(),void _t.call(null,Er,...ns);if(W()||F)return yr(),void _t.call(null,Er,...ns);let Ki;ge<64&&(ge*=2),1===x?(x=2,Ki=0):Ki=1e3*(ge+Math.random()),Zt(Ki)}let Or=!1;function Li(Er){Or||(Or=!0,yr(),!he&&(null!==Se?(Er||(x=2),clearTimeout(Se),Zt(0)):Er||(x=1)))}return Zt(0),P=setTimeout(()=>{F=!0,Li(!0)},ue),Li}((ge,Se)=>{if(Se)return void ge(!1,new ir(!1,null,!0));const P=this.connectionFactory_();this.pendingConnection_=P;const F=x=>{null!==this.progressCallback_&&this.progressCallback_(x.loaded,x.lengthComputable?x.total:-1)};null!==this.progressCallback_&&P.addUploadProgressListener(F),P.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&P.removeUploadProgressListener(F),this.pendingConnection_=null;const x=P.getErrorCode()===$r.NO_ERROR,W=P.getStatus();if(!x||function jn(G,$){const ue=G>=500&&G<600,Se=-1!==[408,429].indexOf(G),P=-1!==$.indexOf(G);return ue||Se||P}(W,this.additionalRetryCodes_)&&this.retry){const _t=P.getErrorCode()===$r.ABORT;return void ge(!1,new ir(!1,null,_t))}const he=-1!==this.successCodes_.indexOf(W);ge(!0,new ir(he,P))})},ue,this.timeout_)}getPromise(){return this.promise_}cancel($){this.canceled_=!0,this.appDelete_=$||!1,null!==this.backoffId_&&function en(G){G(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ir{constructor($,ue,ge){this.wasSuccessCode=$,this.connection=ue,this.canceled=!!ge}}function fr(...G){const $=function bn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==$){const ue=new $;for(let ge=0;ge<G.length;ge++)ue.append(G[ge]);return ue.getBlob()}if(qn())return new Blob(G);throw new pt(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Fn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ir{constructor($,ue){this.data=$,this.contentType=ue||null}}function ur(G){const $=[];for(let ue=0;ue<G.length;ue++){let ge=G.charCodeAt(ue);ge<=127?$.push(ge):ge<=2047?$.push(192|ge>>6,128|63&ge):55296==(64512&ge)?ue<G.length-1&&56320==(64512&G.charCodeAt(ue+1))?(ge=65536|(1023&ge)<<10|1023&G.charCodeAt(++ue),$.push(240|ge>>18,128|ge>>12&63,128|ge>>6&63,128|63&ge)):$.push(239,191,189):56320==(64512&ge)?$.push(239,191,189):$.push(224|ge>>12,128|ge>>6&63,128|63&ge)}return new Uint8Array($)}function Ot(G,$){switch(G){case Fn.BASE64:{const Se=-1!==$.indexOf("-"),P=-1!==$.indexOf("_");if(Se||P)throw ze(G,"Invalid character '"+(Se?"-":"_")+"' found: is it base64url encoded?");break}case Fn.BASE64URL:{const Se=-1!==$.indexOf("+"),P=-1!==$.indexOf("/");if(Se||P)throw ze(G,"Invalid character '"+(Se?"+":"/")+"' found: is it base64 encoded?");$=$.replace(/-/g,"+").replace(/_/g,"/");break}}let ue;try{ue=function ui(G){if(typeof atob>"u")throw function Gn(G){return new pt(Pt.UNSUPPORTED_ENVIRONMENT,`${G} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(G)}($)}catch(Se){throw Se.message.includes("polyfill")?Se:ze(G,"Invalid character found")}const ge=new Uint8Array(ue.length);for(let Se=0;Se<ue.length;Se++)ge[Se]=ue.charCodeAt(Se);return ge}class ri{constructor($){this.base64=!1,this.contentType=null;const ue=$.match(/^data:([^,]+)?,/);if(null===ue)throw ze(Fn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ge=ue[1]||null;null!=ge&&(this.base64=function Jr(G,$){return G.length>=$.length&&G.substring(G.length-$.length)===$}(ge,";base64"),this.contentType=this.base64?ge.substring(0,ge.length-7):ge),this.rest=$.substring($.indexOf(",")+1)}}class Cr{constructor($,ue){let ge=0,Se="";hr($)?(this.data_=$,ge=$.size,Se=$.type):$ instanceof ArrayBuffer?(ue?this.data_=new Uint8Array($):(this.data_=new Uint8Array($.byteLength),this.data_.set(new Uint8Array($))),ge=this.data_.length):$ instanceof Uint8Array&&(ue?this.data_=$:(this.data_=new Uint8Array($.length),this.data_.set($)),ge=$.length),this.size_=ge,this.type_=Se}size(){return this.size_}type(){return this.type_}slice($,ue){if(hr(this.data_)){const Se=function Hr(G,$,ue){return G.webkitSlice?G.webkitSlice($,ue):G.mozSlice?G.mozSlice($,ue):G.slice?G.slice($,ue):null}(this.data_,$,ue);return null===Se?null:new Cr(Se)}{const ge=new Uint8Array(this.data_.buffer,$,ue-$);return new Cr(ge,!0)}}static getBlob(...$){if(qn()){const ue=$.map(ge=>ge instanceof Cr?ge.data_:ge);return new Cr(fr.apply(null,ue))}{const ue=$.map(F=>wn(F)?function ci(G,$){switch(G){case Fn.RAW:return new Ir(ur($));case Fn.BASE64:case Fn.BASE64URL:return new Ir(Ot(G,$));case Fn.DATA_URL:return new Ir(function Si(G){const $=new ri(G);return $.base64?Ot(Fn.BASE64,$.rest):function Xi(G){let $;try{$=decodeURIComponent(G)}catch{throw ze(Fn.DATA_URL,"Malformed data URL.")}return ur($)}($.rest)}($),function zr(G){return new ri(G).contentType}($))}throw er()}(Fn.RAW,F).data:F.data_);let ge=0;ue.forEach(F=>{ge+=F.byteLength});const Se=new Uint8Array(ge);let P=0;return ue.forEach(F=>{for(let x=0;x<F.length;x++)Se[P++]=F[x]}),new Cr(Se,!0)}}uploadData(){return this.data_}}function qt(G){let $;try{$=JSON.parse(G)}catch{return null}return function xt(G){return"object"==typeof G&&!Array.isArray(G)}($)?$:null}function ln(G){const $=G.lastIndexOf("/",G.length-2);return-1===$?G:G.slice($+1)}function cr(G,$){return $}class Kt{constructor($,ue,ge,Se){this.server=$,this.local=ue||$,this.writable=!!ge,this.xform=Se||cr}}let pr=null;function J(){if(pr)return pr;const G=[];G.push(new Kt("bucket")),G.push(new Kt("generation")),G.push(new Kt("metageneration")),G.push(new Kt("name","fullPath",!0));const ue=new Kt("name");ue.xform=function $(P,F){return function ve(G){return!wn(G)||G.length<2?G:ln(G)}(F)},G.push(ue);const Se=new Kt("size");return Se.xform=function ge(P,F){return void 0!==F?Number(F):F},G.push(Se),G.push(new Kt("timeCreated")),G.push(new Kt("updated")),G.push(new Kt("md5Hash",null,!0)),G.push(new Kt("cacheControl",null,!0)),G.push(new Kt("contentDisposition",null,!0)),G.push(new Kt("contentEncoding",null,!0)),G.push(new Kt("contentLanguage",null,!0)),G.push(new Kt("contentType",null,!0)),G.push(new Kt("metadata","customMetadata",!0)),pr=G,pr}function re(G,$,ue){const ge=qt($);return null===ge?null:function te(G,$,ue){const ge={type:"file"},Se=ue.length;for(let P=0;P<Se;P++){const F=ue[P];ge[F.local]=F.xform(ge,$[F.server])}return function ee(G,$){Object.defineProperty(G,"ref",{get:function ue(){const P=new Be(G.bucket,G.fullPath);return $._makeStorageReference(P)}})}(ge,G),ge}(G,ge,ue)}class gn{constructor($,ue,ge,Se){this.url=$,this.method=ue,this.handler=ge,this.timeout=Se,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zn(G){if(!G)throw er()}function Ke(G){return function $(ue,ge){let Se;return Se=401===ue.getStatus()?ue.getErrorText().includes("Firebase App Check token is invalid")?function tt(){return new pt(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ot(){return new pt(Pt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ue.getStatus()?function be(G){return new pt(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+G+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(G.bucket):403===ue.getStatus()?function gt(G){return new pt(Pt.UNAUTHORIZED,"User does not have permission to access '"+G+"'.")}(G.path):ge,Se.status=ue.getStatus(),Se.serverResponse=ge.serverResponse,Se}}function Di(G,$,ue,ge,Se){const P=$.bucketOnlyServerUrl(),F={"X-Goog-Upload-Protocol":"multipart"},W=function x(){let Ki="";for(let Ci=0;Ci<2;Ci++)Ki+=Math.random().toString().slice(2);return Ki}();F["Content-Type"]="multipart/related; boundary="+W;const he=function Yr(G,$,ue){const ge=Object.assign({},ue);return ge.fullPath=G.path,ge.size=$.size(),ge.contentType||(ge.contentType=function lr(G,$){return G&&G.contentType||$&&$.type()||"application/octet-stream"}(null,$)),ge}($,ge,Se),_t=function ht(G,$){const ue={},ge=$.length;for(let Se=0;Se<ge;Se++){const P=$[Se];P.writable&&(ue[P.server]=G[P.local])}return JSON.stringify(ue)}(he,ue),Br=Cr.getBlob("--"+W+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_t+"\r\n--"+W+"\r\nContent-Type: "+he.contentType+"\r\n\r\n",ge,"\r\n--"+W+"--");if(null===Br)throw function Xr(){return new pt(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Or={name:he.fullPath},Li=nr(P,G.host,G._protocol),ns=G.maxUploadRetryTime,ti=new gn(Li,"POST",function Sr(G,$){return function ue(ge,Se){const P=re(G,Se,$);return Zn(null!==P),P}}(G,ue),ns);return ti.urlParams=Or,ti.headers=F,ti.body=Br.uploadData(),ti.errorHandler=Ke($),ti}let Rs=null;class Ie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$r.NO_ERROR,this.sendPromise_=new Promise($=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$r.ABORT,$()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$r.NETWORK_ERROR,$()}),this.xhr_.addEventListener("load",()=>{$()})})}send($,ue,ge,Se){if(this.sent_)throw Qe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ue,$,!0),void 0!==Se)for(const P in Se)Se.hasOwnProperty(P)&&this.xhr_.setRequestHeader(P,Se[P].toString());return void 0!==ge?this.xhr_.send(ge):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qe("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qe("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qe("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qe("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader($){return this.xhr_.getResponseHeader($)}addUploadProgressListener($){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",$)}removeUploadProgressListener($){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",$)}}class Te extends Ie{initXhr(){this.xhr_.responseType="text"}}function ke(){return Rs?Rs():new Te}class Nn{constructor($,ue){this._service=$,this._location=ue instanceof Be?ue:Be.makeFromUrl(ue,$.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef($,ue){return new Nn($,ue)}get root(){const $=new Be(this._location.bucket,"");return this._newRef(this._service,$)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ln(this._location.path)}get storage(){return this._service}get parent(){const $=function gi(G){if(0===G.length)return null;const $=G.lastIndexOf("/");return-1===$?"":G.slice(0,$)}(this._location.path);if(null===$)return null;const ue=new Be(this._location.bucket,$);return new Nn(this._service,ue)}_throwIfRoot($){if(""===this._location.path)throw function Ue(G){return new pt(Pt.INVALID_ROOT_OPERATION,"The operation '"+G+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}($)}}function oo(G){G._throwIfRoot("getDownloadURL");const $=function Lt(G,$,ue){const Se=nr($.fullServerUrl(),G.host,G._protocol),F=G.maxOperationRetryTime,x=new gn(Se,"GET",function Ii(G,$){return function ue(ge,Se){const P=re(G,Se,$);return Zn(null!==P),function Ne(G,$,ue,ge){const Se=qt($);if(null===Se||!wn(Se.downloadTokens))return null;const P=Se.downloadTokens;if(0===P.length)return null;const F=encodeURIComponent;return P.split(",").map(he=>{const Zt=G.fullPath;return nr("/b/"+F(G.bucket)+"/o/"+F(Zt),ue,ge)+rr({alt:"media",token:he})})[0]}(P,Se,G.host,G._protocol)}}(G,ue),F);return x.errorHandler=function Re(G){const $=Ke(G);return function ue(ge,Se){let P=$(ge,Se);return 404===ge.getStatus()&&(P=function Jt(G){return new pt(Pt.OBJECT_NOT_FOUND,"Object '"+G+"' does not exist.")}(G.path)),P.serverResponse=Se.serverResponse,P}}($),x}(G.storage,G._location,J());return G.storage.makeRequestWithTokens($,ke).then(ue=>{if(null===ue)throw function nt(){return new pt(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ue})}function as(G,$){if(G instanceof Ti){const ue=G;if(null==ue._bucket)throw function tr(){return new pt(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qe+"' property when initializing the app?")}();const ge=new Nn(ue,ue._bucket);return null!=$?as(ge,$):ge}return void 0!==$?function Ms(G,$){const ue=function Bi(G,$){const ue=$.split("/").filter(ge=>ge.length>0).join("/");return 0===G.length?ue:G+"/"+ue}(G._location.path,$),ge=new Be(G._location.bucket,ue);return new Nn(G.storage,ge)}(G,$):G}function Fs(G,$){const ue=$?.[qe];return null==ue?null:Be.makeFromBucketSpec(ue,G)}class Ti{constructor($,ue,ge,Se,P){this.app=$,this._authProvider=ue,this._appCheckProvider=ge,this._url=Se,this._firebaseVersion=P,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Se?Be.makeFromBucketSpec(Se,this._host):Fs(this._host,this.app.options)}get host(){return this._host}set host($){this._host=$,this._bucket=null!=this._url?Be.makeFromBucketSpec(this._url,$):Fs($,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime($){Wn("time",0,Number.POSITIVE_INFINITY,$),this._maxUploadRetryTime=$}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime($){Wn("time",0,Number.POSITIVE_INFINITY,$),this._maxOperationRetryTime=$}_getAuthToken(){var $=this;return(0,fe.Z)(function*(){if($._overrideAuthToken)return $._overrideAuthToken;const ue=$._authProvider.getImmediate({optional:!0});if(ue){const ge=yield ue.getToken();if(null!==ge)return ge.accessToken}return null})()}_getAppCheckToken(){var $=this;return(0,fe.Z)(function*(){const ue=$._appCheckProvider.getImmediate({optional:!0});return ue?(yield ue.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach($=>$.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference($){return new Nn(this,$)}_makeRequest($,ue,ge,Se,P=!0){if(this._deleted)return new at(vn());{const F=function Sn(G,$,ue,ge,Se,P,F=!0){const x=rr(G.urlParams),W=G.url+x,he=Object.assign({},G.headers);return function Bn(G,$){$&&(G["X-Firebase-GMPID"]=$)}(he,$),function on(G,$){null!==$&&$.length>0&&(G.Authorization="Firebase "+$)}(he,ue),function fi(G,$){G["X-Firebase-Storage-Version"]="webjs/"+($??"AppManager")}(he,P),function Tr(G,$){null!==$&&(G["X-Firebase-AppCheck"]=$)}(he,ge),new yn(W,G.method,he,G.body,G.successCodes,G.additionalRetryCodes,G.handler,G.errorHandler,G.timeout,G.progressCallback,Se,F)}($,this._appId,ge,Se,ue,this._firebaseVersion,P);return this._requests.add(F),F.getPromise().then(()=>this._requests.delete(F),()=>this._requests.delete(F)),F}}makeRequestWithTokens($,ue){var ge=this;return(0,fe.Z)(function*(){const[Se,P]=yield Promise.all([ge._getAuthToken(),ge._getAppCheckToken()]);return ge._makeRequest($,ue,Se,P).getPromise()})()}}const es="@firebase/storage",An="storage";function In(G,$,ue){return function pi(G,$,ue){G._throwIfRoot("uploadBytes");const ge=Di(G.storage,G._location,J(),new Cr($,!0),ue);return G.storage.makeRequestWithTokens(ge,ke).then(Se=>({metadata:Se,ref:G}))}(G=(0,et.m9)(G),$,ue)}function Vs(G){return oo(G=(0,et.m9)(G))}function Ft(G,$){return function Eo(G,$){if($&&function ks(G){return/^[A-Za-z]+:\/\//.test(G)}($)){if(G instanceof Ti)return function ao(G,$){return new Nn(G,$)}(G,$);throw St("To use ref(service, url), the first argument must be a Storage instance.")}return as(G,$)}(G=(0,et.m9)(G),$)}function dr(G=(0,Xe.Mq)(),$){G=(0,et.m9)(G);const ge=(0,Xe.qX)(G,An).getImmediate({identifier:$}),Se=(0,et.P0)("storage");return Se&&function Mi(G,$,ue,ge={}){!function wo(G,$,ue,ge={}){G.host=`${$}:${ue}`,G._protocol="http";const{mockUserToken:Se}=ge;Se&&(G._overrideAuthToken="string"==typeof Se?Se:(0,et.Sg)(Se,G.app.options.projectId))}(G,$,ue,ge)}(ge,...Se),ge}function yi(G,{instanceIdentifier:$}){const ue=G.getProvider("app").getImmediate(),ge=G.getProvider("auth-internal"),Se=G.getProvider("app-check-internal");return new Ti(ue,ge,Se,$,Xe.Jn)}!function si(){(0,Xe.Xd)(new _e.wA(An,yi,"PUBLIC").setMultipleInstances(!0)),(0,Xe.KN)(es,"0.11.2",""),(0,Xe.KN)(es,"0.11.2","esm2017")}();class us{constructor($){return $}}const di="storage",Us=new pe.OlP("angularfire2.storage-instances");function qr(G){return($,ue)=>{const ge=$.runOutsideAngular(()=>G(ue));return new us(ge)}}const Ks={provide:class Tn{constructor(){return(0,v.vb)(di)}},deps:[[new pe.FiY,Us]]},Fi={provide:us,useFactory:function Bs(G,$){const ue=(0,v.JM)(di,G,$);return ue&&new us(ue)},deps:[[new pe.FiY,Us],Z.Ot]};let Wi=(()=>{class G{constructor(){(0,Ae.KN)("angularfire",v.q4.full,"gcs")}}return G.\u0275fac=function(ue){return new(ue||G)},G.\u0275mod=pe.oAB({type:G}),G.\u0275inj=pe.cJS({providers:[Fi,Ks]}),G})();function xs(G,...$){return{ngModule:Wi,providers:[{provide:Us,useFactory:qr(G),multi:!0,deps:[pe.R0b,pe.zs3,v.HU,Z.z6,[new pe.FiY,Oe.dh],[new pe.FiY,ce.nm],...$]}]}}const $o=(0,v.u3)(Vs,!0),vs=(0,v.u3)(dr,!0),uo=(0,v.u3)(Ft,!0),Ho=(0,v.u3)(In,!0)},456:(Dn,dt,X)=>{X.d(dt,{q4:()=>Ta,HU:()=>Ad,vb:()=>xu,JM:()=>kc,u3:()=>Nu});var v=X(4946),pe=X(3182),Z=X(5861),Oe=X(534),Ae=X(9058),ce=X(4537),fe=X(7879);const Xe=(b,N)=>N.some(V=>b instanceof V);let et,_e;const st=new WeakMap,Me=new WeakMap,Mt=new WeakMap,pt=new WeakMap,Pt=new WeakMap;let Jt={get(b,N,V){if(b instanceof IDBTransaction){if("done"===N)return Me.get(b);if("objectStoreNames"===N)return b.objectStoreNames||Mt.get(b);if("store"===N)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return gt(b[N])},set:(b,N,V)=>(b[N]=V,!0),has:(b,N)=>b instanceof IDBTransaction&&("done"===N||"store"===N)||N in b};function tt(b){return"function"==typeof b?function ot(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qe(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...N){return b.apply(Tt(this),N),gt(st.get(this))}:function(...N){return gt(b.apply(Tt(this),N))}:function(N,...V){const ie=b.call(Tt(this),N,...V);return Mt.set(ie,N.sort?N.sort():[N]),gt(ie)}}(b):(b instanceof IDBTransaction&&function er(b){if(Me.has(b))return;const N=new Promise((V,ie)=>{const De=()=>{b.removeEventListener("complete",Pe),b.removeEventListener("error",it),b.removeEventListener("abort",it)},Pe=()=>{V(),De()},it=()=>{ie(b.error||new DOMException("AbortError","AbortError")),De()};b.addEventListener("complete",Pe),b.addEventListener("error",it),b.addEventListener("abort",it)});Me.set(b,N)}(b),Xe(b,function me(){return et||(et=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Jt):b)}function gt(b){if(b instanceof IDBRequest)return function cn(b){const N=new Promise((V,ie)=>{const De=()=>{b.removeEventListener("success",Pe),b.removeEventListener("error",it)},Pe=()=>{V(gt(b.result)),De()},it=()=>{ie(b.error),De()};b.addEventListener("success",Pe),b.addEventListener("error",it)});return N.then(V=>{V instanceof IDBCursor&&st.set(V,b)}).catch(()=>{}),Pt.set(N,b),N}(b);if(pt.has(b))return pt.get(b);const N=tt(b);return N!==b&&(pt.set(b,N),Pt.set(N,b)),N}const Tt=b=>Pt.get(b),kn=["get","getKey","getAll","getAllKeys","count"],tr=["put","add","delete","clear"],Xr=new Map;function Dt(b,N){if(!(b instanceof IDBDatabase)||N in b||"string"!=typeof N)return;if(Xr.get(N))return Xr.get(N);const V=N.replace(/FromIndex$/,""),ie=N!==V,De=tr.includes(V);if(!(V in(ie?IDBIndex:IDBObjectStore).prototype)||!De&&!kn.includes(V))return;const Pe=function(){var it=(0,Z.Z)(function*(Ht,...zt){const En=this.transaction(Ht,De?"readwrite":"readonly");let zn=En.store;return ie&&(zn=zn.index(zt.shift())),(yield Promise.all([zn[V](...zt),De&&En.done]))[0]});return function(zt){return it.apply(this,arguments)}}();return Xr.set(N,Pe),Pe}!function be(b){Jt=b(Jt)}(b=>({...b,get:(N,V,ie)=>Dt(N,V)||b.get(N,V,ie),has:(N,V)=>!!Dt(N,V)||b.has(N,V)}));const nt="@firebase/installations",Gn="0.6.4",St=1e4,vn=`w:${Gn}`,Ue="FIS_v2",ze="https://firebaseinstallations.googleapis.com/v1",Qe=36e5,en=new Ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Rn(b){return b instanceof Ae.ZR&&b.code.includes("request-failed")}function fn({projectId:b}){return`${ze}/projects/${b}/installations`}function xt(b){return{token:b.token,requestStatus:2,expiresIn:$r(b.expiresIn),creationTime:Date.now()}}function wn(b,N){return hr.apply(this,arguments)}function hr(){return(hr=(0,Z.Z)(function*(b,N){const ie=(yield N.json()).error;return en.create("request-failed",{requestName:b,serverCode:ie.code,serverMessage:ie.message,serverStatus:ie.status})})).apply(this,arguments)}function qn({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function nr(b){return rr.apply(this,arguments)}function rr(){return(rr=(0,Z.Z)(function*(b){const N=yield b();return N.status>=500&&N.status<600?b():N})).apply(this,arguments)}function $r(b){return Number(b.replace("s","000"))}function ir(){return(ir=(0,Z.Z)(function*({appConfig:b,heartbeatServiceProvider:N},{fid:V}){const ie=fn(b),De=qn(b),Pe=N.getImmediate({optional:!0});if(Pe){const En=yield Pe.getHeartbeatsHeader();En&&De.append("x-firebase-client",En)}const Ht={method:"POST",headers:De,body:JSON.stringify({fid:V,authVersion:Ue,appId:b.appId,sdkVersion:vn})},zt=yield nr(()=>fetch(ie,Ht));if(zt.ok){const En=yield zt.json();return{fid:En.fid||V,registrationStatus:2,refreshToken:En.refreshToken,authToken:xt(En.authToken)}}throw yield wn("Create Installation",zt)})).apply(this,arguments)}function on(b){return new Promise(N=>{setTimeout(N,b)})}const Bn=/^[cdef][\w-]{21}$/,Tr="";function Sn(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const V=function bn(b){return function fi(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Bn.test(V)?V:Tr}catch{return Tr}}function fr(b){return`${b.appName}!${b.appId}`}const Hr=new Map;function ui(b,N){const V=fr(b);ci(V,N),function ur(b,N){const V=function Ot(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=b=>{ci(b.data.key,b.data.fid)}),Xi}();V&&V.postMessage({key:b,fid:N}),function ri(){0===Hr.size&&Xi&&(Xi.close(),Xi=null)}()}(V,N)}function ci(b,N){const V=Hr.get(b);if(V)for(const ie of V)ie(N)}let Xi=null;const Si="firebase-installations-database",zr=1,Jr="firebase-installations-store";let Cr=null;function qt(){return Cr||(Cr=function lt(b,N,{blocked:V,upgrade:ie,blocking:De,terminated:Pe}={}){const it=indexedDB.open(b,N),Ht=gt(it);return ie&&it.addEventListener("upgradeneeded",zt=>{ie(gt(it.result),zt.oldVersion,zt.newVersion,gt(it.transaction))}),V&&it.addEventListener("blocked",()=>V()),Ht.then(zt=>{Pe&&zt.addEventListener("close",()=>Pe()),De&&zt.addEventListener("versionchange",()=>De())}).catch(()=>{}),Ht}(Si,zr,{upgrade:(b,N)=>{0===N&&b.createObjectStore(Jr)}})),Cr}function gi(b,N){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,Z.Z)(function*(b,N){const V=fr(b),De=(yield qt()).transaction(Jr,"readwrite"),Pe=De.objectStore(Jr),it=yield Pe.get(V);return yield Pe.put(N,V),yield De.done,(!it||it.fid!==N.fid)&&ui(b,N.fid),N})).apply(this,arguments)}function ln(b){return cr.apply(this,arguments)}function cr(){return(cr=(0,Z.Z)(function*(b){const N=fr(b),ie=(yield qt()).transaction(Jr,"readwrite");yield ie.objectStore(Jr).delete(N),yield ie.done})).apply(this,arguments)}function Kt(b,N){return pr.apply(this,arguments)}function pr(){return(pr=(0,Z.Z)(function*(b,N){const V=fr(b),De=(yield qt()).transaction(Jr,"readwrite"),Pe=De.objectStore(Jr),it=yield Pe.get(V),Ht=N(it);return void 0===Ht?yield Pe.delete(V):yield Pe.put(Ht,V),yield De.done,Ht&&(!it||it.fid!==Ht.fid)&&ui(b,Ht.fid),Ht})).apply(this,arguments)}function ve(b){return J.apply(this,arguments)}function J(){return J=(0,Z.Z)(function*(b){let N;const V=yield Kt(b.appConfig,ie=>{const De=function ee(b){return mn(b||{fid:Sn(),registrationStatus:0})}(ie),Pe=function te(b,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(en.create("app-offline"))};const V={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ie=function re(b,N){return Ne.apply(this,arguments)}(b,V);return{installationEntry:V,registrationPromise:ie}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:ht(b)}:{installationEntry:N}}(b,De);return N=Pe.registrationPromise,Pe.installationEntry});return V.fid===Tr?{installationEntry:yield N}:{installationEntry:V,registrationPromise:N}}),J.apply(this,arguments)}function Ne(){return Ne=(0,Z.Z)(function*(b,N){try{const V=yield function yn(b,N){return ir.apply(this,arguments)}(b,N);return gi(b.appConfig,V)}catch(V){throw Rn(V)&&409===V.customData.serverCode?yield ln(b.appConfig):yield gi(b.appConfig,{fid:N.fid,registrationStatus:0}),V}}),Ne.apply(this,arguments)}function ht(b){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,Z.Z)(function*(b){let N=yield nn(b.appConfig);for(;1===N.registrationStatus;)yield on(100),N=yield nn(b.appConfig);if(0===N.registrationStatus){const{installationEntry:V,registrationPromise:ie}=yield ve(b);return ie||V}return N})).apply(this,arguments)}function nn(b){return Kt(b,N=>{if(!N)throw en.create("installation-not-found");return mn(N)})}function mn(b){return function Kn(b){return 1===b.registrationStatus&&b.registrationTime+St<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Zn(){return(Zn=(0,Z.Z)(function*({appConfig:b,heartbeatServiceProvider:N},V){const ie=function Sr(b,{fid:N}){return`${fn(b)}/${N}/authTokens:generate`}(b,V),De=function Wn(b,{refreshToken:N}){const V=qn(b);return V.append("Authorization",function jn(b){return`${Ue} ${b}`}(N)),V}(b,V),Pe=N.getImmediate({optional:!0});if(Pe){const En=yield Pe.getHeartbeatsHeader();En&&De.append("x-firebase-client",En)}const Ht={method:"POST",headers:De,body:JSON.stringify({installation:{sdkVersion:vn,appId:b.appId}})},zt=yield nr(()=>fetch(ie,Ht));if(zt.ok)return xt(yield zt.json());throw yield wn("Generate Auth Token",zt)})).apply(this,arguments)}function li(b){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,Z.Z)(function*(b,N=!1){let V;const ie=yield Kt(b.appConfig,Pe=>{if(!Lt(Pe))throw en.create("not-registered");const it=Pe.authToken;if(!N&&function On(b){return 2===b.requestStatus&&!function ii(b){const N=Date.now();return N<b.creationTime||b.creationTime+b.expiresIn<N+Qe}(b)}(it))return Pe;if(1===it.requestStatus)return V=function Ke(b,N){return Re.apply(this,arguments)}(b,N),Pe;{if(!navigator.onLine)throw en.create("app-offline");const Ht=function lr(b){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:N})}(Pe);return V=function kt(b,N){return _n.apply(this,arguments)}(b,Ht),Ht}});return V?yield V:ie.authToken}),Ii.apply(this,arguments)}function Re(){return(Re=(0,Z.Z)(function*(b,N){let V=yield vt(b.appConfig);for(;1===V.authToken.requestStatus;)yield on(100),V=yield vt(b.appConfig);const ie=V.authToken;return 0===ie.requestStatus?li(b,N):ie})).apply(this,arguments)}function vt(b){return Kt(b,N=>{if(!Lt(N))throw en.create("not-registered");return function Yr(b){return 1===b.requestStatus&&b.requestTime+St<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function _n(){return _n=(0,Z.Z)(function*(b,N){try{const V=yield function gn(b,N){return Zn.apply(this,arguments)}(b,N),ie=Object.assign(Object.assign({},N),{authToken:V});return yield gi(b.appConfig,ie),V}catch(V){if(!Rn(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const ie=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield gi(b.appConfig,ie)}else yield ln(b.appConfig);throw V}}),_n.apply(this,arguments)}function Lt(b){return void 0!==b&&2===b.registrationStatus}function Ai(){return(Ai=(0,Z.Z)(function*(b){const N=b,{installationEntry:V,registrationPromise:ie}=yield ve(N);return ie?ie.catch(console.error):li(N).catch(console.error),V.fid})).apply(this,arguments)}function ji(){return ji=(0,Z.Z)(function*(b,N=!1){const V=b;return yield function mi(b){return Pi.apply(this,arguments)}(V),(yield li(V,N)).token}),ji.apply(this,arguments)}function Pi(){return(Pi=(0,Z.Z)(function*(b){const{registrationPromise:N}=yield ve(b);N&&(yield N)})).apply(this,arguments)}function Te(b){return en.create("missing-app-config-values",{valueName:b})}const ke="installations",Ct=b=>{const N=b.getProvider("app").getImmediate(),V=function Ie(b){if(!b||!b.options)throw Te("App Configuration");if(!b.name)throw Te("App Name");const N=["projectId","apiKey","appId"];for(const V of N)if(!b.options[V])throw Te(V);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(N);return{app:N,appConfig:V,heartbeatServiceProvider:(0,Oe.qX)(N,"heartbeat"),_delete:()=>Promise.resolve()}},tn=b=>{const N=b.getProvider("app").getImmediate(),V=(0,Oe.qX)(N,ke).getImmediate();return{getId:()=>function Di(b){return Ai.apply(this,arguments)}(V),getToken:De=>function Qr(b){return ji.apply(this,arguments)}(V,De)}};(function Yn(){(0,Oe.Xd)(new ce.wA(ke,Ct,"PUBLIC")),(0,Oe.Xd)(new ce.wA("installations-internal",tn,"PRIVATE"))})(),(0,Oe.KN)(nt,Gn),(0,Oe.KN)(nt,Gn,"esm2017");const Pn="@firebase/remote-config",gr=new Ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class An{constructor(N,V,ie,De){this.client=N,this.storage=V,this.storageCache=ie,this.logger=De}isCachedDataFresh(N,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ie=Date.now()-V,De=ie<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${De}.`),De}fetch(N){var V=this;return(0,Z.Z)(function*(){const[ie,De]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(De&&V.isCachedDataFresh(N.cacheMaxAgeMillis,ie))return De;N.eTag=De&&De.eTag;const Pe=yield V.client.fetch(N),it=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pe.status&&it.push(V.storage.setLastSuccessfulFetchResponse(Pe)),yield Promise.all(it),Pe})()}}function mr(b=navigator){return b.languages&&b.languages[0]||b.language}class In{constructor(N,V,ie,De,Pe,it){this.firebaseInstallations=N,this.sdkVersion=V,this.namespace=ie,this.projectId=De,this.apiKey=Pe,this.appId=it}fetch(N){var V=this;return(0,Z.Z)(function*(){const[ie,De]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),it=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},zt={sdk_version:V.sdkVersion,app_instance_id:ie,app_instance_id_token:De,app_id:V.appId,language_code:mr()},En={method:"POST",headers:Ht,body:JSON.stringify(zt)},zn=fetch(it,En),ar=new Promise((ga,lu)=>{N.signal.addEventListener(()=>{const hs=new Error("The operation was aborted.");hs.name="AbortError",lu(hs)})});let Ko;try{yield Promise.race([zn,ar]),Ko=yield zn}catch(ga){let lu="fetch-client-network";throw"AbortError"===ga?.name&&(lu="fetch-timeout"),gr.create(lu,{originalErrorMessage:ga?.message})}let go=Ko.status;const Lc=Ko.headers.get("ETag")||void 0;let Ml,pa;if(200===Ko.status){let ga;try{ga=yield Ko.json()}catch(lu){throw gr.create("fetch-client-parse",{originalErrorMessage:lu?.message})}Ml=ga.entries,pa=ga.state}if("INSTANCE_STATE_UNSPECIFIED"===pa?go=500:"NO_CHANGE"===pa?go=304:("NO_TEMPLATE"===pa||"EMPTY_CONFIG"===pa)&&(Ml={}),304!==go&&200!==go)throw gr.create("fetch-status",{httpStatus:go});return{status:go,eTag:Lc,config:Ml}})()}}class qs{constructor(N,V){this.client=N,this.storage=V}fetch(N){var V=this;return(0,Z.Z)(function*(){const ie=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(N,ie)})()}attemptFetch(N,{throttleEndTimeMillis:V,backoffCount:ie}){var De=this;return(0,Z.Z)(function*(){yield function ps(b,N){return new Promise((V,ie)=>{const De=Math.max(N-Date.now(),0),Pe=setTimeout(V,De);b.addEventListener(()=>{clearTimeout(Pe),ie(gr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,V);try{const Pe=yield De.client.fetch(N);return yield De.storage.deleteThrottleMetadata(),Pe}catch(Pe){if(!function Gr(b){if(!(b instanceof Ae.ZR&&b.customData))return!1;const N=Number(b.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Pe))throw Pe;const it={throttleEndTimeMillis:Date.now()+(0,Ae.$s)(ie),backoffCount:ie+1};return yield De.storage.setThrottleMetadata(it),De.attemptFetch(N,it)}})()}}class Bo{constructor(N,V,ie,De,Pe){this.app=N,this._client=V,this._storageCache=ie,this._storage=De,this._logger=Pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vs(b,N){const V=b.target.error||void 0;return gr.create(N,{originalErrorMessage:V&&V?.message})}const Ar="app_namespace_store";class Mi{constructor(N,V,ie,De=function dr(){return new Promise((b,N)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=ie=>{N(Vs(ie,"storage-open"))},V.onsuccess=ie=>{b(ie.target.result)},V.onupgradeneeded=ie=>{0===ie.oldVersion&&ie.target.result.createObjectStore(Ar,{keyPath:"compositeKey"})}}catch(V){N(gr.create("storage-open",{originalErrorMessage:V?.message}))}})}()){this.appId=N,this.appName=V,this.namespace=ie,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var V=this;return(0,Z.Z)(function*(){const ie=yield V.openDbPromise;return new Promise((De,Pe)=>{const Ht=ie.transaction([Ar],"readonly").objectStore(Ar),zt=V.createCompositeKey(N);try{const En=Ht.get(zt);En.onerror=zn=>{Pe(Vs(zn,"storage-get"))},En.onsuccess=zn=>{const ar=zn.target.result;De(ar?ar.value:void 0)}}catch(En){Pe(gr.create("storage-get",{originalErrorMessage:En?.message}))}})})()}set(N,V){var ie=this;return(0,Z.Z)(function*(){const De=yield ie.openDbPromise;return new Promise((Pe,it)=>{const zt=De.transaction([Ar],"readwrite").objectStore(Ar),En=ie.createCompositeKey(N);try{const zn=zt.put({compositeKey:En,value:V});zn.onerror=ar=>{it(Vs(ar,"storage-set"))},zn.onsuccess=()=>{Pe()}}catch(zn){it(gr.create("storage-set",{originalErrorMessage:zn?.message}))}})})()}delete(N){var V=this;return(0,Z.Z)(function*(){const ie=yield V.openDbPromise;return new Promise((De,Pe)=>{const Ht=ie.transaction([Ar],"readwrite").objectStore(Ar),zt=V.createCompositeKey(N);try{const En=Ht.delete(zt);En.onerror=zn=>{Pe(Vs(zn,"storage-delete"))},En.onsuccess=()=>{De()}}catch(En){Pe(gr.create("storage-delete",{originalErrorMessage:En?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Ws{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,Z.Z)(function*(){const V=N.storage.getLastFetchStatus(),ie=N.storage.getLastSuccessfulFetchTimestampMillis(),De=N.storage.getActiveConfig(),Pe=yield V;Pe&&(N.lastFetchStatus=Pe);const it=yield ie;it&&(N.lastSuccessfulFetchTimestampMillis=it);const Ht=yield De;Ht&&(N.activeConfig=Ht)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function us(){return di.apply(this,arguments)}function di(){return(di=(0,Z.Z)(function*(){if(!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}!function ki(){(0,Oe.Xd)(new ce.wA("remote-config",function b(N,{instanceIdentifier:V}){const ie=N.getProvider("app").getImmediate(),De=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gr.create("registration-window");if(!(0,Ae.hl)())throw gr.create("indexed-db-unavailable");const{projectId:Pe,apiKey:it,appId:Ht}=ie.options;if(!Pe)throw gr.create("registration-project-id");if(!it)throw gr.create("registration-api-key");if(!Ht)throw gr.create("registration-app-id");const zt=new Mi(Ht,ie.name,V=V||"firebase"),En=new Ws(zt),zn=new fe.Yd(Pn);zn.logLevel=fe.in.ERROR;const ar=new In(De,Oe.Jn,V,Pe,it,Ht),Ko=new qs(ar,zt),go=new An(Ko,zt,En,zn),Lc=new Bo(ie,go,En,zt,zn);return function Ms(b){const N=(0,Ae.m9)(b);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Lc),Lc},"PUBLIC").setMultipleInstances(!0)),(0,Oe.KN)(Pn,"0.4.4"),(0,Oe.KN)(Pn,"0.4.4","esm2017")}();const Tn=(b,N)=>N.some(V=>b instanceof V);let ms,Us;const Ks=new WeakMap,Fi=new WeakMap,Wi=new WeakMap,xs=new WeakMap,jo=new WeakMap;let vi={get(b,N,V){if(b instanceof IDBTransaction){if("done"===N)return Fi.get(b);if("objectStoreNames"===N)return b.objectStoreNames||Wi.get(b);if("store"===N)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return Ur(b[N])},set:(b,N,V)=>(b[N]=V,!0),has:(b,N)=>b instanceof IDBTransaction&&("done"===N||"store"===N)||N in b};function $o(b){return"function"==typeof b?function $n(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qr(){return Us||(Us=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...N){return b.apply(vs(this),N),Ur(Ks.get(this))}:function(...N){return Ur(b.apply(vs(this),N))}:function(N,...V){const ie=b.call(vs(this),N,...V);return Wi.set(ie,N.sort?N.sort():[N]),Ur(ie)}}(b):(b instanceof IDBTransaction&&function ys(b){if(Fi.has(b))return;const N=new Promise((V,ie)=>{const De=()=>{b.removeEventListener("complete",Pe),b.removeEventListener("error",it),b.removeEventListener("abort",it)},Pe=()=>{V(),De()},it=()=>{ie(b.error||new DOMException("AbortError","AbortError")),De()};b.addEventListener("complete",Pe),b.addEventListener("error",it),b.addEventListener("abort",it)});Fi.set(b,N)}(b),Tn(b,function Bs(){return ms||(ms=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,vi):b)}function Ur(b){if(b instanceof IDBRequest)return function Ds(b){const N=new Promise((V,ie)=>{const De=()=>{b.removeEventListener("success",Pe),b.removeEventListener("error",it)},Pe=()=>{V(Ur(b.result)),De()},it=()=>{ie(b.error),De()};b.addEventListener("success",Pe),b.addEventListener("error",it)});return N.then(V=>{V instanceof IDBCursor&&Ks.set(V,b)}).catch(()=>{}),jo.set(N,b),N}(b);if(xs.has(b))return xs.get(b);const N=$o(b);return N!==b&&(xs.set(b,N),jo.set(N,b)),N}const vs=b=>jo.get(b);function ei(b,N,{blocked:V,upgrade:ie,blocking:De,terminated:Pe}={}){const it=indexedDB.open(b,N),Ht=Ur(it);return ie&&it.addEventListener("upgradeneeded",zt=>{ie(Ur(it.result),zt.oldVersion,zt.newVersion,Ur(it.transaction))}),V&&it.addEventListener("blocked",()=>V()),Ht.then(zt=>{Pe&&zt.addEventListener("close",()=>Pe()),De&&zt.addEventListener("versionchange",()=>De())}).catch(()=>{}),Ht}function Wr(b,{blocked:N}={}){const V=indexedDB.deleteDatabase(b);return N&&V.addEventListener("blocked",()=>N()),Ur(V).then(()=>{})}const ts=["get","getKey","getAll","getAllKeys","count"],uo=["put","add","delete","clear"],_i=new Map;function Ho(b,N){if(!(b instanceof IDBDatabase)||N in b||"string"!=typeof N)return;if(_i.get(N))return _i.get(N);const V=N.replace(/FromIndex$/,""),ie=N!==V,De=uo.includes(V);if(!(V in(ie?IDBIndex:IDBObjectStore).prototype)||!De&&!ts.includes(V))return;const Pe=function(){var it=(0,Z.Z)(function*(Ht,...zt){const En=this.transaction(Ht,De?"readwrite":"readonly");let zn=En.store;return ie&&(zn=zn.index(zt.shift())),(yield Promise.all([zn[V](...zt),De&&En.done]))[0]});return function(zt){return it.apply(this,arguments)}}();return _i.set(N,Pe),Pe}!function js(b){vi=b(vi)}(b=>({...b,get:(N,V,ie)=>Ho(N,V)||b.get(N,V,ie),has:(N,V)=>!!Ho(N,V)||b.has(N,V)}));const xi="/firebase-messaging-sw.js",hi="/firebase-cloud-messaging-push-scope",G="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$="https://fcmregistrations.googleapis.com/v1",ue="google.c.a.c_id",ge="google.c.a.c_l",Se="google.c.a.ts";var x=function(b){return b.PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",b}(x||{});function W(b){const N=new Uint8Array(b);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function he(b){const V=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ie=atob(V),De=new Uint8Array(ie.length);for(let Pe=0;Pe<ie.length;++Pe)De[Pe]=ie.charCodeAt(Pe);return De}const _t="fcm_token_details_db",Zt=5,yr="fcm_token_object_Store";function Or(){return Or=(0,Z.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pe=>Pe.name).includes(_t))return null;let N=null;return(yield ei(_t,Zt,{upgrade:(ie=(0,Z.Z)(function*(De,Pe,it,Ht){var zt;if(Pe<2||!De.objectStoreNames.contains(yr))return;const En=Ht.objectStore(yr),zn=yield En.index("fcmSenderId").get(b);if(yield En.clear(),zn)if(2===Pe){const ar=zn;if(!ar.auth||!ar.p256dh||!ar.endpoint)return;N={token:ar.fcmToken,createTime:null!==(zt=ar.createTime)&&void 0!==zt?zt:Date.now(),subscriptionOptions:{auth:ar.auth,p256dh:ar.p256dh,endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:"string"==typeof ar.vapidKey?ar.vapidKey:W(ar.vapidKey)}}}else if(3===Pe){const ar=zn;N={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:W(ar.auth),p256dh:W(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:W(ar.vapidKey)}}}else if(4===Pe){const ar=zn;N={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:W(ar.auth),p256dh:W(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:W(ar.vapidKey)}}}}),function(Pe,it,Ht,zt){return ie.apply(this,arguments)})})).close(),yield Wr(_t),yield Wr("fcm_vapid_details_db"),yield Wr("undefined"),function Li(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:N}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var ie}),Or.apply(this,arguments)}const Er="firebase-messaging-database",ns=1,ti="firebase-messaging-store";let Ki=null;function Ci(){return Ki||(Ki=ei(Er,ns,{upgrade:(b,N)=>{0===N&&b.createObjectStore(ti)}})),Ki}function co(b){return $i.apply(this,arguments)}function $i(){return $i=(0,Z.Z)(function*(b){const N=Do(b),ie=yield(yield Ci()).transaction(ti).objectStore(ti).get(N);if(ie)return ie;{const De=yield function Br(b){return Or.apply(this,arguments)}(b.appConfig.senderId);if(De)return yield Io(b,De),De}}),$i.apply(this,arguments)}function Io(b,N){return lo.apply(this,arguments)}function lo(){return(lo=(0,Z.Z)(function*(b,N){const V=Do(b),De=(yield Ci()).transaction(ti,"readwrite");return yield De.objectStore(ti).put(N,V),yield De.done,N})).apply(this,arguments)}function Zo(){return(Zo=(0,Z.Z)(function*(b){const N=Do(b),ie=(yield Ci()).transaction(ti,"readwrite");yield ie.objectStore(ti).delete(N),yield ie.done})).apply(this,arguments)}function Do({appConfig:b}){return b.appId}const cs=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _a(b,N){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,Z.Z)(function*(b,N){const V=yield Yo(b),ie=wa(N),De={method:"POST",headers:V,body:JSON.stringify(ie)};let Pe;try{Pe=yield(yield fetch(bs(b.appConfig),De)).json()}catch(it){throw cs.create("token-subscribe-failed",{errorInfo:it?.toString()})}if(Pe.error)throw cs.create("token-subscribe-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw cs.create("token-subscribe-no-token");return Pe.token})).apply(this,arguments)}function ls(){return(ls=(0,Z.Z)(function*(b,N){const V=yield Yo(b),ie=wa(N.subscriptionOptions),De={method:"PATCH",headers:V,body:JSON.stringify(ie)};let Pe;try{Pe=yield(yield fetch(`${bs(b.appConfig)}/${N.token}`,De)).json()}catch(it){throw cs.create("token-update-failed",{errorInfo:it?.toString()})}if(Pe.error)throw cs.create("token-update-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw cs.create("token-update-no-token");return Pe.token})).apply(this,arguments)}function fo(b,N){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,Z.Z)(function*(b,N){const ie={method:"DELETE",headers:yield Yo(b)};try{const Pe=yield(yield fetch(`${bs(b.appConfig)}/${N}`,ie)).json();if(Pe.error)throw cs.create("token-unsubscribe-failed",{errorInfo:Pe.error.message})}catch(De){throw cs.create("token-unsubscribe-failed",{errorInfo:De?.toString()})}})).apply(this,arguments)}function bs({projectId:b}){return`${$}/projects/${b}/registrations`}function Yo(b){return br.apply(this,arguments)}function br(){return(br=(0,Z.Z)(function*({appConfig:b,installations:N}){const V=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function wa({p256dh:b,auth:N,endpoint:V,vapidKey:ie}){const De={web:{endpoint:V,auth:N,p256dh:b}};return ie!==G&&(De.web.applicationPubKey=ie),De}const H=6048e5;function w(){return w=(0,Z.Z)(function*(b){const N=yield function Ye(b,N){return jt.apply(this,arguments)}(b.swRegistration,b.vapidKey),V={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:N.endpoint,auth:W(N.getKey("auth")),p256dh:W(N.getKey("p256dh"))},ie=yield co(b.firebaseDependencies);if(ie){if(function I(b,N){return N.vapidKey===b.vapidKey&&N.endpoint===b.endpoint&&N.auth===b.auth&&N.p256dh===b.p256dh}(ie.subscriptionOptions,V))return Date.now()>=ie.createTime+H?function oe(b,N){return Ee.apply(this,arguments)}(b,{token:ie.token,createTime:Date.now(),subscriptionOptions:V}):ie.token;try{yield fo(b.firebaseDependencies,ie.token)}catch(De){console.warn(De)}return we(b.firebaseDependencies,V)}return we(b.firebaseDependencies,V)}),w.apply(this,arguments)}function z(){return z=(0,Z.Z)(function*(b){const N=yield co(b.firebaseDependencies);N&&(yield fo(b.firebaseDependencies,N.token),yield function ho(b){return Zo.apply(this,arguments)}(b.firebaseDependencies));const V=yield b.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()}),z.apply(this,arguments)}function Ee(){return Ee=(0,Z.Z)(function*(b,N){try{const V=yield function bo(b,N){return ls.apply(this,arguments)}(b.firebaseDependencies,N),ie=Object.assign(Object.assign({},N),{token:V,createTime:Date.now()});return yield Io(b.firebaseDependencies,ie),V}catch(V){throw yield function O(b){return z.apply(this,arguments)}(b),V}}),Ee.apply(this,arguments)}function we(b,N){return je.apply(this,arguments)}function je(){return(je=(0,Z.Z)(function*(b,N){const ie={token:yield _a(b,N),createTime:Date.now(),subscriptionOptions:N};return yield Io(b,ie),ie.token})).apply(this,arguments)}function jt(){return(jt=(0,Z.Z)(function*(b,N){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:he(N)})})).apply(this,arguments)}function q(b){const N={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function R(b,N){if(!N.notification)return;b.notification={};const V=N.notification.title;V&&(b.notification.title=V);const ie=N.notification.body;ie&&(b.notification.body=ie);const De=N.notification.image;De&&(b.notification.image=De);const Pe=N.notification.icon;Pe&&(b.notification.icon=Pe)}(N,b),function B(b,N){N.data&&(b.data=N.data)}(N,b),function ae(b,N){var V,ie,De,Pe,it;if(!(N.fcmOptions||null!==(V=N.notification)&&void 0!==V&&V.click_action))return;b.fcmOptions={};const Ht=null!==(De=null===(ie=N.fcmOptions)||void 0===ie?void 0:ie.link)&&void 0!==De?De:null===(Pe=N.notification)||void 0===Pe?void 0:Pe.click_action;Ht&&(b.fcmOptions.link=Ht);const zt=null===(it=N.fcmOptions)||void 0===it?void 0:it.analytics_label;zt&&(b.fcmOptions.analyticsLabel=zt)}(N,b),N}function rt(b,N){const V=[];for(let ie=0;ie<b.length;ie++)V.push(b.charAt(ie)),ie<N.length&&V.push(N.charAt(ie));return V.join("")}function Qn(b){return cs.create("missing-app-config-values",{valueName:b})}rt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xn{constructor(N,V,ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const De=function Ut(b){if(!b||!b.options)throw Qn("App Configuration Object");if(!b.name)throw Qn("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:V}=b;for(const ie of N)if(!V[ie])throw Qn(ie);return{appName:b.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:De,installations:V,analyticsProvider:ie}}_delete(){return Promise.resolve()}}function xn(){return(xn=(0,Z.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(xi,{scope:hi}),b.swRegistration.update().catch(()=>{})}catch(N){throw cs.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function or(){return(or=(0,Z.Z)(function*(b,N){if(!N&&!b.swRegistration&&(yield function vr(b){return xn.apply(this,arguments)}(b)),N||!b.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw cs.create("invalid-sw-registration");b.swRegistration=N}})).apply(this,arguments)}function Ni(){return(Ni=(0,Z.Z)(function*(b,N){N?b.vapidKey=N:b.vapidKey||(b.vapidKey=G)})).apply(this,arguments)}function kr(){return kr=(0,Z.Z)(function*(b,N){if(!navigator)throw cs.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cs.create("permission-blocked");return yield function oi(b,N){return Ni.apply(this,arguments)}(b,N?.vapidKey),yield function Jn(b,N){return or.apply(this,arguments)}(b,N?.serviceWorkerRegistration),function y(b){return w.apply(this,arguments)}(b)}),kr.apply(this,arguments)}function Hi(){return(Hi=(0,Z.Z)(function*(b,N,V){const ie=function To(b){switch(b){case x.NOTIFICATION_CLICKED:return"notification_open";case x.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(ie,{message_id:V[ue],message_name:V[ge],message_time:V[Se],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function We(){return We=(0,Z.Z)(function*(b,N){const V=N.data;if(!V.isFirebaseMessaging)return;b.onMessageHandler&&V.messageType===x.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(q(V)):b.onMessageHandler.next(q(V)));const ie=V.data;(function Le(b){return"object"==typeof b&&!!b&&ue in b})(ie)&&"1"===ie["google.c.a.e"]&&(yield function Fr(b,N,V){return Hi.apply(this,arguments)}(b,V.messageType,ie))}),We.apply(this,arguments)}const Yt="@firebase/messaging",Vi=b=>{const N=new Xn(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function rn(b,N){return We.apply(this,arguments)}(N,V)),N},Gt=b=>{const N=b.getProvider("messaging").getImmediate();return{getToken:ie=>function Ys(b,N){return kr.apply(this,arguments)}(N,ie)}};function Co(){return wt.apply(this,arguments)}function wt(){return(wt=(0,Z.Z)(function*(){try{yield(0,Ae.eu)()}catch{return!1}return typeof window<"u"&&(0,Ae.hl)()&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wt(){(0,Oe.Xd)(new ce.wA("messaging",Vi,"PUBLIC")),(0,Oe.Xd)(new ce.wA("messaging-internal",Gt,"PRIVATE")),(0,Oe.KN)(Yt,"0.12.4"),(0,Oe.KN)(Yt,"0.12.4","esm2017")}();const Du="analytics",$u="firebase_id",aa="origin",zo=6e4,_s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bu="https://www.googletagmanager.com/gtag/js",hn=new fe.Yd("@firebase/analytics"),Ts=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zi(b){if(!b.startsWith(bu)){const N=Ts.create("invalid-gtag-resource",{gtagURL:b});return hn.warn(N.message),""}return b}function an(b){return Promise.all(b.map(N=>N.catch(V=>V)))}function Vt(){return(Vt=(0,Z.Z)(function*(b,N,V,ie,De,Pe){const it=ie[De];try{if(it)yield N[it];else{const zt=(yield an(V)).find(En=>En.measurementId===De);zt&&(yield N[zt.appId])}}catch(Ht){hn.error(Ht)}b("config",De,Pe)})).apply(this,arguments)}function Pa(){return(Pa=(0,Z.Z)(function*(b,N,V,ie,De){try{let Pe=[];if(De&&De.send_to){let it=De.send_to;Array.isArray(it)||(it=[it]);const Ht=yield an(V);for(const zt of it){const En=Ht.find(ar=>ar.measurementId===zt),zn=En&&N[En.appId];if(!zn){Pe=[];break}Pe.push(zn)}}0===Pe.length&&(Pe=Object.values(N)),yield Promise.all(Pe),b("event",ie,De||{})}catch(Pe){hn.error(Pe)}})).apply(this,arguments)}const Oa=30,ac=new class oc{constructor(N={},V=1e3){this.throttleMetadata=N,this.intervalMillis=V}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,V){this.throttleMetadata[N]=V}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Po(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Et(){return(Et=(0,Z.Z)(function*(b){var N;const{appId:V,apiKey:ie}=b,De={method:"GET",headers:Po(ie)},Pe=_s.replace("{app-id}",V),it=yield fetch(Pe,De);if(200!==it.status&&304!==it.status){let Ht="";try{const zt=yield it.json();null!==(N=zt.error)&&void 0!==N&&N.message&&(Ht=zt.error.message)}catch{}throw Ts.create("config-fetch-failed",{httpStatus:it.status,responseMessage:Ht})}return it.json()})).apply(this,arguments)}function Go(){return(Go=(0,Z.Z)(function*(b,N=ac,V){const{appId:ie,apiKey:De,measurementId:Pe}=b.options;if(!ie)throw Ts.create("no-app-id");if(!De){if(Pe)return{measurementId:Pe,appId:ie};throw Ts.create("no-api-key")}const it=N.getThrottleMetadata(ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new Jo;return setTimeout((0,Z.Z)(function*(){Ht.abort()}),void 0!==V?V:zo),ru({appId:ie,apiKey:De,measurementId:Pe},it,Ht,N)})).apply(this,arguments)}function ru(b,N,V){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,Z.Z)(function*(b,{throttleEndTimeMillis:N,backoffCount:V},ie,De=ac){var Pe;const{appId:it,measurementId:Ht}=b;try{yield function iu(b,N){return new Promise((V,ie)=>{const De=Math.max(N-Date.now(),0),Pe=setTimeout(V,De);b.addEventListener(()=>{clearTimeout(Pe),ie(Ts.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(ie,N)}catch(zt){if(Ht)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${zt?.message}]`),{appId:it,measurementId:Ht};throw zt}try{const zt=yield function uc(b){return Et.apply(this,arguments)}(b);return De.deleteThrottleMetadata(it),zt}catch(zt){const En=zt;if(!function Cs(b){if(!(b instanceof Ae.ZR&&b.customData))return!1;const N=Number(b.customData.httpStatus);return 429===N||500===N||503===N||504===N}(En)){if(De.deleteThrottleMetadata(it),Ht)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${En?.message}]`),{appId:it,measurementId:Ht};throw zt}const zn=503===Number(null===(Pe=En?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,Ae.$s)(V,De.intervalMillis,Oa):(0,Ae.$s)(V,De.intervalMillis),ar={throttleEndTimeMillis:Date.now()+zn,backoffCount:V+1};return De.setThrottleMetadata(it,ar),hn.debug(`Calling attemptFetch again in ${zn} millis`),ru(b,ar,ie,De)}}),Fe.apply(this,arguments)}class Jo{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let ca,A;function za(){return(za=(0,Z.Z)(function*(b,N,V,ie,De){if(De&&De.global)b("event",V,ie);else{const Pe=yield N;b("event",V,Object.assign(Object.assign({},ie),{send_to:Pe}))}})).apply(this,arguments)}function Ge(){return(Ge=(0,Z.Z)(function*(){if(!(0,Ae.hl)())return hn.warn(Ts.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(b){return hn.warn(Ts.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function $t(){return $t=(0,Z.Z)(function*(b,N,V,ie,De,Pe,it){var Ht;const zt=function jr(b){return Go.apply(this,arguments)}(b);zt.then(go=>{V[go.measurementId]=go.appId,b.options.measurementId&&go.measurementId!==b.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${go.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(go=>hn.error(go)),N.push(zt);const En=function de(){return Ge.apply(this,arguments)}().then(go=>{if(go)return ie.getId()}),[zn,ar]=yield Promise.all([zt,En]);(function Ha(b){const N=window.document.getElementsByTagName("script");for(const V of Object.values(N))if(V.src&&V.src.includes(bu)&&V.src.includes(b))return V;return null})(Pe)||function Kr(b,N){const V=function Na(b,N){let V;return window.trustedTypes&&(V=window.trustedTypes.createPolicy(b,N)),V}("firebase-js-sdk-policy",{createScriptURL:zi}),ie=document.createElement("script"),De=`${bu}?l=${b}&id=${N}`;ie.src=V?V?.createScriptURL(De):De,ie.async=!0,document.head.appendChild(ie)}(Pe,zn.measurementId),A&&(De("consent","default",A),function L(b){A=b}(void 0)),De("js",new Date);const Ko=null!==(Ht=it?.config)&&void 0!==Ht?Ht:{};return Ko[aa]="firebase",Ko.update=!0,null!=ar&&(Ko[$u]=ar),De("config",zn.measurementId,Ko),ca&&(De("set",ca),function Y(b){ca=b}(void 0)),zn.measurementId}),$t.apply(this,arguments)}class Ln{constructor(N){this.app=N}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},Rr=[];const na={};let Cu,Xs,Qs="dataLayer",Ns=!1;function Nh(b,N,V){!function rs(){const b=[];if((0,Ae.ru)()&&b.push("This is a browser extension environment."),(0,Ae.zI)()||b.push("Cookies are not available."),b.length>0){const N=b.map((ie,De)=>`(${De+1}) ${ie}`).join(" "),V=Ts.create("invalid-analytics-context",{errorInfo:N});hn.warn(V.message)}}();const ie=b.options.appId;if(!ie)throw Ts.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Ts.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[ie])throw Ts.create("already-exists",{id:ie});if(!Ns){!function Hu(b){let N=[];Array.isArray(window[b])?N=window[b]:window[b]=N}(Qs);const{wrappedGtag:Pe,gtagCore:it}=function sc(b,N,V,ie,De){let Pe=function(...it){window[ie].push(arguments)};return window[De]&&"function"==typeof window[De]&&(Pe=window[De]),window[De]=function ua(b,N,V,ie){function Pe(){return Pe=(0,Z.Z)(function*(it,...Ht){try{if("event"===it){const[zt,En]=Ht;yield function Ra(b,N,V,ie,De){return Pa.apply(this,arguments)}(b,N,V,zt,En)}else if("config"===it){const[zt,En]=Ht;yield function dn(b,N,V,ie,De,Pe){return Vt.apply(this,arguments)}(b,N,V,ie,zt,En)}else if("consent"===it){const[zt]=Ht;b("consent","update",zt)}else if("get"===it){const[zt,En,zn]=Ht;b("get",zt,En,zn)}else if("set"===it){const[zt]=Ht;b("set",zt)}else b(it,...Ht)}catch(zt){hn.error(zt)}}),Pe.apply(this,arguments)}return function De(it){return Pe.apply(this,arguments)}}(Pe,b,N,V),{gtagCore:Pe,wrappedGtag:window[De]}}(Nr,Rr,na,Qs,"gtag");Xs=Pe,Cu=it,Ns=!0}return Nr[ie]=function $e(b,N,V,ie,De,Pe,it){return $t.apply(this,arguments)}(b,Rr,na,N,Cu,Qs,V),new Ln(b)}function Cd(){return Su.apply(this,arguments)}function Su(){return(Su=(0,Z.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}const Wa="@firebase/analytics";!function Ei(){(0,Oe.Xd)(new ce.wA(Du,(N,{options:V})=>Nh(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,Oe.Xd)(new ce.wA("analytics-internal",function b(N){try{const V=N.getProvider(Du).getImmediate();return{logEvent:(ie,De,Pe)=>function Mu(b,N,V,ie){b=(0,Ae.m9)(b),function ea(b,N,V,ie,De){return za.apply(this,arguments)}(Xs,Nr[b.app.options.appId],N,V,ie).catch(De=>hn.error(De))}(V,ie,De,Pe)}}catch(V){throw Ts.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,Oe.KN)(Wa,"0.10.0"),(0,Oe.KN)(Wa,"0.10.0","esm2017")}();var su=X(7394);class ou extends su.w0{constructor(N,V){super()}schedule(N,V=0){return this}}const So={setInterval(b,N,...V){const{delegate:ie}=So;return ie?.setInterval?ie.setInterval(b,N,...V):setInterval(b,N,...V)},clearInterval(b){const{delegate:N}=So;return(N?.clearInterval||clearInterval)(b)},delegate:void 0};var lc=X(9039);class bl extends ou{constructor(N,V){super(N,V),this.scheduler=N,this.work=V,this.pending=!1}schedule(N,V=0){var ie;if(this.closed)return this;this.state=N;const De=this.id,Pe=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(Pe,De,V)),this.pending=!0,this.delay=V,this.id=null!==(ie=this.id)&&void 0!==ie?ie:this.requestAsyncId(Pe,this.id,V),this}requestAsyncId(N,V,ie=0){return So.setInterval(N.flush.bind(N,this),ie)}recycleAsyncId(N,V,ie=0){if(null!=ie&&this.delay===ie&&!1===this.pending)return V;null!=V&&So.clearInterval(V)}execute(N,V){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(N,V);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(N,V){let De,ie=!1;try{this.work(N)}catch(Pe){ie=!0,De=Pe||new Error("Scheduled action threw falsy error")}if(ie)return this.unsubscribe(),De}unsubscribe(){if(!this.closed){const{id:N,scheduler:V}=this,{actions:ie}=V;this.work=this.state=this.scheduler=null,this.pending=!1,(0,lc.P)(ie,this),null!=N&&(this.id=this.recycleAsyncId(V,N,null)),this.delay=null,super.unsubscribe()}}}const Tl={now:()=>(Tl.delegate||Date).now(),delegate:void 0};class qo{constructor(N,V=qo.now){this.schedulerActionCtor=N,this.now=V}schedule(N,V=0,ie){return new this.schedulerActionCtor(this,N).schedule(ie,V)}}qo.now=Tl.now;class Es extends qo{constructor(N,V=qo.now){super(N,V),this.actions=[],this._active=!1}flush(N){const{actions:V}=this;if(this._active)return void V.push(N);let ie;this._active=!0;do{if(ie=N.execute(N.state,N.delay))break}while(N=V.shift());if(this._active=!1,ie){for(;N=V.shift();)N.unsubscribe();throw ie}}}const Da=new class la extends Es{}(class zs extends bl{constructor(N,V){super(N,V),this.scheduler=N,this.work=V}schedule(N,V=0){return V>0?super.schedule(N,V):(this.delay=V,this.state=N,this.scheduler.flush(this),this)}execute(N,V){return V>0||this.closed?super.execute(N,V):this._execute(N,V)}requestAsyncId(N,V,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(N,V,ie):(N.flush(this),0)}}),da=new Es(bl);var Wo=X(5592),Ka=X(9397),Za=X(5137),ba=X(3093);const Ta=new v.GfV("7.6.1"),eo="__angularfire_symbol__analyticsIsSupportedValue",ha="__angularfire_symbol__analyticsIsSupported",au="__angularfire_symbol__remoteConfigIsSupportedValue",Ca="__angularfire_symbol__remoteConfigIsSupported",Ya="__angularfire_symbol__messagingIsSupportedValue",Fa="__angularfire_symbol__messagingIsSupported";function kc(b,N,V){if(N){if(1===N.length)return N[0];const Pe=N.filter(it=>it.app===V);if(1===Pe.length)return Pe[0]}return V.container.getProvider(b).getImmediate({optional:!0})}globalThis[ha]||(globalThis[ha]=Cd().then(b=>globalThis[eo]=b).catch(()=>globalThis[eo]=!1)),globalThis[Fa]||(globalThis[Fa]=Co().then(b=>globalThis[Ya]=b).catch(()=>globalThis[Ya]=!1)),globalThis[Ca]||(globalThis[Ca]=us().then(b=>globalThis[au]=b).catch(()=>globalThis[au]=!1));const xu=(b,N)=>{const V=N?[N]:(0,pe.C6)(),ie=[];return V.forEach(De=>{De.container.getProvider(b).instances.forEach(it=>{ie.includes(it)||ie.push(it)})}),ie};function Sa(){}class La{constructor(N,V=Da){this.zone=N,this.delegate=V}now(){return this.delegate.now()}schedule(N,V,ie){const De=this.zone;return this.delegate.schedule(function(it){De.runGuarded(()=>{N.apply(this,[it])})},V,ie)}}class cu{constructor(N){this.zone=N,this.task=null}call(N,V){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sa,{},Sa,Sa)),V.pipe((0,Ka.b)({next:ie,complete:ie,error:ie})).subscribe(N).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ad=(()=>{class b{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new La(Zone.current)),this.insideAngular=V.run(()=>new La(Zone.current,da)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(V){return new(V||b)(v.LFG(v.R0b))},b.\u0275prov=v.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Va(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Ui(b){return Va().ngZone.run(()=>b())}function Qa(b){return Va(),function zu(b){return function(V){return(V=V.lift(new cu(b.ngZone))).pipe((0,Za.R)(b.outsideAngular),(0,ba.Q)(b.insideAngular))}}(Va())(b)}const dc=(b,N)=>function(){const ie=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Ui(()=>b.apply(void 0,ie))},Nu=(b,N)=>function(){let V;const ie=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof ie[Pe]&&(N&&(V||(V=Ui(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sa,{},Sa,Sa)))),ie[Pe]=dc(ie[Pe],V));const De=function Fc(b){return Va().ngZone.runOutsideAngular(()=>b())}(()=>b.apply(this,ie));if(!N){if(De instanceof Wo.y){const Pe=Va();return De.pipe((0,Za.R)(Pe.outsideAngular),(0,ba.Q)(Pe.insideAngular))}return Ui(()=>De)}return De instanceof Wo.y?De.pipe(Qa):De instanceof Promise?Ui(()=>new Promise((Pe,it)=>De.then(Ht=>Ui(()=>Pe(Ht)),Ht=>Ui(()=>it(Ht))))):"function"==typeof De&&V?function(){return setTimeout(()=>{V&&"scheduled"===V.state&&V.invoke()},10),De.apply(this,arguments)}:Ui(()=>De)}},9058:(Dn,dt,X)=>{X.d(dt,{$s:()=>ln,BH:()=>tt,L:()=>et,LL:()=>bt,P0:()=>Jt,Pz:()=>ot,Sg:()=>gt,UG:()=>mt,US:()=>ce,ZR:()=>at,aH:()=>be,b$:()=>Xr,eu:()=>ze,hl:()=>Ue,m9:()=>pr,ne:()=>fr,pd:()=>Sn,q4:()=>er,ru:()=>tr,tV:()=>_e,uI:()=>lt,vZ:()=>ir,w1:()=>nt,xO:()=>Bn,xb:()=>jn,z$:()=>Tt,zI:()=>Qe,zd:()=>Tr});const Oe=function(ve){const J=[];let ee=0;for(let te=0;te<ve.length;te++){let re=ve.charCodeAt(te);re<128?J[ee++]=re:re<2048?(J[ee++]=re>>6|192,J[ee++]=63&re|128):55296==(64512&re)&&te+1<ve.length&&56320==(64512&ve.charCodeAt(te+1))?(re=65536+((1023&re)<<10)+(1023&ve.charCodeAt(++te)),J[ee++]=re>>18|240,J[ee++]=re>>12&63|128,J[ee++]=re>>6&63|128,J[ee++]=63&re|128):(J[ee++]=re>>12|224,J[ee++]=re>>6&63|128,J[ee++]=63&re|128)}return J},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,J){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let re=0;re<ve.length;re+=3){const Ne=ve[re],ht=re+1<ve.length,Nt=ht?ve[re+1]:0,nn=re+2<ve.length,mn=nn?ve[re+2]:0;let Zn=(15&Nt)<<2|mn>>6,Sr=63&mn;nn||(Sr=64,ht||(Zn=64)),te.push(ee[Ne>>2],ee[(3&Ne)<<4|Nt>>4],ee[Zn],ee[Sr])}return te.join("")},encodeString(ve,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(ve):this.encodeByteArray(Oe(ve),J)},decodeString(ve,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(ve):function(ve){const J=[];let ee=0,te=0;for(;ee<ve.length;){const re=ve[ee++];if(re<128)J[te++]=String.fromCharCode(re);else if(re>191&&re<224){const Ne=ve[ee++];J[te++]=String.fromCharCode((31&re)<<6|63&Ne)}else if(re>239&&re<365){const nn=((7&re)<<18|(63&ve[ee++])<<12|(63&ve[ee++])<<6|63&ve[ee++])-65536;J[te++]=String.fromCharCode(55296+(nn>>10)),J[te++]=String.fromCharCode(56320+(1023&nn))}else{const Ne=ve[ee++],ht=ve[ee++];J[te++]=String.fromCharCode((15&re)<<12|(63&Ne)<<6|63&ht)}}return J.join("")}(this.decodeStringToByteArray(ve,J))},decodeStringToByteArray(ve,J){this.init_();const ee=J?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let re=0;re<ve.length;){const Ne=ee[ve.charAt(re++)],Nt=re<ve.length?ee[ve.charAt(re)]:0;++re;const mn=re<ve.length?ee[ve.charAt(re)]:64;++re;const gn=re<ve.length?ee[ve.charAt(re)]:64;if(++re,null==Ne||null==Nt||null==mn||null==gn)throw new fe;te.push(Ne<<2|Nt>>4),64!==mn&&(te.push(Nt<<4&240|mn>>2),64!==gn&&te.push(mn<<6&192|gn))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const et=function(ve){return function(ve){const J=Oe(ve);return ce.encodeByteArray(J,!0)}(ve).replace(/\./g,"")},_e=function(ve){try{return ce.decodeString(ve,!0)}catch(J){console.error("base64Decode failed: ",J)}return null},cn=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if(typeof document>"u")return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=ve&&_e(ve[1]);return J&&JSON.parse(J)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},er=ve=>{var J,ee;return null===(ee=null===(J=cn())||void 0===J?void 0:J.emulatorHosts)||void 0===ee?void 0:ee[ve]},Jt=ve=>{const J=er(ve);if(!J)return;const ee=J.lastIndexOf(":");if(ee<=0||ee+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const te=parseInt(J.substring(ee+1),10);return"["===J[0]?[J.substring(1,ee-1),te]:[J.substring(0,ee),te]},be=()=>{var ve;return null===(ve=cn())||void 0===ve?void 0:ve.config},ot=ve=>{var J;return null===(J=cn())||void 0===J?void 0:J[`_${ve}`]};class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,ee)=>{this.resolve=J,this.reject=ee})}wrapCallback(J){return(ee,te)=>{ee?this.reject(ee):this.resolve(te),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(ee):J(ee,te))}}}function gt(ve,J){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=J||"demo-project",re=ve.iat||0,Ne=ve.sub||ve.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:re,exp:re+3600,auth_time:re,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[et(JSON.stringify({alg:"none",type:"JWT"})),et(JSON.stringify(ht)),""].join(".")}function Tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function mt(){var ve;const J=null===(ve=cn())||void 0===ve?void 0:ve.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tr(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function Xr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nt(){const ve=Tt();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function ze(){return new Promise((ve,J)=>{try{let ee=!0;const te="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(te);re.onsuccess=()=>{re.result.close(),ee||self.indexedDB.deleteDatabase(te),ve(!0)},re.onupgradeneeded=()=>{ee=!1},re.onerror=()=>{var Ne;J((null===(Ne=re.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(ee){J(ee)}})}function Qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class at extends Error{constructor(J,ee,te){super(ee),this.code=J,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,at.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(J,ee,te){this.service=J,this.serviceName=ee,this.errors=te}create(J,...ee){const te=ee[0]||{},re=`${this.service}/${J}`,Ne=this.errors[J],ht=Ne?function en(ve,J){return ve.replace(Rn,(ee,te)=>{const re=J[te];return null!=re?String(re):`<${te}?>`})}(Ne,te):"Error";return new at(re,`${this.serviceName}: ${ht} (${re}).`,te)}}const Rn=/\{\$([^}]+)}/g;function jn(ve){for(const J in ve)if(Object.prototype.hasOwnProperty.call(ve,J))return!1;return!0}function ir(ve,J){if(ve===J)return!0;const ee=Object.keys(ve),te=Object.keys(J);for(const re of ee){if(!te.includes(re))return!1;const Ne=ve[re],ht=J[re];if(on(Ne)&&on(ht)){if(!ir(Ne,ht))return!1}else if(Ne!==ht)return!1}for(const re of te)if(!ee.includes(re))return!1;return!0}function on(ve){return null!==ve&&"object"==typeof ve}function Bn(ve){const J=[];for(const[ee,te]of Object.entries(ve))Array.isArray(te)?te.forEach(re=>{J.push(encodeURIComponent(ee)+"="+encodeURIComponent(re))}):J.push(encodeURIComponent(ee)+"="+encodeURIComponent(te));return J.length?"&"+J.join("&"):""}function Tr(ve){const J={};return ve.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[re,Ne]=te.split("=");J[decodeURIComponent(re)]=decodeURIComponent(Ne)}}),J}function Sn(ve){const J=ve.indexOf("?");if(!J)return"";const ee=ve.indexOf("#",J);return ve.substring(J,ee>0?ee:void 0)}function fr(ve,J){const ee=new Hr(ve,J);return ee.subscribe.bind(ee)}class Hr{constructor(J,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{J(this)}).catch(te=>{this.error(te)})}next(J){this.forEachObserver(ee=>{ee.next(J)})}error(J){this.forEachObserver(ee=>{ee.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,ee,te){let re;if(void 0===J&&void 0===ee&&void 0===te)throw new Error("Missing Observer.");re=function Fn(ve,J){if("object"!=typeof ve||null===ve)return!1;for(const ee of J)if(ee in ve&&"function"==typeof ve[ee])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:ee,complete:te},void 0===re.next&&(re.next=Ir),void 0===re.error&&(re.error=Ir),void 0===re.complete&&(re.complete=Ir);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),Ne}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,J)}sendOne(J,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{ee(this.observers[J])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ir(){}const Cr=1e3,qt=2,gi=144e5,Bi=.5;function ln(ve,J=Cr,ee=qt){const te=J*Math.pow(ee,ve),re=Math.round(Bi*te*(Math.random()-.5)*2);return Math.min(gi,te+re)}function pr(ve){return ve&&ve._delegate?ve._delegate:ve}},8976:(Dn,dt,X)=>{X.d(dt,{b:()=>v});class v{constructor(Z,Oe,Ae,ce,fe,Xe){this.nombre=Z,this.apellido=Oe,this.edad=Ae,this.dni=ce,this.mail=fe,this.tipoUsuario=Xe}toJSON(){return{nombre:this.nombre,apellido:this.apellido,edad:this.edad,dni:this.dni,mail:this.mail,tipoUsuario:this.tipoUsuario}}}},1448:(Dn,dt,X)=>{X.d(dt,{r:()=>pe});var v=X(8976);class pe extends v.b{constructor(Oe,Ae,ce,fe,Xe,et,_e,me,qe){super(Oe,Ae,ce,fe,Xe,et),this.especialidades=_e,this.disponibilidadPorEspecialidad=me,this.accesoConcedido=qe}toJSON(){return{nombre:this.nombre,apellido:this.apellido,edad:this.edad,dni:this.dni,mail:this.mail,tipoUsuario:this.tipoUsuario,especialidades:this.especialidades,disponibilidadPorEspecialidad:this.disponibilidadPorEspecialidad.map(Oe=>({especialidad:Oe.especialidad,diasAtencion:Oe.diasAtencion,duracionTurno:Oe.duracionTurno,desdeJornada:Oe.desdeJornada,hastaJornada:Oe.hastaJornada})),accesoConcedido:this.accesoConcedido}}}},9213:(Dn,dt,X)=>{X.d(dt,{H:()=>Oe});var v=X(4946),pe=X(5609),Z=X(5592);let Oe=(()=>{class Ae{constructor(){this.auth=(0,v.f3M)(pe.gx),this.usuarioAutenticado=!1,this.usuarioEmail=""}ngOnInit(){console.log("oninit servicio"),this.usuarioEmail=this.auth.currentUser?.email}isLoggedIn(){return this.usuarioEmail=this.auth.currentUser?.email,null!=this.auth.currentUser}estadoLogObservable(){return new Z.y(fe=>{this.unsubscribe=(0,pe.Aj)(this.auth,Xe=>{Xe?(this.usuarioAutenticado=!0,this.usuarioEmail=Xe.email,fe.next(Xe)):(this.usuarioAutenticado=!1,this.usuarioEmail=null,fe.next(null))})})}logout(){return this.auth.signOut().then(()=>{console.log(this.auth),this.usuarioAutenticado=!1,this.usuarioEmail=null}).catch(fe=>{console.error("Error al cerrar sesi\xf3n:",fe)})}registro({email:fe,password:Xe}){return(0,pe.Xb)(this.auth,fe,Xe).then(et=>{const _e=this.auth.currentUser;if(_e)return(0,pe.w$)(_e).then(()=>et).catch(me=>{throw new Error("Error al enviar el correo de verificaci\xf3n: "+me.message)});throw new Error("Error: No se pudo obtener el usuario actual")}).catch(et=>{throw new Error("Error al registrar el usuario: "+et.message)})}login({email:fe,password:Xe}){return(0,pe.e5)(this.auth,fe,Xe)}enviarEmailVerificacion(){const fe=this.auth.currentUser;fe?(0,pe.w$)(fe):console.log("No hay usuario autenticado para enviar correo de verificaci\xf3n")}static#e=this.\u0275fac=function(Xe){return new(Xe||Ae)};static#t=this.\u0275prov=v.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})()},1487:(Dn,dt,X)=>{X.d(dt,{i:()=>Oe});var v=X(4946),pe=X(5723),Z=X(1448);let Oe=(()=>{class Ae{constructor(){this.firestore=(0,v.f3M)(pe.gg),this.instanciaFirestore=(0,pe.hJ)(this.firestore,"usuarios")}todos(fe){const Xe=(0,pe.IO)(this.instanciaFirestore,(0,pe.ar)("tipoUsuario","==",fe));return(0,pe.BS)(Xe)}guardar(fe){const et=(0,pe.JU)(this.instanciaFirestore);return console.log(et.id),console.log(et),(0,pe.pl)(et,{id:et.id,...fe})}traerUno(fe){const Xe=(0,pe.IO)(this.instanciaFirestore,(0,pe.ar)("mail","==",fe));return(0,pe.BS)(Xe)}traerEspecialistasPorEspecialidad(fe){const Xe=(0,pe.IO)(this.instanciaFirestore,(0,pe.ar)("especialidades","array-contains",fe));return(0,pe.BS)(Xe)}verificarAcceso(fe){const Xe=(0,pe.IO)(this.instanciaFirestore,(0,pe.ar)("mail","==",fe));return(0,pe.BS)(Xe).subscribe(et=>(this.usuario=et[0],!!(this.usuario instanceof Z.r&&this.usuario.accesoConcedido))),!1}verificarAccesoAdministrador(fe){const Xe=(0,pe.IO)(this.instanciaFirestore,(0,pe.ar)("mail","==",fe));return(0,pe.BS)(Xe).subscribe(et=>(this.usuario=et[0],!(!this.usuario||"admin"!==this.usuario.tipoUsuario||(console.log(this.usuario),0)))),!1}darAcceso(fe){return new Promise((Xe,et)=>{this.traerUnoSubscription=this.traerUno(fe).subscribe(_e=>{if(!1===_e[0].accesoConcedido){const me=_e[0].id,qe=(0,pe.hJ)(this.firestore,"usuarios"),st=(0,pe.JU)(qe,me);(0,pe.r7)(st,{accesoConcedido:!0}).then(()=>{console.log("acceso"),Xe()}).catch(Me=>{console.error("Error:",Me),et(Me)}).finally(()=>{this.traerUnoSubscription&&(this.traerUnoSubscription.unsubscribe(),this.traerUnoSubscription=void 0)})}})})}static#e=this.\u0275fac=function(Xe){return new(Xe||Ae)};static#t=this.\u0275prov=v.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})()},2137:(Dn,dt,X)=>{var v=X(6593),pe=X(5920),Z=X(4946),Oe=X(9213);const ce=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{class H{constructor(w){this.UserAuthService=w,this.usuario="",this.rolUsuario=""}ngOnInit(){this.UserAuthService.estadoLogObservable().subscribe(w=>{this.usuario=w?w.email:""})}static#e=this.\u0275fac=function(O){return new(O||H)(Z.Y36(Oe.H))};static#t=this.\u0275cmp=Z.Xpm({type:H,selectors:[["app-home"]],decls:19,vars:0,consts:[["id","hero",1,"d-flex","align-items-center"],[1,"container"],["id","main"],["id","why-us",1,"why-us"],[1,"row"],[1,"col-lg-4","d-flex","align-items-stretch"],[1,"content"],[1,"text-center"],["href","#",1,"more-btn"],[1,"bx","bx-chevron-right"]],template:function(O,z){1&O&&(Z.TgZ(0,"section",0)(1,"div",1)(2,"h1"),Z._uU(3,"Bienvenido a Cl\xednica Online"),Z.qZA(),Z._UZ(4,"h2"),Z.qZA()(),Z.TgZ(5,"main",2)(6,"section",3)(7,"div",1)(8,"div",4)(9,"div",5)(10,"div",6)(11,"h3"),Z._uU(12,"\xa1Bienvenido a Cl\xednica Online!"),Z.qZA(),Z.TgZ(13,"p"),Z._uU(14," Cl\xednica Online ofrece servicios de salud con consultorios y laboratorios. Abierta de lunes a s\xe1bado, nuestros profesionales atienden a pacientes con turnos solicitados en l\xednea. La duraci\xf3n m\xednima del turno es de 30 minutos, ajustable por especialidad. \xa1Descubre m\xe1s sobre nuestros servicios! "),Z.qZA(),Z.TgZ(15,"div",7)(16,"a",8),Z._uU(17,"Lorem"),Z._UZ(18,"i",9),Z.qZA()()()()()()()())},styles:['#hero[_ngcontent-%COMP%]{width:100%;height:90vh;background:url(hero-bg.eacf2d179bfbb6be.jpg) top center;background-size:auto;margin-bottom:-300px}#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}#hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:-150px 0 0;font-size:48px;font-weight:700;line-height:56px;text-transform:uppercase;color:#2c4964}#hero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c4964;margin:10px 0 0;font-size:24px}section[_ngcontent-%COMP%]{padding:60px 0;overflow:hidden}.section-bg[_ngcontent-%COMP%]{background-color:#f1f7fd}.section-title[_ngcontent-%COMP%]{text-align:center;padding-bottom:30px}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:20px;padding-bottom:20px;position:relative;color:#2c4964}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";position:absolute;display:block;width:120px;height:1px;background:#ddd;bottom:1px;left:calc(50% - 60px)}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;width:40px;height:3px;background:#1977cc;bottom:0;left:calc(50% - 20px)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:30px;background:#1977cc;border-radius:4px;color:#fff}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:34px;margin-bottom:30px}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]{display:inline-block;background:rgba(255,255,255,.2);padding:6px 30px 8px;color:#fff;border-radius:50px;transition:all ease-in-out .4s}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.why-us[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]:hover{color:#1977cc;background:#fff}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{text-align:center;border-radius:10px;background:#fff;box-shadow:0 2px 15px #0000001a;padding:40px 30px;width:100%}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;color:#1977cc;margin-bottom:30px}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:0 0 30px}.why-us[_ngcontent-%COMP%]   .icon-boxes[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;color:#848484}']})}return H})()},{path:"auth",loadChildren:()=>Promise.all([X.e(519),X.e(392),X.e(301)]).then(X.bind(X,6392)).then(H=>H.AuthModule)},{path:"usuarios",loadChildren:()=>Promise.all([X.e(519),X.e(450),X.e(392),X.e(295)]).then(X.bind(X,7295)).then(H=>H.UsuariosAdminModule)},{path:"turnos",loadChildren:()=>Promise.all([X.e(519),X.e(794)]).then(X.bind(X,7794)).then(H=>H.TurnosModule)},{path:"mis_turnos",loadChildren:()=>Promise.all([X.e(519),X.e(182)]).then(X.bind(X,6182)).then(H=>H.MisTurnosModule)},{path:"mi_perfil",loadChildren:()=>Promise.all([X.e(450),X.e(296)]).then(X.bind(X,2296)).then(H=>H.MiPerfilModule)},{path:"mis_pacientes",loadChildren:()=>Promise.all([X.e(450),X.e(811)]).then(X.bind(X,6811)).then(H=>H.MisPacientesModule)},{path:"estadisticas",loadChildren:()=>X.e(245).then(X.bind(X,1245)).then(H=>H.EstadisticasAdminModule)}];let fe=(()=>{class H{static#e=this.\u0275fac=function(O){return new(O||H)};static#t=this.\u0275mod=Z.oAB({type:H});static#n=this.\u0275inj=Z.cJS({imports:[pe.Bz.forRoot(ce),pe.Bz]})}return H})();var Xe=X(6814),et=X(1487);let _e=(()=>{class H{constructor(w){this.el=w,this.fondoResaltado=!1}onMouseEnter(){this.fondoResaltado=!this.fondoResaltado,this.el.nativeElement.style.backgroundColor=this.fondoResaltado?"#fff":"initial"}onMouseLeave(){this.el.nativeElement.style.backgroundColor="initial"}static#e=this.\u0275fac=function(O){return new(O||H)(Z.Y36(Z.SBq))};static#t=this.\u0275dir=Z.lG2({type:H,selectors:[["","appClicResaltarFondo",""]],hostBindings:function(O,z){1&O&&Z.NdJ("mouseenter",function(){return z.onMouseEnter()})("mouseleave",function(){return z.onMouseLeave()})}})}return H})(),me=(()=>{class H{onMouseEnter(){this.el.nativeElement.style.fontSize="1.2em"}onMouseExit(){this.el.nativeElement.style.fontSize="1em"}constructor(w){this.el=w}static#e=this.\u0275fac=function(O){return new(O||H)(Z.Y36(Z.SBq))};static#t=this.\u0275dir=Z.lG2({type:H,selectors:[["","appHoverFuente",""]],hostBindings:function(O,z){1&O&&Z.NdJ("mouseenter",function(){return z.onMouseEnter()})("mouseleave",function(){return z.onMouseExit()})}})}return H})();function qe(H,y){if(1&H){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",8),Z.NdJ("click",function(){Z.CHM(w);const z=Z.oxw();return Z.KtG(z.usuariosAdmin())}),Z._uU(3,"Usuarios"),Z.qZA()(),Z.BQk()}}function st(H,y){if(1&H){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",9),Z.NdJ("click",function(){Z.CHM(w);const z=Z.oxw();return Z.KtG(z.misTurnos())}),Z._uU(3,"Mis Turnos"),Z.qZA()(),Z.BQk()}}function Me(H,y){if(1&H){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",9),Z.NdJ("click",function(){Z.CHM(w);const z=Z.oxw();return Z.KtG(z.turnos())}),Z._uU(3,"Solicitar Turno"),Z.qZA()(),Z.BQk()}}function Mt(H,y){if(1&H){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",9),Z.NdJ("click",function(){Z.CHM(w);const z=Z.oxw();return Z.KtG(z.miPerfil())}),Z._uU(3,"Mi Perfil"),Z.qZA()(),Z.BQk()}}function pt(H,y){if(1&H){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",9),Z.NdJ("click",function(){Z.CHM(w);const z=Z.oxw();return Z.KtG(z.misPacientes())}),Z._uU(3,"Pacientes"),Z.qZA()(),Z.BQk()}}function Pt(H,y){if(1&H){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"li")(2,"a",9),Z.NdJ("click",function(){Z.CHM(w);const z=Z.oxw();return Z.KtG(z.irEstadisticas())}),Z._uU(3,"Estadisticas"),Z.qZA()(),Z.BQk()}}function cn(H,y){if(1&H){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"button",10),Z.NdJ("click",function(){Z.CHM(w);const z=Z.oxw();return Z.KtG(z.login())}),Z._uU(2,"Ingresar"),Z.qZA(),Z.BQk()}}function er(H,y){if(1&H){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"button",10),Z.NdJ("click",function(){Z.CHM(w);const z=Z.oxw();return Z.KtG(z.register())}),Z._uU(2,"Registrarse"),Z.qZA(),Z.BQk()}}function Jt(H,y){if(1&H){const w=Z.EpF();Z.ynx(0),Z.TgZ(1,"button",10),Z.NdJ("click",function(){Z.CHM(w);const z=Z.oxw();return Z.KtG(z.cerrarSesion())}),Z._uU(2,"Cerrar Sesion"),Z.qZA(),Z.BQk()}}let be=(()=>{class H{constructor(w,O,z){this.UserAuthService=w,this.UsuarioService=O,this.router=z,this.usuarioEmail="",this.usuarioLogueado=!1,this.rolUsuario=""}ngOnInit(){this.Subscription=this.UserAuthService.estadoLogObservable().subscribe(w=>{w?(console.log("pase"),console.log(w),console.log(w.email),this.SubscriptionUsuario=this.UsuarioService.traerUno(w.email).subscribe(O=>{O[0]&&(this.usuario=O[0],this.usuarioEmail=O[0].mail,this.rolUsuario=O[0].tipoUsuario,this.usuarioLogueado=!0)})):this.usuarioLogueado=!1})}cerrarSesion(){this.UserAuthService.logout().then(()=>{console.log("logout"),this.Subscription&&this.SubscriptionUsuario&&(this.Subscription.unsubscribe(),this.SubscriptionUsuario.unsubscribe(),console.log("me desuscribi")),this.usuarioEmail="",this.rolUsuario="",this.usuarioLogueado=!1,this.usuario=void 0,console.log(this.usuario),this.router.navigateByUrl("auth/login")}).catch(w=>console.error(w))}login(){this.router.navigateByUrl("auth/login")}register(){this.router.navigateByUrl("auth/register")}usuariosAdmin(){console.log("hola"),this.router.navigateByUrl("usuarios/usuarios")}turnos(){this.router.navigateByUrl("turnos")}misTurnos(){this.router.navigateByUrl("mis_turnos")}miPerfil(){this.router.navigateByUrl("mi_perfil")}misPacientes(){this.router.navigateByUrl("mis_pacientes")}irEstadisticas(){this.router.navigateByUrl("estadisticas")}ngOnDestroy(){throw new Error("Destruido")}static#e=this.\u0275fac=function(O){return new(O||H)(Z.Y36(Oe.H),Z.Y36(et.i),Z.Y36(pe.F0))};static#t=this.\u0275cmp=Z.Xpm({type:H,selectors:[["app-navbar"]],decls:20,vars:10,consts:[[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-md-between","gradient-custom"],["href","/",1,"d-flex","align-items-center","col-md-2","mb-2","mb-md-0","text-dark","text-decoration-none"],["src","assets/logo.avif","width","80","height","80","alt",""],[1,"nav","col-12","col-md-auto","mb-2","justify-content-center","mb-md-0"],["href","#","clicResaltarFondo","",1,"nav-link","px-2","link-secondary"],[4,"ngIf"],[1,"nav-link","px-2","link-dark","disabled"],[1,"col-md-3","text-end"],["appClicResaltarFondo","","appHoverFuente","",1,"nav-link","px-2","link-dark",3,"click"],["appClicResaltarFondo","","appHoverFuente","","clicResaltarFondo","",1,"nav-link","px-2","link-dark",3,"click"],["type","button",1,"btn","btn-light","me-2",3,"click"]],template:function(O,z){1&O&&(Z.TgZ(0,"header",0)(1,"a",1),Z._UZ(2,"img",2),Z.qZA(),Z.TgZ(3,"ul",3)(4,"li")(5,"a",4),Z._uU(6,"Inicio"),Z.qZA()(),Z.YNc(7,qe,4,0,"ng-container",5),Z.YNc(8,st,4,0,"ng-container",5),Z.YNc(9,Me,4,0,"ng-container",5),Z.YNc(10,Mt,4,0,"ng-container",5),Z.YNc(11,pt,4,0,"ng-container",5),Z.YNc(12,Pt,4,0,"ng-container",5),Z.TgZ(13,"li")(14,"a",6),Z._uU(15),Z.qZA()()(),Z.TgZ(16,"div",7),Z.YNc(17,cn,3,0,"ng-container",5),Z.YNc(18,er,3,0,"ng-container",5),Z.YNc(19,Jt,3,0,"ng-container",5),Z.qZA()()),2&O&&(Z.xp6(7),Z.Q6J("ngIf","admin"===z.rolUsuario),Z.xp6(1),Z.Q6J("ngIf","admin"!==z.rolUsuario&&""!==z.rolUsuario),Z.xp6(1),Z.Q6J("ngIf","paciente"===z.rolUsuario),Z.xp6(1),Z.Q6J("ngIf",""!==z.rolUsuario),Z.xp6(1),Z.Q6J("ngIf","especialista"===z.rolUsuario),Z.xp6(1),Z.Q6J("ngIf","admin"===z.rolUsuario),Z.xp6(3),Z.Oqu(z.usuarioEmail),Z.xp6(2),Z.Q6J("ngIf",!z.usuarioLogueado),Z.xp6(1),Z.Q6J("ngIf",!z.usuarioLogueado),Z.xp6(1),Z.Q6J("ngIf",z.usuarioLogueado))},dependencies:[Xe.O5,_e,me],styles:[".gradient-custom[_ngcontent-%COMP%]{background:linear-gradient(to left,#1977cc,#fff)}"]})}return H})();function ot(H,y){1&H&&(Z.ynx(0),Z.TgZ(1,"div",1)(2,"div",2)(3,"span",3),Z._uU(4,"Cargando..."),Z.qZA()()(),Z.BQk())}function tt(H,y){1&H&&(Z.ynx(0),Z._UZ(1,"app-navbar")(2,"router-outlet"),Z.BQk())}let gt=(()=>{class H{constructor(){this.title="tp_clinica_online",this.loading=!1}ngOnInit(){this.loading=!0,setTimeout(()=>{this.loading=!1},3e3)}static#e=this.\u0275fac=function(O){return new(O||H)};static#t=this.\u0275cmp=Z.Xpm({type:H,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"loading-container"],["role","status",1,"spinner-grow","text-primary",2,"width","5rem","height","5rem"],[1,"visually-hidden"]],template:function(O,z){1&O&&(Z.YNc(0,ot,5,0,"ng-container",0),Z.YNc(1,tt,3,0,"ng-container",0)),2&O&&(Z.Q6J("ngIf",z.loading),Z.xp6(1),Z.Q6J("ngIf",!z.loading))},dependencies:[Xe.O5,pe.lC,be],styles:['@charset "UTF-8";.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}']})}return H})();var Tt=X(95),lt=X(8726),mt=X(5723),kn=X(9493),tr=X(5609);const Xr_firebase={apiKey:"AIzaSyB3cH7PV__i49hUwJNNojdkhgPvySEqegw",authDomain:"tp-clinica-online-d8dea.firebaseapp.com",projectId:"tp-clinica-online-d8dea",storageBucket:"tp-clinica-online-d8dea.appspot.com",messagingSenderId:"800419131731",appId:"1:800419131731:web:b752b510cf8add7e7d31a6"};var nt=X(6825);function St(H){return new Z.vHH(3e3,!1)}function ri(H){switch(H.length){case 0:return new nt.ZN;case 1:return H[0];default:return new nt.ZE(H)}}function Si(H,y,w=new Map,O=new Map){const z=[],oe=[];let Ee=-1,we=null;if(y.forEach(je=>{const Ye=je.get("offset"),jt=Ye==Ee,I=jt&&we||new Map;je.forEach((q,R)=>{let B=R,ae=q;if("offset"!==R)switch(B=H.normalizePropertyName(B,z),ae){case nt.k1:ae=w.get(R);break;case nt.l3:ae=O.get(R);break;default:ae=H.normalizeStyleValue(R,B,ae,z)}I.set(B,ae)}),jt||oe.push(I),we=I,Ee=Ye}),z.length)throw function Bn(H){return new Z.vHH(3502,!1)}();return oe}function zr(H,y,w,O){switch(y){case"start":H.onStart(()=>O(w&&Jr(w,"start",H)));break;case"done":H.onDone(()=>O(w&&Jr(w,"done",H)));break;case"destroy":H.onDestroy(()=>O(w&&Jr(w,"destroy",H)))}}function Jr(H,y,w){const oe=Cr(H.element,H.triggerName,H.fromState,H.toState,y||H.phaseName,w.totalTime??H.totalTime,!!w.disabled),Ee=H._data;return null!=Ee&&(oe._data=Ee),oe}function Cr(H,y,w,O,z="",oe=0,Ee){return{element:H,triggerName:y,fromState:w,toState:O,phaseName:z,totalTime:oe,disabled:!!Ee}}function qt(H,y,w){let O=H.get(y);return O||H.set(y,O=w),O}function gi(H){const y=H.indexOf(":");return[H.substring(1,y),H.slice(y+1)]}const Bi=(()=>typeof document>"u"?null:document.documentElement)();function ln(H){const y=H.parentNode||H.host||null;return y===Bi?null:y}let Kt=null,pr=!1;function te(H,y){for(;y;){if(y===H)return!0;y=ln(y)}return!1}function re(H,y,w){if(w)return Array.from(H.querySelectorAll(y));const O=H.querySelector(y);return O?[O]:[]}let ht=(()=>{class H{validateStyleProperty(w){return function ve(H){Kt||(Kt=function ee(){return typeof document<"u"?document.body:null}()||{},pr=!!Kt.style&&"WebkitAppearance"in Kt.style);let y=!0;return Kt.style&&!function cr(H){return"ebkit"==H.substring(1,6)}(H)&&(y=H in Kt.style,!y&&pr&&(y="Webkit"+H.charAt(0).toUpperCase()+H.slice(1)in Kt.style)),y}(w)}matchesElement(w,O){return!1}containsElement(w,O){return te(w,O)}getParentElement(w){return ln(w)}query(w,O,z){return re(w,O,z)}computeStyle(w,O,z){return z||""}animate(w,O,z,oe,Ee,we=[],je){return new nt.ZN(z,oe)}static#e=this.\u0275fac=function(O){return new(O||H)};static#t=this.\u0275prov=Z.Yz7({token:H,factory:H.\u0275fac})}return H})(),Nt=(()=>{class H{static#e=this.NOOP=new ht}return H})();const nn=1e3,gn="ng-enter",Zn="ng-leave",Sr="ng-trigger",li=".ng-trigger",Ii="ng-animating",Ke=".ng-animating";function Re(H){if("number"==typeof H)return H;const y=H.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:vt(parseFloat(y[1]),y[2])}function vt(H,y){return"s"===y?H*nn:H}function kt(H,y,w){return H.hasOwnProperty("duration")?H:function _n(H,y,w){let z,oe=0,Ee="";if("string"==typeof H){const we=H.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===we)return y.push(St()),{duration:0,delay:0,easing:""};z=vt(parseFloat(we[1]),we[2]);const je=we[3];null!=je&&(oe=vt(parseFloat(je),we[4]));const Ye=we[5];Ye&&(Ee=Ye)}else z=H;if(!w){let we=!1,je=y.length;z<0&&(y.push(function vn(){return new Z.vHH(3100,!1)}()),we=!0),oe<0&&(y.push(function Ue(){return new Z.vHH(3101,!1)}()),we=!0),we&&y.splice(je,0,St())}return{duration:z,delay:oe,easing:Ee}}(H,y,w)}function Lt(H,y={}){return Object.keys(H).forEach(w=>{y[w]=H[w]}),y}function On(H){const y=new Map;return Object.keys(H).forEach(w=>{y.set(w,H[w])}),y}function Yr(H,y=new Map,w){if(w)for(let[O,z]of w)y.set(O,z);for(let[O,z]of H)y.set(O,z);return y}function Di(H,y,w){y.forEach((O,z)=>{const oe=Gi(z);w&&!w.has(z)&&w.set(z,H.style[oe]),H.style[oe]=O})}function Ai(H,y){y.forEach((w,O)=>{const z=Gi(O);H.style[z]=""})}function Qr(H){return Array.isArray(H)?1==H.length?H[0]:(0,nt.vP)(H):H}const mi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pi(H){let y=[];if("string"==typeof H){let w;for(;w=mi.exec(H);)y.push(w[1]);mi.lastIndex=0}return y}function Vn(H,y,w){const O=H.toString(),z=O.replace(mi,(oe,Ee)=>{let we=y[Ee];return null==we&&(w.push(function Qe(H){return new Z.vHH(3003,!1)}()),we=""),we.toString()});return z==O?H:z}function Zi(H){const y=[];let w=H.next();for(;!w.done;)y.push(w.value),w=H.next();return y}const sr=/-+([a-z0-9])/g;function Gi(H){return H.replace(sr,(...y)=>y[1].toUpperCase())}function Ie(H,y,w){switch(y.type){case 7:return H.visitTrigger(y,w);case 0:return H.visitState(y,w);case 1:return H.visitTransition(y,w);case 2:return H.visitSequence(y,w);case 3:return H.visitGroup(y,w);case 4:return H.visitAnimate(y,w);case 5:return H.visitKeyframes(y,w);case 6:return H.visitStyle(y,w);case 8:return H.visitReference(y,w);case 9:return H.visitAnimateChild(y,w);case 10:return H.visitAnimateRef(y,w);case 11:return H.visitQuery(y,w);case 12:return H.visitStagger(y,w);default:throw function Be(H){return new Z.vHH(3004,!1)}()}}function Te(H,y){return window.getComputedStyle(H)[y]}const Nn="*";function qi(H,y){const w=[];return"string"==typeof H?H.split(/\s*,\s*/).forEach(O=>function bi(H,y,w){if(":"==H[0]){const je=function pi(H,y){switch(H){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,O)=>parseFloat(O)>parseFloat(w);case":decrement":return(w,O)=>parseFloat(O)<parseFloat(w);default:return y.push(function yn(H){return new Z.vHH(3016,!1)}()),"* => *"}}(H,w);if("function"==typeof je)return void y.push(je);H=je}const O=H.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==O||O.length<4)return w.push(function jn(H){return new Z.vHH(3015,!1)}()),y;const z=O[1],oe=O[2],Ee=O[3];y.push(vo(z,Ee));"<"==oe[0]&&!(z==Nn&&Ee==Nn)&&y.push(vo(Ee,z))}(O,w,y)):w.push(H),w}const gr=new Set(["true","1"]),Ss=new Set(["false","0"]);function vo(H,y){const w=gr.has(H)||Ss.has(H),O=gr.has(y)||Ss.has(y);return(z,oe)=>{let Ee=H==Nn||H==z,we=y==Nn||y==oe;return!Ee&&w&&"boolean"==typeof z&&(Ee=z?gr.has(H):Ss.has(H)),!we&&O&&"boolean"==typeof oe&&(we=oe?gr.has(y):Ss.has(y)),Ee&&we}}const Ps=new RegExp("s*:selfs*,?","g");function Os(H,y,w,O){return new _o(H).build(y,w,O)}class _o{constructor(y){this._driver=y}build(y,w,O){const z=new Ms(w);return this._resetContextStyleTimingState(z),Ie(this,Qr(y),z)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,w){let O=w.queryCount=0,z=w.depCount=0;const oe=[],Ee=[];return"@"==y.name.charAt(0)&&w.errors.push(function bt(){return new Z.vHH(3006,!1)}()),y.definitions.forEach(we=>{if(this._resetContextStyleTimingState(w),0==we.type){const je=we,Ye=je.name;Ye.toString().split(/\s*,\s*/).forEach(jt=>{je.name=jt,oe.push(this.visitState(je,w))}),je.name=Ye}else if(1==we.type){const je=this.visitTransition(we,w);O+=je.queryCount,z+=je.depCount,Ee.push(je)}else w.errors.push(function en(){return new Z.vHH(3007,!1)}())}),{type:7,name:y.name,states:oe,transitions:Ee,queryCount:O,depCount:z,options:null}}visitState(y,w){const O=this.visitStyle(y.styles,w),z=y.options&&y.options.params||null;if(O.containsDynamicStyles){const oe=new Set,Ee=z||{};O.styles.forEach(we=>{we instanceof Map&&we.forEach(je=>{Pi(je).forEach(Ye=>{Ee.hasOwnProperty(Ye)||oe.add(Ye)})})}),oe.size&&(Zi(oe.values()),w.errors.push(function Rn(H,y){return new Z.vHH(3008,!1)}()))}return{type:0,name:y.name,style:O,options:z?{params:z}:null}}visitTransition(y,w){w.queryCount=0,w.depCount=0;const O=Ie(this,Qr(y.animation),w);return{type:1,matchers:qi(y.expr,w.errors),animation:O,queryCount:w.queryCount,depCount:w.depCount,options:as(y.options)}}visitSequence(y,w){return{type:2,steps:y.steps.map(O=>Ie(this,O,w)),options:as(y.options)}}visitGroup(y,w){const O=w.currentTime;let z=0;const oe=y.steps.map(Ee=>{w.currentTime=O;const we=Ie(this,Ee,w);return z=Math.max(z,w.currentTime),we});return w.currentTime=z,{type:3,steps:oe,options:as(y.options)}}visitAnimate(y,w){const O=function ao(H,y){if(H.hasOwnProperty("duration"))return H;if("number"==typeof H)return Eo(kt(H,y).duration,0,"");const w=H;if(w.split(/\s+/).some(oe=>"{"==oe.charAt(0)&&"{"==oe.charAt(1))){const oe=Eo(0,0,"");return oe.dynamic=!0,oe.strValue=w,oe}const z=kt(w,y);return Eo(z.duration,z.delay,z.easing)}(y.timings,w.errors);w.currentAnimateTimings=O;let z,oe=y.styles?y.styles:(0,nt.oB)({});if(5==oe.type)z=this.visitKeyframes(oe,w);else{let Ee=y.styles,we=!1;if(!Ee){we=!0;const Ye={};O.easing&&(Ye.easing=O.easing),Ee=(0,nt.oB)(Ye)}w.currentTime+=O.duration+O.delay;const je=this.visitStyle(Ee,w);je.isEmptyStep=we,z=je}return w.currentAnimateTimings=null,{type:4,timings:O,style:z,options:null}}visitStyle(y,w){const O=this._makeStyleAst(y,w);return this._validateStyleAst(O,w),O}_makeStyleAst(y,w){const O=[],z=Array.isArray(y.styles)?y.styles:[y.styles];for(let we of z)"string"==typeof we?we===nt.l3?O.push(we):w.errors.push(new Z.vHH(3002,!1)):O.push(On(we));let oe=!1,Ee=null;return O.forEach(we=>{if(we instanceof Map&&(we.has("easing")&&(Ee=we.get("easing"),we.delete("easing")),!oe))for(let je of we.values())if(je.toString().indexOf("{{")>=0){oe=!0;break}}),{type:6,styles:O,easing:Ee,offset:y.offset,containsDynamicStyles:oe,options:null}}_validateStyleAst(y,w){const O=w.currentAnimateTimings;let z=w.currentTime,oe=w.currentTime;O&&oe>0&&(oe-=O.duration+O.delay),y.styles.forEach(Ee=>{"string"!=typeof Ee&&Ee.forEach((we,je)=>{const Ye=w.collectedStyles.get(w.currentQuerySelector),jt=Ye.get(je);let I=!0;jt&&(oe!=z&&oe>=jt.startTime&&z<=jt.endTime&&(w.errors.push(function wn(H,y,w,O,z){return new Z.vHH(3010,!1)}()),I=!1),oe=jt.startTime),I&&Ye.set(je,{startTime:oe,endTime:z}),w.options&&function ji(H,y,w){const O=y.params||{},z=Pi(H);z.length&&z.forEach(oe=>{O.hasOwnProperty(oe)||w.push(function ze(H){return new Z.vHH(3001,!1)}())})}(we,w.options,w.errors)})})}visitKeyframes(y,w){const O={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function hr(){return new Z.vHH(3011,!1)}()),O;let oe=0;const Ee=[];let we=!1,je=!1,Ye=0;const jt=y.steps.map(rt=>{const Ut=this._makeStyleAst(rt,w);let Qn=null!=Ut.offset?Ut.offset:function ks(H){if("string"==typeof H)return null;let y=null;if(Array.isArray(H))H.forEach(w=>{if(w instanceof Map&&w.has("offset")){const O=w;y=parseFloat(O.get("offset")),O.delete("offset")}});else if(H instanceof Map&&H.has("offset")){const w=H;y=parseFloat(w.get("offset")),w.delete("offset")}return y}(Ut.styles),Xn=0;return null!=Qn&&(oe++,Xn=Ut.offset=Qn),je=je||Xn<0||Xn>1,we=we||Xn<Ye,Ye=Xn,Ee.push(Xn),Ut});je&&w.errors.push(function qn(){return new Z.vHH(3012,!1)}()),we&&w.errors.push(function Wn(){return new Z.vHH(3200,!1)}());const I=y.steps.length;let q=0;oe>0&&oe<I?w.errors.push(function nr(){return new Z.vHH(3202,!1)}()):0==oe&&(q=1/(I-1));const R=I-1,B=w.currentTime,ae=w.currentAnimateTimings,Le=ae.duration;return jt.forEach((rt,Ut)=>{const Qn=q>0?Ut==R?1:q*Ut:Ee[Ut],Xn=Qn*Le;w.currentTime=B+ae.delay+Xn,ae.duration=Xn,this._validateStyleAst(rt,w),rt.offset=Qn,O.styles.push(rt)}),O}visitReference(y,w){return{type:8,animation:Ie(this,Qr(y.animation),w),options:as(y.options)}}visitAnimateChild(y,w){return w.depCount++,{type:9,options:as(y.options)}}visitAnimateRef(y,w){return{type:10,animation:this.visitReference(y.animation,w),options:as(y.options)}}visitQuery(y,w){const O=w.currentQuerySelector,z=y.options||{};w.queryCount++,w.currentQuery=y;const[oe,Ee]=function oo(H){const y=!!H.split(/\s*,\s*/).find(w=>":self"==w);return y&&(H=H.replace(Ps,"")),H=H.replace(/@\*/g,li).replace(/@\w+/g,w=>li+"-"+w.slice(1)).replace(/:animating/g,Ke),[H,y]}(y.selector);w.currentQuerySelector=O.length?O+" "+oe:oe,qt(w.collectedStyles,w.currentQuerySelector,new Map);const we=Ie(this,Qr(y.animation),w);return w.currentQuery=null,w.currentQuerySelector=O,{type:11,selector:oe,limit:z.limit||0,optional:!!z.optional,includeSelf:Ee,animation:we,originalSelector:y.selector,options:as(y.options)}}visitStagger(y,w){w.currentQuery||w.errors.push(function rr(){return new Z.vHH(3013,!1)}());const O="full"===y.timings?{duration:0,delay:0,easing:"full"}:kt(y.timings,w.errors,!0);return{type:12,animation:Ie(this,Qr(y.animation),w),timings:O,options:null}}}class Ms{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function as(H){return H?(H=Lt(H)).params&&(H.params=function As(H){return H?Lt(H):null}(H.params)):H={},H}function Eo(H,y,w){return{duration:H,delay:y,easing:w}}function Fs(H,y,w,O,z,oe,Ee=null,we=!1){return{type:1,element:H,keyframes:y,preStyleProps:w,postStyleProps:O,duration:z,delay:oe,totalTime:z+oe,easing:Ee,subTimeline:we}}class wo{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,w){let O=this._map.get(y);O||this._map.set(y,O=[]),O.push(...w)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Is=new RegExp(":enter","g"),mr=new RegExp(":leave","g");function In(H,y,w,O,z,oe=new Map,Ee=new Map,we,je,Ye=[]){return(new ps).buildKeyframes(H,y,w,O,z,oe,Ee,we,je,Ye)}class ps{buildKeyframes(y,w,O,z,oe,Ee,we,je,Ye,jt=[]){Ye=Ye||new wo;const I=new qs(y,w,Ye,z,oe,jt,[]);I.options=je;const q=je.delay?Re(je.delay):0;I.currentTimeline.delayNextStep(q),I.currentTimeline.setStyles([Ee],null,I.errors,je),Ie(this,O,I);const R=I.timelines.filter(B=>B.containsAnimation());if(R.length&&we.size){let B;for(let ae=R.length-1;ae>=0;ae--){const Le=R[ae];if(Le.element===w){B=Le;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([we],null,I.errors,je)}return R.length?R.map(B=>B.buildKeyframes()):[Fs(w,[],[],[],0,q,"",!1)]}visitTrigger(y,w){}visitState(y,w){}visitTransition(y,w){}visitAnimateChild(y,w){const O=w.subInstructions.get(w.element);if(O){const z=w.createSubContext(y.options),oe=w.currentTimeline.currentTime,Ee=this._visitSubInstructions(O,z,z.options);oe!=Ee&&w.transformIntoNewTimeline(Ee)}w.previousNode=y}visitAnimateRef(y,w){const O=w.createSubContext(y.options);O.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],w,O),this.visitReference(y.animation,O),w.transformIntoNewTimeline(O.currentTimeline.currentTime),w.previousNode=y}_applyAnimationRefDelays(y,w,O){for(const z of y){const oe=z?.delay;if(oe){const Ee="number"==typeof oe?oe:Re(Vn(oe,z?.params??{},w.errors));O.delayNextStep(Ee)}}}_visitSubInstructions(y,w,O){let oe=w.currentTimeline.currentTime;const Ee=null!=O.duration?Re(O.duration):null,we=null!=O.delay?Re(O.delay):null;return 0!==Ee&&y.forEach(je=>{const Ye=w.appendInstructionToTimeline(je,Ee,we);oe=Math.max(oe,Ye.duration+Ye.delay)}),oe}visitReference(y,w){w.updateOptions(y.options,!0),Ie(this,y.animation,w),w.previousNode=y}visitSequence(y,w){const O=w.subContextCount;let z=w;const oe=y.options;if(oe&&(oe.params||oe.delay)&&(z=w.createSubContext(oe),z.transformIntoNewTimeline(),null!=oe.delay)){6==z.previousNode.type&&(z.currentTimeline.snapshotCurrentStyles(),z.previousNode=Gr);const Ee=Re(oe.delay);z.delayNextStep(Ee)}y.steps.length&&(y.steps.forEach(Ee=>Ie(this,Ee,z)),z.currentTimeline.applyStylesToKeyframe(),z.subContextCount>O&&z.transformIntoNewTimeline()),w.previousNode=y}visitGroup(y,w){const O=[];let z=w.currentTimeline.currentTime;const oe=y.options&&y.options.delay?Re(y.options.delay):0;y.steps.forEach(Ee=>{const we=w.createSubContext(y.options);oe&&we.delayNextStep(oe),Ie(this,Ee,we),z=Math.max(z,we.currentTimeline.currentTime),O.push(we.currentTimeline)}),O.forEach(Ee=>w.currentTimeline.mergeTimelineCollectedStyles(Ee)),w.transformIntoNewTimeline(z),w.previousNode=y}_visitTiming(y,w){if(y.dynamic){const O=y.strValue;return kt(w.params?Vn(O,w.params,w.errors):O,w.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,w){const O=w.currentAnimateTimings=this._visitTiming(y.timings,w),z=w.currentTimeline;O.delay&&(w.incrementTime(O.delay),z.snapshotCurrentStyles());const oe=y.style;5==oe.type?this.visitKeyframes(oe,w):(w.incrementTime(O.duration),this.visitStyle(oe,w),z.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=y}visitStyle(y,w){const O=w.currentTimeline,z=w.currentAnimateTimings;!z&&O.hasCurrentStyleProperties()&&O.forwardFrame();const oe=z&&z.easing||y.easing;y.isEmptyStep?O.applyEmptyStep(oe):O.setStyles(y.styles,oe,w.errors,w.options),w.previousNode=y}visitKeyframes(y,w){const O=w.currentAnimateTimings,z=w.currentTimeline.duration,oe=O.duration,we=w.createSubContext().currentTimeline;we.easing=O.easing,y.styles.forEach(je=>{we.forwardTime((je.offset||0)*oe),we.setStyles(je.styles,je.easing,w.errors,w.options),we.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(we),w.transformIntoNewTimeline(z+oe),w.previousNode=y}visitQuery(y,w){const O=w.currentTimeline.currentTime,z=y.options||{},oe=z.delay?Re(z.delay):0;oe&&(6===w.previousNode.type||0==O&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Gr);let Ee=O;const we=w.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!z.optional,w.errors);w.currentQueryTotal=we.length;let je=null;we.forEach((Ye,jt)=>{w.currentQueryIndex=jt;const I=w.createSubContext(y.options,Ye);oe&&I.delayNextStep(oe),Ye===w.element&&(je=I.currentTimeline),Ie(this,y.animation,I),I.currentTimeline.applyStylesToKeyframe(),Ee=Math.max(Ee,I.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(Ee),je&&(w.currentTimeline.mergeTimelineCollectedStyles(je),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=y}visitStagger(y,w){const O=w.parentContext,z=w.currentTimeline,oe=y.timings,Ee=Math.abs(oe.duration),we=Ee*(w.currentQueryTotal-1);let je=Ee*w.currentQueryIndex;switch(oe.duration<0?"reverse":oe.easing){case"reverse":je=we-je;break;case"full":je=O.currentStaggerTime}const jt=w.currentTimeline;je&&jt.delayNextStep(je);const I=jt.currentTime;Ie(this,y.animation,w),w.previousNode=y,O.currentStaggerTime=z.currentTime-I+(z.startTime-O.currentTimeline.startTime)}}const Gr={};class qs{constructor(y,w,O,z,oe,Ee,we,je){this._driver=y,this.element=w,this.subInstructions=O,this._enterClassName=z,this._leaveClassName=oe,this.errors=Ee,this.timelines=we,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=je||new gs(this._driver,w,0),we.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,w){if(!y)return;const O=y;let z=this.options;null!=O.duration&&(z.duration=Re(O.duration)),null!=O.delay&&(z.delay=Re(O.delay));const oe=O.params;if(oe){let Ee=z.params;Ee||(Ee=this.options.params={}),Object.keys(oe).forEach(we=>{(!w||!Ee.hasOwnProperty(we))&&(Ee[we]=Vn(oe[we],Ee,this.errors))})}}_copyOptions(){const y={};if(this.options){const w=this.options.params;if(w){const O=y.params={};Object.keys(w).forEach(z=>{O[z]=w[z]})}}return y}createSubContext(y=null,w,O){const z=w||this.element,oe=new qs(this._driver,z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(z,O||0));return oe.previousNode=this.previousNode,oe.currentAnimateTimings=this.currentAnimateTimings,oe.options=this._copyOptions(),oe.updateOptions(y),oe.currentQueryIndex=this.currentQueryIndex,oe.currentQueryTotal=this.currentQueryTotal,oe.parentContext=this,this.subContextCount++,oe}transformIntoNewTimeline(y){return this.previousNode=Gr,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,w,O){const z={duration:w??y.duration,delay:this.currentTimeline.currentTime+(O??0)+y.delay,easing:""},oe=new Ls(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,z,y.stretchStartingKeyframe);return this.timelines.push(oe),z}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,w,O,z,oe,Ee){let we=[];if(z&&we.push(this.element),y.length>0){y=(y=y.replace(Is,"."+this._enterClassName)).replace(mr,"."+this._leaveClassName);let Ye=this._driver.query(this.element,y,1!=O);0!==O&&(Ye=O<0?Ye.slice(Ye.length+O,Ye.length):Ye.slice(0,O)),we.push(...Ye)}return!oe&&0==we.length&&Ee.push(function $r(H){return new Z.vHH(3014,!1)}()),we}}class gs{constructor(y,w,O,z){this._driver=y,this.element=w,this.startTime=O,this._elementTimelineStylesLookup=z,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+y),w&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,w){return this.applyStylesToKeyframe(),new gs(this._driver,y,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,w){this._localTimelineStyles.set(y,w),this._globalTimelineStyles.set(y,w),this._styleSummary.set(y,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[w,O]of this._globalTimelineStyles)this._backFill.set(w,O||nt.l3),this._currentKeyframe.set(w,nt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,w,O,z){w&&this._previousKeyframe.set("easing",w);const oe=z&&z.params||{},Ee=function Vs(H,y){const w=new Map;let O;return H.forEach(z=>{if("*"===z){O=O||y.keys();for(let oe of O)w.set(oe,nt.l3)}else Yr(z,w)}),w}(y,this._globalTimelineStyles);for(let[we,je]of Ee){const Ye=Vn(je,oe,O);this._pendingStyles.set(we,Ye),this._localTimelineStyles.has(we)||this._backFill.set(we,this._globalTimelineStyles.get(we)??nt.l3),this._updateStyle(we,Ye)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,w)=>{this._currentKeyframe.set(w,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,y)}))}snapshotCurrentStyles(){for(let[y,w]of this._localTimelineStyles)this._pendingStyles.set(y,w),this._updateStyle(y,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let w in this._currentKeyframe)y.push(w);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((w,O)=>{const z=this._styleSummary.get(O);(!z||w.time>z.time)&&this._updateStyle(O,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,w=new Set,O=1===this._keyframes.size&&0===this.duration;let z=[];this._keyframes.forEach((we,je)=>{const Ye=Yr(we,new Map,this._backFill);Ye.forEach((jt,I)=>{jt===nt.k1?y.add(I):jt===nt.l3&&w.add(I)}),O||Ye.set("offset",je/this.duration),z.push(Ye)});const oe=y.size?Zi(y.values()):[],Ee=w.size?Zi(w.values()):[];if(O){const we=z[0],je=new Map(we);we.set("offset",0),je.set("offset",1),z=[we,je]}return Fs(this.element,z,oe,Ee,this.duration,this.startTime,this.easing,!1)}}class Ls extends gs{constructor(y,w,O,z,oe,Ee,we=!1){super(y,w,Ee.delay),this.keyframes=O,this.preStyleProps=z,this.postStyleProps=oe,this._stretchStartingKeyframe=we,this.timings={duration:Ee.duration,delay:Ee.delay,easing:Ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:w,duration:O,easing:z}=this.timings;if(this._stretchStartingKeyframe&&w){const oe=[],Ee=O+w,we=w/Ee,je=Yr(y[0]);je.set("offset",0),oe.push(je);const Ye=Yr(y[0]);Ye.set("offset",Bo(we)),oe.push(Ye);const jt=y.length-1;for(let I=1;I<=jt;I++){let q=Yr(y[I]);const R=q.get("offset");q.set("offset",Bo((w+R*O)/Ee)),oe.push(q)}O=Ee,w=0,z="",y=oe}return Fs(this.element,y,this.preStyleProps,this.postStyleProps,O,w,z,!0)}}function Bo(H,y=3){const w=Math.pow(10,y-1);return Math.round(H*w)/w}class Ft{}const dr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Mi extends Ft{normalizePropertyName(y,w){return Gi(y)}normalizeStyleValue(y,w,O,z){let oe="";const Ee=O.toString().trim();if(dr.has(w)&&0!==O&&"0"!==O)if("number"==typeof O)oe="px";else{const we=O.match(/^[+-]?[\d\.]+([a-z]*)$/);we&&0==we[1].length&&z.push(function at(H,y){return new Z.vHH(3005,!1)}())}return Ee+oe}}function Ws(H,y,w,O,z,oe,Ee,we,je,Ye,jt,I,q){return{type:0,element:H,triggerName:y,isRemovalTransition:z,fromState:w,fromStyles:oe,toState:O,toStyles:Ee,timelines:we,queriedElements:je,preStyleProps:Ye,postStyleProps:jt,totalTime:I,errors:q}}const ki={};class yi{constructor(y,w,O){this._triggerName=y,this.ast=w,this._stateStyles=O}match(y,w,O,z){return function us(H,y,w,O,z){return H.some(oe=>oe(y,w,O,z))}(this.ast.matchers,y,w,O,z)}buildStyles(y,w,O){let z=this._stateStyles.get("*");return void 0!==y&&(z=this._stateStyles.get(y?.toString())||z),z?z.buildStyles(w,O):new Map}build(y,w,O,z,oe,Ee,we,je,Ye,jt){const I=[],q=this.ast.options&&this.ast.options.params||ki,B=this.buildStyles(O,we&&we.params||ki,I),ae=je&&je.params||ki,Le=this.buildStyles(z,ae,I),rt=new Set,Ut=new Map,Qn=new Map,Xn="void"===z,vr={params:di(ae,q),delay:this.ast.options?.delay},xn=jt?[]:In(y,w,this.ast.animation,oe,Ee,B,Le,vr,Ye,I);let Jn=0;if(xn.forEach(oi=>{Jn=Math.max(oi.duration+oi.delay,Jn)}),I.length)return Ws(w,this._triggerName,O,z,Xn,B,Le,[],[],Ut,Qn,Jn,I);xn.forEach(oi=>{const Ni=oi.element,Ys=qt(Ut,Ni,new Set);oi.preStyleProps.forEach(Fr=>Ys.add(Fr));const kr=qt(Qn,Ni,new Set);oi.postStyleProps.forEach(Fr=>kr.add(Fr)),Ni!==w&&rt.add(Ni)});const or=Zi(rt.values());return Ws(w,this._triggerName,O,z,Xn,B,Le,xn,or,Ut,Qn,Jn)}}function di(H,y){const w=Lt(y);for(const O in H)H.hasOwnProperty(O)&&null!=H[O]&&(w[O]=H[O]);return w}class Tn{constructor(y,w,O){this.styles=y,this.defaultParams=w,this.normalizer=O}buildStyles(y,w){const O=new Map,z=Lt(this.defaultParams);return Object.keys(y).forEach(oe=>{const Ee=y[oe];null!==Ee&&(z[oe]=Ee)}),this.styles.styles.forEach(oe=>{"string"!=typeof oe&&oe.forEach((Ee,we)=>{Ee&&(Ee=Vn(Ee,z,w));const je=this.normalizer.normalizePropertyName(we,w);Ee=this.normalizer.normalizeStyleValue(we,je,Ee,w),O.set(we,Ee)})}),O}}class Us{constructor(y,w,O){this.name=y,this.ast=w,this._normalizer=O,this.transitionFactories=[],this.states=new Map,w.states.forEach(z=>{this.states.set(z.name,new Tn(z.style,z.options&&z.options.params||{},O))}),qr(this.states,"true","1"),qr(this.states,"false","0"),w.transitions.forEach(z=>{this.transitionFactories.push(new yi(y,z,this.states))}),this.fallbackTransition=function Bs(H,y,w){return new yi(H,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ee,we)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,w,O,z){return this.transitionFactories.find(Ee=>Ee.match(y,w,O,z))||null}matchStyles(y,w,O){return this.fallbackTransition.buildStyles(y,w,O)}}function qr(H,y,w){H.has(y)?H.has(w)||H.set(w,H.get(y)):H.has(w)&&H.set(y,H.get(w))}const Ks=new wo;class Fi{constructor(y,w,O){this.bodyNode=y,this._driver=w,this._normalizer=O,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,w){const O=[],oe=Os(this._driver,w,O,[]);if(O.length)throw function Tr(H){return new Z.vHH(3503,!1)}();this._animations.set(y,oe)}_buildPlayer(y,w,O){const z=y.element,oe=Si(this._normalizer,y.keyframes,w,O);return this._driver.animate(z,oe,y.duration,y.delay,y.easing,[],!0)}create(y,w,O={}){const z=[],oe=this._animations.get(y);let Ee;const we=new Map;if(oe?(Ee=In(this._driver,w,oe,gn,Zn,new Map,new Map,O,Ks,z),Ee.forEach(jt=>{const I=qt(we,jt.element,new Map);jt.postStyleProps.forEach(q=>I.set(q,null))})):(z.push(function Sn(){return new Z.vHH(3300,!1)}()),Ee=[]),z.length)throw function bn(H){return new Z.vHH(3504,!1)}();we.forEach((jt,I)=>{jt.forEach((q,R)=>{jt.set(R,this._driver.computeStyle(I,R,nt.l3))})});const Ye=ri(Ee.map(jt=>{const I=we.get(jt.element);return this._buildPlayer(jt,new Map,I)}));return this._playersById.set(y,Ye),Ye.onDestroy(()=>this.destroy(y)),this.players.push(Ye),Ye}destroy(y){const w=this._getPlayer(y);w.destroy(),this._playersById.delete(y);const O=this.players.indexOf(w);O>=0&&this.players.splice(O,1)}_getPlayer(y){const w=this._playersById.get(y);if(!w)throw function fr(H){return new Z.vHH(3301,!1)}();return w}listen(y,w,O,z){const oe=Cr(w,"","","");return zr(this._getPlayer(y),O,oe,z),()=>{}}command(y,w,O,z){if("register"==O)return void this.register(y,z[0]);if("create"==O)return void this.create(y,w,z[0]||{});const oe=this._getPlayer(y);switch(O){case"play":oe.play();break;case"pause":oe.pause();break;case"reset":oe.reset();break;case"restart":oe.restart();break;case"finish":oe.finish();break;case"init":oe.init();break;case"setPosition":oe.setPosition(parseFloat(z[0]));break;case"destroy":this.destroy(y)}}}const Wi="ng-animate-queued",jo="ng-animate-disabled",js=[],$n={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$o={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ur="__ng_removed";class vs{get params(){return this.options.params}constructor(y,w=""){this.namespaceId=w;const O=y&&y.hasOwnProperty("value");if(this.value=function xi(H){return H??null}(O?y.value:y),O){const oe=Lt(y);delete oe.value,this.options=oe}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const w=y.params;if(w){const O=this.options.params;Object.keys(w).forEach(z=>{null==O[z]&&(O[z]=w[z])})}}}const ei="void",Wr=new vs(ei);class ts{constructor(y,w,O){this.id=y,this.hostElement=w,this._engine=O,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Se(w,this._hostClassName)}listen(y,w,O,z){if(!this._triggers.has(w))throw function Hr(H,y){return new Z.vHH(3302,!1)}();if(null==O||0==O.length)throw function ui(H){return new Z.vHH(3303,!1)}();if(!function G(H){return"start"==H||"done"==H}(O))throw function Fn(H,y){return new Z.vHH(3400,!1)}();const oe=qt(this._elementListeners,y,[]),Ee={name:w,phase:O,callback:z};oe.push(Ee);const we=qt(this._engine.statesByElement,y,new Map);return we.has(w)||(Se(y,Sr),Se(y,Sr+"-"+w),we.set(w,Wr)),()=>{this._engine.afterFlush(()=>{const je=oe.indexOf(Ee);je>=0&&oe.splice(je,1),this._triggers.has(w)||we.delete(w)})}}register(y,w){return!this._triggers.has(y)&&(this._triggers.set(y,w),!0)}_getTrigger(y){const w=this._triggers.get(y);if(!w)throw function Ir(H){return new Z.vHH(3401,!1)}();return w}trigger(y,w,O,z=!0){const oe=this._getTrigger(w),Ee=new _i(this.id,w,y);let we=this._engine.statesByElement.get(y);we||(Se(y,Sr),Se(y,Sr+"-"+w),this._engine.statesByElement.set(y,we=new Map));let je=we.get(w);const Ye=new vs(O,this.id);if(!(O&&O.hasOwnProperty("value"))&&je&&Ye.absorbOptions(je.options),we.set(w,Ye),je||(je=Wr),Ye.value!==ei&&je.value===Ye.value){if(!function he(H,y){const w=Object.keys(H),O=Object.keys(y);if(w.length!=O.length)return!1;for(let z=0;z<w.length;z++){const oe=w[z];if(!y.hasOwnProperty(oe)||H[oe]!==y[oe])return!1}return!0}(je.params,Ye.params)){const ae=[],Le=oe.matchStyles(je.value,je.params,ae),rt=oe.matchStyles(Ye.value,Ye.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{Ai(y,Le),Di(y,rt)})}return}const q=qt(this._engine.playersByElement,y,[]);q.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==w&&ae.queued&&ae.destroy()});let R=oe.matchTransition(je.value,Ye.value,y,Ye.params),B=!1;if(!R){if(!z)return;R=oe.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:w,transition:R,fromState:je,toState:Ye,player:Ee,isFallbackTransition:B}),B||(Se(y,Wi),Ee.onStart(()=>{P(y,Wi)})),Ee.onDone(()=>{let ae=this.players.indexOf(Ee);ae>=0&&this.players.splice(ae,1);const Le=this._engine.playersByElement.get(y);if(Le){let rt=Le.indexOf(Ee);rt>=0&&Le.splice(rt,1)}}),this.players.push(Ee),q.push(Ee),Ee}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(w=>w.delete(y)),this._elementListeners.forEach((w,O)=>{this._elementListeners.set(O,w.filter(z=>z.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const w=this._engine.playersByElement.get(y);w&&(w.forEach(O=>O.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,w){const O=this._engine.driver.query(y,li,!0);O.forEach(z=>{if(z[Ur])return;const oe=this._engine.fetchNamespacesByElement(z);oe.size?oe.forEach(Ee=>Ee.triggerLeaveAnimation(z,w,!1,!0)):this.clearElementCache(z)}),this._engine.afterFlushAnimationsDone(()=>O.forEach(z=>this.clearElementCache(z)))}triggerLeaveAnimation(y,w,O,z){const oe=this._engine.statesByElement.get(y),Ee=new Map;if(oe){const we=[];if(oe.forEach((je,Ye)=>{if(Ee.set(Ye,je.value),this._triggers.has(Ye)){const jt=this.trigger(y,Ye,ei,z);jt&&we.push(jt)}}),we.length)return this._engine.markElementAsRemoved(this.id,y,!0,w,Ee),O&&ri(we).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const w=this._elementListeners.get(y),O=this._engine.statesByElement.get(y);if(w&&O){const z=new Set;w.forEach(oe=>{const Ee=oe.name;if(z.has(Ee))return;z.add(Ee);const je=this._triggers.get(Ee).fallbackTransition,Ye=O.get(Ee)||Wr,jt=new vs(ei),I=new _i(this.id,Ee,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Ee,transition:je,fromState:Ye,toState:jt,player:I,isFallbackTransition:!0})})}}removeNode(y,w){const O=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,w),this.triggerLeaveAnimation(y,w,!0))return;let z=!1;if(O.totalAnimations){const oe=O.players.length?O.playersByQueriedElement.get(y):[];if(oe&&oe.length)z=!0;else{let Ee=y;for(;Ee=Ee.parentNode;)if(O.statesByElement.get(Ee)){z=!0;break}}}if(this.prepareLeaveAnimationListeners(y),z)O.markElementAsRemoved(this.id,y,!1,w);else{const oe=y[Ur];(!oe||oe===$n)&&(O.afterFlush(()=>this.clearElementCache(y)),O.destroyInnerAnimations(y),O._onRemovalComplete(y,w))}}insertNode(y,w){Se(y,this._hostClassName)}drainQueuedTransitions(y){const w=[];return this._queue.forEach(O=>{const z=O.player;if(z.destroyed)return;const oe=O.element,Ee=this._elementListeners.get(oe);Ee&&Ee.forEach(we=>{if(we.name==O.triggerName){const je=Cr(oe,O.triggerName,O.fromState.value,O.toState.value);je._data=y,zr(O.player,we.phase,je,we.callback)}}),z.markedForDestroy?this._engine.afterFlush(()=>{z.destroy()}):w.push(O)}),this._queue=[],w.sort((O,z)=>{const oe=O.transition.ast.depCount,Ee=z.transition.ast.depCount;return 0==oe||0==Ee?oe-Ee:this._engine.driver.containsElement(O.element,z.element)?1:-1})}destroy(y){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class uo{_onRemovalComplete(y,w){this.onRemovalComplete(y,w)}constructor(y,w,O){this.bodyNode=y,this.driver=w,this._normalizer=O,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(z,oe)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(w=>{w.players.forEach(O=>{O.queued&&y.push(O)})}),y}createNamespace(y,w){const O=new ts(y,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(O,w):(this.newHostElements.set(w,O),this.collectEnterElement(w)),this._namespaceLookup[y]=O}_balanceNamespaceList(y,w){const O=this._namespaceList,z=this.namespacesByHostElement;if(O.length-1>=0){let Ee=!1,we=this.driver.getParentElement(w);for(;we;){const je=z.get(we);if(je){const Ye=O.indexOf(je);O.splice(Ye+1,0,y),Ee=!0;break}we=this.driver.getParentElement(we)}Ee||O.unshift(y)}else O.push(y);return z.set(w,y),y}register(y,w){let O=this._namespaceLookup[y];return O||(O=this.createNamespace(y,w)),O}registerTrigger(y,w,O){let z=this._namespaceLookup[y];z&&z.register(w,O)&&this.totalAnimations++}destroy(y,w){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const O=this._fetchNamespace(y);this.namespacesByHostElement.delete(O.hostElement);const z=this._namespaceList.indexOf(O);z>=0&&this._namespaceList.splice(z,1),O.destroy(w),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const w=new Set,O=this.statesByElement.get(y);if(O)for(let z of O.values())if(z.namespaceId){const oe=this._fetchNamespace(z.namespaceId);oe&&w.add(oe)}return w}trigger(y,w,O,z){if(hi(w)){const oe=this._fetchNamespace(y);if(oe)return oe.trigger(w,O,z),!0}return!1}insertNode(y,w,O,z){if(!hi(w))return;const oe=w[Ur];if(oe&&oe.setForRemoval){oe.setForRemoval=!1,oe.setForMove=!0;const Ee=this.collectedLeaveElements.indexOf(w);Ee>=0&&this.collectedLeaveElements.splice(Ee,1)}if(y){const Ee=this._fetchNamespace(y);Ee&&Ee.insertNode(w,O)}z&&this.collectEnterElement(w)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,w){w?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Se(y,jo)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),P(y,jo))}removeNode(y,w,O){if(hi(w)){const z=y?this._fetchNamespace(y):null;z?z.removeNode(w,O):this.markElementAsRemoved(y,w,!1,O);const oe=this.namespacesByHostElement.get(w);oe&&oe.id!==y&&oe.removeNode(w,O)}else this._onRemovalComplete(w,O)}markElementAsRemoved(y,w,O,z,oe){this.collectedLeaveElements.push(w),w[Ur]={namespaceId:y,setForRemoval:z,hasAnimation:O,removedBeforeQueried:!1,previousTriggersValues:oe}}listen(y,w,O,z,oe){return hi(w)?this._fetchNamespace(y).listen(w,O,z,oe):()=>{}}_buildInstruction(y,w,O,z,oe){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,O,z,y.fromState.options,y.toState.options,w,oe)}destroyInnerAnimations(y){let w=this.driver.query(y,li,!0);w.forEach(O=>this.destroyActiveAnimationsForElement(O)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(y,Ke,!0),w.forEach(O=>this.finishActiveQueriedAnimationOnElement(O)))}destroyActiveAnimationsForElement(y){const w=this.playersByElement.get(y);w&&w.forEach(O=>{O.queued?O.markedForDestroy=!0:O.destroy()})}finishActiveQueriedAnimationOnElement(y){const w=this.playersByQueriedElement.get(y);w&&w.forEach(O=>O.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return ri(this.players).onDone(()=>y());y()})}processLeaveNode(y){const w=y[Ur];if(w&&w.setForRemoval){if(y[Ur]=$n,w.namespaceId){this.destroyInnerAnimations(y);const O=this._fetchNamespace(w.namespaceId);O&&O.clearElementCache(y)}this._onRemovalComplete(y,w.setForRemoval)}y.classList?.contains(jo)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(O=>{this.markElementAsDisabled(O,!1)})}flush(y=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((O,z)=>this._balanceNamespaceList(O,z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let O=0;O<this.collectedEnterElements.length;O++)Se(this.collectedEnterElements[O],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const O=[];try{w=this._flushAnimations(O,y)}finally{for(let z=0;z<O.length;z++)O[z]()}}else for(let O=0;O<this.collectedLeaveElements.length;O++)this.processLeaveNode(this.collectedLeaveElements[O]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(O=>O()),this._flushFns=[],this._whenQuietFns.length){const O=this._whenQuietFns;this._whenQuietFns=[],w.length?ri(w).onDone(()=>{O.forEach(z=>z())}):O.forEach(z=>z())}}reportError(y){throw function ci(H){return new Z.vHH(3402,!1)}()}_flushAnimations(y,w){const O=new wo,z=[],oe=new Map,Ee=[],we=new Map,je=new Map,Ye=new Map,jt=new Set;this.disabledNodes.forEach(rn=>{jt.add(rn);const We=this.driver.query(rn,".ng-animate-queued",!0);for(let Yt=0;Yt<We.length;Yt++)jt.add(We[Yt])});const I=this.bodyNode,q=Array.from(this.statesByElement.keys()),R=ge(q,this.collectedEnterElements),B=new Map;let ae=0;R.forEach((rn,We)=>{const Yt=gn+ae++;B.set(We,Yt),rn.forEach(Hn=>Se(Hn,Yt))});const Le=[],rt=new Set,Ut=new Set;for(let rn=0;rn<this.collectedLeaveElements.length;rn++){const We=this.collectedLeaveElements[rn],Yt=We[Ur];Yt&&Yt.setForRemoval&&(Le.push(We),rt.add(We),Yt.hasAnimation?this.driver.query(We,".ng-star-inserted",!0).forEach(Hn=>rt.add(Hn)):Ut.add(We))}const Qn=new Map,Xn=ge(q,Array.from(rt));Xn.forEach((rn,We)=>{const Yt=Zn+ae++;Qn.set(We,Yt),rn.forEach(Hn=>Se(Hn,Yt))}),y.push(()=>{R.forEach((rn,We)=>{const Yt=B.get(We);rn.forEach(Hn=>P(Hn,Yt))}),Xn.forEach((rn,We)=>{const Yt=Qn.get(We);rn.forEach(Hn=>P(Hn,Yt))}),Le.forEach(rn=>{this.processLeaveNode(rn)})});const vr=[],xn=[];for(let rn=this._namespaceList.length-1;rn>=0;rn--)this._namespaceList[rn].drainQueuedTransitions(w).forEach(Yt=>{const Hn=Yt.player,Vi=Yt.element;if(vr.push(Hn),this.collectedEnterElements.length){const xr=Vi[Ur];if(xr&&xr.setForMove){if(xr.previousTriggersValues&&xr.previousTriggersValues.has(Yt.triggerName)){const Qo=xr.previousTriggersValues.get(Yt.triggerName),Un=this.statesByElement.get(Yt.element);if(Un&&Un.has(Yt.triggerName)){const Xo=Un.get(Yt.triggerName);Xo.value=Qo,Un.set(Yt.triggerName,Xo)}}return void Hn.destroy()}}const Gt=!I||!this.driver.containsElement(I,Vi),Wt=Qn.get(Vi),Co=B.get(Vi),wt=this._buildInstruction(Yt,O,Co,Wt,Gt);if(wt.errors&&wt.errors.length)return void xn.push(wt);if(Gt)return Hn.onStart(()=>Ai(Vi,wt.fromStyles)),Hn.onDestroy(()=>Di(Vi,wt.toStyles)),void z.push(Hn);if(Yt.isFallbackTransition)return Hn.onStart(()=>Ai(Vi,wt.fromStyles)),Hn.onDestroy(()=>Di(Vi,wt.toStyles)),void z.push(Hn);const Ze=[];wt.timelines.forEach(xr=>{xr.stretchStartingKeyframe=!0,this.disabledNodes.has(xr.element)||Ze.push(xr)}),wt.timelines=Ze,O.append(Vi,wt.timelines),Ee.push({instruction:wt,player:Hn,element:Vi}),wt.queriedElements.forEach(xr=>qt(we,xr,[]).push(Hn)),wt.preStyleProps.forEach((xr,Qo)=>{if(xr.size){let Un=je.get(Qo);Un||je.set(Qo,Un=new Set),xr.forEach((Xo,xa)=>Un.add(xa))}}),wt.postStyleProps.forEach((xr,Qo)=>{let Un=Ye.get(Qo);Un||Ye.set(Qo,Un=new Set),xr.forEach((Xo,xa)=>Un.add(xa))})});if(xn.length){const rn=[];xn.forEach(We=>{rn.push(function Xi(H,y){return new Z.vHH(3505,!1)}())}),vr.forEach(We=>We.destroy()),this.reportError(rn)}const Jn=new Map,or=new Map;Ee.forEach(rn=>{const We=rn.element;O.has(We)&&(or.set(We,We),this._beforeAnimationBuild(rn.player.namespaceId,rn.instruction,Jn))}),z.forEach(rn=>{const We=rn.element;this._getPreviousPlayers(We,!1,rn.namespaceId,rn.triggerName,null).forEach(Hn=>{qt(Jn,We,[]).push(Hn),Hn.destroy()})});const oi=Le.filter(rn=>_t(rn,je,Ye)),Ni=new Map;ue(Ni,this.driver,Ut,Ye,nt.l3).forEach(rn=>{_t(rn,je,Ye)&&oi.push(rn)});const kr=new Map;R.forEach((rn,We)=>{ue(kr,this.driver,new Set(rn),je,nt.k1)}),oi.forEach(rn=>{const We=Ni.get(rn),Yt=kr.get(rn);Ni.set(rn,new Map([...We?.entries()??[],...Yt?.entries()??[]]))});const Fr=[],Hi=[],To={};Ee.forEach(rn=>{const{element:We,player:Yt,instruction:Hn}=rn;if(O.has(We)){if(jt.has(We))return Yt.onDestroy(()=>Di(We,Hn.toStyles)),Yt.disabled=!0,Yt.overrideTotalTime(Hn.totalTime),void z.push(Yt);let Vi=To;if(or.size>1){let Wt=We;const Co=[];for(;Wt=Wt.parentNode;){const wt=or.get(Wt);if(wt){Vi=wt;break}Co.push(Wt)}Co.forEach(wt=>or.set(wt,Vi))}const Gt=this._buildAnimation(Yt.namespaceId,Hn,Jn,oe,kr,Ni);if(Yt.setRealPlayer(Gt),Vi===To)Fr.push(Yt);else{const Wt=this.playersByElement.get(Vi);Wt&&Wt.length&&(Yt.parentPlayer=ri(Wt)),z.push(Yt)}}else Ai(We,Hn.fromStyles),Yt.onDestroy(()=>Di(We,Hn.toStyles)),Hi.push(Yt),jt.has(We)&&z.push(Yt)}),Hi.forEach(rn=>{const We=oe.get(rn.element);if(We&&We.length){const Yt=ri(We);rn.setRealPlayer(Yt)}}),z.forEach(rn=>{rn.parentPlayer?rn.syncPlayerEvents(rn.parentPlayer):rn.destroy()});for(let rn=0;rn<Le.length;rn++){const We=Le[rn],Yt=We[Ur];if(P(We,Zn),Yt&&Yt.hasAnimation)continue;let Hn=[];if(we.size){let Gt=we.get(We);Gt&&Gt.length&&Hn.push(...Gt);let Wt=this.driver.query(We,Ke,!0);for(let Co=0;Co<Wt.length;Co++){let wt=we.get(Wt[Co]);wt&&wt.length&&Hn.push(...wt)}}const Vi=Hn.filter(Gt=>!Gt.destroyed);Vi.length?F(this,We,Vi):this.processLeaveNode(We)}return Le.length=0,Fr.forEach(rn=>{this.players.push(rn),rn.onDone(()=>{rn.destroy();const We=this.players.indexOf(rn);this.players.splice(We,1)}),rn.play()}),Fr}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,w,O,z,oe){let Ee=[];if(w){const we=this.playersByQueriedElement.get(y);we&&(Ee=we)}else{const we=this.playersByElement.get(y);if(we){const je=!oe||oe==ei;we.forEach(Ye=>{Ye.queued||!je&&Ye.triggerName!=z||Ee.push(Ye)})}}return(O||z)&&(Ee=Ee.filter(we=>!(O&&O!=we.namespaceId||z&&z!=we.triggerName))),Ee}_beforeAnimationBuild(y,w,O){const oe=w.element,Ee=w.isRemovalTransition?void 0:y,we=w.isRemovalTransition?void 0:w.triggerName;for(const je of w.timelines){const Ye=je.element,jt=Ye!==oe,I=qt(O,Ye,[]);this._getPreviousPlayers(Ye,jt,Ee,we,w.toState).forEach(R=>{const B=R.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),R.destroy(),I.push(R)})}Ai(oe,w.fromStyles)}_buildAnimation(y,w,O,z,oe,Ee){const we=w.triggerName,je=w.element,Ye=[],jt=new Set,I=new Set,q=w.timelines.map(B=>{const ae=B.element;jt.add(ae);const Le=ae[Ur];if(Le&&Le.removedBeforeQueried)return new nt.ZN(B.duration,B.delay);const rt=ae!==je,Ut=function x(H){const y=[];return W(H,y),y}((O.get(ae)||js).map(Jn=>Jn.getRealPlayer())).filter(Jn=>!!Jn.element&&Jn.element===ae),Qn=oe.get(ae),Xn=Ee.get(ae),vr=Si(this._normalizer,B.keyframes,Qn,Xn),xn=this._buildPlayer(B,vr,Ut);if(B.subTimeline&&z&&I.add(ae),rt){const Jn=new _i(y,we,ae);Jn.setRealPlayer(xn),Ye.push(Jn)}return xn});Ye.forEach(B=>{qt(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function Ho(H,y,w){let O=H.get(y);if(O){if(O.length){const z=O.indexOf(w);O.splice(z,1)}0==O.length&&H.delete(y)}return O}(this.playersByQueriedElement,B.element,B))}),jt.forEach(B=>Se(B,Ii));const R=ri(q);return R.onDestroy(()=>{jt.forEach(B=>P(B,Ii)),Di(je,w.toStyles)}),I.forEach(B=>{qt(z,B,[]).push(R)}),R}_buildPlayer(y,w,O){return w.length>0?this.driver.animate(y.element,w,y.duration,y.delay,y.easing,O):new nt.ZN(y.duration,y.delay)}}class _i{constructor(y,w,O){this.namespaceId=y,this.triggerName=w,this.element=O,this._player=new nt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((w,O)=>{w.forEach(z=>zr(y,O,void 0,z))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const w=this._player;w.triggerCallback&&y.onStart(()=>w.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,w){qt(this._queuedCallbacks,y,[]).push(w)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const w=this._player;w.triggerCallback&&w.triggerCallback(y)}}function hi(H){return H&&1===H.nodeType}function $(H,y){const w=H.style.display;return H.style.display=y??"none",w}function ue(H,y,w,O,z){const oe=[];w.forEach(je=>oe.push($(je)));const Ee=[];O.forEach((je,Ye)=>{const jt=new Map;je.forEach(I=>{const q=y.computeStyle(Ye,I,z);jt.set(I,q),(!q||0==q.length)&&(Ye[Ur]=$o,Ee.push(Ye))}),H.set(Ye,jt)});let we=0;return w.forEach(je=>$(je,oe[we++])),Ee}function ge(H,y){const w=new Map;if(H.forEach(we=>w.set(we,[])),0==y.length)return w;const z=new Set(y),oe=new Map;function Ee(we){if(!we)return 1;let je=oe.get(we);if(je)return je;const Ye=we.parentNode;return je=w.has(Ye)?Ye:z.has(Ye)?1:Ee(Ye),oe.set(we,je),je}return y.forEach(we=>{const je=Ee(we);1!==je&&w.get(je).push(we)}),w}function Se(H,y){H.classList?.add(y)}function P(H,y){H.classList?.remove(y)}function F(H,y,w){ri(w).onDone(()=>H.processLeaveNode(y))}function W(H,y){for(let w=0;w<H.length;w++){const O=H[w];O instanceof nt.ZE?W(O.players,y):y.push(O)}}function _t(H,y,w){const O=w.get(H);if(!O)return!1;let z=y.get(H);return z?O.forEach(oe=>z.add(oe)):y.set(H,O),w.delete(H),!0}class Zt{constructor(y,w,O){this.bodyNode=y,this._driver=w,this._normalizer=O,this._triggerCache={},this.onRemovalComplete=(z,oe)=>{},this._transitionEngine=new uo(y,w,O),this._timelineEngine=new Fi(y,w,O),this._transitionEngine.onRemovalComplete=(z,oe)=>this.onRemovalComplete(z,oe)}registerTrigger(y,w,O,z,oe){const Ee=y+"-"+z;let we=this._triggerCache[Ee];if(!we){const je=[],jt=Os(this._driver,oe,je,[]);if(je.length)throw function fi(H,y){return new Z.vHH(3404,!1)}();we=function ms(H,y,w){return new Us(H,y,w)}(z,jt,this._normalizer),this._triggerCache[Ee]=we}this._transitionEngine.registerTrigger(w,z,we)}register(y,w){this._transitionEngine.register(y,w)}destroy(y,w){this._transitionEngine.destroy(y,w)}onInsert(y,w,O,z){this._transitionEngine.insertNode(y,w,O,z)}onRemove(y,w,O){this._transitionEngine.removeNode(y,w,O)}disableAnimations(y,w){this._transitionEngine.markElementAsDisabled(y,w)}process(y,w,O,z){if("@"==O.charAt(0)){const[oe,Ee]=gi(O);this._timelineEngine.command(oe,w,Ee,z)}else this._transitionEngine.trigger(y,w,O,z)}listen(y,w,O,z,oe){if("@"==O.charAt(0)){const[Ee,we]=gi(O);return this._timelineEngine.listen(Ee,w,we,oe)}return this._transitionEngine.listen(y,w,O,z,oe)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}let Br=(()=>{class H{static#e=this.initialStylesByElement=new WeakMap;constructor(w,O,z){this._element=w,this._startStyles=O,this._endStyles=z,this._state=0;let oe=H.initialStylesByElement.get(w);oe||H.initialStylesByElement.set(w,oe=new Map),this._initialStyles=oe}start(){this._state<1&&(this._startStyles&&Di(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Di(this._element,this._initialStyles),this._endStyles&&(Di(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(H.initialStylesByElement.delete(this._element),this._startStyles&&(Ai(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ai(this._element,this._endStyles),this._endStyles=null),Di(this._element,this._initialStyles),this._state=3)}}return H})();function Or(H){let y=null;return H.forEach((w,O)=>{(function Li(H){return"display"===H||"position"===H})(O)&&(y=y||new Map,y.set(O,w))}),y}class Er{constructor(y,w,O,z){this.element=y,this.keyframes=w,this.options=O,this._specialStyles=z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=O.duration,this._delay=O.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const w=[];return y.forEach(O=>{w.push(Object.fromEntries(O))}),w}_triggerWebAnimation(y,w,O){return y.animate(this._convertKeyframesToObject(w),O)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((O,z)=>{"offset"!==z&&y.set(z,this._finished?O:Te(this.element,z))}),this.currentSnapshot=y}triggerCallback(y){const w="start"===y?this._onStartFns:this._onDoneFns;w.forEach(O=>O()),w.length=0}}class ns{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,w){return!1}containsElement(y,w){return te(y,w)}getParentElement(y){return ln(y)}query(y,w,O){return re(y,w,O)}computeStyle(y,w,O){return window.getComputedStyle(y)[w]}animate(y,w,O,z,oe,Ee=[]){const je={duration:O,delay:z,fill:0==z?"both":"forwards"};oe&&(je.easing=oe);const Ye=new Map,jt=Ee.filter(R=>R instanceof Er);(function Oi(H,y){return 0===H||0===y})(O,z)&&jt.forEach(R=>{R.currentSnapshot.forEach((B,ae)=>Ye.set(ae,B))});let I=function ii(H){return H.length?H[0]instanceof Map?H:H.map(y=>On(y)):[]}(w).map(R=>Yr(R));I=function Rs(H,y,w){if(w.size&&y.length){let O=y[0],z=[];if(w.forEach((oe,Ee)=>{O.has(Ee)||z.push(Ee),O.set(Ee,oe)}),z.length)for(let oe=1;oe<y.length;oe++){let Ee=y[oe];z.forEach(we=>Ee.set(we,Te(H,we)))}}return y}(y,I,Ye);const q=function yr(H,y){let w=null,O=null;return Array.isArray(y)&&y.length?(w=Or(y[0]),y.length>1&&(O=Or(y[y.length-1]))):y instanceof Map&&(w=Or(y)),w||O?new Br(H,w,O):null}(y,I);return new Er(y,I,je,q)}}let ti=(()=>{class H extends nt._j{constructor(w,O){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(O.body,{id:"0",encapsulation:Z.ifc.None,styles:[],data:{animation:[]}})}build(w){const O=this._nextAnimationId.toString();this._nextAnimationId++;const z=Array.isArray(w)?(0,nt.vP)(w):w;return co(this._renderer,null,O,"register",[z]),new Ki(O,this._renderer)}static#e=this.\u0275fac=function(O){return new(O||H)(Z.LFG(Z.FYo),Z.LFG(Xe.K0))};static#t=this.\u0275prov=Z.Yz7({token:H,factory:H.\u0275fac})}return H})();class Ki extends nt.LC{constructor(y,w){super(),this._id=y,this._renderer=w}create(y,w){return new Ci(this._id,y,w||{},this._renderer)}}class Ci{constructor(y,w,O,z){this.id=y,this.element=w,this._renderer=z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",O)}_listen(y,w){return this._renderer.listen(this.element,`@@${this.id}:${y}`,w)}_command(y,...w){return co(this._renderer,this.element,this.id,y,w)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function co(H,y,w,O,z){return H.setProperty(y,`@@${w}:${O}`,z)}const Io="@.disabled";let lo=(()=>{class H{constructor(w,O,z){this.delegate=w,this.engine=O,this._zone=z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,O.onRemovalComplete=(oe,Ee)=>{const we=Ee?.parentNode(oe);we&&Ee.removeChild(we,oe)}}createRenderer(w,O){const oe=this.delegate.createRenderer(w,O);if(!(w&&O&&O.data&&O.data.animation)){let jt=this._rendererCache.get(oe);return jt||(jt=new ho("",oe,this.engine,()=>this._rendererCache.delete(oe)),this._rendererCache.set(oe,jt)),jt}const Ee=O.id,we=O.id+"-"+this._currentId;this._currentId++,this.engine.register(we,w);const je=jt=>{Array.isArray(jt)?jt.forEach(je):this.engine.registerTrigger(Ee,we,w,jt.name,jt)};return O.data.animation.forEach(je),new Zo(this,we,oe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(w,O,z){w>=0&&w<this._microtaskId?this._zone.run(()=>O(z)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(oe=>{const[Ee,we]=oe;Ee(we)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([O,z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(O){return new(O||H)(Z.LFG(Z.FYo),Z.LFG(Zt),Z.LFG(Z.R0b))};static#t=this.\u0275prov=Z.Yz7({token:H,factory:H.\u0275fac})}return H})();class ho{constructor(y,w,O,z){this.namespaceId=y,this.delegate=w,this.engine=O,this._onDestroy=z}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,w){return this.delegate.createElement(y,w)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,w){this.delegate.appendChild(y,w),this.engine.onInsert(this.namespaceId,w,y,!1)}insertBefore(y,w,O,z=!0){this.delegate.insertBefore(y,w,O),this.engine.onInsert(this.namespaceId,w,y,z)}removeChild(y,w,O){this.engine.onRemove(this.namespaceId,w,this.delegate)}selectRootElement(y,w){return this.delegate.selectRootElement(y,w)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,w,O,z){this.delegate.setAttribute(y,w,O,z)}removeAttribute(y,w,O){this.delegate.removeAttribute(y,w,O)}addClass(y,w){this.delegate.addClass(y,w)}removeClass(y,w){this.delegate.removeClass(y,w)}setStyle(y,w,O,z){this.delegate.setStyle(y,w,O,z)}removeStyle(y,w,O){this.delegate.removeStyle(y,w,O)}setProperty(y,w,O){"@"==w.charAt(0)&&w==Io?this.disableAnimations(y,!!O):this.delegate.setProperty(y,w,O)}setValue(y,w){this.delegate.setValue(y,w)}listen(y,w,O){return this.delegate.listen(y,w,O)}disableAnimations(y,w){this.engine.disableAnimations(y,w)}}class Zo extends ho{constructor(y,w,O,z,oe){super(w,O,z,oe),this.factory=y,this.namespaceId=w}setProperty(y,w,O){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Io?this.disableAnimations(y,O=void 0===O||!!O):this.engine.process(this.namespaceId,y,w.slice(1),O):this.delegate.setProperty(y,w,O)}listen(y,w,O){if("@"==w.charAt(0)){const z=function Do(H){switch(H){case"body":return document.body;case"document":return document;case"window":return window;default:return H}}(y);let oe=w.slice(1),Ee="";return"@"!=oe.charAt(0)&&([oe,Ee]=function Zs(H){const y=H.indexOf(".");return[H.substring(0,y),H.slice(y+1)]}(oe)),this.engine.listen(this.namespaceId,z,oe,Ee,we=>{this.factory.scheduleListenerCallback(we._data||-1,O,we)})}return this.delegate.listen(y,w,O)}}const bo=[{provide:nt._j,useClass:ti},{provide:Ft,useFactory:function _a(){return new Mi}},{provide:Zt,useClass:(()=>{class H extends Zt{constructor(w,O,z,oe){super(w.body,O,z)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(O){return new(O||H)(Z.LFG(Xe.K0),Z.LFG(Nt),Z.LFG(Ft),Z.LFG(Z.z2F))};static#t=this.\u0275prov=Z.Yz7({token:H,factory:H.\u0275fac})}return H})()},{provide:Z.FYo,useFactory:function Mr(H,y,w){return new lo(H,y,w)},deps:[v.se,Zt,Z.R0b]}],ls=[{provide:Nt,useFactory:()=>new ns},{provide:Z.QbO,useValue:"BrowserAnimations"},...bo],fo=[{provide:Nt,useClass:ht},{provide:Z.QbO,useValue:"NoopAnimations"},...bo];let Ea=(()=>{class H{static withConfig(w){return{ngModule:H,providers:w.disableAnimations?fo:ls}}static#e=this.\u0275fac=function(O){return new(O||H)};static#t=this.\u0275mod=Z.oAB({type:H});static#n=this.\u0275inj=Z.cJS({providers:ls,imports:[v.b2]})}return H})(),wa=(()=>{class H{static#e=this.\u0275fac=function(O){return new(O||H)};static#t=this.\u0275mod=Z.oAB({type:H,bootstrap:[gt]});static#n=this.\u0275inj=Z.cJS({imports:[(0,lt.hX)(()=>(0,lt.ZF)(Xr_firebase)),v.b2,Ea,fe,Tt.u5,(0,tr.AR)(()=>(0,tr.v0)()),(0,mt.Cm)(()=>(0,mt.ad)()),(0,kn.Vq)(()=>(0,kn.cF)())]})}return H})();v.q6().bootstrapModule(wa).catch(H=>console.error(H))},5619:(Dn,dt,X)=>{X.d(dt,{X:()=>pe});var v=X(8645);class pe extends v.x{constructor(Oe){super(),this._value=Oe}get value(){return this.getValue()}_subscribe(Oe){const Ae=super._subscribe(Oe);return!Ae.closed&&Oe.next(this._value),Ae}getValue(){const{hasError:Oe,thrownError:Ae,_value:ce}=this;if(Oe)throw Ae;return this._throwIfClosed(),ce}next(Oe){super.next(this._value=Oe)}}},5592:(Dn,dt,X)=>{X.d(dt,{y:()=>Xe});var v=X(305),pe=X(7394),Z=X(4850),Oe=X(8407),Ae=X(2653),ce=X(4674),fe=X(1441);let Xe=(()=>{class qe{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Mt=new qe;return Mt.source=this,Mt.operator=Me,Mt}subscribe(Me,Mt,pt){const Pt=function me(qe){return qe&&qe instanceof v.Lv||function _e(qe){return qe&&(0,ce.m)(qe.next)&&(0,ce.m)(qe.error)&&(0,ce.m)(qe.complete)}(qe)&&(0,pe.Nn)(qe)}(Me)?Me:new v.Hp(Me,Mt,pt);return(0,fe.x)(()=>{const{operator:cn,source:er}=this;Pt.add(cn?cn.call(Pt,er):er?this._subscribe(Pt):this._trySubscribe(Pt))}),Pt}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Mt){Me.error(Mt)}}forEach(Me,Mt){return new(Mt=et(Mt))((pt,Pt)=>{const cn=new v.Hp({next:er=>{try{Me(er)}catch(Jt){Pt(Jt),cn.unsubscribe()}},error:Pt,complete:pt});this.subscribe(cn)})}_subscribe(Me){var Mt;return null===(Mt=this.source)||void 0===Mt?void 0:Mt.subscribe(Me)}[Z.L](){return this}pipe(...Me){return(0,Oe.U)(Me)(this)}toPromise(Me){return new(Me=et(Me))((Mt,pt)=>{let Pt;this.subscribe(cn=>Pt=cn,cn=>pt(cn),()=>Mt(Pt))})}}return qe.create=st=>new qe(st),qe})();function et(qe){var st;return null!==(st=qe??Ae.config.Promise)&&void 0!==st?st:Promise}},8645:(Dn,dt,X)=>{X.d(dt,{x:()=>fe});var v=X(5592),pe=X(7394);const Oe=(0,X(2306).d)(et=>function(){et(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=X(9039),ce=X(1441);let fe=(()=>{class et extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const qe=new Xe(this,this);return qe.operator=me,qe}_throwIfClosed(){if(this.closed)throw new Oe}next(me){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const qe of this.currentObservers)qe.next(me)}})}error(me){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:qe}=this;for(;qe.length;)qe.shift().error(me)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:qe,isStopped:st,observers:Me}=this;return qe||st?pe.Lc:(this.currentObservers=null,Me.push(me),new pe.w0(()=>{this.currentObservers=null,(0,Ae.P)(Me,me)}))}_checkFinalizedStatuses(me){const{hasError:qe,thrownError:st,isStopped:Me}=this;qe?me.error(st):Me&&me.complete()}asObservable(){const me=new v.y;return me.source=this,me}}return et.create=(_e,me)=>new Xe(_e,me),et})();class Xe extends fe{constructor(_e,me){super(),this.destination=_e,this.source=me}next(_e){var me,qe;null===(qe=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===qe||qe.call(me,_e)}error(_e){var me,qe;null===(qe=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===qe||qe.call(me,_e)}complete(){var _e,me;null===(me=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===me||me.call(_e)}_subscribe(_e){var me,qe;return null!==(qe=null===(me=this.source)||void 0===me?void 0:me.subscribe(_e))&&void 0!==qe?qe:pe.Lc}}},305:(Dn,dt,X)=>{X.d(dt,{Hp:()=>pt,Lv:()=>qe});var v=X(4674),pe=X(7394),Z=X(2653),Oe=X(3894),Ae=X(2420);const ce=et("C",void 0,void 0);function et(be,ot,tt){return{kind:be,value:ot,error:tt}}var _e=X(7599),me=X(1441);class qe extends pe.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,pe.Nn)(ot)&&ot.add(this)):this.destination=Jt}static create(ot,tt,gt){return new pt(ot,tt,gt)}next(ot){this.isStopped?er(function Xe(be){return et("N",be,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?er(function fe(be){return et("E",void 0,be)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?er(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function Me(be,ot){return st.call(be,ot)}class Mt{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:tt}=this;if(tt.next)try{tt.next(ot)}catch(gt){Pt(gt)}}error(ot){const{partialObserver:tt}=this;if(tt.error)try{tt.error(ot)}catch(gt){Pt(gt)}else Pt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(tt){Pt(tt)}}}class pt extends qe{constructor(ot,tt,gt){let Tt;if(super(),(0,v.m)(ot)||!ot)Tt={next:ot??void 0,error:tt??void 0,complete:gt??void 0};else{let lt;this&&Z.config.useDeprecatedNextContext?(lt=Object.create(ot),lt.unsubscribe=()=>this.unsubscribe(),Tt={next:ot.next&&Me(ot.next,lt),error:ot.error&&Me(ot.error,lt),complete:ot.complete&&Me(ot.complete,lt)}):Tt=ot}this.destination=new Mt(Tt)}}function Pt(be){Z.config.useDeprecatedSynchronousErrorHandling?(0,me.O)(be):(0,Oe.h)(be)}function er(be,ot){const{onStoppedNotification:tt}=Z.config;tt&&_e.z.setTimeout(()=>tt(be,ot))}const Jt={closed:!0,next:Ae.Z,error:function cn(be){throw be},complete:Ae.Z}},7394:(Dn,dt,X)=>{X.d(dt,{Lc:()=>ce,w0:()=>Ae,Nn:()=>fe});var v=X(4674);const Z=(0,X(2306).d)(et=>function(me){et(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((qe,st)=>`${st+1}) ${qe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var Oe=X(9039);class Ae{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const Me of me)Me.remove(this);else me.remove(this);const{initialTeardown:qe}=this;if((0,v.m)(qe))try{qe()}catch(Me){_e=Me instanceof Z?Me.errors:[Me]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const Me of st)try{Xe(Me)}catch(Mt){_e=_e??[],Mt instanceof Z?_e=[..._e,...Mt.errors]:_e.push(Mt)}}if(_e)throw new Z(_e)}}add(_e){var me;if(_e&&_e!==this)if(this.closed)Xe(_e);else{if(_e instanceof Ae){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(_e)}}_hasParent(_e){const{_parentage:me}=this;return me===_e||Array.isArray(me)&&me.includes(_e)}_addParent(_e){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(_e),me):me?[me,_e]:_e}_removeParent(_e){const{_parentage:me}=this;me===_e?this._parentage=null:Array.isArray(me)&&(0,Oe.P)(me,_e)}remove(_e){const{_finalizers:me}=this;me&&(0,Oe.P)(me,_e),_e instanceof Ae&&_e._removeParent(this)}}Ae.EMPTY=(()=>{const et=new Ae;return et.closed=!0,et})();const ce=Ae.EMPTY;function fe(et){return et instanceof Ae||et&&"closed"in et&&(0,v.m)(et.remove)&&(0,v.m)(et.add)&&(0,v.m)(et.unsubscribe)}function Xe(et){(0,v.m)(et)?et():et.unsubscribe()}},2653:(Dn,dt,X)=>{X.d(dt,{config:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Dn,dt,X)=>{X.d(dt,{E:()=>pe});const pe=new(X(5592).y)(Ae=>Ae.complete())},2459:(Dn,dt,X)=>{X.d(dt,{D:()=>ot});var v=X(4829),pe=X(3093),Z=X(5137),ce=X(5592),Xe=X(4971),et=X(4674),_e=X(7103);function qe(tt,gt){if(!tt)throw new Error("Iterable cannot be null");return new ce.y(Tt=>{(0,_e.f)(Tt,gt,()=>{const lt=tt[Symbol.asyncIterator]();(0,_e.f)(Tt,gt,()=>{lt.next().then(mt=>{mt.done?Tt.complete():Tt.next(mt.value)})},0,!0)})})}var st=X(8382),Me=X(4026),Mt=X(4266),pt=X(3664),Pt=X(5726),cn=X(9853),er=X(541);function ot(tt,gt){return gt?function be(tt,gt){if(null!=tt){if((0,st.c)(tt))return function Oe(tt,gt){return(0,v.Xf)(tt).pipe((0,Z.R)(gt),(0,pe.Q)(gt))}(tt,gt);if((0,Mt.z)(tt))return function fe(tt,gt){return new ce.y(Tt=>{let lt=0;return gt.schedule(function(){lt===tt.length?Tt.complete():(Tt.next(tt[lt++]),Tt.closed||this.schedule())})})}(tt,gt);if((0,Me.t)(tt))return function Ae(tt,gt){return(0,v.Xf)(tt).pipe((0,Z.R)(gt),(0,pe.Q)(gt))}(tt,gt);if((0,Pt.D)(tt))return qe(tt,gt);if((0,pt.T)(tt))return function me(tt,gt){return new ce.y(Tt=>{let lt;return(0,_e.f)(Tt,gt,()=>{lt=tt[Xe.h](),(0,_e.f)(Tt,gt,()=>{let mt,kn;try{({value:mt,done:kn}=lt.next())}catch(tr){return void Tt.error(tr)}kn?Tt.complete():Tt.next(mt)},0,!0)}),()=>(0,et.m)(lt?.return)&&lt.return()})}(tt,gt);if((0,er.L)(tt))return function Jt(tt,gt){return qe((0,er.Q)(tt),gt)}(tt,gt)}throw(0,cn.z)(tt)}(tt,gt):(0,v.Xf)(tt)}},4829:(Dn,dt,X)=>{X.d(dt,{Xf:()=>st});var v=X(7582),pe=X(4266),Z=X(4026),Oe=X(5592),Ae=X(8382),ce=X(5726),fe=X(9853),Xe=X(3664),et=X(541),_e=X(4674),me=X(3894),qe=X(4850);function st(be){if(be instanceof Oe.y)return be;if(null!=be){if((0,Ae.c)(be))return function Me(be){return new Oe.y(ot=>{const tt=be[qe.L]();if((0,_e.m)(tt.subscribe))return tt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,pe.z)(be))return function Mt(be){return new Oe.y(ot=>{for(let tt=0;tt<be.length&&!ot.closed;tt++)ot.next(be[tt]);ot.complete()})}(be);if((0,Z.t)(be))return function pt(be){return new Oe.y(ot=>{be.then(tt=>{ot.closed||(ot.next(tt),ot.complete())},tt=>ot.error(tt)).then(null,me.h)})}(be);if((0,ce.D)(be))return cn(be);if((0,Xe.T)(be))return function Pt(be){return new Oe.y(ot=>{for(const tt of be)if(ot.next(tt),ot.closed)return;ot.complete()})}(be);if((0,et.L)(be))return function er(be){return cn((0,et.Q)(be))}(be)}throw(0,fe.z)(be)}function cn(be){return new Oe.y(ot=>{(function Jt(be,ot){var tt,gt,Tt,lt;return(0,v.mG)(this,void 0,void 0,function*(){try{for(tt=(0,v.KL)(be);!(gt=yield tt.next()).done;)if(ot.next(gt.value),ot.closed)return}catch(mt){Tt={error:mt}}finally{try{gt&&!gt.done&&(lt=tt.return)&&(yield lt.call(tt))}finally{if(Tt)throw Tt.error}}ot.complete()})})(be,ot).catch(tt=>ot.error(tt))})}},2096:(Dn,dt,X)=>{X.d(dt,{of:()=>Z});var v=X(4564),pe=X(2459);function Z(...Oe){const Ae=(0,v.yG)(Oe);return(0,pe.D)(Oe,Ae)}},8251:(Dn,dt,X)=>{X.d(dt,{x:()=>pe});var v=X(305);function pe(Oe,Ae,ce,fe,Xe){return new Z(Oe,Ae,ce,fe,Xe)}class Z extends v.Lv{constructor(Ae,ce,fe,Xe,et,_e){super(Ae),this.onFinalize=et,this.shouldUnsubscribe=_e,this._next=ce?function(me){try{ce(me)}catch(qe){Ae.error(qe)}}:super._next,this._error=Xe?function(me){try{Xe(me)}catch(qe){Ae.error(qe)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(me){Ae.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},7398:(Dn,dt,X)=>{X.d(dt,{U:()=>Z});var v=X(9360),pe=X(8251);function Z(Oe,Ae){return(0,v.e)((ce,fe)=>{let Xe=0;ce.subscribe((0,pe.x)(fe,et=>{fe.next(Oe.call(Ae,et,Xe++))}))})}},7537:(Dn,dt,X)=>{X.d(dt,{J:()=>Z});var v=X(1631),pe=X(2737);function Z(Oe=1/0){return(0,v.z)(pe.y,Oe)}},1631:(Dn,dt,X)=>{X.d(dt,{z:()=>Xe});var v=X(7398),pe=X(4829),Z=X(9360),Oe=X(7103),Ae=X(8251),fe=X(4674);function Xe(et,_e,me=1/0){return(0,fe.m)(_e)?Xe((qe,st)=>(0,v.U)((Me,Mt)=>_e(qe,Me,st,Mt))((0,pe.Xf)(et(qe,st))),me):("number"==typeof _e&&(me=_e),(0,Z.e)((qe,st)=>function ce(et,_e,me,qe,st,Me,Mt,pt){const Pt=[];let cn=0,er=0,Jt=!1;const be=()=>{Jt&&!Pt.length&&!cn&&_e.complete()},ot=gt=>cn<qe?tt(gt):Pt.push(gt),tt=gt=>{Me&&_e.next(gt),cn++;let Tt=!1;(0,pe.Xf)(me(gt,er++)).subscribe((0,Ae.x)(_e,lt=>{st?.(lt),Me?ot(lt):_e.next(lt)},()=>{Tt=!0},void 0,()=>{if(Tt)try{for(cn--;Pt.length&&cn<qe;){const lt=Pt.shift();Mt?(0,Oe.f)(_e,Mt,()=>tt(lt)):tt(lt)}be()}catch(lt){_e.error(lt)}}))};return et.subscribe((0,Ae.x)(_e,ot,()=>{Jt=!0,be()})),()=>{pt?.()}}(qe,st,et,me)))}},3093:(Dn,dt,X)=>{X.d(dt,{Q:()=>Oe});var v=X(7103),pe=X(9360),Z=X(8251);function Oe(Ae,ce=0){return(0,pe.e)((fe,Xe)=>{fe.subscribe((0,Z.x)(Xe,et=>(0,v.f)(Xe,Ae,()=>Xe.next(et),ce),()=>(0,v.f)(Xe,Ae,()=>Xe.complete(),ce),et=>(0,v.f)(Xe,Ae,()=>Xe.error(et),ce)))})}},5137:(Dn,dt,X)=>{X.d(dt,{R:()=>pe});var v=X(9360);function pe(Z,Oe=0){return(0,v.e)((Ae,ce)=>{ce.add(Z.schedule(()=>Ae.subscribe(ce),Oe))})}},4664:(Dn,dt,X)=>{X.d(dt,{w:()=>Oe});var v=X(4829),pe=X(9360),Z=X(8251);function Oe(Ae,ce){return(0,pe.e)((fe,Xe)=>{let et=null,_e=0,me=!1;const qe=()=>me&&!et&&Xe.complete();fe.subscribe((0,Z.x)(Xe,st=>{et?.unsubscribe();let Me=0;const Mt=_e++;(0,v.Xf)(Ae(st,Mt)).subscribe(et=(0,Z.x)(Xe,pt=>Xe.next(ce?ce(st,pt,Mt,Me++):pt),()=>{et=null,qe()}))},()=>{me=!0,qe()}))})}},9397:(Dn,dt,X)=>{X.d(dt,{b:()=>Ae});var v=X(4674),pe=X(9360),Z=X(8251),Oe=X(2737);function Ae(ce,fe,Xe){const et=(0,v.m)(ce)||fe||Xe?{next:ce,error:fe,complete:Xe}:ce;return et?(0,pe.e)((_e,me)=>{var qe;null===(qe=et.subscribe)||void 0===qe||qe.call(et);let st=!0;_e.subscribe((0,Z.x)(me,Me=>{var Mt;null===(Mt=et.next)||void 0===Mt||Mt.call(et,Me),me.next(Me)},()=>{var Me;st=!1,null===(Me=et.complete)||void 0===Me||Me.call(et),me.complete()},Me=>{var Mt;st=!1,null===(Mt=et.error)||void 0===Mt||Mt.call(et,Me),me.error(Me)},()=>{var Me,Mt;st&&(null===(Me=et.unsubscribe)||void 0===Me||Me.call(et)),null===(Mt=et.finalize)||void 0===Mt||Mt.call(et)}))}):Oe.y}},7599:(Dn,dt,X)=>{X.d(dt,{z:()=>v});const v={setTimeout(pe,Z,...Oe){const{delegate:Ae}=v;return Ae?.setTimeout?Ae.setTimeout(pe,Z,...Oe):setTimeout(pe,Z,...Oe)},clearTimeout(pe){const{delegate:Z}=v;return(Z?.clearTimeout||clearTimeout)(pe)},delegate:void 0}},4971:(Dn,dt,X)=>{X.d(dt,{h:()=>pe});const pe=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Dn,dt,X)=>{X.d(dt,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Dn,dt,X)=>{X.d(dt,{_6:()=>ce,jO:()=>Oe,yG:()=>Ae});var v=X(4674);function Z(fe){return fe[fe.length-1]}function Oe(fe){return(0,v.m)(Z(fe))?fe.pop():void 0}function Ae(fe){return function pe(fe){return fe&&(0,v.m)(fe.schedule)}(Z(fe))?fe.pop():void 0}function ce(fe,Xe){return"number"==typeof Z(fe)?fe.pop():Xe}},7453:(Dn,dt,X)=>{X.d(dt,{D:()=>Ae});const{isArray:v}=Array,{getPrototypeOf:pe,prototype:Z,keys:Oe}=Object;function Ae(fe){if(1===fe.length){const Xe=fe[0];if(v(Xe))return{args:Xe,keys:null};if(function ce(fe){return fe&&"object"==typeof fe&&pe(fe)===Z}(Xe)){const et=Oe(Xe);return{args:et.map(_e=>Xe[_e]),keys:et}}}return{args:fe,keys:null}}},9039:(Dn,dt,X)=>{function v(pe,Z){if(pe){const Oe=pe.indexOf(Z);0<=Oe&&pe.splice(Oe,1)}}X.d(dt,{P:()=>v})},2306:(Dn,dt,X)=>{function v(pe){const Oe=pe(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return Oe.prototype=Object.create(Error.prototype),Oe.prototype.constructor=Oe,Oe}X.d(dt,{d:()=>v})},2714:(Dn,dt,X)=>{function v(pe,Z){return pe.reduce((Oe,Ae,ce)=>(Oe[Ae]=Z[ce],Oe),{})}X.d(dt,{n:()=>v})},1441:(Dn,dt,X)=>{X.d(dt,{O:()=>Oe,x:()=>Z});var v=X(2653);let pe=null;function Z(Ae){if(v.config.useDeprecatedSynchronousErrorHandling){const ce=!pe;if(ce&&(pe={errorThrown:!1,error:null}),Ae(),ce){const{errorThrown:fe,error:Xe}=pe;if(pe=null,fe)throw Xe}}else Ae()}function Oe(Ae){v.config.useDeprecatedSynchronousErrorHandling&&pe&&(pe.errorThrown=!0,pe.error=Ae)}},7103:(Dn,dt,X)=>{function v(pe,Z,Oe,Ae=0,ce=!1){const fe=Z.schedule(function(){Oe(),ce?pe.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(pe.add(fe),!ce)return fe}X.d(dt,{f:()=>v})},2737:(Dn,dt,X)=>{function v(pe){return pe}X.d(dt,{y:()=>v})},4266:(Dn,dt,X)=>{X.d(dt,{z:()=>v});const v=pe=>pe&&"number"==typeof pe.length&&"function"!=typeof pe},5726:(Dn,dt,X)=>{X.d(dt,{D:()=>pe});var v=X(4674);function pe(Z){return Symbol.asyncIterator&&(0,v.m)(Z?.[Symbol.asyncIterator])}},4674:(Dn,dt,X)=>{function v(pe){return"function"==typeof pe}X.d(dt,{m:()=>v})},8382:(Dn,dt,X)=>{X.d(dt,{c:()=>Z});var v=X(4850),pe=X(4674);function Z(Oe){return(0,pe.m)(Oe[v.L])}},3664:(Dn,dt,X)=>{X.d(dt,{T:()=>Z});var v=X(4971),pe=X(4674);function Z(Oe){return(0,pe.m)(Oe?.[v.h])}},4026:(Dn,dt,X)=>{X.d(dt,{t:()=>pe});var v=X(4674);function pe(Z){return(0,v.m)(Z?.then)}},541:(Dn,dt,X)=>{X.d(dt,{L:()=>Oe,Q:()=>Z});var v=X(7582),pe=X(4674);function Z(Ae){return(0,v.FC)(this,arguments,function*(){const fe=Ae.getReader();try{for(;;){const{value:Xe,done:et}=yield(0,v.qq)(fe.read());if(et)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(Xe)}}finally{fe.releaseLock()}})}function Oe(Ae){return(0,pe.m)(Ae?.getReader)}},9360:(Dn,dt,X)=>{X.d(dt,{A:()=>pe,e:()=>Z});var v=X(4674);function pe(Oe){return(0,v.m)(Oe?.lift)}function Z(Oe){return Ae=>{if(pe(Ae))return Ae.lift(function(ce){try{return Oe(ce,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Dn,dt,X)=>{X.d(dt,{Z:()=>Oe});var v=X(7398);const{isArray:pe}=Array;function Oe(Ae){return(0,v.U)(ce=>function Z(Ae,ce){return pe(ce)?Ae(...ce):Ae(ce)}(Ae,ce))}},2420:(Dn,dt,X)=>{function v(){}X.d(dt,{Z:()=>v})},8407:(Dn,dt,X)=>{X.d(dt,{U:()=>Z,z:()=>pe});var v=X(2737);function pe(...Oe){return Z(Oe)}function Z(Oe){return 0===Oe.length?v.y:1===Oe.length?Oe[0]:function(ce){return Oe.reduce((fe,Xe)=>Xe(fe),ce)}}},3894:(Dn,dt,X)=>{X.d(dt,{h:()=>Z});var v=X(2653),pe=X(7599);function Z(Oe){pe.z.setTimeout(()=>{const{onUnhandledError:Ae}=v.config;if(!Ae)throw Oe;Ae(Oe)})}},9853:(Dn,dt,X)=>{function v(pe){return new TypeError(`You provided ${null!==pe&&"object"==typeof pe?"an invalid object":`'${pe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}X.d(dt,{z:()=>v})},6825:(Dn,dt,X)=>{X.d(dt,{LC:()=>pe,SB:()=>et,X$:()=>Oe,ZE:()=>cn,ZN:()=>Pt,_j:()=>v,eR:()=>me,jt:()=>Ae,k1:()=>er,l3:()=>Z,oB:()=>Xe,vP:()=>fe});class v{}class pe{}const Z="*";function Oe(Jt,be){return{type:7,name:Jt,definitions:be,options:{}}}function Ae(Jt,be=null){return{type:4,styles:be,timings:Jt}}function fe(Jt,be=null){return{type:2,steps:Jt,options:be}}function Xe(Jt){return{type:6,styles:Jt,offset:null}}function et(Jt,be,ot){return{type:0,name:Jt,styles:be,options:ot}}function me(Jt,be,ot=null){return{type:1,expr:Jt,animation:be,options:ot}}class Pt{constructor(be=0,ot=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+ot}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._originalOnStartFns.push(be),this._onStartFns.push(be)}onDone(be){this._originalOnDoneFns.push(be),this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const ot="start"==be?this._onStartFns:this._onDoneFns;ot.forEach(tt=>tt()),ot.length=0}}class cn{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let ot=0,tt=0,gt=0;const Tt=this.players.length;0==Tt?queueMicrotask(()=>this._onFinish()):this.players.forEach(lt=>{lt.onDone(()=>{++ot==Tt&&this._onFinish()}),lt.onDestroy(()=>{++tt==Tt&&this._onDestroy()}),lt.onStart(()=>{++gt==Tt&&this._onStart()})}),this.totalTime=this.players.reduce((lt,mt)=>Math.max(lt,mt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const ot=be*this.totalTime;this.players.forEach(tt=>{const gt=tt.totalTime?Math.min(1,ot/tt.totalTime):1;tt.setPosition(gt)})}getPosition(){const be=this.players.reduce((ot,tt)=>null===ot||tt.totalTime>ot.totalTime?tt:ot,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const ot="start"==be?this._onStartFns:this._onDoneFns;ot.forEach(tt=>tt()),ot.length=0}}const er="!"},6814:(Dn,dt,X)=>{X.d(dt,{Do:()=>pt,EM:()=>ki,HT:()=>Oe,JF:()=>di,K0:()=>ce,Mx:()=>Di,O5:()=>Ji,PM:()=>Mn,S$:()=>st,V_:()=>Xe,Ye:()=>Pt,b0:()=>Mt,bD:()=>Ls,ez:()=>gs,gd:()=>_o,mk:()=>ji,q:()=>Z,sg:()=>Zi,uU:()=>ks,w_:()=>Ae});var v=X(4946);let pe=null;function Z(){return pe}function Oe(I){pe||(pe=I)}class Ae{}const ce=new v.OlP("DocumentToken");let fe=(()=>{class I{historyGo(R){throw new Error("Not implemented")}static#e=this.\u0275fac=function(B){return new(B||I)};static#t=this.\u0275prov=v.Yz7({token:I,factory:function(){return(0,v.f3M)(et)},providedIn:"platform"})}return I})();const Xe=new v.OlP("Location Initialized");let et=(()=>{class I extends fe{constructor(){super(),this._doc=(0,v.f3M)(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(R){const B=Z().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",R,!1),()=>B.removeEventListener("popstate",R)}onHashChange(R){const B=Z().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",R,!1),()=>B.removeEventListener("hashchange",R)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(R){this._location.pathname=R}pushState(R,B,ae){this._history.pushState(R,B,ae)}replaceState(R,B,ae){this._history.replaceState(R,B,ae)}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}static#e=this.\u0275fac=function(B){return new(B||I)};static#t=this.\u0275prov=v.Yz7({token:I,factory:function(){return new I},providedIn:"platform"})}return I})();function _e(I,q){if(0==I.length)return q;if(0==q.length)return I;let R=0;return I.endsWith("/")&&R++,q.startsWith("/")&&R++,2==R?I+q.substring(1):1==R?I+q:I+"/"+q}function me(I){const q=I.match(/#|\?|$/),R=q&&q.index||I.length;return I.slice(0,R-("/"===I[R-1]?1:0))+I.slice(R)}function qe(I){return I&&"?"!==I[0]?"?"+I:I}let st=(()=>{class I{historyGo(R){throw new Error("Not implemented")}static#e=this.\u0275fac=function(B){return new(B||I)};static#t=this.\u0275prov=v.Yz7({token:I,factory:function(){return(0,v.f3M)(Mt)},providedIn:"root"})}return I})();const Me=new v.OlP("appBaseHref");let Mt=(()=>{class I extends st{constructor(R,B){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return _e(this._baseHref,R)}path(R=!1){const B=this._platformLocation.pathname+qe(this._platformLocation.search),ae=this._platformLocation.hash;return ae&&R?`${B}${ae}`:B}pushState(R,B,ae,Le){const rt=this.prepareExternalUrl(ae+qe(Le));this._platformLocation.pushState(R,B,rt)}replaceState(R,B,ae,Le){const rt=this.prepareExternalUrl(ae+qe(Le));this._platformLocation.replaceState(R,B,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static#e=this.\u0275fac=function(B){return new(B||I)(v.LFG(fe),v.LFG(Me,8))};static#t=this.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),pt=(()=>{class I extends st{constructor(R,B){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(R){const B=_e(this._baseHref,R);return B.length>0?"#"+B:B}pushState(R,B,ae,Le){let rt=this.prepareExternalUrl(ae+qe(Le));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.pushState(R,B,rt)}replaceState(R,B,ae,Le){let rt=this.prepareExternalUrl(ae+qe(Le));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.replaceState(R,B,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static#e=this.\u0275fac=function(B){return new(B||I)(v.LFG(fe),v.LFG(Me,8))};static#t=this.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac})}return I})(),Pt=(()=>{class I{constructor(R){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const B=this._locationStrategy.getBaseHref();this._basePath=function be(I){if(new RegExp("^(https?:)?//").test(I)){const[,R]=I.split(/\/\/[^\/]+/);return R}return I}(me(Jt(B))),this._locationStrategy.onPopState(ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:ae.state,type:ae.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,B=""){return this.path()==this.normalize(R+qe(B))}normalize(R){return I.stripTrailingSlash(function er(I,q){if(!I||!q.startsWith(I))return q;const R=q.substring(I.length);return""===R||["/",";","?","#"].includes(R[0])?R:q}(this._basePath,Jt(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,B="",ae=null){this._locationStrategy.pushState(ae,"",R,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+qe(B)),ae)}replaceState(R,B="",ae=null){this._locationStrategy.replaceState(ae,"",R,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+qe(B)),ae)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)})),()=>{const B=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",B){this._urlChangeListeners.forEach(ae=>ae(R,B))}subscribe(R,B,ae){return this._subject.subscribe({next:R,error:B,complete:ae})}static#e=this.normalizeQueryParams=qe;static#t=this.joinWithSlash=_e;static#n=this.stripTrailingSlash=me;static#r=this.\u0275fac=function(B){return new(B||I)(v.LFG(st))};static#i=this.\u0275prov=v.Yz7({token:I,factory:function(){return function cn(){return new Pt((0,v.LFG)(st))}()},providedIn:"root"})}return I})();function Jt(I){return I.replace(/\/index.html$/,"")}var Tt=function(I){return I[I.Format=0]="Format",I[I.Standalone=1]="Standalone",I}(Tt||{}),lt=function(I){return I[I.Narrow=0]="Narrow",I[I.Abbreviated=1]="Abbreviated",I[I.Wide=2]="Wide",I[I.Short=3]="Short",I}(lt||{}),mt=function(I){return I[I.Short=0]="Short",I[I.Medium=1]="Medium",I[I.Long=2]="Long",I[I.Full=3]="Full",I}(mt||{}),kn=function(I){return I[I.Decimal=0]="Decimal",I[I.Group=1]="Group",I[I.List=2]="List",I[I.PercentSign=3]="PercentSign",I[I.PlusSign=4]="PlusSign",I[I.MinusSign=5]="MinusSign",I[I.Exponential=6]="Exponential",I[I.SuperscriptingExponent=7]="SuperscriptingExponent",I[I.PerMille=8]="PerMille",I[I.Infinity=9]="Infinity",I[I.NaN=10]="NaN",I[I.TimeSeparator=11]="TimeSeparator",I[I.CurrencyDecimal=12]="CurrencyDecimal",I[I.CurrencyGroup=13]="CurrencyGroup",I}(kn||{});function ze(I,q){return rr((0,v.cg1)(I)[v.wAp.DateFormat],q)}function Qe(I,q){return rr((0,v.cg1)(I)[v.wAp.TimeFormat],q)}function Be(I,q){return rr((0,v.cg1)(I)[v.wAp.DateTimeFormat],q)}function at(I,q){const R=(0,v.cg1)(I),B=R[v.wAp.NumberSymbols][q];if(typeof B>"u"){if(q===kn.CurrencyDecimal)return R[v.wAp.NumberSymbols][kn.Decimal];if(q===kn.CurrencyGroup)return R[v.wAp.NumberSymbols][kn.Group]}return B}function hr(I){if(!I[v.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${I[v.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rr(I,q){for(let R=q;R>-1;R--)if(typeof I[R]<"u")return I[R];throw new Error("Locale data API: locale data undefined")}function $r(I){const[q,R]=I.split(":");return{hours:+q,minutes:+R}}const on=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fi={},Bn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tr=function(I){return I[I.Short=0]="Short",I[I.ShortGMT=1]="ShortGMT",I[I.Long=2]="Long",I[I.Extended=3]="Extended",I}(Tr||{}),Sn=function(I){return I[I.FullYear=0]="FullYear",I[I.Month=1]="Month",I[I.Date=2]="Date",I[I.Hours=3]="Hours",I[I.Minutes=4]="Minutes",I[I.Seconds=5]="Seconds",I[I.FractionalSeconds=6]="FractionalSeconds",I[I.Day=7]="Day",I}(Sn||{}),bn=function(I){return I[I.DayPeriods=0]="DayPeriods",I[I.Days=1]="Days",I[I.Months=2]="Months",I[I.Eras=3]="Eras",I}(bn||{});function fr(I,q,R,B){let ae=function J(I){if(te(I))return I;if("number"==typeof I&&!isNaN(I))return new Date(I);if("string"==typeof I){if(I=I.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(I)){const[ae,Le=1,rt=1]=I.split("-").map(Ut=>+Ut);return Hr(ae,Le-1,rt)}const R=parseFloat(I);if(!isNaN(I-R))return new Date(R);let B;if(B=I.match(on))return function ee(I){const q=new Date(0);let R=0,B=0;const ae=I[8]?q.setUTCFullYear:q.setFullYear,Le=I[8]?q.setUTCHours:q.setHours;I[9]&&(R=Number(I[9]+I[10]),B=Number(I[9]+I[11])),ae.call(q,Number(I[1]),Number(I[2])-1,Number(I[3]));const rt=Number(I[4]||0)-R,Ut=Number(I[5]||0)-B,Qn=Number(I[6]||0),Xn=Math.floor(1e3*parseFloat("0."+(I[7]||0)));return Le.call(q,rt,Ut,Qn,Xn),q}(B)}const q=new Date(I);if(!te(q))throw new Error(`Unable to convert "${I}" into a date`);return q}(I);q=ui(R,q)||q;let Ut,rt=[];for(;q;){if(Ut=Bn.exec(q),!Ut){rt.push(q);break}{rt=rt.concat(Ut.slice(1));const vr=rt.pop();if(!vr)break;q=vr}}let Qn=ae.getTimezoneOffset();B&&(Qn=Kt(B,Qn),ae=function ve(I,q,R){const B=R?-1:1,ae=I.getTimezoneOffset();return function pr(I,q){return(I=new Date(I.getTime())).setMinutes(I.getMinutes()+q),I}(I,B*(Kt(q,ae)-ae))}(ae,B,!0));let Xn="";return rt.forEach(vr=>{const xn=function cr(I){if(ln[I])return ln[I];let q;switch(I){case"G":case"GG":case"GGG":q=Ot(bn.Eras,lt.Abbreviated);break;case"GGGG":q=Ot(bn.Eras,lt.Wide);break;case"GGGGG":q=Ot(bn.Eras,lt.Narrow);break;case"y":q=ur(Sn.FullYear,1,0,!1,!0);break;case"yy":q=ur(Sn.FullYear,2,0,!0,!0);break;case"yyy":q=ur(Sn.FullYear,3,0,!1,!0);break;case"yyyy":q=ur(Sn.FullYear,4,0,!1,!0);break;case"Y":q=Bi(1);break;case"YY":q=Bi(2,!0);break;case"YYY":q=Bi(3);break;case"YYYY":q=Bi(4);break;case"M":case"L":q=ur(Sn.Month,1,1);break;case"MM":case"LL":q=ur(Sn.Month,2,1);break;case"MMM":q=Ot(bn.Months,lt.Abbreviated);break;case"MMMM":q=Ot(bn.Months,lt.Wide);break;case"MMMMM":q=Ot(bn.Months,lt.Narrow);break;case"LLL":q=Ot(bn.Months,lt.Abbreviated,Tt.Standalone);break;case"LLLL":q=Ot(bn.Months,lt.Wide,Tt.Standalone);break;case"LLLLL":q=Ot(bn.Months,lt.Narrow,Tt.Standalone);break;case"w":q=gi(1);break;case"ww":q=gi(2);break;case"W":q=gi(1,!0);break;case"d":q=ur(Sn.Date,1);break;case"dd":q=ur(Sn.Date,2);break;case"c":case"cc":q=ur(Sn.Day,1);break;case"ccc":q=Ot(bn.Days,lt.Abbreviated,Tt.Standalone);break;case"cccc":q=Ot(bn.Days,lt.Wide,Tt.Standalone);break;case"ccccc":q=Ot(bn.Days,lt.Narrow,Tt.Standalone);break;case"cccccc":q=Ot(bn.Days,lt.Short,Tt.Standalone);break;case"E":case"EE":case"EEE":q=Ot(bn.Days,lt.Abbreviated);break;case"EEEE":q=Ot(bn.Days,lt.Wide);break;case"EEEEE":q=Ot(bn.Days,lt.Narrow);break;case"EEEEEE":q=Ot(bn.Days,lt.Short);break;case"a":case"aa":case"aaa":q=Ot(bn.DayPeriods,lt.Abbreviated);break;case"aaaa":q=Ot(bn.DayPeriods,lt.Wide);break;case"aaaaa":q=Ot(bn.DayPeriods,lt.Narrow);break;case"b":case"bb":case"bbb":q=Ot(bn.DayPeriods,lt.Abbreviated,Tt.Standalone,!0);break;case"bbbb":q=Ot(bn.DayPeriods,lt.Wide,Tt.Standalone,!0);break;case"bbbbb":q=Ot(bn.DayPeriods,lt.Narrow,Tt.Standalone,!0);break;case"B":case"BB":case"BBB":q=Ot(bn.DayPeriods,lt.Abbreviated,Tt.Format,!0);break;case"BBBB":q=Ot(bn.DayPeriods,lt.Wide,Tt.Format,!0);break;case"BBBBB":q=Ot(bn.DayPeriods,lt.Narrow,Tt.Format,!0);break;case"h":q=ur(Sn.Hours,1,-12);break;case"hh":q=ur(Sn.Hours,2,-12);break;case"H":q=ur(Sn.Hours,1);break;case"HH":q=ur(Sn.Hours,2);break;case"m":q=ur(Sn.Minutes,1);break;case"mm":q=ur(Sn.Minutes,2);break;case"s":q=ur(Sn.Seconds,1);break;case"ss":q=ur(Sn.Seconds,2);break;case"S":q=ur(Sn.FractionalSeconds,1);break;case"SS":q=ur(Sn.FractionalSeconds,2);break;case"SSS":q=ur(Sn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":q=Si(Tr.Short);break;case"ZZZZZ":q=Si(Tr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":q=Si(Tr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":q=Si(Tr.Long);break;default:return null}return ln[I]=q,q}(vr);Xn+=xn?xn(ae,R,Qn):"''"===vr?"'":vr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Xn}function Hr(I,q,R){const B=new Date(0);return B.setFullYear(I,q,R),B.setHours(0,0,0),B}function ui(I,q){const R=function Xr(I){return(0,v.cg1)(I)[v.wAp.LocaleId]}(I);if(fi[R]=fi[R]||{},fi[R][q])return fi[R][q];let B="";switch(q){case"shortDate":B=ze(I,mt.Short);break;case"mediumDate":B=ze(I,mt.Medium);break;case"longDate":B=ze(I,mt.Long);break;case"fullDate":B=ze(I,mt.Full);break;case"shortTime":B=Qe(I,mt.Short);break;case"mediumTime":B=Qe(I,mt.Medium);break;case"longTime":B=Qe(I,mt.Long);break;case"fullTime":B=Qe(I,mt.Full);break;case"short":const ae=ui(I,"shortTime"),Le=ui(I,"shortDate");B=Fn(Be(I,mt.Short),[ae,Le]);break;case"medium":const rt=ui(I,"mediumTime"),Ut=ui(I,"mediumDate");B=Fn(Be(I,mt.Medium),[rt,Ut]);break;case"long":const Qn=ui(I,"longTime"),Xn=ui(I,"longDate");B=Fn(Be(I,mt.Long),[Qn,Xn]);break;case"full":const vr=ui(I,"fullTime"),xn=ui(I,"fullDate");B=Fn(Be(I,mt.Full),[vr,xn])}return B&&(fi[R][q]=B),B}function Fn(I,q){return q&&(I=I.replace(/\{([^}]+)}/g,function(R,B){return null!=q&&B in q?q[B]:R})),I}function Ir(I,q,R="-",B,ae){let Le="";(I<0||ae&&I<=0)&&(ae?I=1-I:(I=-I,Le=R));let rt=String(I);for(;rt.length<q;)rt="0"+rt;return B&&(rt=rt.slice(rt.length-q)),Le+rt}function ur(I,q,R=0,B=!1,ae=!1){return function(Le,rt){let Ut=function Xi(I,q){switch(I){case Sn.FullYear:return q.getFullYear();case Sn.Month:return q.getMonth();case Sn.Date:return q.getDate();case Sn.Hours:return q.getHours();case Sn.Minutes:return q.getMinutes();case Sn.Seconds:return q.getSeconds();case Sn.FractionalSeconds:return q.getMilliseconds();case Sn.Day:return q.getDay();default:throw new Error(`Unknown DateType value "${I}".`)}}(I,Le);if((R>0||Ut>-R)&&(Ut+=R),I===Sn.Hours)0===Ut&&-12===R&&(Ut=12);else if(I===Sn.FractionalSeconds)return function ci(I,q){return Ir(I,3).substring(0,q)}(Ut,q);const Qn=at(rt,kn.MinusSign);return Ir(Ut,q,Qn,B,ae)}}function Ot(I,q,R=Tt.Format,B=!1){return function(ae,Le){return function ri(I,q,R,B,ae,Le){switch(R){case bn.Months:return function Gn(I,q,R){const B=(0,v.cg1)(I),Le=rr([B[v.wAp.MonthsFormat],B[v.wAp.MonthsStandalone]],q);return rr(Le,R)}(q,ae,B)[I.getMonth()];case bn.Days:return function nt(I,q,R){const B=(0,v.cg1)(I),Le=rr([B[v.wAp.DaysFormat],B[v.wAp.DaysStandalone]],q);return rr(Le,R)}(q,ae,B)[I.getDay()];case bn.DayPeriods:const rt=I.getHours(),Ut=I.getMinutes();if(Le){const Xn=function qn(I){const q=(0,v.cg1)(I);return hr(q),(q[v.wAp.ExtraData][2]||[]).map(B=>"string"==typeof B?$r(B):[$r(B[0]),$r(B[1])])}(q),vr=function Wn(I,q,R){const B=(0,v.cg1)(I);hr(B);const Le=rr([B[v.wAp.ExtraData][0],B[v.wAp.ExtraData][1]],q)||[];return rr(Le,R)||[]}(q,ae,B),xn=Xn.findIndex(Jn=>{if(Array.isArray(Jn)){const[or,oi]=Jn,Ni=rt>=or.hours&&Ut>=or.minutes,Ys=rt<oi.hours||rt===oi.hours&&Ut<oi.minutes;if(or.hours<oi.hours){if(Ni&&Ys)return!0}else if(Ni||Ys)return!0}else if(Jn.hours===rt&&Jn.minutes===Ut)return!0;return!1});if(-1!==xn)return vr[xn]}return function Dt(I,q,R){const B=(0,v.cg1)(I),Le=rr([B[v.wAp.DayPeriodsFormat],B[v.wAp.DayPeriodsStandalone]],q);return rr(Le,R)}(q,ae,B)[rt<12?0:1];case bn.Eras:return function St(I,q){return rr((0,v.cg1)(I)[v.wAp.Eras],q)}(q,B)[I.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${R}`)}}(ae,Le,I,q,R,B)}}function Si(I){return function(q,R,B){const ae=-1*B,Le=at(R,kn.MinusSign),rt=ae>0?Math.floor(ae/60):Math.ceil(ae/60);switch(I){case Tr.Short:return(ae>=0?"+":"")+Ir(rt,2,Le)+Ir(Math.abs(ae%60),2,Le);case Tr.ShortGMT:return"GMT"+(ae>=0?"+":"")+Ir(rt,1,Le);case Tr.Long:return"GMT"+(ae>=0?"+":"")+Ir(rt,2,Le)+":"+Ir(Math.abs(ae%60),2,Le);case Tr.Extended:return 0===B?"Z":(ae>=0?"+":"")+Ir(rt,2,Le)+":"+Ir(Math.abs(ae%60),2,Le);default:throw new Error(`Unknown zone width "${I}"`)}}}const zr=0,Jr=4;function qt(I){return Hr(I.getFullYear(),I.getMonth(),I.getDate()+(Jr-I.getDay()))}function gi(I,q=!1){return function(R,B){let ae;if(q){const Le=new Date(R.getFullYear(),R.getMonth(),1).getDay()-1,rt=R.getDate();ae=1+Math.floor((rt+Le)/7)}else{const Le=qt(R),rt=function Cr(I){const q=Hr(I,zr,1).getDay();return Hr(I,0,1+(q<=Jr?Jr:Jr+7)-q)}(Le.getFullYear()),Ut=Le.getTime()-rt.getTime();ae=1+Math.round(Ut/6048e5)}return Ir(ae,I,at(B,kn.MinusSign))}}function Bi(I,q=!1){return function(R,B){return Ir(qt(R).getFullYear(),I,at(B,kn.MinusSign),q)}}const ln={};function Kt(I,q){I=I.replace(/:/g,"");const R=Date.parse("Jan 01, 1970 00:00:00 "+I)/6e4;return isNaN(R)?q:R}function te(I){return I instanceof Date&&!isNaN(I.valueOf())}function Di(I,q){q=encodeURIComponent(q);for(const R of I.split(";")){const B=R.indexOf("="),[ae,Le]=-1==B?[R,""]:[R.slice(0,B),R.slice(B+1)];if(ae.trim()===q)return decodeURIComponent(Le)}return null}const Ai=/\s+/,Qr=[];let ji=(()=>{class I{constructor(R,B,ae,Le){this._iterableDiffers=R,this._keyValueDiffers=B,this._ngEl=ae,this._renderer=Le,this.initialClasses=Qr,this.stateMap=new Map}set klass(R){this.initialClasses=null!=R?R.trim().split(Ai):Qr}set ngClass(R){this.rawClass="string"==typeof R?R.trim().split(Ai):R}ngDoCheck(){for(const B of this.initialClasses)this._updateState(B,!0);const R=this.rawClass;if(Array.isArray(R)||R instanceof Set)for(const B of R)this._updateState(B,!0);else if(null!=R)for(const B of Object.keys(R))this._updateState(B,!!R[B]);this._applyStateDiff()}_updateState(R,B){const ae=this.stateMap.get(R);void 0!==ae?(ae.enabled!==B&&(ae.changed=!0,ae.enabled=B),ae.touched=!0):this.stateMap.set(R,{enabled:B,changed:!0,touched:!0})}_applyStateDiff(){for(const R of this.stateMap){const B=R[0],ae=R[1];ae.changed?(this._toggleClass(B,ae.enabled),ae.changed=!1):ae.touched||(ae.enabled&&this._toggleClass(B,!1),this.stateMap.delete(B)),ae.touched=!1}}_toggleClass(R,B){(R=R.trim()).length>0&&R.split(Ai).forEach(ae=>{B?this._renderer.addClass(this._ngEl.nativeElement,ae):this._renderer.removeClass(this._ngEl.nativeElement,ae)})}static#e=this.\u0275fac=function(B){return new(B||I)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))};static#t=this.\u0275dir=v.lG2({type:I,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return I})();class Vn{constructor(q,R,B,ae){this.$implicit=q,this.ngForOf=R,this.index=B,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zi=(()=>{class I{set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}constructor(R,B,ae){this._viewContainer=R,this._template=B,this._differs=ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const B=this._viewContainer;R.forEachOperation((ae,Le,rt)=>{if(null==ae.previousIndex)B.createEmbeddedView(this._template,new Vn(ae.item,this._ngForOf,-1,-1),null===rt?void 0:rt);else if(null==rt)B.remove(null===Le?void 0:Le);else if(null!==Le){const Ut=B.get(Le);B.move(Ut,rt),sr(Ut,ae)}});for(let ae=0,Le=B.length;ae<Le;ae++){const Ut=B.get(ae).context;Ut.index=ae,Ut.count=Le,Ut.ngForOf=this._ngForOf}R.forEachIdentityChange(ae=>{sr(B.get(ae.currentIndex),ae)})}static ngTemplateContextGuard(R,B){return!0}static#e=this.\u0275fac=function(B){return new(B||I)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))};static#t=this.\u0275dir=v.lG2({type:I,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return I})();function sr(I,q){I.context.$implicit=q.item}let Ji=(()=>{class I{constructor(R,B){this._viewContainer=R,this._context=new Oi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){Rs("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){Rs("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,B){return!0}static#e=this.\u0275fac=function(B){return new(B||I)(v.Y36(v.s_b),v.Y36(v.Rgc))};static#t=this.\u0275dir=v.lG2({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return I})();class Oi{constructor(){this.$implicit=null,this.ngIf=null}}function Rs(I,q){if(q&&!q.createEmbeddedView)throw new Error(`${I} must be a TemplateRef, but received '${(0,v.AaK)(q)}'.`)}function bi(I,q){return new v.vHH(2100,!1)}let _o=(()=>{class I{transform(R){if(null==R)return null;if("string"!=typeof R)throw bi();return R.toUpperCase()}static#e=this.\u0275fac=function(B){return new(B||I)};static#t=this.\u0275pipe=v.Yjl({name:"uppercase",type:I,pure:!0,standalone:!0})}return I})();const As=new v.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ms=new v.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ks=(()=>{class I{constructor(R,B,ae){this.locale=R,this.defaultTimezone=B,this.defaultOptions=ae}transform(R,B,ae,Le){if(null==R||""===R||R!=R)return null;try{return fr(R,B??this.defaultOptions?.dateFormat??"mediumDate",Le||this.locale,ae??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(rt){throw bi()}}static#e=this.\u0275fac=function(B){return new(B||I)(v.Y36(v.soG,16),v.Y36(As,24),v.Y36(Ms,24))};static#t=this.\u0275pipe=v.Yjl({name:"date",type:I,pure:!0,standalone:!0})}return I})(),gs=(()=>{class I{static#e=this.\u0275fac=function(B){return new(B||I)};static#t=this.\u0275mod=v.oAB({type:I});static#n=this.\u0275inj=v.cJS({})}return I})();const Ls="browser",Bo="server";function Mn(I){return I===Bo}let ki=(()=>{class I{static#e=this.\u0275prov=(0,v.Yz7)({token:I,providedIn:"root",factory:()=>new yi((0,v.LFG)(ce),window)})}return I})();class yi{constructor(q,R){this.document=q,this.window=R,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const R=function si(I,q){const R=I.getElementById(q)||I.getElementsByName(q)[0];if(R)return R;if("function"==typeof I.createTreeWalker&&I.body&&"function"==typeof I.body.attachShadow){const B=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let ae=B.currentNode;for(;ae;){const Le=ae.shadowRoot;if(Le){const rt=Le.getElementById(q)||Le.querySelector(`[name="${q}"]`);if(rt)return rt}ae=B.nextNode()}}return null}(this.document,q);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(q){this.supportsScrolling()&&(this.window.history.scrollRestoration=q)}scrollToElement(q){const R=q.getBoundingClientRect(),B=R.left+this.window.pageXOffset,ae=R.top+this.window.pageYOffset,Le=this.offset();this.window.scrollTo(B-Le[0],ae-Le[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class di{}},4946:(Dn,dt,X)=>{X.d(dt,{QbO:()=>Jm,tb:()=>iw,AFp:()=>Ql,ip1:()=>jI,hGG:()=>HC,z2F:()=>pp,Ojb:()=>Zv,sBO:()=>SC,Sil:()=>WT,EJc:()=>zT,Xts:()=>eh,SBq:()=>ad,lqb:()=>vu,qLn:()=>ku,vpe:()=>wu,XFs:()=>Ot,OlP:()=>ln,zs3:()=>Eu,ZZ4:()=>lw,aQg:()=>dw,soG:()=>vv,YKP:()=>H0,h0i:()=>Mh,PXZ:()=>_C,R0b:()=>xo,FiY:()=>Ua,Lbi:()=>sh,g9A:()=>pf,Qsj:()=>og,FYo:()=>oy,JOm:()=>Kc,tp0:()=>Fo,Rgc:()=>vm,dDg:()=>gC,eoX:()=>ZI,q4F:()=>Df,GfV:()=>ay,s_b:()=>mv,ifc:()=>mi,VuI:()=>eS,MMx:()=>G0,Lck:()=>Mb,eFA:()=>JI,Gpc:()=>lt,f3M:()=>Lt,$WT:()=>ps,_c5:()=>$C,qFp:()=>nS,rg0:()=>Ys,c2e:()=>$I,zSh:()=>Kp,HDt:()=>HI,wAp:()=>lp,vHH:()=>nt,lri:()=>WI,rWj:()=>KI,cg1:()=>NE,kL8:()=>p0,dqk:()=>qt,Z0I:()=>fr,eJc:()=>KE,QGY:()=>Yy,F4k:()=>Xg,RDi:()=>Bm,AaK:()=>tt,qOj:()=>Qf,Xq5:()=>Ac,TTD:()=>We,_Bn:()=>$0,jDz:()=>q0,xp6:()=>Dg,uIk:()=>vh,ekj:()=>iv,Suo:()=>_I,Xpm:()=>ks,lG2:()=>es,Yz7:()=>Bn,cJS:()=>Sn,oAB:()=>Fs,Yjl:()=>Is,Y36:()=>hd,_UZ:()=>Ky,BQk:()=>Qg,ynx:()=>Yg,qZA:()=>ip,TgZ:()=>rp,EpF:()=>eE,n5z:()=>zu,LFG:()=>kt,$8M:()=>N,$Z:()=>Lf,NdJ:()=>Jg,CRH:()=>EI,oxw:()=>tm,ALo:()=>iI,lcZ:()=>sI,Q6J:()=>qy,iGM:()=>yI,MAs:()=>K_,KtG:()=>ru,CHM:()=>Go,LSH:()=>Jd,P3R:()=>sf,YNc:()=>Hy,W1O:()=>bI,_uU:()=>bE,Oqu:()=>ov,hij:()=>cm,AsE:()=>av,Gf:()=>vI});var v=X(8645),pe=X(7394),Z=X(5592),Oe=X(7537),Ae=X(4829),ce=X(6232),fe=X(4564),Xe=X(2459),_e=X(5619),me=X(2096),qe=X(305),st=X(9360);function Me(t={}){const{connector:r=(()=>new v.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,E,M,U=0,Q=!1,le=!1;const Ce=()=>{E?.unsubscribe(),E=void 0},Ve=()=>{Ce(),g=M=void 0,Q=le=!1},ft=()=>{const At=g;Ve(),At?.unsubscribe()};return(0,st.e)((At,Xt)=>{U++,!le&&!Q&&Ce();const Cn=M=M??r();Xt.add(()=>{U--,0===U&&!le&&!Q&&(E=Mt(ft,c))}),Cn.subscribe(Xt),!g&&U>0&&(g=new qe.Hp({next:It=>Cn.next(It),error:It=>{le=!0,Ce(),E=Mt(Ve,s,It),Cn.error(It)},complete:()=>{Q=!0,Ce(),E=Mt(Ve,a),Cn.complete()}}),(0,Ae.Xf)(At).subscribe(g))})(d)}}function Mt(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new qe.Hp({next:()=>{a.unsubscribe(),t()}});return(0,Ae.Xf)(r(...s)).subscribe(a)}var pt=X(4664),Pt=X(2737),cn=X(8251);function Jt(t,r){return t===r}function be(t){for(let r in t)if(t[r]===be)return r;throw Error("Could not find renamed property on target object.")}function ot(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function gt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Tt=be({__forward_ref__:be});function lt(t){return t.__forward_ref__=lt,t.toString=function(){return tt(this())},t}function mt(t){return kn(t)?t():t}function kn(t){return"function"==typeof t&&t.hasOwnProperty(Tt)&&t.__forward_ref__===lt}function tr(t){return t&&!!t.\u0275providers}const Dt="https://g.co/ng/security#xss";class nt extends Error{constructor(r,s){super(function Gn(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function St(t){return"string"==typeof t?t:null==t?"":String(t)}function Be(t,r){throw new nt(-201,!1)}function jn(t,r){null==t&&function yn(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Bn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Sn(t){return{providers:t.providers||[],imports:t.imports||[]}}function bn(t){return Hr(t,Ir)||Hr(t,ur)}function fr(t){return null!==bn(t)}function Hr(t,r){return t.hasOwnProperty(r)?t[r]:null}function Fn(t){return t&&(t.hasOwnProperty(ci)||t.hasOwnProperty(Xi))?t[ci]:null}const Ir=be({\u0275prov:be}),ci=be({\u0275inj:be}),ur=be({ngInjectableDef:be}),Xi=be({ngInjectorDef:be});var Ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ot||{});let ri;function zr(t){const r=ri;return ri=t,r}function Jr(t,r,s){const a=bn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ot.Optional?null:void 0!==r?r:void Be(tt(t))}const qt=globalThis;class ln{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Bn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const nn={},mn="__NG_DI_FLAG__",Kn="ngTempTokenPath",Zn=/\n/gm,li="__source";let Ii;function Re(t){const r=Ii;return Ii=t,r}function vt(t,r=Ot.Default){if(void 0===Ii)throw new nt(-203,!1);return null===Ii?Jr(t,void 0,r):Ii.get(t,r&Ot.Optional?null:void 0,r)}function kt(t,r=Ot.Default){return(function Si(){return ri}()||vt)(mt(t),r)}function Lt(t,r=Ot.Default){return kt(t,On(r))}function On(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ii(t){const r=[];for(let s=0;s<t.length;s++){const a=mt(t[s]);if(Array.isArray(a)){if(0===a.length)throw new nt(900,!1);let c,d=Ot.Default;for(let g=0;g<a.length;g++){const E=a[g],M=Yr(E);"number"==typeof M?-1===M?c=E.token:d|=M:c=E}r.push(kt(c,d))}else r.push(kt(a))}return r}function lr(t,r){return t[mn]=r,t.prototype[mn]=r,t}function Yr(t){return t[mn]}function Qr(t){return{toString:t}.toString()}var ji=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ji||{}),mi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mi||{});const Pi={},Vn=[],Zi=be({\u0275cmp:be}),sr=be({\u0275dir:be}),Gi=be({\u0275pipe:be}),Ji=be({\u0275mod:be}),Oi=be({\u0275fac:be}),Rs=be({__NG_ELEMENT_ID__:be}),Ie=be({__NG_ENV_ID__:be});function Te(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function ke(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],E=s[a++];t.setAttribute(r,g,E,d)}else{const d=c,g=s[++a];Ct(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function ut(t){return 3===t||4===t||6===t}function Ct(t){return 64===t.charCodeAt(0)}function tn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Yn(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Yn(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const E=t[d++];if("number"==typeof E){if(E===r){g=-1;break}if(E>r){g=d-1;break}}}for(;d<t.length;){const E=t[d];if("number"==typeof E)break;if(E===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Pn="ng-template";function Nn(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==Te(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function qi(t){return 4===t.type&&t.value!==Pn}function bi(t,r,s){return r===(4!==t.type||s?t.value:Pn)}function pi(t,r,s){let a=4;const c=t.attrs||[],d=function Ps(t){for(let r=0;r<t.length;r++)if(ut(t[r]))return r;return t.length}(c);let g=!1;for(let E=0;E<r.length;E++){const M=r[E];if("number"!=typeof M){if(!g)if(4&a){if(a=2|1&a,""!==M&&!bi(t,M,s)||""===M&&1===r.length){if(gr(a))return!1;g=!0}}else{const U=8&a?M:r[++E];if(8&a&&null!==t.attrs){if(!Nn(t.attrs,U,s)){if(gr(a))return!1;g=!0}continue}const le=Ss(8&a?"class":M,c,qi(t),s);if(-1===le){if(gr(a))return!1;g=!0;continue}if(""!==U){let Ce;Ce=le>d?"":c[le+1].toLowerCase();const Ve=8&a?Ce:null;if(Ve&&-1!==Te(Ve,U,0)||2&a&&U!==Ce){if(gr(a))return!1;g=!0}}}}else{if(!g&&!gr(a)&&!gr(M))return!1;if(g&&gr(M))continue;g=!1,a=M|1&a}}return gr(a)||g}function gr(t){return 0==(1&t)}function Ss(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let E=r[++c];for(;"string"==typeof E;)E=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function Os(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function vo(t,r,s=!1){for(let a=0;a<r.length;a++)if(pi(t,r[a],s))return!0;return!1}function _o(t,r){return t?":not("+r.trim()+")":r}function oo(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const E=t[++s];c+="["+g+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!gr(g)&&(r+=_o(d,c),c=""),a=g,d=d||!gr(a);s++}return""!==c&&(r+=_o(d,c)),r}function ks(t){return Qr(()=>{const r=qs(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ji.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mi.Emulated,styles:t.styles||Vn,_:null,schemas:t.schemas||null,tView:null,id:""};gs(s);const a=t.dependencies;return s.directiveDefs=Ls(a,!1),s.pipeDefs=Ls(a,!0),s.id=function Vs(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function as(t){return An(t)||mr(t)}function Eo(t){return null!==t}function Fs(t){return Qr(()=>({type:t.type,bootstrap:t.bootstrap||Vn,declarations:t.declarations||Vn,imports:t.imports||Vn,exports:t.exports||Vn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ti(t,r){if(null==t)return Pi;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function es(t){return Qr(()=>{const r=qs(t);return gs(r),r})}function Is(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function An(t){return t[Zi]||null}function mr(t){return t[sr]||null}function In(t){return t[Gi]||null}function ps(t){const r=An(t)||mr(t)||In(t);return null!==r&&r.standalone}function Gr(t,r){const s=t[Ji]||null;if(!s&&!0===r)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return s}function qs(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Pi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Vn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ti(t.inputs,r),outputs:Ti(t.outputs)}}function gs(t){t.features?.forEach(r=>r(t))}function Ls(t,r){if(!t)return null;const s=r?In:as;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(Eo)}const Ar=0,Ft=1,Mn=2,dr=3,Mi=4,Ws=5,ki=6,yi=7,si=8,us=9,di=10,Tn=11,ms=12,Us=13,Bs=14,qr=15,Ks=16,Fi=17,Wi=18,xs=19,jo=20,Ds=21,ys=22,vi=23,js=24,$n=25,Ur=1,vs=2,ei=7,ts=9,_i=11;function xi(t){return Array.isArray(t)&&"object"==typeof t[Ur]}function hi(t){return Array.isArray(t)&&!0===t[Ur]}function G(t){return 0!=(4&t.flags)}function $(t){return t.componentOffset>-1}function ue(t){return 1==(1&t.flags)}function ge(t){return!!t.template}function Se(t){return 0!=(512&t[Mn])}function Do(t,r){return t.hasOwnProperty(Oi)?t[Oi]:null}let Mr=null,bo=!1;function ls(t){const r=Mr;return Mr=t,r}const fo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function bs(t){if(!Ee(t)||t.dirty){if(!t.producerMustRecompute(t)&&!w(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function wa(t){t.dirty=!0,function Yo(t){if(void 0===t.liveConsumerNode)return;const r=bo;bo=!0;try{for(const s of t.liveConsumerNode)s.dirty||wa(s)}finally{bo=r}}(t),t.consumerMarkedDirty?.(t)}function H(t){return t&&(t.nextProducerIndex=0),ls(t)}function y(t,r){if(ls(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ee(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)oe(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function w(t){we(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(bs(s),a!==s.version))return!0}return!1}function O(t){if(we(t),Ee(t))for(let r=0;r<t.producerNode.length;r++)oe(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function oe(t,r){if(function je(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),we(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)oe(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];we(c),c.producerIndexOfThis[a]=r}}function Ee(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function we(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ae=null;function Ys(t){const r=ls(null);try{return t()}finally{ls(r)}}const Fr=()=>{},Hi=(()=>({...fo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Fr}))();class rn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function We(){return Yt}function Yt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vi),Hn}function Hn(){const t=Wt(this),r=t?.current;if(r){const s=t.previous;if(s===Pi)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Vi(t,r,s,a){const c=this.declaredInputs[s],d=Wt(t)||function Co(t,r){return t[Gt]=r}(t,{previous:Pi,current:null}),g=d.current||(d.current={}),E=d.previous,M=E[c];g[c]=new rn(M&&M.currentValue,r,E===Pi),t[a]=r}We.ngInherit=!0;const Gt="__ngSimpleChanges__";function Wt(t){return t[Gt]||null}const yt=function(t,r,s){};function Un(t){for(;Array.isArray(t);)t=t[Ar];return t}function xa(t,r){return Un(r[t])}function $s(t,r){return Un(r[t.index])}function $u(t,r){return t.data[r]}function aa(t,r){return t[r]}function zo(t,r){const s=r[t];return xi(s)?s:s[Ar]}function po(t,r){return null==r?null:t[r]}function Ts(t){t[Fi]=0}function zi(t){1024&t[Mn]||(t[Mn]|=1024,Na(t,1))}function an(t){1024&t[Mn]&&(t[Mn]&=-1025,Na(t,-1))}function Na(t,r){let s=t[dr];if(null===s)return;s[Ws]+=r;let a=s;for(s=s[dr];null!==s&&(1===r&&1===a[Ws]||-1===r&&0===a[Ws]);)s[Ws]+=r,a=s,s=s[dr]}const dn={lFrame:Rr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ha(){return dn.bindingsEnabled}function Et(){return dn.lFrame.lView}function jr(){return dn.lFrame.tView}function Go(t){return dn.lFrame.contextLView=t,t[si]}function ru(t){return dn.lFrame.contextLView=null,t}function Fe(){let t=iu();for(;null!==t&&64===t.type;)t=t.parent;return t}function iu(){return dn.lFrame.currentTNode}function Jo(t,r){const s=dn.lFrame;s.currentTNode=t,s.isParent=r}function ca(){return dn.lFrame.isParent}function ea(){dn.lFrame.isParent=!1}function ds(){return dn.lFrame.bindingIndex++}function Oo(t){const r=dn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function m(t,r){const s=dn.lFrame;s.bindingIndex=s.bindingRootIndex=t,L(r)}function L(t){dn.lFrame.currentDirectiveIndex=t}function de(){return dn.lFrame.currentQueryIndex}function Ge(t){dn.lFrame.currentQueryIndex=t}function $e(t){const r=t[Ft];return 2===r.type?r.declTNode:1===r.type?t[ki]:null}function $t(t,r,s){if(s&Ot.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&Ot.Host||(c=$e(d),null===c||(d=d[Bs],10&c.type))););if(null===c)return!1;r=c,t=d}const a=dn.lFrame=Nr();return a.currentTNode=r,a.lView=t,!0}function Ln(t){const r=Nr(),s=t[Ft];dn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Nr(){const t=dn.lFrame,r=null===t?null:t.child;return null===r?Rr(t):r}function Rr(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function na(){const t=dn.lFrame;return dn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Qs=na;function ra(){const t=na();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ns(){return dn.lFrame.selectedIndex}function qa(t){dn.lFrame.selectedIndex=t}function rs(){const t=dn.lFrame;return $u(t.tView,t.selectedIndex)}let Sd=!0;function Au(){return Sd}function ia(t){Sd=t}function Yi(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:E,ngAfterViewInit:M,ngAfterViewChecked:U,ngOnDestroy:Q}=d;g&&(t.contentHooks??=[]).push(-s,g),E&&((t.contentHooks??=[]).push(s,E),(t.contentCheckHooks??=[]).push(s,E)),M&&(t.viewHooks??=[]).push(-s,M),U&&((t.viewHooks??=[]).push(s,U),(t.viewCheckHooks??=[]).push(s,U)),null!=Q&&(t.destroyHooks??=[]).push(s,Q)}}function cc(t,r,s){Ri(t,r,3,s)}function Ia(t,r,s,a){(3&t[Mn])===s&&Ri(t,r,s,a)}function Mu(t,r){let s=t[Mn];(3&s)===r&&(s&=8191,s+=1,t[Mn]=s)}function Ri(t,r,s,a){const d=a??-1,g=r.length-1;let E=0;for(let M=void 0!==a?65535&t[Fi]:0;M<g;M++)if("number"==typeof r[M+1]){if(E=r[M],null!=a&&E>=a)break}else r[M]<0&&(t[Fi]+=65536),(E<d||-1==d)&&(Js(t,s,r,M),t[Fi]=(4294901760&t[Fi])+M+2),M++}function Wa(t,r){yt(4,t,r);const s=ls(null);try{r.call(t)}finally{ls(s),yt(5,t,r)}}function Js(t,r,s,a){const c=s[a]<0,d=s[a+1],E=t[c?-s[a]:s[a]];c?t[Mn]>>13<t[Fi]>>16&&(3&t[Mn])===r&&(t[Mn]+=8192,Wa(E,d)):Wa(E,d)}const Ei=-1;class su{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function la(t){return t!==Ei}function Da(t){return 32767&t}function da(t,r){let s=function Cl(t){return t>>16}(t),a=r;for(;s>0;)a=a[Bs],s--;return a}let Oc=!0;function Wo(t){const r=Oc;return Oc=t,r}const Za=255,ba=5;let Ta=0;const eo={};function au(t,r){const s=Ya(t,r);if(-1!==s)return s;const a=r[Ft];a.firstCreatePass&&(t.injectorIndex=r.length,Ca(a.data,t),Ca(r,null),Ca(a.blueprint,null));const c=Fa(t,r),d=t.injectorIndex;if(la(c)){const g=Da(c),E=da(c,r),M=E[Ft].data;for(let U=0;U<8;U++)r[d+U]=E[g+U]|M[g+U]}return r[d+8]=c,d}function Ca(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ya(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Fa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=b(c),null===a)return Ei;if(s++,c=c[Bs],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Ei}function fa(t,r,s){!function ha(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Rs)&&(a=s[Rs]),null==a&&(a=s[Rs]=Ta++);const c=a&Za;r.data[t+(c>>ba)]|=1<<c}(t,r,s)}function uu(t,r,s){if(s&Ot.Optional||void 0!==t)return t;Be()}function Al(t,r,s,a){if(s&Ot.Optional&&void 0===a&&(a=null),!(s&(Ot.Self|Ot.Host))){const c=t[us],d=zr(void 0);try{return c?c.get(r,a,s&Ot.Optional):Jr(r,a,s&Ot.Optional)}finally{zr(d)}}return uu(a,0,s)}function kc(t,r,s,a=Ot.Default,c){if(null!==t){if(2048&r[Mn]&&!(a&Ot.Self)){const g=function Nu(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[Mn]&&!(512&g[Mn]);){const E=xu(d,g,s,a|Ot.Self,eo);if(E!==eo)return E;let M=d.parent;if(!M){const U=g[jo];if(U){const Q=U.get(s,eo,a);if(Q!==eo)return Q}M=b(g),g=g[Bs]}d=M}return c}(t,r,s,a,eo);if(g!==eo)return g}const d=xu(t,r,s,a,eo);if(d!==eo)return d}return Al(r,s,a,c)}function xu(t,r,s,a,c){const d=function Ad(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Rs)?t[Rs]:void 0;return"number"==typeof r?r>=0?r&Za:Qa:r}(s);if("function"==typeof d){if(!$t(r,t,a))return a&Ot.Host?uu(c,0,a):Al(r,s,a,c);try{let g;if(g=d(a),null!=g||a&Ot.Optional)return g;Be()}finally{Qs()}}else if("number"==typeof d){let g=null,E=Ya(t,r),M=Ei,U=a&Ot.Host?r[qr][ki]:null;for((-1===E||a&Ot.SkipSelf)&&(M=-1===E?Fa(t,r):r[E+8],M!==Ei&&Fc(a,!1)?(g=r[Ft],E=Da(M),r=da(M,r)):E=-1);-1!==E;){const Q=r[Ft];if(Va(d,E,Q.data)){const le=Sa(E,r,s,g,a,U);if(le!==eo)return le}M=r[E+8],M!==Ei&&Fc(a,r[Ft].data[E+8]===U)&&Va(d,E,r)?(g=Q,E=Da(M),r=da(M,r)):E=-1}}return c}function Sa(t,r,s,a,c,d){const g=r[Ft],E=g.data[t+8],Q=La(E,g,s,null==a?$(E)&&Oc:a!=g&&0!=(3&E.type),c&Ot.Host&&d===E);return null!==Q?cu(r,g,Q,E):eo}function La(t,r,s,a,c){const d=t.providerIndexes,g=r.data,E=1048575&d,M=t.directiveStart,Q=d>>20,Ce=c?E+Q:t.directiveEnd;for(let Ve=a?E:E+Q;Ve<Ce;Ve++){const ft=g[Ve];if(Ve<M&&s===ft||Ve>=M&&ft.type===s)return Ve}if(c){const Ve=g[M];if(Ve&&ge(Ve)&&Ve.type===s)return M}return null}function cu(t,r,s,a){let c=t[s];const d=r.data;if(function ou(t){return t instanceof su}(c)){const g=c;g.resolving&&function Ue(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new nt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function vn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():St(t)}(d[s]));const E=Wo(g.canSeeViewProviders);g.resolving=!0;const U=g.injectImpl?zr(g.injectImpl):null;$t(t,a,Ot.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Dl(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Yt(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==U&&zr(U),Wo(E),g.resolving=!1,Qs()}}return c}function Va(t,r,s){return!!(s[r+(t>>ba)]&1<<t)}function Fc(t,r){return!(t&Ot.Self||t&Ot.Host&&r)}class Lr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return kc(this._tNode,this._lView,r,On(a),s)}}function Qa(){return new Lr(Fe(),Et())}function zu(t){return Qr(()=>{const r=t.prototype.constructor,s=r[Oi]||dc(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Oi]||dc(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function dc(t){return kn(t)?()=>{const r=dc(mt(t));return r&&r()}:Do(t)}function b(t){const r=t[Ft],s=r.type;return 2===s?r.declTNode:1===s?t[ki]:null}function N(t){return function Sl(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(ut(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Fe(),t)}const ie="__parameters__";function Ht(t,r,s){return Qr(()=>{const a=function it(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return E.annotation=g,E;function E(M,U,Q){const le=M.hasOwnProperty(ie)?M[ie]:Object.defineProperty(M,ie,{value:[]})[ie];for(;le.length<=Q;)le.push(null);return(le[Q]=le[Q]||[]).push(g),M}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function du(t,r){t.forEach(s=>Array.isArray(s)?du(s,r):r(s))}function Vc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Uc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ko(t,r,s){let a=pu(t,r);return a>=0?t[1|a]=s:(a=~a,function fc(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function fu(t,r){const s=pu(t,r);if(s>=0)return t[1|s]}function pu(t,r){return function mo(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const Ua=lr(Ht("Optional"),8),Fo=lr(Ht("SkipSelf"),4);function qc(t){return 128==(128&t.flags)}var Kc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kc||{});const xm=/^>|^->|<!--|-->|--!>|<!-$/g,D=/(<|>)/g,h="\u200b$1\u200b";const C=new Map;let K=0;const sa="__ngContext__";function ws(t,r){xi(r)?(t[sa]=r[xs],function xe(t){C.set(t[xs],t)}(r)):t[sa]=r}let Yc;function yc(t,r){return Yc(t,r)}function jd(t){const r=t[dr];return hi(r)?r[dr]:r}function Cp(t){return yu(t[ms])}function Bl(t){return yu(t[Mi])}function yu(t){for(;null!==t&&!hi(t);)t=t[Mi];return t}function vc(t,r,s,a,c){if(null!=a){let d,g=!1;hi(a)?d=a:xi(a)&&(g=!0,a=a[Ar]);const E=Un(a);0===t&&null!==s?null==c?Qc(r,s,E):Ma(r,s,E,c||null,!0):1===t&&null!==s?Ma(r,s,E,c||null,!0):2===t?function Hl(t,r,s){const a=Ja(t,r);a&&function xv(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,E,g):3===t&&r.destroyNode(E),null!=d&&function qh(t,r,s,a,c){const d=s[ei];d!==Un(s)&&vc(r,t,a,d,c);for(let E=_i;E<s.length;E++){const M=s[E];Wd(M[Ft],M,t,r,a,d)}}(r,t,d,s,c)}}function Hh(t,r){return t.createComment(function p(t){return t.replace(xm,r=>r.replace(D,h))}(r))}function Hd(t,r,s){return t.createElement(r,s)}function Ap(t,r){const s=t[ts],a=s.indexOf(r);an(r),s.splice(a,1)}function $l(t,r){if(t.length<=_i)return;const s=_i+r,a=t[s];if(a){const c=a[Ks];null!==c&&c!==t&&Ap(c,a),r>0&&(t[s-1][Mi]=a[Mi]);const d=Uc(t,_i+r);!function Rm(t,r){Wd(t,r,r[Tn],2,null,null),r[Ar]=null,r[ki]=null}(a[Ft],a);const g=d[Wi];null!==g&&g.detachView(d[Ft]),a[dr]=null,a[Mi]=null,a[Mn]&=-129}return a}function zh(t,r){if(!(256&r[Mn])){const s=r[Tn];r[vi]&&O(r[vi]),r[js]&&O(r[js]),s.destroyNode&&Wd(t,r,s,3,null,null),function zd(t){let r=t[ms];if(!r)return Mp(t[Ft],t);for(;r;){let s=null;if(xi(r))s=r[ms];else{const a=r[_i];a&&(s=a)}if(!s){for(;r&&!r[Mi]&&r!==t;)xi(r)&&Mp(r[Ft],r),r=r[dr];null===r&&(r=t),xi(r)&&Mp(r[Ft],r),s=r&&r[Mi]}r=s}}(r)}}function Mp(t,r){if(!(256&r[Mn])){r[Mn]&=-129,r[Mn]|=256,function Mv(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof su)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const E=c[d[g]],M=d[g+1];yt(4,E,M);try{M.call(E)}finally{yt(5,E,M)}}else{yt(4,c,d);try{d.call(c)}finally{yt(5,c,d)}}}}}(t,r),function Pm(t,r){const s=t.cleanup,a=r[yi];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[yi]=null);const c=r[Ds];if(null!==c){r[Ds]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[Ft].type&&r[Tn].destroy();const s=r[Ks];if(null!==s&&hi(r[dr])){s!==r[dr]&&Ap(s,r);const a=r[Wi];null!==a&&a.detachView(t)}!function Bt(t){C.delete(t[xs])}(r)}}function xp(t,r,s){return function Om(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Ar];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===mi.None||d===mi.Emulated)return null}return $s(a,s)}}(t,r.parent,s)}function Ma(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Qc(t,r,s){t.appendChild(r,s)}function Np(t,r,s,a,c){null!==a?Ma(t,r,s,a,c):Qc(t,r,s)}function Ja(t,r){return t.parentNode(r)}let Wu,Vp,ql,Gd=function Rp(t,r,s){return 40&t.type?$s(t,s):null};function Ou(t,r,s,a){const c=xp(t,a,r),d=r[Tn],E=function Fm(t,r,s){return Gd(t,r,s)}(a.parent||r[ki],a,r);if(null!=c)if(Array.isArray(s))for(let M=0;M<s.length;M++)Np(d,c,s[M],E,!1);else Np(d,c,s,E,!1);void 0!==Wu&&Wu(d,a,r,s,c)}function Ku(t,r){if(null!==r){const s=r.type;if(3&s)return $s(r,t);if(4&s)return qd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Ku(t,a);{const c=t[r.index];return hi(c)?qd(-1,c):Un(c)}}if(32&s)return yc(r,t)()||Un(t[r.index]);{const a=Pp(t,r);return null!==a?Array.isArray(a)?a[0]:Ku(jd(t[qr]),a):Ku(t,r.next)}}return null}function Pp(t,r){return null!==r?t[qr][ki].projection[r.projection]:null}function qd(t,r){const s=_i+t+1;if(s<r.length){const a=r[s],c=a[Ft].firstChild;if(null!==c)return Ku(a,c)}return r[ei]}function Gh(t,r,s,a,c,d,g){for(;null!=s;){const E=a[s.index],M=s.type;if(g&&0===r&&(E&&ws(Un(E),a),s.flags|=2),32!=(32&s.flags))if(8&M)Gh(t,r,s.child,a,c,d,!1),vc(r,t,c,E,d);else if(32&M){const U=yc(s,a);let Q;for(;Q=U();)vc(r,t,c,Q,d);vc(r,t,c,E,d)}else 16&M?kp(t,r,a,s,c,d):vc(r,t,c,E,d);s=g?s.projectionNext:s.next}}function Wd(t,r,s,a,c,d){Gh(s,a,t.firstChild,r,c,d,!1)}function kp(t,r,s,a,c,d){const g=s[qr],M=g[ki].projection[a.projection];if(Array.isArray(M))for(let U=0;U<M.length;U++)vc(r,t,c,M[U],d);else{let U=M;const Q=g[dr];qc(a)&&(U.flags|=128),Gh(t,r,U,Q,c,d,!0)}}function Vm(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Fp(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&ke(t,r,a),null!==c&&Vm(t,r,c),null!==d&&function Xc(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function Bm(t){Vp=t}function Zh(t){return function Yd(){if(void 0===ql&&(ql=null,qt.trustedTypes))try{ql=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ql}()?.createScriptURL(t)||t}class Bp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dt})`}}function Zu(t){return t instanceof Bp?t.changingThisBreaksApplicationSecurity:t}function Yu(t,r){const s=function Xh(t){return t instanceof Bp&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Dt})`)}return s===r}const Wl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var nl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(nl||{});function Jd(t){const r=Dc();return r?r.sanitize(nl.URL,t)||"":Yu(t,"URL")?Zu(t):function tf(t){return(t=String(t)).match(Wl)?t:"unsafe:"+t}(St(t))}function Mo(t){const r=Dc();if(r)return Zh(r.sanitize(nl.RESOURCE_URL,t)||"");if(Yu(t,"ResourceURL"))return Zh(Zu(t));throw new nt(904,!1)}function sf(t,r,s){return function Wv(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Mo:Jd}(r,s)(t)}function Dc(){const t=Et();return t&&t[di].sanitizer}const eh=new ln("ENVIRONMENT_INITIALIZER"),qp=new ln("INJECTOR",-1),af=new ln("INJECTOR_DEF_TYPES");class th{get(r,s=nn){if(s===nn){const a=new Error(`NullInjectorError: No provider for ${tt(r)}!`);throw a.name="NullInjectorError",a}return s}}function uf(...t){return{\u0275providers:cf(0,t),\u0275fromNgModule:!0}}function cf(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return du(r,g=>{const E=g;nh(E,d,[],a)&&(c||=[],c.push(E))}),void 0!==c&&lf(c,d),s}function lf(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];df(c,d=>{r(d,a)})}}function nh(t,r,s,a){if(!(t=mt(t)))return!1;let c=null,d=Fn(t);const g=!d&&An(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const M=t.ngModule;if(d=Fn(M),!d)return!1;c=M}const E=a.has(c);if(g){if(E)return!1;if(a.add(c),g.dependencies){const M="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const U of M)nh(U,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!E){let U;a.add(c);try{du(d.imports,Q=>{nh(Q,r,s,a)&&(U||=[],U.push(Q))})}finally{}void 0!==U&&lf(U,r)}if(!E){const U=Do(c)||(()=>new c);r({provide:c,useFactory:U,deps:Vn},c),r({provide:af,useValue:c,multi:!0},c),r({provide:eh,useValue:()=>kt(c),multi:!0},c)}const M=d.providers;if(null!=M&&!E){const U=t;df(M,Q=>{r(Q,U)})}}}return c!==t&&void 0!==t.providers}function df(t,r){for(let s of t)tr(s)&&(s=s.\u0275providers),Array.isArray(s)?df(s,r):r(s)}const qm=be({provide:String,useValue:be});function rh(t){return null!==t&&"object"==typeof t&&qm in t}function rl(t){return"function"==typeof t}const Kp=new ln("Set Injector scope."),Xu={},Zl={};let ih;function il(){return void 0===ih&&(ih=new th),ih}class vu{}class sl extends vu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yl(r,g=>this.processProvider(g)),this.records.set(qp,bc(void 0,this)),c.has("environment")&&this.records.set(vu,bc(void 0,this));const d=this.records.get(Kp);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(af.multi,Vn,Ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Re(this),a=zr(void 0);try{return r()}finally{Re(s),zr(a)}}get(r,s=nn,a=Ot.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ie))return r[Ie](this);a=On(a);const d=Re(this),g=zr(void 0);try{if(!(a&Ot.SkipSelf)){let M=this.records.get(r);if(void 0===M){const U=function Yp(t){return"function"==typeof t||"object"==typeof t&&t instanceof ln}(r)&&bn(r);M=U&&this.injectableDefInScope(U)?bc(hf(r),Xu):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(a&Ot.Self?il():this.parent).get(r,s=a&Ot.Optional&&s===nn?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[Kn]=E[Kn]||[]).unshift(tt(r)),d)throw E;return function Di(t,r,s,a){const c=t[Kn];throw r[li]&&c.unshift(r[li]),t.message=function Ai(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=tt(r);if(Array.isArray(r))c=r.map(tt).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let E=r[g];d.push(g+":"+("string"==typeof E?JSON.stringify(E):tt(E)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Zn,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Kn]=null,t}(E,r,"R3InjectorError",this.source)}throw E}finally{zr(g),Re(d)}}resolveInjectorInitializers(){const r=Re(this),s=zr(void 0);try{const c=this.get(eh.multi,Vn,Ot.Self);for(const d of c)d()}finally{Re(r),zr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(tt(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(r){let s=rl(r=mt(r))?r:mt(r&&r.provide);const a=function Zp(t){return rh(t)?bc(void 0,t.useValue):bc(Zm(t),Xu)}(r);if(rl(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=bc(void 0,Xu,!0),c.factory=()=>ii(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Xu&&(s.value=Zl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Qm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=mt(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function hf(t){const r=bn(t),s=null!==r?r.factory:Do(t);if(null!==s)return s;if(t instanceof ln)throw new nt(204,!1);if(t instanceof Function)return function Kv(t){const r=t.length;if(r>0)throw function hc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new nt(204,!1);const s=function ui(t){return t&&(t[Ir]||t[ur])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new nt(204,!1)}function Zm(t,r,s){let a;if(rl(t)){const c=mt(t);return Do(c)||hf(c)}if(rh(t))a=()=>mt(t.useValue);else if(function Wp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ii(t.deps||[]));else if(function Wm(t){return!(!t||!t.useExisting)}(t))a=()=>kt(mt(t.useExisting));else{const c=mt(t&&(t.useClass||t.provide));if(!function Ym(t){return!!t.deps}(t))return Do(c)||hf(c);a=()=>new c(...ii(t.deps))}return a}function bc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Yl(t,r){for(const s of t)Array.isArray(s)?Yl(s,r):s&&tr(s)?Yl(s.\u0275providers,r):r(s)}const Ql=new ln("AppId",{providedIn:"root",factory:()=>ff}),ff="ng",pf=new ln("Platform Initializer"),sh=new ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jm=new ln("AnimationModuleType"),Zv=new ln("CSP nonce",{providedIn:"root",factory:()=>function Gl(){if(void 0!==Vp)return Vp;if(typeof document<"u")return document;throw new nt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let yf=(t,r,s)=>null;function td(t,r,s=!1){return yf(t,r,s)}class Xv{}class Ef{}class id{resolveComponentFactory(r){throw function wf(t){const r=Error(`No component factory found for ${tt(t)}.`);return r.ngComponent=t,r}(r)}}let sd=(()=>{class t{static#e=this.NULL=new id}return t})();function e_(){return od(Fe(),Et())}function od(t,r){return new ad($s(t,r))}let ad=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=e_}return t})();function sy(t){return t instanceof ad?t.nativeElement:t}class oy{}let og=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function t_(){const t=Et(),s=zo(Fe().index,t);return(xi(s)?s:t)[Tn]}()}return t})(),ag=(()=>{class t{static#e=this.\u0275prov=Bn({token:t,providedIn:"root",factory:()=>null})}return t})();class ay{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Df=new ay("16.2.11"),ug={};function ll(t,r=null,s=null,a){const c=cy(t,r,s,a);return c.resolveInjectorInitializers(),c}function cy(t,r=null,s=null,a,c=new Set){const d=[s||Vn,uf(t)];return a=a||("object"==typeof t?void 0:tt(t)),new sl(d,r||il(),a||null,c)}let Eu=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=nn;static#t=this.NULL=new th;static create(s,a){if(Array.isArray(s))return ll({name:""},a,s,"");{const c=s.name??"";return ll({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=Bn({token:t,providedIn:"any",factory:()=>kt(qp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ch(t){return t.ngOriginalError}class ku{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&ch(r);for(;s&&ch(s);)s=ch(s);return s||null}}function fg(t){return r=>{setTimeout(t,void 0,r)}}const wu=class hg extends v.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const M=r;c=M.next?.bind(M),d=M.error?.bind(M),g=M.complete?.bind(M)}this.__isAsync&&(d=fg(d),c&&(c=fg(c)),g&&(g=fg(g)));const E=super.subscribe({next:c,error:d,complete:g});return r instanceof pe.w0&&r.add(E),E}};function hy(...t){}class xo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wu(!1),this.onMicrotaskEmpty=new wu(!1),this.onStable=new wu(!1),this.onError=new wu(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function fy(){const t="function"==typeof qt.requestAnimationFrame;let r=qt[t?"requestAnimationFrame":"setTimeout"],s=qt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function o_(t){const r=()=>{!function s_(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gg(t),t.isCheckStableRunning=!0,pg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,E)=>{if(function a_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(E))return s.invokeTask(c,d,g,E);try{return Af(t),s.invokeTask(c,d,g,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Mf(t)}},onInvoke:(s,a,c,d,g,E,M)=>{try{return Af(t),s.invoke(c,d,g,E,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),Mf(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,gg(t),pg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xo.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(xo.isInAngularZone())throw new nt(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,py,hy,hy);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const py={};function pg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Af(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mf(t){t._nesting--,pg(t)}class mg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wu,this.onMicrotaskEmpty=new wu,this.onStable=new wu,this.onError=new wu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const gy=new ln("",{providedIn:"root",factory:xf});function xf(){const t=Lt(xo);let r=!0;return function et(...t){const r=(0,fe.yG)(t),s=(0,fe._6)(t,1/0),a=t;return a.length?1===a.length?(0,Ae.Xf)(a[0]):(0,Oe.J)(s)((0,Xe.D)(a,r)):ce.E}(new Z.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new Z.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{xo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{xo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(Me()))}function Ju(t){return t instanceof Function?t():t}let _g=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Bn({token:t,providedIn:"root",factory:()=>new t})}return t})();function hl(t){for(;t;){t[Mn]|=64;const r=jd(t);if(Se(t)&&!r)return t;t=r}return null}const fl=new ln("",{providedIn:"root",factory:()=>!1});let dd=null;function Iy(t,r){return t[r]??Ig()}function kf(t,r){const s=Ig();s.producerNode?.length&&(t[r]=dd,s.lView=t,dd=Ff())}const d_={...fo,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hl(t.lView)},lView:null};function Ff(){return Object.create(d_)}function Ig(){return dd??=Ff(),dd}const wr={};function Dg(t){Dy(jr(),Et(),Ns()+t,!1)}function Dy(t,r,s,a){if(!a)if(3==(3&r[Mn])){const d=t.preOrderCheckHooks;null!==d&&cc(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Ia(r,d,0,s)}qa(s)}function hd(t,r=Ot.Default){const s=Et();return null===s?kt(t,r):kc(Fe(),s,mt(t),r)}function Lf(){throw new Error("invalid")}function fd(t,r,s,a,c,d,g,E,M,U,Q){const le=r.blueprint.slice();return le[Ar]=c,le[Mn]=140|a,(null!==U||t&&2048&t[Mn])&&(le[Mn]|=2048),Ts(le),le[dr]=le[Bs]=t,le[si]=s,le[di]=g||t&&t[di],le[Tn]=E||t&&t[Tn],le[us]=M||t&&t[us]||null,le[ki]=d,le[xs]=function se(){return K++}(),le[ys]=Q,le[jo]=U,le[qr]=2==r.type?t[qr]:le,le}function Sc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function lh(t,r,s,a,c){const d=iu(),g=ca(),M=t.data[r]=function Cg(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,E=0;return function Oa(){return null!==dn.skipHydrationRootTNode}()&&(E|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=M),null!==d&&(g?null==d.child&&null!==M.parent&&(d.child=M):null===d.next&&(d.next=M,M.prev=d)),M}(t,r,s,a,c),function _(){return dn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Cs(){const t=dn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Jo(d,!0),d}function dh(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function hh(t,r,s,a,c){const d=Iy(r,vi),g=Ns(),E=2&a;try{qa(-1),E&&r.length>$n&&Dy(t,r,$n,!1),yt(E?2:0,c);const U=E?d:null,Q=H(U);try{null!==U&&(U.dirty=!1),s(a,c)}finally{y(U,Q)}}finally{E&&null===r[vi]&&kf(r,vi),qa(g),yt(E?3:1,c)}}function bg(t,r,s){if(G(r)){const a=ls(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const E=t.data[g];E.contentQueries&&E.contentQueries(1,s[g],g)}}finally{ls(a)}}}function Vf(t,r,s){Ha()&&(function Rg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;$(s)&&function w_(t,r,s){const a=$s(r,t),c=pl(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const E=gl(t,fd(t,c,null,g,a,r,null,t[di].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=E}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||au(s,r),ws(a,r);const g=s.initialInputs;for(let E=c;E<d;E++){const M=t.data[E],U=cu(r,t,E,s);ws(U,r),null!==g&&My(0,E-c,U,M,0,g),ge(M)&&(zo(s.index,r)[si]=cu(r,t,E,s))}}(t,r,s,$s(s,r)),64==(64&s.flags)&&Sy(t,r,s))}function Uf(t,r,s=$s){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],E=-1===g?s(r,t):t[g];t[c++]=E}}}function pl(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Bf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Bf(t,r,s,a,c,d,g,E,M,U,Q){const le=$n+a,Ce=le+c,Ve=function jf(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:wr);return s}(le,Ce),ft="function"==typeof U?U():U;return Ve[Ft]={type:t,blueprint:Ve,template:s,queries:null,viewQuery:E,declTNode:r,data:Ve.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:M,consts:ft,incompleteFirstPass:!1,ssrId:Q}}let by=t=>null;function Hf(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Sg(s,r,c,d):a.hasOwnProperty(c)&&Sg(s,r,a[c],d)}return s}function Sg(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function zf(t,r,s,a){if(Ha()){const c=null===a?null:{"":-1},d=function y_(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(vo(r,g.selectors,!1))if(a||(a=[]),ge(g))if(null!==g.findHostDirectiveDefs){const E=[];c=c||new Map,g.findHostDirectiveDefs(g,E,c),a.unshift(...E,g),qf(t,r,E.length)}else a.unshift(g),qf(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,E;null===d?g=E=null:[g,E]=d,null!==g&&Gf(t,r,s,g,c,E),c&&function v_(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new nt(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=tn(s.mergedAttrs,s.attrs)}function Gf(t,r,s,a,c,d){for(let U=0;U<a.length;U++)fa(au(s,r),t,a[U].type);!function __(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let U=0;U<a.length;U++){const Q=a[U];Q.providersResolver&&Q.providersResolver(Q)}let g=!1,E=!1,M=dh(t,r,a.length,null);for(let U=0;U<a.length;U++){const Q=a[U];s.mergedAttrs=tn(s.mergedAttrs,Q.hostAttrs),E_(t,s,r,M,Q),Ay(M,Q,c),null!==Q.contentQueries&&(s.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(s.flags|=64);const le=Q.type.prototype;!g&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!E&&(le.ngOnChanges||le.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),E=!0),M++}!function Ag(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,E=[];let M=null,U=null;for(let Q=r.directiveStart;Q<c;Q++){const le=d[Q],Ce=s?s.get(le):null,ft=Ce?Ce.outputs:null;M=Hf(le.inputs,Q,M,Ce?Ce.inputs:null),U=Hf(le.outputs,Q,U,ft);const At=null===M||null===g||qi(r)?null:I_(M,Q,g);E.push(At)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=8),M.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=E,r.inputs=M,r.outputs=U}(t,s,d)}function Sy(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function A(){return dn.lFrame.currentDirectiveIndex}();try{qa(d);for(let E=a;E<c;E++){const M=t.data[E],U=r[E];L(E),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&m_(M,U)}}finally{qa(-1),L(g)}}function m_(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function qf(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Ay(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;ge(r)&&(s[""]=t)}}function E_(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Do(c.type)),g=new su(d,ge(c),hd);t.blueprint[a]=g,s[a]=g,function Cy(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const E=~r.index;(function pd(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=E&&g.push(E),g.push(s,a,d)}}(t,r,a,dh(t,s,c.hostVars,wr),c)}function Lu(t,r,s,a,c,d){const g=$s(t,r);!function Wf(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const E=null==g?St(d):g(d,a||"",c);t.setAttribute(r,c,E,s)}}(r[Tn],g,d,t.value,s,a,c)}function My(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let E=0;E<g.length;)Kf(a,s,g[E++],g[E++],g[E++])}function Kf(t,r,s,a,c){const d=ls(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{ls(d)}}function I_(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let E=0;E<g.length;E+=2)if(g[E]===r){a.push(d,g[E+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Pg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Og(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];Ge(s[a]),g.contentQueries(2,r[d],d)}}}function gl(t,r){return t[ms]?t[Us][Mi]=r:t[ms]=r,t[Us]=r,r}function ai(t,r,s){Ge(0);const a=ls(null);try{r(t,s)}finally{ls(a)}}function kg(t){return t[yi]||(t[yi]=[])}function gd(t){return t.cleanup||(t.cleanup=[])}function Gs(t,r){const s=t[us],a=s?s.get(ku,null):null;a&&a.handleError(r)}function No(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],E=s[d++];Kf(t.data[g],r[g],a,E,c)}}function Vo(t,r,s){const a=xa(r,t);!function jl(t,r,s){t.setValue(r,s)}(t[Tn],a,s)}function b_(t,r){const s=zo(r,t),a=s[Ft];!function Ew(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Ar];null!==c&&null===s[ys]&&(s[ys]=td(c,s[us])),Zf(a,s,s[si])}function Zf(t,r,s){Ln(r);try{const a=t.viewQuery;null!==a&&ai(1,a,s);const c=t.template;null!==c&&hh(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Og(t,r),t.staticViewQueries&&ai(2,t.viewQuery,s);const d=t.components;null!==d&&function ww(t,r){for(let s=0;s<r.length;s++)b_(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Mn]&=-5,ra()}}let Fg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function kr(t,r,s){const a=Object.create(Hi);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>wa(a),run:()=>{if(a.dirty=!1,a.hasRun&&!w(a))return;a.hasRun=!0;const g=H(a);try{a.cleanupFn(),a.cleanupFn=Fr,a.fn(c)}finally{y(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,U=>{this.all.has(U)&&this.queue.set(U,d)},c);let E;this.all.add(g),g.notify();const M=()=>{g.cleanup(),E?.(),this.all.delete(g),this.queue.delete(g)};return E=a?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Bn({token:t,providedIn:"root",factory:()=>new t})}return t})();function md(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const E=r[g];"number"==typeof E?d=E:1==d?c=gt(c,E):2==d&&(a=gt(a,E+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function fh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Un(d)),hi(d)&&C_(d,a);const g=s.type;if(8&g)fh(t,r,s.child,a);else if(32&g){const E=yc(s,r);let M;for(;M=E();)a.push(M)}else if(16&g){const E=Pp(r,s);if(Array.isArray(E))a.push(...E);else{const M=jd(r[qr]);fh(M[Ft],M,E,a,!0)}}s=c?s.projectionNext:s.next}return a}function C_(t,r){for(let s=_i;s<t.length;s++){const a=t[s],c=a[Ft].firstChild;null!==c&&fh(a[Ft],a,c,r)}t[ei]!==t[Ar]&&r.push(t[ei])}function Qi(t,r,s,a=!0){const c=r[di],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{ro(t,r,t.template,s)}catch(M){throw a&&Gs(r,M),M}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function ro(t,r,s,a){const c=r[Mn];if(256!=(256&c)){r[di].effectManager?.flush(),Ln(r);try{Ts(r),function Rc(t){return dn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&hh(t,r,s,2,a);const g=3==(3&c);if(g){const U=t.preOrderCheckHooks;null!==U&&cc(r,U,null)}else{const U=t.preOrderHooks;null!==U&&Ia(r,U,0,null),Mu(r,0)}if(function Iw(t){for(let r=Cp(t);null!==r;r=Bl(r)){if(!r[vs])continue;const s=r[ts];for(let a=0;a<s.length;a++){zi(s[a])}}}(r),Lg(r,2),null!==t.contentQueries&&Og(t,r),g){const U=t.contentCheckHooks;null!==U&&cc(r,U)}else{const U=t.contentHooks;null!==U&&Ia(r,U,1),Mu(r,1)}!function h_(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Iy(r,js);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)qa(~d);else{const g=d,E=s[++c],M=s[++c];m(E,g),a.dirty=!1;const U=H(a);try{M(2,r[g])}finally{y(a,U)}}}}finally{null===r[js]&&kf(r,js),qa(-1)}}(t,r);const E=t.components;null!==E&&A_(r,E,0);const M=t.viewQuery;if(null!==M&&ai(2,M,a),g){const U=t.viewCheckHooks;null!==U&&cc(r,U)}else{const U=t.viewHooks;null!==U&&Ia(r,U,2),Mu(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Mn]&=-73,an(r)}finally{ra()}}}function Lg(t,r){for(let s=Cp(t);null!==s;s=Bl(s))for(let a=_i;a<s.length;a++)Vg(s[a],r)}function Dw(t,r,s){Vg(zo(r,t),s)}function Vg(t,r){if(!function bu(t){return 128==(128&t[Mn])}(t))return;const s=t[Ft],a=t[Mn];if(80&a&&0===r||1024&a||2===r)ro(s,t,s.template,t[si]);else if(t[Ws]>0){Lg(t,1);const c=s.components;null!==c&&A_(t,c,1)}}function A_(t,r,s){for(let a=0;a<r.length;a++)Dw(t,r[a],s)}class Yf{get rootNodes(){const r=this._lView,s=r[Ft];return fh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[si]}set context(r){this._lView[si]=r}get destroyed(){return 256==(256&this._lView[Mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[dr];if(hi(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&($l(r,a),Uc(s,a))}this._attachedToViewContainer=!1}zh(this._lView[Ft],this._lView)}onDestroy(r){!function Kr(t,r){if(256==(256&t[Mn]))throw new nt(911,!1);null===t[Ds]&&(t[Ds]=[]),t[Ds].push(r)}(this._lView,r)}markForCheck(){hl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mn]&=-129}reattach(){this._lView[Mn]|=128}detectChanges(){Qi(this._lView[Ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sv(t,r){Wd(t,r,r[Tn],2,null,null)}(this._lView[Ft],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=r}}class bw extends Yf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Qi(r[Ft],r,r[si],!1)}checkNoChanges(){}get context(){return null}}class M_ extends sd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=An(r);return new yd(s,this.ngModule)}}function x_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Cw{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=On(a);const c=this.injector.get(r,ug,a);return c!==ug||s===ug?c:this.parentInjector.get(r,s,a)}}class yd extends Ef{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=x_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return x_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function As(t){return t.map(oo).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof vu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Cw(r,d):r,E=g.get(oy,null);if(null===E)throw new nt(407,!1);const le={rendererFactory:E,sanitizer:g.get(ag,null),effectManager:g.get(Fg,null),afterRenderEventManager:g.get(_g,null)},Ce=E.createRenderer(null,this.componentDef),Ve=this.componentDef.selectors[0][0]||"div",ft=a?function f_(t,r,s,a){const d=a.get(fl,!1)||s===mi.ShadowDom,g=t.selectRootElement(r,d);return function p_(t){by(t)}(g),g}(Ce,a,this.componentDef.encapsulation,g):Hd(Ce,Ve,function Tw(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ve)),Cn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let It=null;null!==ft&&(It=td(ft,g,!0));const Dr=Bf(0,null,null,1,0,null,null,null,null,null,null),ni=fd(null,Dr,null,Cn,null,null,le,Ce,g,null,It);let ss,nu;Ln(ni);try{const Il=this.componentDef;let gp,fw=null;Il.findHostDirectiveDefs?(gp=[],fw=new Map,Il.findHostDirectiveDefs(Il,gp,fw),gp.push(Il)):gp=[Il];const rS=function N_(t,r){const s=t[Ft],a=$n;return t[a]=r,Sc(s,a,2,"#host",null)}(ni,ft),iS=function ml(t,r,s,a,c,d,g){const E=c[Ft];!function vd(t,r,s,a){for(const c of t)r.mergedAttrs=tn(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(md(r,r.mergedAttrs,!0),null!==s&&Fp(a,s,r))}(a,t,r,g);let M=null;null!==r&&(M=td(r,c[us]));const U=d.rendererFactory.createRenderer(r,s);let Q=16;s.signals?Q=4096:s.onPush&&(Q=64);const le=fd(c,pl(s),null,Q,c[t.index],t,d,U,null,null,M);return E.firstCreatePass&&qf(E,t,a.length-1),gl(c,le),c[t.index]=le}(rS,ft,Il,gp,ni,le,Ce);nu=$u(Dr,$n),ft&&function Ug(t,r,s,a){if(a)ke(t,s,["ng-version",Df.full]);else{const{attrs:c,classes:d}=function Ms(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!gr(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&ke(t,s,c),d&&d.length>0&&Vm(t,s,d.join(" "))}}(Ce,Il,ft,a),void 0!==s&&function Bg(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(nu,this.ngContentSelectors,s),ss=function Sw(t,r,s,a,c,d){const g=Fe(),E=c[Ft],M=$s(g,c);Gf(E,c,g,s,null,a);for(let Q=0;Q<s.length;Q++)ws(cu(c,E,g.directiveStart+Q,g),c);Sy(E,c,g),M&&ws(M,c);const U=cu(c,E,g.directiveStart+g.componentOffset,g);if(t[si]=c[si]=U,null!==d)for(const Q of d)Q(U,r);return bg(E,g,t),U}(iS,Il,gp,fw,ni,[R_]),Zf(Dr,ni,null)}finally{ra()}return new ph(this.componentType,ss,od(nu,ni),ni,nu)}}class ph extends Xv{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new bw(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;No(d[Ft],d,c,r,s),this.previousInputValues.set(r,s),hl(zo(this._tNode.index,d))}}get injector(){return new Lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function R_(){const t=Fe();Yi(Et()[Ft],t)}function Qf(t){let r=function Ny(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(ge(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new nt(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=yl(t.inputs),g.inputTransforms=yl(t.inputTransforms),g.declaredInputs=yl(t.declaredInputs),g.outputs=yl(t.outputs);const E=c.hostBindings;E&&jg(t,E);const M=c.viewQuery,U=c.contentQueries;if(M&&P_(t,M),U&&_d(t,U),ot(t.inputs,c.inputs),ot(t.declaredInputs,c.declaredInputs),ot(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),ot(g.inputTransforms,c.inputTransforms)),ge(c)&&c.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const E=d[g];E&&E.ngInherit&&E(t),E===Qf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Ry(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=tn(c.hostAttrs,s=tn(s,c.hostAttrs))}}(a)}function yl(t){return t===Pi?{}:t===Vn?[]:t}function P_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function _d(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function jg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Ac(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function mh(t){return!!Gg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Gg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Uo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function vh(t,r,s,a){const c=Et();return Uo(c,ds(),r)&&(jr(),Lu(rs(),c,t,r,s,a)),vh}function Vu(t,r,s,a,c,d){const E=function vl(t,r,s,a){const c=Uo(t,r,s);return Uo(t,r+1,a)||c}(t,function ta(){return dn.lFrame.bindingIndex}(),s,c);return Oo(2),E?r+St(s)+a+St(c)+d:wr}function Hy(t,r,s,a,c,d,g,E){const M=Et(),U=jr(),Q=t+$n,le=U.firstCreatePass?function Uw(t,r,s,a,c,d,g,E,M){const U=r.consts,Q=Sc(r,t,4,g||null,po(U,E));zf(r,s,Q,po(U,M)),Yi(r,Q);const le=Q.tView=Bf(2,Q,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U,null);return null!==r.queries&&(r.queries.template(r,Q),le.queries=r.queries.embeddedTView(Q)),Q}(Q,U,M,r,s,a,c,d,g):U.data[Q];Jo(le,!1);const Ce=zy(U,M,le,t);Au()&&Ou(U,M,Ce,le),ws(Ce,M),gl(M,M[Q]=Pg(Ce,M,Ce,le)),ue(le)&&Vf(U,M,le),null!=g&&Uf(M,le,E)}let zy=function Gy(t,r,s,a){return ia(!0),r[Tn].createComment("")};function K_(t){return aa(function za(){return dn.lFrame.contextLView}(),$n+t)}function qy(t,r,s){const a=Et();return Uo(a,ds(),r)&&function oa(t,r,s,a,c,d,g,E){const M=$s(r,s);let Q,U=r.inputs;!E&&null!=U&&(Q=U[a])?(No(t,s,Q,a,c),$(r)&&function xg(t,r){const s=zo(r,t);16&s[Mn]||(s[Mn]|=64)}(s,r.index)):3&r.type&&(a=function Mg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(M,a,c))}(jr(),rs(),a,t,r,a[Tn],s,!1),qy}function Wy(t,r,s,a,c){const g=c?"class":"style";No(t,s,r.inputs[g],g,a)}function rp(t,r,s,a){const c=Et(),d=jr(),g=$n+t,E=c[Tn],M=d.firstCreatePass?function Z_(t,r,s,a,c,d){const g=r.consts,M=Sc(r,t,2,a,po(g,c));return zf(r,s,M,po(g,d)),null!==M.attrs&&md(M,M.attrs,!1),null!==M.mergedAttrs&&md(M,M.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,M),M}(g,d,c,r,s,a):d.data[g],U=Zy(d,c,M,E,r,t);c[g]=U;const Q=ue(M);return Jo(M,!0),Fp(E,U,M),32!=(32&M.flags)&&Au()&&Ou(d,c,U,M),0===function Pa(){return dn.lFrame.elementDepthCount}()&&ws(U,c),function ua(){dn.lFrame.elementDepthCount++}(),Q&&(Vf(d,c,M),bg(d,M,c)),null!==a&&Uf(c,M),rp}function ip(){let t=Fe();ca()?ea():(t=t.parent,Jo(t,!1));const r=t;(function ka(t){return dn.skipHydrationRootTNode===t})(r)&&function uc(){dn.skipHydrationRootTNode=null}(),function sc(){dn.lFrame.elementDepthCount--}();const s=jr();return s.firstCreatePass&&(Yi(s,t),G(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function zs(t){return 0!=(8&t.flags)}(r)&&Wy(s,r,Et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Tl(t){return 0!=(16&t.flags)}(r)&&Wy(s,r,Et(),r.stylesWithoutHost,!1),ip}function Ky(t,r,s,a){return rp(t,r,s,a),ip(),Ky}let Zy=(t,r,s,a,c,d)=>(ia(!0),Hd(a,c,function Su(){return dn.lFrame.currentNamespace}()));function Yg(t,r,s){const a=Et(),c=jr(),d=t+$n,g=c.firstCreatePass?function Q_(t,r,s,a,c){const d=r.consts,g=po(d,a),E=Sc(r,t,8,"ng-container",g);return null!==g&&md(E,g,!0),zf(r,s,E,po(d,c)),null!==r.queries&&r.queries.elementStart(r,E),E}(d,c,a,r,s):c.data[d];Jo(g,!0);const E=J_(c,a,g,t);return a[d]=E,Au()&&Ou(c,a,E,g),ws(E,a),ue(g)&&(Vf(c,a,g),bg(c,g,a)),null!=s&&Uf(a,g),Yg}function Qg(){let t=Fe();const r=jr();return ca()?ea():(t=t.parent,Jo(t,!1)),r.firstCreatePass&&(Yi(r,t),G(t)&&r.queries.elementEnd(t)),Qg}let J_=(t,r,s,a)=>(ia(!0),Hh(r[Tn],""));function eE(){return Et()}function Yy(t){return!!t&&"function"==typeof t.then}function Xg(t){return!!t&&"function"==typeof t.subscribe}function Jg(t,r,s,a){const c=Et(),d=jr(),g=Fe();return function op(t,r,s,a,c,d,g){const E=ue(a),U=t.firstCreatePass&&gd(t),Q=r[si],le=kg(r);let Ce=!0;if(3&a.type||g){const At=$s(a,r),Xt=g?g(At):At,Cn=le.length,It=g?ni=>g(Un(ni[a.index])):a.index;let Dr=null;if(!g&&E&&(Dr=function tE(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const E=r[yi],M=c[d+2];return E.length>M?E[M]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Dr)(Dr.__ngLastListenerFn__||Dr).__ngNextListenerFn__=d,Dr.__ngLastListenerFn__=d,Ce=!1;else{d=nE(a,r,Q,d,!1);const ni=s.listen(Xt,c,d);le.push(d,ni),U&&U.push(c,It,Cn,Cn+1)}}else d=nE(a,r,Q,d,!1);const Ve=a.outputs;let ft;if(Ce&&null!==Ve&&(ft=Ve[c])){const At=ft.length;if(At)for(let Xt=0;Xt<At;Xt+=2){const ss=r[ft[Xt]][ft[Xt+1]].subscribe(d),nu=le.length;le.push(d,ss),U&&U.push(c,a.index,nu,-(nu+1))}}}(d,c,c[Tn],g,t,r,a),Jg}function Qy(t,r,s,a){try{return yt(6,r,s),!1!==s(a)}catch(c){return Gs(t,c),!1}finally{yt(7,r,s)}}function nE(t,r,s,a,c){return function d(g){if(g===Function)return a;hl(t.componentOffset>-1?zo(t.index,r):r);let M=Qy(r,s,a,g),U=d.__ngNextListenerFn__;for(;U;)M=Qy(r,s,U,g)&&M,U=U.__ngNextListenerFn__;return c&&!1===M&&g.preventDefault(),M}}function tm(t=1){return function Cu(t){return(dn.lFrame.contextLView=function Xs(t,r){for(;t>0;)r=r[Bs],t--;return r}(t,dn.lFrame.contextLView))[si]}(t)}function El(t,r){return t<<17|r<<2}function nc(t){return t>>17&32767}function Ch(t){return 2|t}function wl(t){return(131068&t)>>2}function om(t,r){return-131069&t|r<<2}function am(t){return 1|t}function uE(t,r,s,a,c){const d=t[s+1],g=null===r;let E=a?nc(d):wl(d),M=!1;for(;0!==E&&(!1===M||g);){const Q=t[E+1];Kw(t[E],r)&&(M=!0,t[E+1]=a?am(Q):Ch(Q)),E=a?nc(Q):wl(Q)}M&&(t[s+1]=a?Ch(d):am(d))}function Kw(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&pu(t,r)>=0}function iv(t,r){return function Bu(t,r,s,a){const c=Et(),d=jr(),g=Oo(2);d.firstUpdatePass&&function yE(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Ns()],g=function mE(t,r){return r>=t.expandoStartIndex}(t,s);(function DE(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function n0(t,r,s,a){const c=function Y(t){const r=dn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=up(s=sv(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=sv(c,t,r,s,a),null===d){let M=function r0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==wl(a))return t[nc(a)]}(t,r,a);void 0!==M&&Array.isArray(M)&&(M=sv(null,t,r,M[1],a),M=up(M,r.attrs,a),function s0(t,r,s,a){t[nc(s?r.classBindings:r.styleBindings)]=a}(t,r,a,M))}else d=function vE(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=up(a,t[d].hostAttrs,s);return up(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function qw(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,E=nc(g),M=wl(g);t[a]=s;let Q,U=!1;if(Array.isArray(s)?(Q=s[1],(null===Q||pu(s,Q)>0)&&(U=!0)):Q=s,c)if(0!==M){const Ce=nc(t[E+1]);t[a+1]=El(Ce,E),0!==Ce&&(t[Ce+1]=om(t[Ce+1],a)),t[E+1]=function Hw(t,r){return 131071&t|r<<17}(t[E+1],a)}else t[a+1]=El(E,0),0!==E&&(t[E+1]=om(t[E+1],a)),E=a;else t[a+1]=El(M,0),0===E?E=a:t[M+1]=om(t[M+1],a),M=a;U&&(t[a+1]=Ch(t[a+1])),uE(t,Q,a,!0),uE(t,Q,a,!1),function Ww(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&pu(d,r)>=0&&(s[a+1]=am(s[a+1]))}(r,Q,t,a,d),g=El(E,M),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==wr&&Uo(c,g,r)&&function EE(t,r,s,a,c,d,g,E){if(!(3&r.type))return;const M=t.data,U=M[E+1],Q=function aE(t){return 1==(1&t)}(U)?wE(M,r,s,c,wl(U),g):void 0;um(Q)||(um(d)||function oE(t){return 2==(2&t)}(U)&&(d=wE(M,null,s,c,E,g)),function Kd(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Kc.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Kc.Important),t.setStyle(s,a,c,d))}}(a,g,xa(Ns(),s),c,d))}(d,d.data[Ns()],c,c[Tn],t,c[g+1]=function IE(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=tt(Zu(t)))),t}(r,s),a,g)}(t,r,null,!0),iv}function sv(t,r,s,a,c){let d=null;const g=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<g&&(d=r[E],a=up(a,d.hostAttrs,c),d!==t);)E++;return null!==t&&(s.directiveStylingLast=E),a}function up(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ko(t,g,!!s||r[++d]))}return void 0===t?null:t}function wE(t,r,s,a,c,d){const g=null===r;let E;for(;c>0;){const M=t[c],U=Array.isArray(M),Q=U?M[1]:M,le=null===Q;let Ce=s[c+1];Ce===wr&&(Ce=le?Vn:void 0);let Ve=le?fu(Ce,a):Q===a?Ce:void 0;if(U&&!um(Ve)&&(Ve=fu(M,a)),um(Ve)&&(E=Ve,g))return E;const ft=t[c+1];c=g?nc(ft):wl(ft)}if(null!==r){let M=d?r.residualClasses:r.residualStyles;null!=M&&(E=fu(M,a))}return E}function um(t){return void 0!==t}function bE(t,r=""){const s=Et(),a=jr(),c=t+$n,d=a.firstCreatePass?Sc(a,c,1,r,null):a.data[c],g=TE(a,s,d,r,t);s[c]=g,Au()&&Ou(a,s,g,d),Jo(d,!1)}let TE=(t,r,s,a,c)=>(ia(!0),function $d(t,r){return t.createText(r)}(r[Tn],a));function ov(t){return cm("",t,""),ov}function cm(t,r,s){const a=Et(),c=function Id(t,r,s,a){return Uo(t,ds(),s)?r+St(s)+a:wr}(a,t,r,s);return c!==wr&&Vo(a,Ns(),c),cm}function av(t,r,s,a,c){const d=Et(),g=Vu(d,t,r,s,a,c);return g!==wr&&Vo(d,Ns(),g),av}const Ah=void 0;var MD=["en",[["a","p"],["AM","PM"],Ah],[["AM","PM"],Ah,Ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ah,"{1} 'at' {0}",Ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let cp={};function NE(t){const r=function xD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=g0(r);if(s)return s;const a=r.split("-")[0];if(s=g0(a),s)return s;if("en"===a)return MD;throw new nt(701,!1)}function p0(t){return NE(t)[lp.PluralCase]}function g0(t){return t in cp||(cp[t]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[t]),cp[t]}var lp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(lp||{});const dp="en-US";let m0=dp;function OE(t,r,s,a,c){if(t=mt(t),Array.isArray(t))for(let d=0;d<t.length;d++)OE(t[d],r,s,a,c);else{const d=jr(),g=Et(),E=Fe();let M=rl(t)?t:mt(t.provide);const U=Zm(t),Q=1048575&E.providerIndexes,le=E.directiveStart,Ce=E.providerIndexes>>20;if(rl(t)||!t.multi){const Ve=new su(U,c,hd),ft=FE(M,r,c?Q:Q+Ce,le);-1===ft?(fa(au(E,g),d,M),kE(d,t,r.length),r.push(M),E.directiveStart++,E.directiveEnd++,c&&(E.providerIndexes+=1048576),s.push(Ve),g.push(Ve)):(s[ft]=Ve,g[ft]=Ve)}else{const Ve=FE(M,r,Q+Ce,le),ft=FE(M,r,Q,Q+Ce),Xt=ft>=0&&s[ft];if(c&&!Xt||!c&&!(Ve>=0&&s[Ve])){fa(au(E,g),d,M);const Cn=function Ab(t,r,s,a,c){const d=new su(t,s,hd);return d.multi=[],d.index=r,d.componentProviders=0,j0(d,c,a&&!s),d}(c?Sb:Cb,s.length,c,a,U);!c&&Xt&&(s[ft].providerFactory=Cn),kE(d,t,r.length,0),r.push(M),E.directiveStart++,E.directiveEnd++,c&&(E.providerIndexes+=1048576),s.push(Cn),g.push(Cn)}else kE(d,t,Ve>-1?Ve:ft,j0(s[c?ft:Ve],U,!c&&a));!c&&a&&Xt&&s[ft].componentProviders++}}}function kE(t,r,s,a){const c=rl(r),d=function Km(t){return!!t.useClass}(r);if(c||d){const M=(d?mt(r.useClass):r).prototype.ngOnDestroy;if(M){const U=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const Q=U.indexOf(s);-1===Q?U.push(s,[a,M]):U[Q+1].push(a,M)}else U.push(s,M)}}}function j0(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function FE(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function Cb(t,r,s,a){return LE(this.multi,[])}function Sb(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,E=cu(s,s[Ft],this.providerFactory.index,a);d=E.slice(0,g),LE(c,d);for(let M=g;M<E.length;M++)d.push(E[M])}else d=[],LE(c,d);return d}function LE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function $0(t,r=[]){return s=>{s.providersResolver=(a,c)=>function Tb(t,r,s){const a=jr();if(a.firstCreatePass){const c=ge(t);OE(s,a.data,a.blueprint,c,!0),OE(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Mh{}class H0{}function Mb(t,r){return new VE(t,r??null,[])}class VE extends Mh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new M_(this);const c=Gr(r);this._bootstrapComponents=Ju(c.bootstrap),this._r3Injector=cy(r,s,[{provide:Mh,useValue:this},{provide:sd,useValue:this.componentFactoryResolver},...a],tt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class UE extends H0{constructor(r){super(),this.moduleType=r}create(r){return new VE(this.moduleType,r,[])}}class z0 extends Mh{constructor(r){super(),this.componentFactoryResolver=new M_(this),this.instance=null;const s=new sl([...r.providers,{provide:Mh,useValue:this},{provide:sd,useValue:this.componentFactoryResolver}],r.parent||il(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function G0(t,r,s=null){return new z0({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let Nb=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=cf(0,s.type),c=a.length>0?G0([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Bn({token:t,providedIn:"environment",factory:()=>new t(kt(vu))})}return t})();function q0(t){t.getStandaloneInjector=r=>r.get(Nb).getOrCreateStandaloneInjector(t)}function J0(t,r,s,a,c,d){const g=r+s;return Uo(t,g,c)?function Ba(t,r,s){return t[r]=s}(t,g+1,d?a.call(d,c):a(c)):function mm(t,r){const s=t[r];return s===wr?void 0:s}(t,g+1)}function iI(t,r){const s=jr();let a;const c=t+$n;s.firstCreatePass?(a=function Yb(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=Do(a.type)),E=zr(hd);try{const M=Wo(!1),U=d();return Wo(M),function Bw(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Et(),c,U),U}finally{zr(E)}}function sI(t,r,s){const a=t+$n,c=Et(),d=aa(c,a);return function ym(t,r){return t[Ft].data[r].pure}(c,a)?J0(c,function Hs(){const t=dn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}(),r,d.transform,s,d):d.transform(s)}function tT(){return this._results[Symbol.iterator]()}class jE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new wu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=jE.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=tT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Ao(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ru(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function rT(t,r,s,a=!0){const c=r[Ft];if(function Sp(t,r,s,a){const c=_i+a,d=s.length;a>0&&(s[c-1][Mi]=r),a<d-_i?(r[Mi]=s[c],Vc(s,_i+a,r)):(s.push(r),r[Mi]=null),r[dr]=s;const g=r[Ks];null!==g&&s!==g&&function Av(t,r){const s=t[ts];r[qr]!==r[dr][dr][qr]&&(t[vs]=!0),null===s?t[ts]=[r]:s.push(r)}(g,r);const E=r[Wi];null!==E&&E.insertView(t),r[Mn]|=128}(c,r,t,s),a){const d=qd(s,t),g=r[Tn],E=Ja(g,t[ei]);null!==E&&function Cv(t,r,s,a,c,d){a[Ar]=c,a[ki]=r,Wd(t,a,s,1,c,d)}(c,t[ki],g,r,E,d)}}let vm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=oT}return t})();const iT=vm,sT=class extends iT{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function nT(t,r,s,a){const c=r.tView,E=fd(t,c,s,4096&t[Mn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);E[Ks]=t[r.index];const U=t[Wi];return null!==U&&(E[Wi]=U.createEmbeddedView(c)),Zf(c,E,s),E}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Yf(c)}};function oT(){return pv(Fe(),Et())}function pv(t,r){return 4&t.type?new sT(r,t,od(t,r)):null}let mv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hT}return t})();function hT(){return hI(Fe(),Et())}const fT=mv,lI=class extends fT{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new Lr(this._hostTNode,this._hostLView)}get parentInjector(){const r=Fa(this._hostTNode,this._hostLView);if(la(r)){const s=da(r,this._hostLView),a=Da(r);return new Lr(s[Ft].data[a+8],s)}return new Lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=dI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-_i}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const E=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(E,c,false),E}createComponent(r,s,a,c,d){const g=r&&!function Xa(t){return"function"==typeof t}(r);let E;if(g)E=s;else{const At=s||{};E=At.index,a=At.injector,c=At.projectableNodes,d=At.environmentInjector||At.ngModuleRef}const M=g?r:new yd(An(r)),U=a||this.parentInjector;if(!d&&null==M.ngModule){const Xt=(g?U:this.parentInjector).get(vu,null);Xt&&(d=Xt)}An(M.componentType??{});const Ve=M.create(U,c,null,d);return this.insertImpl(Ve.hostView,E,false),Ve}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function hn(t){return hi(t[dr])}(c)){const M=this.indexOf(r);if(-1!==M)this.detach(M);else{const U=c[dr],Q=new lI(U,U[ki],U[dr]);Q.detach(Q.indexOf(r))}}const g=this._adjustIndex(s),E=this._lContainer;return rT(E,c,g,!a),r.attachToViewContainerRef(),Vc($E(E),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=dI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=$l(this._lContainer,s);a&&(Uc($E(this._lContainer),s),zh(a[Ft],a))}detach(r){const s=this._adjustIndex(r,-1),a=$l(this._lContainer,s);return a&&null!=Uc($E(this._lContainer),s)?new Yf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function dI(t){return t[8]}function $E(t){return t[8]||(t[8]=[])}function hI(t,r){let s;const a=r[t.index];return hi(a)?s=a:(s=Pg(a,r,null,t),r[t.index]=s,gl(r,s)),fI(s,r,t,a),new lI(s,t,r)}let fI=function pI(t,r,s,a){if(t[ei])return;let c;c=8&s.type?Un(a):function pT(t,r){const s=t[Tn],a=s.createComment(""),c=$s(r,t);return Ma(s,Ja(s,c),a,function km(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[ei]=c};class HE{constructor(r){this.queryList=r,this.matches=null}clone(){return new HE(this.queryList)}setDirty(){this.queryList.setDirty()}}class zE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new zE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==DI(r,s).matches&&this.queries[s].setDirty()}}class gI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class GE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new GE(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class qE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new qE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,yT(s,d)),this.matchTNodeWithReadOption(r,s,La(s,r,d,!1,!1))}else a===vm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,La(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===ad||c===mv||c===vm&&4&s.type)this.addMatch(s.index,-2);else{const d=La(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function yT(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function _T(t,r,s,a){return-1===s?function vT(t,r){return 11&t.type?od(t,r):4&t.type?pv(t,r):null}(r,t):-2===s?function ET(t,r,s){return s===ad?od(r,t):s===vm?pv(r,t):s===mv?hI(r,t):void 0}(t,r,a):cu(t,t[Ft],s,r)}function mI(t,r,s,a){const c=r[Wi].queries[a];if(null===c.matches){const d=t.data,g=s.matches,E=[];for(let M=0;M<g.length;M+=2){const U=g[M];E.push(U<0?null:_T(r,d[U],g[M+1],s.metadata.read))}c.matches=E}return c.matches}function WE(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=mI(t,r,c,s);for(let E=0;E<d.length;E+=2){const M=d[E];if(M>0)a.push(g[E/2]);else{const U=d[E+1],Q=r[-M];for(let le=_i;le<Q.length;le++){const Ce=Q[le];Ce[Ks]===Ce[dr]&&WE(Ce[Ft],Ce,U,a)}if(null!==Q[ts]){const le=Q[ts];for(let Ce=0;Ce<le.length;Ce++){const Ve=le[Ce];WE(Ve[Ft],Ve,U,a)}}}}}return a}function yI(t){const r=Et(),s=jr(),a=de();Ge(a+1);const c=DI(s,a);if(t.dirty&&function _s(t){return 4==(4&t[Mn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?WE(s,r,a,[]):mI(s,r,c,a);t.reset(d,sy),t.notifyOnChanges()}return!0}return!1}function vI(t,r,s){const a=jr();a.firstCreatePass&&(II(a,new gI(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),wI(a,Et(),r)}function _I(t,r,s,a){const c=jr();if(c.firstCreatePass){const d=Fe();II(c,new gI(r,s,a),d.index),function IT(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}wI(c,Et(),s)}function EI(){return function wT(t,r){return t[Wi].queries[r].queryList}(Et(),de())}function wI(t,r,s){const a=new jE(4==(4&s));(function Tg(t,r,s,a){const c=kg(r);c.push(s),t.firstCreatePass&&gd(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Wi]&&(r[Wi]=new zE),r[Wi].queries.push(new HE(a))}function II(t,r,s){null===t.queries&&(t.queries=new GE),t.queries.track(new qE(r,s))}function DI(t,r){return t.queries.getByIndex(r)}function bI(t,r){return pv(t,r)}function KE(t){return!!Gr(t)}const jI=new ln("Application Initializer");let JE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Lt(jI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(Yy(d))s.push(d);else if(Xg(d)){const g=new Promise((E,M)=>{d.subscribe({complete:E,error:M})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$I=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const vv=new ln("LocaleId",{providedIn:"root",factory:()=>Lt(vv,Ot.Optional|Ot.SkipSelf)||function HT(){return typeof $localize<"u"&&$localize.locale||dp}()}),zT=new ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let HI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qT{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let WT=(()=>{class t{compileModuleSync(s){return new UE(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Ju(Gr(s).declarations).reduce((g,E)=>{const M=An(E);return M&&g.push(new yd(M)),g},[]);return new qT(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const WI=new ln(""),KI=new ln("");let nw,gC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nw||(function mC(t){nw=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(kt(xo),kt(ZI),kt(KI))};static#t=this.\u0275prov=Bn({token:t,factory:t.\u0275fac})}return t})(),ZI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return nw?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Td=null;const YI=new ln("AllowMultipleToken"),rw=new ln("PlatformDestroyListeners"),iw=new ln("appBootstrapListener");class _C{constructor(r,s){this.name=r,this.token=s}}function JI(t,r,s=[]){const a=`Platform: ${r}`,c=new ln(a);return(d=[])=>{let g=sw();if(!g||g.injector.get(YI,!1)){const E=[...s,...d,{provide:c,useValue:!0}];t?t(E):function EC(t){if(Td&&!Td.get(YI,!1))throw new nt(400,!1);(function QI(){!function rt(t){ae=t}(()=>{throw new nt(600,!1)})})(),Td=t;const r=t.get(tD);(function XI(t){t.get(pf,null)?.forEach(s=>s())})(t)}(function eD(t=[],r){return Eu.create({name:r,providers:[{provide:Kp,useValue:"platform"},{provide:rw,useValue:new Set([()=>Td=null])},...t]})}(E,a))}return function IC(t){const r=sw();if(!r)throw new nt(401,!1);return r}()}}function sw(){return Td?.get(tD)??null}let tD=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function DC(t="zone.js",r){return"noop"===t?new mg:"zone.js"===t?new xo(r):t}(a?.ngZone,function nD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function xb(t,r,s){return new VE(t,r,s)}(s.moduleType,this.injector,function aD(t){return[{provide:xo,useFactory:t},{provide:eh,multi:!0,useFactory:()=>{const r=Lt(TC,{optional:!0});return()=>r.initialize()}},{provide:oD,useFactory:bC},{provide:gy,useFactory:xf}]}(()=>c)),g=d.injector.get(ku,null);return c.runOutsideAngular(()=>{const E=c.onError.subscribe({next:M=>{g.handleError(M)}});d.onDestroy(()=>{Ev(this._modules,d),E.unsubscribe()})}),function rD(t,r,s){try{const a=s();return Yy(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const E=d.injector.get(JE);return E.runInitializers(),E.donePromise.then(()=>(function y0(t){jn(t,"Expected localeId to be defined"),"string"==typeof t&&(m0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(vv,dp)||dp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=iD({},a);return function yC(t,r,s){const a=new UE(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(pp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new nt(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(rw,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(kt(Eu))};static#t=this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function iD(t,r){return Array.isArray(r)?r.reduce(iD,t):{...t,...r}}let pp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Lt(oD),this.zoneIsStable=Lt(gy),this.componentTypes=[],this.components=[],this.isStable=Lt(HI).hasPendingTasks.pipe((0,pt.w)(s=>s?(0,me.of)(!1):this.zoneIsStable),function er(t,r=Pt.y){return t=t??Jt,(0,st.e)((s,a)=>{let c,d=!0;s.subscribe((0,cn.x)(a,g=>{const E=r(g);(d||!t(c,E))&&(d=!1,c=E,a.next(g))}))})}(),Me()),this._injector=Lt(vu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Ef;if(!this._injector.get(JE).done)throw!c&&ps(s),new nt(405,!1);let g;g=c?s:this._injector.get(sd).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const E=function vC(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Mh),U=g.create(Eu.NULL,[],a||g.selector,E),Q=U.location.nativeElement,le=U.injector.get(WI,null);return le?.registerApplication(Q),U.onDestroy(()=>{this.detachView(U.hostView),Ev(this.components,U),le?.unregisterApplication(Q)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Ev(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(iw,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ev(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new nt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ev(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const oD=new ln("",{providedIn:"root",factory:()=>Lt(ku).handleError.bind(void 0)});function bC(){const t=Lt(xo),r=Lt(ku);return s=>t.runOutsideAngular(()=>r.handleError(s))}let TC=(()=>{class t{constructor(){this.zone=Lt(xo),this.applicationRef=Lt(pp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let SC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=AC}return t})();function AC(t){return function MC(t,r,s){if($(t)&&!s){const a=zo(t.index,r);return new Yf(a,a)}return 47&t.type?new Yf(r[qr],r):null}(Fe(),Et(),16==(16&t))}class dD{constructor(){}supports(r){return mh(r)}create(r){return new kC(r)}}const OC=(t,r)=>r;class kC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||OC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<fD(a,c,d)?s:a,E=fD(g,c,d),M=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const U=E-c,Q=M-c;if(U!=Q){for(let Ce=0;Ce<U;Ce++){const Ve=Ce<d.length?d[Ce]:d[Ce]=0,ft=Ve+Ce;Q<=ft&&ft<U&&(d[Ce]=Ve+1)}d[g.previousIndex]=Q-U}}E!==M&&r(g,E,M)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!mh(r))throw new nt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let E=0;E<this.length;E++)d=r[E],g=this._trackByFn(E,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,E)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,E),a=!0),s=s._next}else c=0,function yh(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,E=>{g=this._trackByFn(c,E),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,E,g,c)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new FC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new hD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class FC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class hD{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new LC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fD(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class pD{constructor(){}supports(r){return r instanceof Map||Gg(r)}create(){return new VC}}class VC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Gg(r)))throw new nt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new UC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class UC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gD(){return new lw([new dD])}let lw=(()=>{class t{static#e=this.\u0275prov=Bn({token:t,providedIn:"root",factory:gD});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||gD()),deps:[[t,new Fo,new Ua]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new nt(901,!1)}}return t})();function mD(){return new dw([new pD])}let dw=(()=>{class t{static#e=this.\u0275prov=Bn({token:t,providedIn:"root",factory:mD});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||mD()),deps:[[t,new Fo,new Ua]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new nt(901,!1)}}return t})();const $C=JI(null,"core",[]);let HC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(kt(pp))};static#t=this.\u0275mod=Fs({type:t});static#n=this.\u0275inj=Sn({})}return t})();function eS(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function nS(t){const r=An(t);if(!r)return null;const s=new yd(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},95:(Dn,dt,X)=>{X.d(dt,{Wl:()=>Pt,Fj:()=>be,CE:()=>Gr,qu:()=>hi,NI:()=>tn,u:()=>Ls,cw:()=>nn,sg:()=>An,x0:()=>In,u5:()=>ge,Fd:()=>Us,qQ:()=>qr,JJ:()=>Sn,JL:()=>bn,F:()=>ke,On:()=>Os,YN:()=>Mn,wV:()=>oo,UX:()=>Se,EJ:()=>Ft,kI:()=>mt,_Y:()=>os,Kr:()=>si});var v=X(4946),pe=X(6814),Z=X(2459),Oe=X(5592),Ae=X(7453),ce=X(4829),fe=X(4564),Xe=X(8251),et=X(7400),_e=X(2714),qe=X(7398);let st=(()=>{class P{constructor(x,W){this._renderer=x,this._elementRef=W,this.onChange=he=>{},this.onTouched=()=>{}}setProperty(x,W){this._renderer.setProperty(this._elementRef.nativeElement,x,W)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(v.Qsj),v.Y36(v.SBq))};static#t=this.\u0275dir=v.lG2({type:P})}return P})(),Me=(()=>{class P extends st{static#e=this.\u0275fac=function(){let x;return function(he){return(x||(x=v.n5z(P)))(he||P)}}();static#t=this.\u0275dir=v.lG2({type:P,features:[v.qOj]})}return P})();const Mt=new v.OlP("NgValueAccessor"),pt={provide:Mt,useExisting:(0,v.Gpc)(()=>Pt),multi:!0};let Pt=(()=>{class P extends Me{writeValue(x){this.setProperty("checked",x)}static#e=this.\u0275fac=function(){let x;return function(he){return(x||(x=v.n5z(P)))(he||P)}}();static#t=this.\u0275dir=v.lG2({type:P,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(W,he){1&W&&v.NdJ("change",function(Zt){return he.onChange(Zt.target.checked)})("blur",function(){return he.onTouched()})},features:[v._Bn([pt]),v.qOj]})}return P})();const cn={provide:Mt,useExisting:(0,v.Gpc)(()=>be),multi:!0},Jt=new v.OlP("CompositionEventMode");let be=(()=>{class P extends st{constructor(x,W,he){super(x,W),this._compositionMode=he,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function er(){const P=(0,pe.q)()?(0,pe.q)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Jt,8))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(W,he){1&W&&v.NdJ("input",function(Zt){return he._handleInput(Zt.target.value)})("blur",function(){return he.onTouched()})("compositionstart",function(){return he._compositionStart()})("compositionend",function(Zt){return he._compositionEnd(Zt.target.value)})},features:[v._Bn([cn]),v.qOj]})}return P})();function ot(P){return null==P||("string"==typeof P||Array.isArray(P))&&0===P.length}function tt(P){return null!=P&&"number"==typeof P.length}const gt=new v.OlP("NgValidators"),Tt=new v.OlP("NgAsyncValidators"),lt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mt{static min(F){return kn(F)}static max(F){return tr(F)}static required(F){return function Xr(P){return ot(P.value)?{required:!0}:null}(F)}static requiredTrue(F){return function Dt(P){return!0===P.value?null:{required:!0}}(F)}static email(F){return function nt(P){return ot(P.value)||lt.test(P.value)?null:{email:!0}}(F)}static minLength(F){return function Gn(P){return F=>ot(F.value)||!tt(F.value)?null:F.value.length<P?{minlength:{requiredLength:P,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function St(P){return F=>tt(F.value)&&F.value.length>P?{maxlength:{requiredLength:P,actualLength:F.value.length}}:null}(F)}static pattern(F){return function vn(P){if(!P)return Ue;let F,x;return"string"==typeof P?(x="","^"!==P.charAt(0)&&(x+="^"),x+=P,"$"!==P.charAt(P.length-1)&&(x+="$"),F=new RegExp(x)):(x=P.toString(),F=P),W=>{if(ot(W.value))return null;const he=W.value;return F.test(he)?null:{pattern:{requiredPattern:x,actualValue:he}}}}(F)}static nullValidator(F){return null}static compose(F){return Rn(F)}static composeAsync(F){return xt(F)}}function kn(P){return F=>{if(ot(F.value)||ot(P))return null;const x=parseFloat(F.value);return!isNaN(x)&&x<P?{min:{min:P,actual:F.value}}:null}}function tr(P){return F=>{if(ot(F.value)||ot(P))return null;const x=parseFloat(F.value);return!isNaN(x)&&x>P?{max:{max:P,actual:F.value}}:null}}function Ue(P){return null}function ze(P){return null!=P}function Qe(P){return(0,v.QGY)(P)?(0,Z.D)(P):P}function Be(P){let F={};return P.forEach(x=>{F=null!=x?{...F,...x}:F}),0===Object.keys(F).length?null:F}function at(P,F){return F.map(x=>x(P))}function en(P){return P.map(F=>function bt(P){return!P.validate}(F)?F:x=>F.validate(x))}function Rn(P){if(!P)return null;const F=P.filter(ze);return 0==F.length?null:function(x){return Be(at(x,F))}}function fn(P){return null!=P?Rn(en(P)):null}function xt(P){if(!P)return null;const F=P.filter(ze);return 0==F.length?null:function(x){return function me(...P){const F=(0,fe.jO)(P),{args:x,keys:W}=(0,Ae.D)(P),he=new Oe.y(_t=>{const{length:Zt}=x;if(!Zt)return void _t.complete();const yr=new Array(Zt);let Br=Zt,Or=Zt;for(let Li=0;Li<Zt;Li++){let Er=!1;(0,ce.Xf)(x[Li]).subscribe((0,Xe.x)(_t,ns=>{Er||(Er=!0,Or--),yr[Li]=ns},()=>Br--,void 0,()=>{(!Br||!Er)&&(Or||_t.next(W?(0,_e.n)(W,yr):yr),_t.complete())}))}});return F?he.pipe((0,et.Z)(F)):he}(at(x,F).map(Qe)).pipe((0,qe.U)(Be))}}function wn(P){return null!=P?xt(en(P)):null}function hr(P,F){return null===P?[F]:Array.isArray(P)?[...P,F]:[P,F]}function qn(P){return P._rawValidators}function Wn(P){return P._rawAsyncValidators}function nr(P){return P?Array.isArray(P)?P:[P]:[]}function rr(P,F){return Array.isArray(P)?P.includes(F):P===F}function $r(P,F){const x=nr(F);return nr(P).forEach(he=>{rr(x,he)||x.push(he)}),x}function jn(P,F){return nr(F).filter(x=>!rr(P,x))}class yn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=wn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F=void 0){this.control&&this.control.reset(F)}hasError(F,x){return!!this.control&&this.control.hasError(F,x)}getError(F,x){return this.control?this.control.getError(F,x):null}}class ir extends yn{get formDirective(){return null}get path(){return null}}class on extends yn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fi{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sn=(()=>{class P extends fi{constructor(x){super(x)}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(on,2))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(W,he){2&W&&v.ekj("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)},features:[v.qOj]})}return P})(),bn=(()=>{class P extends fi{constructor(x){super(x)}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(ir,10))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(W,he){2&W&&v.ekj("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)("ng-submitted",he.isSubmitted)},features:[v.qOj]})}return P})();const ln="VALID",cr="INVALID",Kt="PENDING",pr="DISABLED";function ve(P){return(re(P)?P.validators:P)||null}function ee(P,F){return(re(F)?F.asyncValidators:P)||null}function re(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}function Ne(P,F,x){const W=P.controls;if(!(F?Object.keys(W):W).length)throw new v.vHH(1e3,"");if(!W[x])throw new v.vHH(1001,"")}function ht(P,F,x){P._forEachChild((W,he)=>{if(void 0===x[he])throw new v.vHH(1002,"")})}class Nt{constructor(F,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===ln}get invalid(){return this.status===cr}get pending(){return this.status==Kt}get disabled(){return this.status===pr}get enabled(){return this.status!==pr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators($r(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators($r(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(jn(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(jn(F,this._rawAsyncValidators))}hasValidator(F){return rr(this._rawValidators,F)}hasAsyncValidator(F){return rr(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=Kt,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const x=this._parentMarkedDirty(F.onlySelf);this.status=pr,this.errors=null,this._forEachChild(W=>{W.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:x}),this._onDisabledChange.forEach(W=>W(!0))}enable(F={}){const x=this._parentMarkedDirty(F.onlySelf);this.status=ln,this._forEachChild(W=>{W.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:x}),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ln||this.status===Kt)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pr:ln}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=Kt,this._hasOwnPendingAsyncValidator=!0;const x=Qe(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,x={}){this.errors=F,this._updateControlsErrors(!1!==x.emitEvent)}get(F){let x=F;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((W,he)=>W&&W._find(he),this)}getError(F,x){const W=x?this.get(x):this;return W&&W.errors?W.errors[F]:null}hasError(F,x){return!!this.getError(F,x)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?pr:this.errors?cr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kt)?Kt:this._anyControlsHaveStatus(cr)?cr:ln}_anyControlsHaveStatus(F){return this._anyControls(x=>x.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){re(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function J(P){return Array.isArray(P)?fn(P):P||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function te(P){return Array.isArray(P)?wn(P):P||null}(this._rawAsyncValidators)}}class nn extends Nt{constructor(F,x,W){super(ve(x),ee(W,x)),this.controls=F,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,x){return this.controls[F]?this.controls[F]:(this.controls[F]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(F,x,W={}){this.registerControl(F,x),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(F,x={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(F,x,W={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],x&&this.registerControl(F,x),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,x={}){ht(this,0,F),Object.keys(F).forEach(W=>{Ne(this,!0,W),this.controls[W].setValue(F[W],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(F,x={}){null!=F&&(Object.keys(F).forEach(W=>{const he=this.controls[W];he&&he.patchValue(F[W],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(F={},x={}){this._forEachChild((W,he)=>{W.reset(F?F[he]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(F,x,W)=>(F[W]=x.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(x,W)=>!!W._syncPendingControls()||x);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(x=>{const W=this.controls[x];W&&F(W,x)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[x,W]of Object.entries(this.controls))if(this.contains(x)&&F(W))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,W,he)=>((W.enabled||this.disabled)&&(x[he]=W.value),x))}_reduceChildren(F,x){let W=F;return this._forEachChild((he,_t)=>{W=x(W,he,_t)}),W}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}class gn extends nn{}const Sr=new v.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>li}),li="always";function Ii(P,F){return[...F.path,P]}function Ke(P,F,x=li){_n(P,F),F.valueAccessor.writeValue(P.value),(P.disabled||"always"===x)&&F.valueAccessor.setDisabledState?.(P.disabled),function On(P,F){F.valueAccessor.registerOnChange(x=>{P._pendingValue=x,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&lr(P,F)})}(P,F),function Yr(P,F){const x=(W,he)=>{F.valueAccessor.writeValue(W),he&&F.viewToModelUpdate(W)};P.registerOnChange(x),F._registerOnDestroy(()=>{P._unregisterOnChange(x)})}(P,F),function ii(P,F){F.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&lr(P,F),"submit"!==P.updateOn&&P.markAsTouched()})}(P,F),function kt(P,F){if(F.valueAccessor.setDisabledState){const x=W=>{F.valueAccessor.setDisabledState(W)};P.registerOnDisabledChange(x),F._registerOnDestroy(()=>{P._unregisterOnDisabledChange(x)})}}(P,F)}function Re(P,F,x=!0){const W=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(W),F.valueAccessor.registerOnTouched(W)),Lt(P,F),P&&(F._invokeOnDestroyCallbacks(),P._registerOnCollectionChange(()=>{}))}function vt(P,F){P.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(F)})}function _n(P,F){const x=qn(P);null!==F.validator?P.setValidators(hr(x,F.validator)):"function"==typeof x&&P.setValidators([x]);const W=Wn(P);null!==F.asyncValidator?P.setAsyncValidators(hr(W,F.asyncValidator)):"function"==typeof W&&P.setAsyncValidators([W]);const he=()=>P.updateValueAndValidity();vt(F._rawValidators,he),vt(F._rawAsyncValidators,he)}function Lt(P,F){let x=!1;if(null!==P){if(null!==F.validator){const he=qn(P);if(Array.isArray(he)&&he.length>0){const _t=he.filter(Zt=>Zt!==F.validator);_t.length!==he.length&&(x=!0,P.setValidators(_t))}}if(null!==F.asyncValidator){const he=Wn(P);if(Array.isArray(he)&&he.length>0){const _t=he.filter(Zt=>Zt!==F.asyncValidator);_t.length!==he.length&&(x=!0,P.setAsyncValidators(_t))}}}const W=()=>{};return vt(F._rawValidators,W),vt(F._rawAsyncValidators,W),x}function lr(P,F){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}function Di(P,F){_n(P,F)}function Zi(P,F){if(!P.hasOwnProperty("model"))return!1;const x=P.model;return!!x.isFirstChange()||!Object.is(F,x.currentValue)}function Gi(P,F){P._syncPendingControls(),F.forEach(x=>{const W=x.control;"submit"===W.updateOn&&W._pendingChange&&(x.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}function Ji(P,F){if(!F)return null;let x,W,he;return Array.isArray(F),F.forEach(_t=>{_t.constructor===be?x=_t:function sr(P){return Object.getPrototypeOf(P.constructor)===Me}(_t)?W=_t:he=_t}),he||W||x||null}const Ie={provide:ir,useExisting:(0,v.Gpc)(()=>ke)},Te=(()=>Promise.resolve())();let ke=(()=>{class P extends ir{constructor(x,W,he){super(),this.callSetDisabledState=he,this.submitted=!1,this._directives=new Set,this.ngSubmit=new v.vpe,this.form=new nn({},fn(x),wn(W))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){Te.then(()=>{const W=this._findContainer(x.path);x.control=W.registerControl(x.name,x.control),Ke(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){Te.then(()=>{const W=this._findContainer(x.path);W&&W.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){Te.then(()=>{const W=this._findContainer(x.path),he=new nn({});Di(he,x),W.registerControl(x.name,he),he.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){Te.then(()=>{const W=this._findContainer(x.path);W&&W.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,W){Te.then(()=>{this.form.get(x.path).setValue(W)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,Gi(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(gt,10),v.Y36(Tt,10),v.Y36(Sr,8))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(W,he){1&W&&v.NdJ("submit",function(Zt){return he.onSubmit(Zt)})("reset",function(){return he.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([Ie]),v.qOj]})}return P})();function ut(P,F){const x=P.indexOf(F);x>-1&&P.splice(x,1)}function Ct(P){return"object"==typeof P&&null!==P&&2===Object.keys(P).length&&"value"in P&&"disabled"in P}const tn=class extends Nt{constructor(F=null,x,W){super(ve(x),ee(W,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),re(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=Ct(F)?F.value:F)}setValue(F,x={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(F,x={}){this.setValue(F,x)}reset(F=this.defaultValue,x={}){this._applyFormState(F),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){ut(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){ut(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){Ct(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}};let Nn=(()=>{class P extends ir{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ii(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let x;return function(he){return(x||(x=v.n5z(P)))(he||P)}}();static#t=this.\u0275dir=v.lG2({type:P,features:[v.qOj]})}return P})();const so={provide:on,useExisting:(0,v.Gpc)(()=>Os)},Ps=(()=>Promise.resolve())();let Os=(()=>{class P extends on{constructor(x,W,he,_t,Zt,yr){super(),this._changeDetectorRef=Zt,this.callSetDisabledState=yr,this.control=new tn,this._registered=!1,this.name="",this.update=new v.vpe,this._parent=x,this._setValidators(W),this._setAsyncValidators(he),this.valueAccessor=Ji(0,_t)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const W=x.name.previousValue;this.formDirective.removeControl({name:W,path:this._getPath(W)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),Zi(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ke(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Ps.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const W=x.isDisabled.currentValue,he=0!==W&&(0,v.VuI)(W);Ps.then(()=>{he&&!this.control.disabled?this.control.disable():!he&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?Ii(x,this._parent):[x]}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(ir,9),v.Y36(gt,10),v.Y36(Tt,10),v.Y36(Mt,10),v.Y36(v.sBO,8),v.Y36(Sr,8))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[v._Bn([so]),v.qOj,v.TTD]})}return P})(),os=(()=>{class P{static#e=this.\u0275fac=function(W){return new(W||P)};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return P})();const _o={provide:Mt,useExisting:(0,v.Gpc)(()=>oo),multi:!0};let oo=(()=>{class P extends Me{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=W=>{x(""==W?null:parseFloat(W))}}static#e=this.\u0275fac=function(){let x;return function(he){return(x||(x=v.n5z(P)))(he||P)}}();static#t=this.\u0275dir=v.lG2({type:P,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(W,he){1&W&&v.NdJ("input",function(Zt){return he.onChange(Zt.target.value)})("blur",function(){return he.onTouched()})},features:[v._Bn([_o]),v.qOj]})}return P})(),ks=(()=>{class P{static#e=this.\u0275fac=function(W){return new(W||P)};static#t=this.\u0275mod=v.oAB({type:P});static#n=this.\u0275inj=v.cJS({})}return P})();const wo=new v.OlP("NgModelWithFormControlWarning"),Is={provide:ir,useExisting:(0,v.Gpc)(()=>An)};let An=(()=>{class P extends ir{constructor(x,W,he){super(),this.callSetDisabledState=he,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(x),this._setAsyncValidators(W)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const W=this.form.get(x.path);return Ke(W,x,this.callSetDisabledState),W.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),W}getControl(x){return this.form.get(x.path)}removeControl(x){Re(x.control||null,x,!1),function Oi(P,F){const x=P.indexOf(F);x>-1&&P.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,W){this.form.get(x.path).setValue(W)}onSubmit(x){return this.submitted=!0,Gi(this.form,this.directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const W=x.control,he=this.form.get(x.path);W!==he&&(Re(W||null,x),(P=>P instanceof tn)(he)&&(Ke(he,x,this.callSetDisabledState),x.control=he))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const W=this.form.get(x.path);Di(W,x),W.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const W=this.form.get(x.path);W&&function Ai(P,F){return Lt(P,F)}(W,x)&&W.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_n(this.form,this),this._oldForm&&Lt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(gt,10),v.Y36(Tt,10),v.Y36(Sr,8))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["","formGroup",""]],hostBindings:function(W,he){1&W&&v.NdJ("submit",function(Zt){return he.onSubmit(Zt)})("reset",function(){return he.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([Is]),v.qOj,v.TTD]})}return P})();const mr={provide:ir,useExisting:(0,v.Gpc)(()=>In)};let In=(()=>{class P extends Nn{constructor(x,W,he){super(),this.name=null,this._parent=x,this._setValidators(W),this._setAsyncValidators(he)}_checkParentType(){qs(this._parent)}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(ir,13),v.Y36(gt,10),v.Y36(Tt,10))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[v._Bn([mr]),v.qOj]})}return P})();const ps={provide:ir,useExisting:(0,v.Gpc)(()=>Gr)};let Gr=(()=>{class P extends ir{constructor(x,W,he){super(),this.name=null,this._parent=x,this._setValidators(W),this._setAsyncValidators(he)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ii(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){qs(this._parent)}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(ir,13),v.Y36(gt,10),v.Y36(Tt,10))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[v._Bn([ps]),v.qOj]})}return P})();function qs(P){return!(P instanceof In||P instanceof An||P instanceof Gr)}const gs={provide:on,useExisting:(0,v.Gpc)(()=>Ls)};let Ls=(()=>{class P extends on{set isDisabled(x){}static#e=this._ngModelWarningSentOnce=!1;constructor(x,W,he,_t,Zt){super(),this._ngModelWarningConfig=Zt,this._added=!1,this.name=null,this.update=new v.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(W),this._setAsyncValidators(he),this.valueAccessor=Ji(0,_t)}ngOnChanges(x){this._added||this._setUpControl(),Zi(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return Ii(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(W){return new(W||P)(v.Y36(ir,13),v.Y36(gt,10),v.Y36(Tt,10),v.Y36(Mt,10),v.Y36(wo,8))};static#n=this.\u0275dir=v.lG2({type:P,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[v._Bn([gs]),v.qOj,v.TTD]})}return P})();const Bo={provide:Mt,useExisting:(0,v.Gpc)(()=>Ft),multi:!0};function Vs(P,F){return null==P?`${F}`:(F&&"object"==typeof F&&(F="Object"),`${P}: ${F}`.slice(0,50))}let Ft=(()=>{class P extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const he=Vs(this._getOptionId(x),x);this.setProperty("value",he)}registerOnChange(x){this.onChange=W=>{this.value=this._getOptionValue(W),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const W of this._optionMap.keys())if(this._compareWith(this._optionMap.get(W),x))return W;return null}_getOptionValue(x){const W=function Ar(P){return P.split(":")[0]}(x);return this._optionMap.has(W)?this._optionMap.get(W):x}static#e=this.\u0275fac=function(){let x;return function(he){return(x||(x=v.n5z(P)))(he||P)}}();static#t=this.\u0275dir=v.lG2({type:P,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(W,he){1&W&&v.NdJ("change",function(Zt){return he.onChange(Zt.target.value)})("blur",function(){return he.onTouched()})},inputs:{compareWith:"compareWith"},features:[v._Bn([Bo]),v.qOj]})}return P})(),Mn=(()=>{class P{constructor(x,W,he){this._element=x,this._renderer=W,this._select=he,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(Vs(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(Ft,9))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return P})();const dr={provide:Mt,useExisting:(0,v.Gpc)(()=>yi),multi:!0};function Mi(P,F){return null==P?`${F}`:("string"==typeof F&&(F=`'${F}'`),F&&"object"==typeof F&&(F="Object"),`${P}: ${F}`.slice(0,50))}let yi=(()=>{class P extends Me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let W;if(this.value=x,Array.isArray(x)){const he=x.map(_t=>this._getOptionId(_t));W=(_t,Zt)=>{_t._setSelected(he.indexOf(Zt.toString())>-1)}}else W=(he,_t)=>{he._setSelected(!1)};this._optionMap.forEach(W)}registerOnChange(x){this.onChange=W=>{const he=[],_t=W.selectedOptions;if(void 0!==_t){const Zt=_t;for(let yr=0;yr<Zt.length;yr++){const Or=this._getOptionValue(Zt[yr].value);he.push(Or)}}else{const Zt=W.options;for(let yr=0;yr<Zt.length;yr++){const Br=Zt[yr];if(Br.selected){const Or=this._getOptionValue(Br.value);he.push(Or)}}}this.value=he,x(he)}}_registerOption(x){const W=(this._idCounter++).toString();return this._optionMap.set(W,x),W}_getOptionId(x){for(const W of this._optionMap.keys())if(this._compareWith(this._optionMap.get(W)._value,x))return W;return null}_getOptionValue(x){const W=function Ws(P){return P.split(":")[0]}(x);return this._optionMap.has(W)?this._optionMap.get(W)._value:x}static#e=this.\u0275fac=function(){let x;return function(he){return(x||(x=v.n5z(P)))(he||P)}}();static#t=this.\u0275dir=v.lG2({type:P,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(W,he){1&W&&v.NdJ("change",function(Zt){return he.onChange(Zt.target)})("blur",function(){return he.onTouched()})},inputs:{compareWith:"compareWith"},features:[v._Bn([dr]),v.qOj]})}return P})(),si=(()=>{class P{constructor(x,W,he){this._element=x,this._renderer=W,this._select=he,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(Mi(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(Mi(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(W){return new(W||P)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(yi,9))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return P})();function di(P){return"number"==typeof P?P:parseFloat(P)}let Tn=(()=>{class P{constructor(){this._validator=Ue}ngOnChanges(x){if(this.inputName in x){const W=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(W),this._validator=this._enabled?this.createValidator(W):Ue,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static#e=this.\u0275fac=function(W){return new(W||P)};static#t=this.\u0275dir=v.lG2({type:P,features:[v.TTD]})}return P})();const ms={provide:gt,useExisting:(0,v.Gpc)(()=>Us),multi:!0};let Us=(()=>{class P extends Tn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=x=>di(x),this.createValidator=x=>tr(x)}static#e=this.\u0275fac=function(){let x;return function(he){return(x||(x=v.n5z(P)))(he||P)}}();static#t=this.\u0275dir=v.lG2({type:P,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(W,he){2&W&&v.uIk("max",he._enabled?he.max:null)},inputs:{max:"max"},features:[v._Bn([ms]),v.qOj]})}return P})();const Bs={provide:gt,useExisting:(0,v.Gpc)(()=>qr),multi:!0};let qr=(()=>{class P extends Tn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=x=>di(x),this.createValidator=x=>kn(x)}static#e=this.\u0275fac=function(){let x;return function(he){return(x||(x=v.n5z(P)))(he||P)}}();static#t=this.\u0275dir=v.lG2({type:P,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(W,he){2&W&&v.uIk("min",he._enabled?he.min:null)},inputs:{min:"min"},features:[v._Bn([Bs]),v.qOj]})}return P})(),ts=(()=>{class P{static#e=this.\u0275fac=function(W){return new(W||P)};static#t=this.\u0275mod=v.oAB({type:P});static#n=this.\u0275inj=v.cJS({imports:[ks]})}return P})();class uo extends Nt{constructor(F,x,W){super(ve(x),ee(W,x)),this.controls=F,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[this._adjustIndex(F)]}push(F,x={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(F,x,W={}){this.controls.splice(F,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:W.emitEvent})}removeAt(F,x={}){let W=this._adjustIndex(F);W<0&&(W=0),this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),this.controls.splice(W,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(F,x,W={}){let he=this._adjustIndex(F);he<0&&(he=0),this.controls[he]&&this.controls[he]._registerOnCollectionChange(()=>{}),this.controls.splice(he,1),x&&(this.controls.splice(he,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,x={}){ht(this,0,F),F.forEach((W,he)=>{Ne(this,!1,he),this.at(he).setValue(W,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(F,x={}){null!=F&&(F.forEach((W,he)=>{this.at(he)&&this.at(he).patchValue(W,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(F=[],x={}){this._forEachChild((W,he)=>{W.reset(F[he],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(F=>F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_adjustIndex(F){return F<0?F+this.length:F}_syncPendingControls(){let F=this.controls.reduce((x,W)=>!!W._syncPendingControls()||x,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((x,W)=>{F(x,W)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(x=>x.enabled&&F(x))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}_find(F){return this.at(F)??null}}function xi(P){return!!P&&(void 0!==P.asyncValidators||void 0!==P.validators||void 0!==P.updateOn)}let hi=(()=>{class P{constructor(){this.useNonNullable=!1}get nonNullable(){const x=new P;return x.useNonNullable=!0,x}group(x,W=null){const he=this._reduceControls(x);let _t={};return xi(W)?_t=W:null!==W&&(_t.validators=W.validator,_t.asyncValidators=W.asyncValidator),new nn(he,_t)}record(x,W=null){const he=this._reduceControls(x);return new gn(he,W)}control(x,W,he){let _t={};return this.useNonNullable?(xi(W)?_t=W:(_t.validators=W,_t.asyncValidators=he),new tn(x,{..._t,nonNullable:!0})):new tn(x,W,he)}array(x,W,he){const _t=x.map(Zt=>this._createControl(Zt));return new uo(_t,W,he)}_reduceControls(x){const W={};return Object.keys(x).forEach(he=>{W[he]=this._createControl(x[he])}),W}_createControl(x){return x instanceof tn||x instanceof Nt?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}static#e=this.\u0275fac=function(W){return new(W||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),ge=(()=>{class P{static withConfig(x){return{ngModule:P,providers:[{provide:Sr,useValue:x.callSetDisabledState??li}]}}static#e=this.\u0275fac=function(W){return new(W||P)};static#t=this.\u0275mod=v.oAB({type:P});static#n=this.\u0275inj=v.cJS({imports:[ts]})}return P})(),Se=(()=>{class P{static withConfig(x){return{ngModule:P,providers:[{provide:wo,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:Sr,useValue:x.callSetDisabledState??li}]}}static#e=this.\u0275fac=function(W){return new(W||P)};static#t=this.\u0275mod=v.oAB({type:P});static#n=this.\u0275inj=v.cJS({imports:[ts]})}return P})()},6593:(Dn,dt,X)=>{X.d(dt,{Dx:()=>on,b2:()=>rr,q6:()=>hr,se:()=>lt});var v=X(4946),pe=X(6814);class Z extends pe.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Oe extends Z{static makeCurrent(){(0,pe.HT)(new Oe)}onAndCancel(ee,te,re){return ee.addEventListener(te,re),()=>{ee.removeEventListener(te,re)}}dispatchEvent(ee,te){ee.dispatchEvent(te)}remove(ee){ee.parentNode&&ee.parentNode.removeChild(ee)}createElement(ee,te){return(te=te||this.getDefaultDocument()).createElement(ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ee){return ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(ee){return ee instanceof DocumentFragment}getGlobalEventTarget(ee,te){return"window"===te?window:"document"===te?ee:"body"===te?ee.body:null}getBaseHref(ee){const te=function ce(){return Ae=Ae||document.querySelector("base"),Ae?Ae.getAttribute("href"):null}();return null==te?null:function Xe(J){fe=fe||document.createElement("a"),fe.setAttribute("href",J);const ee=fe.pathname;return"/"===ee.charAt(0)?ee:`/${ee}`}(te)}resetBaseElement(){Ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(ee){return(0,pe.Mx)(document.cookie,ee)}}let fe,Ae=null,_e=(()=>{class J{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(re){return new(re||J)};static#t=this.\u0275prov=v.Yz7({token:J,factory:J.\u0275fac})}return J})();const me=new v.OlP("EventManagerPlugins");let qe=(()=>{class J{constructor(te,re){this._zone=re,this._eventNameToPlugin=new Map,te.forEach(Ne=>{Ne.manager=this}),this._plugins=te.slice().reverse()}addEventListener(te,re,Ne){return this._findPluginFor(re).addEventListener(te,re,Ne)}getZone(){return this._zone}_findPluginFor(te){let re=this._eventNameToPlugin.get(te);if(re)return re;if(re=this._plugins.find(ht=>ht.supports(te)),!re)throw new v.vHH(5101,!1);return this._eventNameToPlugin.set(te,re),re}static#e=this.\u0275fac=function(re){return new(re||J)(v.LFG(me),v.LFG(v.R0b))};static#t=this.\u0275prov=v.Yz7({token:J,factory:J.\u0275fac})}return J})();class st{constructor(ee){this._doc=ee}}const Me="ng-app-id";let Mt=(()=>{class J{constructor(te,re,Ne,ht={}){this.doc=te,this.appId=re,this.nonce=Ne,this.platformId=ht,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,pe.PM)(ht),this.resetHostNodes()}addStyles(te){for(const re of te)1===this.changeUsageCount(re,1)&&this.onStyleAdded(re)}removeStyles(te){for(const re of te)this.changeUsageCount(re,-1)<=0&&this.onStyleRemoved(re)}ngOnDestroy(){const te=this.styleNodesInDOM;te&&(te.forEach(re=>re.remove()),te.clear());for(const re of this.getAllStyles())this.onStyleRemoved(re);this.resetHostNodes()}addHost(te){this.hostNodes.add(te);for(const re of this.getAllStyles())this.addStyleToHost(te,re)}removeHost(te){this.hostNodes.delete(te)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(te){for(const re of this.hostNodes)this.addStyleToHost(re,te)}onStyleRemoved(te){const re=this.styleRef;re.get(te)?.elements?.forEach(Ne=>Ne.remove()),re.delete(te)}collectServerRenderedStyles(){const te=this.doc.head?.querySelectorAll(`style[${Me}="${this.appId}"]`);if(te?.length){const re=new Map;return te.forEach(Ne=>{null!=Ne.textContent&&re.set(Ne.textContent,Ne)}),re}return null}changeUsageCount(te,re){const Ne=this.styleRef;if(Ne.has(te)){const ht=Ne.get(te);return ht.usage+=re,ht.usage}return Ne.set(te,{usage:re,elements:[]}),re}getStyleElement(te,re){const Ne=this.styleNodesInDOM,ht=Ne?.get(re);if(ht?.parentNode===te)return Ne.delete(re),ht.removeAttribute(Me),ht;{const Nt=this.doc.createElement("style");return this.nonce&&Nt.setAttribute("nonce",this.nonce),Nt.textContent=re,this.platformIsServer&&Nt.setAttribute(Me,this.appId),Nt}}addStyleToHost(te,re){const Ne=this.getStyleElement(te,re);te.appendChild(Ne);const ht=this.styleRef,Nt=ht.get(re)?.elements;Nt?Nt.push(Ne):ht.set(re,{elements:[Ne],usage:1})}resetHostNodes(){const te=this.hostNodes;te.clear(),te.add(this.doc.head)}static#e=this.\u0275fac=function(re){return new(re||J)(v.LFG(pe.K0),v.LFG(v.AFp),v.LFG(v.Ojb,8),v.LFG(v.Lbi))};static#t=this.\u0275prov=v.Yz7({token:J,factory:J.\u0275fac})}return J})();const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pt=/%COMP%/g,ot=new v.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Tt(J,ee){return ee.map(te=>te.replace(Pt,J))}let lt=(()=>{class J{constructor(te,re,Ne,ht,Nt,nn,mn,Kn=null){this.eventManager=te,this.sharedStylesHost=re,this.appId=Ne,this.removeStylesOnCompDestroy=ht,this.doc=Nt,this.platformId=nn,this.ngZone=mn,this.nonce=Kn,this.rendererByCompId=new Map,this.platformIsServer=(0,pe.PM)(nn),this.defaultRenderer=new mt(te,Nt,mn,this.platformIsServer)}createRenderer(te,re){if(!te||!re)return this.defaultRenderer;this.platformIsServer&&re.encapsulation===v.ifc.ShadowDom&&(re={...re,encapsulation:v.ifc.Emulated});const Ne=this.getOrCreateRenderer(te,re);return Ne instanceof Gn?Ne.applyToHost(te):Ne instanceof nt&&Ne.applyStyles(),Ne}getOrCreateRenderer(te,re){const Ne=this.rendererByCompId;let ht=Ne.get(re.id);if(!ht){const Nt=this.doc,nn=this.ngZone,mn=this.eventManager,Kn=this.sharedStylesHost,gn=this.removeStylesOnCompDestroy,Zn=this.platformIsServer;switch(re.encapsulation){case v.ifc.Emulated:ht=new Gn(mn,Kn,re,this.appId,gn,Nt,nn,Zn);break;case v.ifc.ShadowDom:return new Dt(mn,Kn,te,re,Nt,nn,this.nonce,Zn);default:ht=new nt(mn,Kn,re,gn,Nt,nn,Zn)}Ne.set(re.id,ht)}return ht}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(re){return new(re||J)(v.LFG(qe),v.LFG(Mt),v.LFG(v.AFp),v.LFG(ot),v.LFG(pe.K0),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(v.Ojb))};static#t=this.\u0275prov=v.Yz7({token:J,factory:J.\u0275fac})}return J})();class mt{constructor(ee,te,re,Ne){this.eventManager=ee,this.doc=te,this.ngZone=re,this.platformIsServer=Ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ee,te){return te?this.doc.createElementNS(pt[te]||te,ee):this.doc.createElement(ee)}createComment(ee){return this.doc.createComment(ee)}createText(ee){return this.doc.createTextNode(ee)}appendChild(ee,te){(Xr(ee)?ee.content:ee).appendChild(te)}insertBefore(ee,te,re){ee&&(Xr(ee)?ee.content:ee).insertBefore(te,re)}removeChild(ee,te){ee&&ee.removeChild(te)}selectRootElement(ee,te){let re="string"==typeof ee?this.doc.querySelector(ee):ee;if(!re)throw new v.vHH(-5104,!1);return te||(re.textContent=""),re}parentNode(ee){return ee.parentNode}nextSibling(ee){return ee.nextSibling}setAttribute(ee,te,re,Ne){if(Ne){te=Ne+":"+te;const ht=pt[Ne];ht?ee.setAttributeNS(ht,te,re):ee.setAttribute(te,re)}else ee.setAttribute(te,re)}removeAttribute(ee,te,re){if(re){const Ne=pt[re];Ne?ee.removeAttributeNS(Ne,te):ee.removeAttribute(`${re}:${te}`)}else ee.removeAttribute(te)}addClass(ee,te){ee.classList.add(te)}removeClass(ee,te){ee.classList.remove(te)}setStyle(ee,te,re,Ne){Ne&(v.JOm.DashCase|v.JOm.Important)?ee.style.setProperty(te,re,Ne&v.JOm.Important?"important":""):ee.style[te]=re}removeStyle(ee,te,re){re&v.JOm.DashCase?ee.style.removeProperty(te):ee.style[te]=""}setProperty(ee,te,re){ee[te]=re}setValue(ee,te){ee.nodeValue=te}listen(ee,te,re){if("string"==typeof ee&&!(ee=(0,pe.q)().getGlobalEventTarget(this.doc,ee)))throw new Error(`Unsupported event target ${ee} for event ${te}`);return this.eventManager.addEventListener(ee,te,this.decoratePreventDefault(re))}decoratePreventDefault(ee){return te=>{if("__ngUnwrap__"===te)return ee;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ee(te)):ee(te))&&te.preventDefault()}}}function Xr(J){return"TEMPLATE"===J.tagName&&void 0!==J.content}class Dt extends mt{constructor(ee,te,re,Ne,ht,Nt,nn,mn){super(ee,ht,Nt,mn),this.sharedStylesHost=te,this.hostEl=re,this.shadowRoot=re.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kn=Tt(Ne.id,Ne.styles);for(const gn of Kn){const Zn=document.createElement("style");nn&&Zn.setAttribute("nonce",nn),Zn.textContent=gn,this.shadowRoot.appendChild(Zn)}}nodeOrShadowRoot(ee){return ee===this.hostEl?this.shadowRoot:ee}appendChild(ee,te){return super.appendChild(this.nodeOrShadowRoot(ee),te)}insertBefore(ee,te,re){return super.insertBefore(this.nodeOrShadowRoot(ee),te,re)}removeChild(ee,te){return super.removeChild(this.nodeOrShadowRoot(ee),te)}parentNode(ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ee)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nt extends mt{constructor(ee,te,re,Ne,ht,Nt,nn,mn){super(ee,ht,Nt,nn),this.sharedStylesHost=te,this.removeStylesOnCompDestroy=Ne,this.styles=mn?Tt(mn,re.styles):re.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Gn extends nt{constructor(ee,te,re,Ne,ht,Nt,nn,mn){const Kn=Ne+"-"+re.id;super(ee,te,re,ht,Nt,nn,mn,Kn),this.contentAttr=function tt(J){return"_ngcontent-%COMP%".replace(Pt,J)}(Kn),this.hostAttr=function gt(J){return"_nghost-%COMP%".replace(Pt,J)}(Kn)}applyToHost(ee){this.applyStyles(),this.setAttribute(ee,this.hostAttr,"")}createElement(ee,te){const re=super.createElement(ee,te);return super.setAttribute(re,this.contentAttr,""),re}}let St=(()=>{class J extends st{constructor(te){super(te)}supports(te){return!0}addEventListener(te,re,Ne){return te.addEventListener(re,Ne,!1),()=>this.removeEventListener(te,re,Ne)}removeEventListener(te,re,Ne){return te.removeEventListener(re,Ne)}static#e=this.\u0275fac=function(re){return new(re||J)(v.LFG(pe.K0))};static#t=this.\u0275prov=v.Yz7({token:J,factory:J.\u0275fac})}return J})();const vn=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ze={alt:J=>J.altKey,control:J=>J.ctrlKey,meta:J=>J.metaKey,shift:J=>J.shiftKey};let Qe=(()=>{class J extends st{constructor(te){super(te)}supports(te){return null!=J.parseEventName(te)}addEventListener(te,re,Ne){const ht=J.parseEventName(re),Nt=J.eventCallback(ht.fullKey,Ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,pe.q)().onAndCancel(te,ht.domEventName,Nt))}static parseEventName(te){const re=te.toLowerCase().split("."),Ne=re.shift();if(0===re.length||"keydown"!==Ne&&"keyup"!==Ne)return null;const ht=J._normalizeKey(re.pop());let Nt="",nn=re.indexOf("code");if(nn>-1&&(re.splice(nn,1),Nt="code."),vn.forEach(Kn=>{const gn=re.indexOf(Kn);gn>-1&&(re.splice(gn,1),Nt+=Kn+".")}),Nt+=ht,0!=re.length||0===ht.length)return null;const mn={};return mn.domEventName=Ne,mn.fullKey=Nt,mn}static matchEventFullKeyCode(te,re){let Ne=Ue[te.key]||te.key,ht="";return re.indexOf("code.")>-1&&(Ne=te.code,ht="code."),!(null==Ne||!Ne)&&(Ne=Ne.toLowerCase()," "===Ne?Ne="space":"."===Ne&&(Ne="dot"),vn.forEach(Nt=>{Nt!==Ne&&(0,ze[Nt])(te)&&(ht+=Nt+".")}),ht+=Ne,ht===re)}static eventCallback(te,re,Ne){return ht=>{J.matchEventFullKeyCode(ht,te)&&Ne.runGuarded(()=>re(ht))}}static _normalizeKey(te){return"esc"===te?"escape":te}static#e=this.\u0275fac=function(re){return new(re||J)(v.LFG(pe.K0))};static#t=this.\u0275prov=v.Yz7({token:J,factory:J.\u0275fac})}return J})();const hr=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:pe.bD},{provide:v.g9A,useValue:function Rn(){Oe.makeCurrent()},multi:!0},{provide:pe.K0,useFactory:function xt(){return(0,v.RDi)(document),document},deps:[]}]),qn=new v.OlP(""),Wn=[{provide:v.rWj,useClass:class et{addToWindow(ee){v.dqk.getAngularTestability=(re,Ne=!0)=>{const ht=ee.findTestabilityInTree(re,Ne);if(null==ht)throw new v.vHH(5103,!1);return ht},v.dqk.getAllAngularTestabilities=()=>ee.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>ee.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(re=>{const Ne=v.dqk.getAllAngularTestabilities();let ht=Ne.length,Nt=!1;const nn=function(mn){Nt=Nt||mn,ht--,0==ht&&re(Nt)};Ne.forEach(mn=>{mn.whenStable(nn)})})}findTestabilityInTree(ee,te,re){return null==te?null:ee.getTestability(te)??(re?(0,pe.q)().isShadowRoot(te)?this.findTestabilityInTree(ee,te.host,!0):this.findTestabilityInTree(ee,te.parentElement,!0):null)}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],nr=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function fn(){return new v.qLn},deps:[]},{provide:me,useClass:St,multi:!0,deps:[pe.K0,v.R0b,v.Lbi]},{provide:me,useClass:Qe,multi:!0,deps:[pe.K0]},lt,Mt,qe,{provide:v.FYo,useExisting:lt},{provide:pe.JF,useClass:_e,deps:[]},[]];let rr=(()=>{class J{constructor(te){}static withServerTransition(te){return{ngModule:J,providers:[{provide:v.AFp,useValue:te.appId}]}}static#e=this.\u0275fac=function(re){return new(re||J)(v.LFG(qn,12))};static#t=this.\u0275mod=v.oAB({type:J});static#n=this.\u0275inj=v.cJS({providers:[...nr,...Wn],imports:[pe.ez,v.hGG]})}return J})(),on=(()=>{class J{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}static#e=this.\u0275fac=function(re){return new(re||J)(v.LFG(pe.K0))};static#t=this.\u0275prov=v.Yz7({token:J,factory:function(re){let Ne=null;return Ne=re?new re:function ir(){return new on((0,v.LFG)(pe.K0))}(),Ne},providedIn:"root"})}return J})();typeof window<"u"&&window},5920:(Dn,dt,X)=>{X.d(dt,{F0:()=>Un,Bz:()=>Fe,lC:()=>Ws});var v=X(4946),pe=X(5592),Z=X(4674),Ae=X(2459),ce=X(2096),fe=X(5619),Xe=X(7453),et=X(2737),_e=X(7400),me=X(4564),qe=X(2714),st=X(8251),Me=X(7103);function Mt(..._){const S=(0,me.yG)(_),m=(0,me.jO)(_),{args:A,keys:L}=(0,Xe.D)(_);if(0===A.length)return(0,Ae.D)([],S);const Y=new pe.y(function pt(_,S,m=et.y){return A=>{Pt(S,()=>{const{length:L}=_,Y=new Array(L);let de=L,Ge=L;for(let $e=0;$e<L;$e++)Pt(S,()=>{const $t=(0,Ae.D)(_[$e],S);let Ln=!1;$t.subscribe((0,st.x)(A,Nr=>{Y[$e]=Nr,Ln||(Ln=!0,Ge--),Ge||A.next(m(Y.slice()))},()=>{--de||A.complete()}))},A)},A)}}(A,S,L?de=>(0,qe.n)(L,de):et.y));return m?Y.pipe((0,_e.Z)(m)):Y}function Pt(_,S,m){_?(0,Me.f)(m,_,S):S()}const er=(0,X(2306).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var Jt=X(7537);function ot(..._){return function be(){return(0,Jt.J)(1)}()((0,Ae.D)(_,(0,me.yG)(_)))}var tt=X(4829);function gt(_){return new pe.y(S=>{(0,tt.Xf)(_()).subscribe(S)})}var Tt=X(8407);function lt(_,S){const m=(0,Z.m)(_)?_:()=>_,A=L=>L.error(m());return new pe.y(S?L=>S.schedule(A,0,L):A)}var mt=X(6232),kn=X(7394),tr=X(9360);function Xr(){return(0,tr.e)((_,S)=>{let m=null;_._refCount++;const A=(0,st.x)(S,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(m=null);const L=_._connection,Y=m;m=null,L&&(!Y||L===Y)&&L.unsubscribe(),S.unsubscribe()});_.subscribe(A),A.closed||(m=_.connect())})}class Dt extends pe.y{constructor(S,m){super(),this.source=S,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,tr.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new kn.w0;const m=this.getSubject();S.add(this.source.subscribe((0,st.x)(m,void 0,()=>{this._teardown(),m.complete()},A=>{this._teardown(),m.error(A)},()=>this._teardown()))),S.closed&&(this._connection=null,S=kn.w0.EMPTY)}return S}refCount(){return Xr()(this)}}var nt=X(8645),Gn=X(6814),St=X(7398),vn=X(4664);function Ue(_){return _<=0?()=>mt.E:(0,tr.e)((S,m)=>{let A=0;S.subscribe((0,st.x)(m,L=>{++A<=_&&(m.next(L),_<=A&&m.complete())}))})}function Qe(_,S){return(0,tr.e)((m,A)=>{let L=0;m.subscribe((0,st.x)(A,Y=>_.call(S,Y,L++)&&A.next(Y)))})}var Be=X(1631);function at(_){return(0,tr.e)((S,m)=>{let A=!1;S.subscribe((0,st.x)(m,L=>{A=!0,m.next(L)},()=>{A||m.next(_),m.complete()}))})}function bt(_=en){return(0,tr.e)((S,m)=>{let A=!1;S.subscribe((0,st.x)(m,L=>{A=!0,m.next(L)},()=>A?m.complete():m.error(_())))})}function en(){return new er}function Rn(_,S){const m=arguments.length>=2;return A=>A.pipe(_?Qe((L,Y)=>_(L,Y,A)):et.y,Ue(1),m?at(S):bt(()=>new er))}function fn(_,S){return(0,Z.m)(S)?(0,Be.z)(_,S,1):(0,Be.z)(_,1)}var xt=X(9397);function wn(_){return(0,tr.e)((S,m)=>{let Y,A=null,L=!1;A=S.subscribe((0,st.x)(m,void 0,void 0,de=>{Y=(0,tt.Xf)(_(de,wn(_)(S))),A?(A.unsubscribe(),A=null,Y.subscribe(m)):L=!0})),L&&(A.unsubscribe(),A=null,Y.subscribe(m))})}function Wn(_){return _<=0?()=>mt.E:(0,tr.e)((S,m)=>{let A=[];S.subscribe((0,st.x)(m,L=>{A.push(L),_<A.length&&A.shift()},()=>{for(const L of A)m.next(L);m.complete()},void 0,()=>{A=null}))})}function $r(_){return(0,tr.e)((S,m)=>{try{S.subscribe(m)}finally{m.add(_)}})}var jn=X(2420),ir=X(6593);const on="primary",fi=Symbol("RouteTitle");class Bn{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const m=this.params[S];return Array.isArray(m)?m[0]:m}return null}getAll(S){if(this.has(S)){const m=this.params[S];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Tr(_){return new Bn(_)}function Sn(_,S,m){const A=m.path.split("/");if(A.length>_.length||"full"===m.pathMatch&&(S.hasChildren()||A.length<_.length))return null;const L={};for(let Y=0;Y<A.length;Y++){const de=A[Y],Ge=_[Y];if(de.startsWith(":"))L[de.substring(1)]=Ge;else if(de!==Ge.path)return null}return{consumed:_.slice(0,A.length),posParams:L}}function fr(_,S){const m=_?Object.keys(_):void 0,A=S?Object.keys(S):void 0;if(!m||!A||m.length!=A.length)return!1;let L;for(let Y=0;Y<m.length;Y++)if(L=m[Y],!Hr(_[L],S[L]))return!1;return!0}function Hr(_,S){if(Array.isArray(_)&&Array.isArray(S)){if(_.length!==S.length)return!1;const m=[..._].sort(),A=[...S].sort();return m.every((L,Y)=>A[Y]===L)}return _===S}function ui(_){return _.length>0?_[_.length-1]:null}function Fn(_){return function Oe(_){return!!_&&(_ instanceof pe.y||(0,Z.m)(_.lift)&&(0,Z.m)(_.subscribe))}(_)?_:(0,v.QGY)(_)?(0,Ae.D)(Promise.resolve(_)):(0,ce.of)(_)}const Ir={exact:function Ot(_,S,m){if(!ln(_.segments,S.segments)||!Jr(_.segments,S.segments,m)||_.numberOfChildren!==S.numberOfChildren)return!1;for(const A in S.children)if(!_.children[A]||!Ot(_.children[A],S.children[A],m))return!1;return!0},subset:Si},ci={exact:function Xi(_,S){return fr(_,S)},subset:function ri(_,S){return Object.keys(S).length<=Object.keys(_).length&&Object.keys(S).every(m=>Hr(_[m],S[m]))},ignored:()=>!0};function ur(_,S,m){return Ir[m.paths](_.root,S.root,m.matrixParams)&&ci[m.queryParams](_.queryParams,S.queryParams)&&!("exact"===m.fragment&&_.fragment!==S.fragment)}function Si(_,S,m){return zr(_,S,S.segments,m)}function zr(_,S,m,A){if(_.segments.length>m.length){const L=_.segments.slice(0,m.length);return!(!ln(L,m)||S.hasChildren()||!Jr(L,m,A))}if(_.segments.length===m.length){if(!ln(_.segments,m)||!Jr(_.segments,m,A))return!1;for(const L in S.children)if(!_.children[L]||!Si(_.children[L],S.children[L],A))return!1;return!0}{const L=m.slice(0,_.segments.length),Y=m.slice(_.segments.length);return!!(ln(_.segments,L)&&Jr(_.segments,L,A)&&_.children[on])&&zr(_.children[on],S,Y,A)}}function Jr(_,S,m){return S.every((A,L)=>ci[m](_[L].parameters,A.parameters))}class Cr{constructor(S=new qt([],{}),m={},A=null){this.root=S,this.queryParams=m,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tr(this.queryParams)),this._queryParamMap}toString(){return ve.serialize(this)}}class qt{constructor(S,m){this.segments=S,this.children=m,this.parent=null,Object.values(m).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return J(this)}}class gi{constructor(S,m){this.path=S,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Tr(this.parameters)),this._parameterMap}toString(){return mn(this)}}function ln(_,S){return _.length===S.length&&_.every((m,A)=>m.path===S[A].path)}let Kt=(()=>{class _{static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:function(){return new pr},providedIn:"root"})}return _})();class pr{parse(S){const m=new _n(S);return new Cr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(S){const m=`/${ee(S.root,!0)}`,A=function gn(_){const S=Object.keys(_).map(m=>{const A=_[m];return Array.isArray(A)?A.map(L=>`${re(m)}=${re(L)}`).join("&"):`${re(m)}=${re(A)}`}).filter(m=>!!m);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${m}${A}${"string"==typeof S.fragment?`#${function Ne(_){return encodeURI(_)}(S.fragment)}`:""}`}}const ve=new pr;function J(_){return _.segments.map(S=>mn(S)).join("/")}function ee(_,S){if(!_.hasChildren())return J(_);if(S){const m=_.children[on]?ee(_.children[on],!1):"",A=[];return Object.entries(_.children).forEach(([L,Y])=>{L!==on&&A.push(`${L}:${ee(Y,!1)}`)}),A.length>0?`${m}(${A.join("//")})`:m}{const m=function cr(_,S){let m=[];return Object.entries(_.children).forEach(([A,L])=>{A===on&&(m=m.concat(S(L,A)))}),Object.entries(_.children).forEach(([A,L])=>{A!==on&&(m=m.concat(S(L,A)))}),m}(_,(A,L)=>L===on?[ee(_.children[on],!1)]:[`${L}:${ee(A,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[on]?`${J(_)}/${m[0]}`:`${J(_)}/(${m.join("//")})`}}function te(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function re(_){return te(_).replace(/%3B/gi,";")}function ht(_){return te(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nt(_){return decodeURIComponent(_)}function nn(_){return Nt(_.replace(/\+/g,"%20"))}function mn(_){return`${ht(_.path)}${function Kn(_){return Object.keys(_).map(S=>`;${ht(S)}=${ht(_[S])}`).join("")}(_.parameters)}`}const Zn=/^[^\/()?;#]+/;function Sr(_){const S=_.match(Zn);return S?S[0]:""}const li=/^[^\/()?;=#]+/,Ke=/^[^=?&#]+/,vt=/^[^&#]+/;class _n{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(S.length>0||Object.keys(m).length>0)&&(A[on]=new qt(S,m)),A}parseSegment(){const S=Sr(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new v.vHH(4009,!1);return this.capture(S),new gi(Nt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const m=function Ii(_){const S=_.match(li);return S?S[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const L=Sr(this.remaining);L&&(A=L,this.capture(A))}S[Nt(m)]=Nt(A)}parseQueryParam(S){const m=function Re(_){const S=_.match(Ke);return S?S[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const de=function kt(_){const S=_.match(vt);return S?S[0]:""}(this.remaining);de&&(A=de,this.capture(A))}const L=nn(m),Y=nn(A);if(S.hasOwnProperty(L)){let de=S[L];Array.isArray(de)||(de=[de],S[L]=de),de.push(Y)}else S[L]=Y}parseParens(S){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Sr(this.remaining),L=this.remaining[A.length];if("/"!==L&&")"!==L&&";"!==L)throw new v.vHH(4010,!1);let Y;A.indexOf(":")>-1?(Y=A.slice(0,A.indexOf(":")),this.capture(Y),this.capture(":")):S&&(Y=on);const de=this.parseChildren();m[Y]=1===Object.keys(de).length?de[on]:new qt([],de),this.consumeOptional("//")}return m}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new v.vHH(4011,!1)}}function Lt(_){return _.segments.length>0?new qt([],{[on]:_}):_}function On(_){const S={};for(const A of Object.keys(_.children)){const Y=On(_.children[A]);if(A===on&&0===Y.segments.length&&Y.hasChildren())for(const[de,Ge]of Object.entries(Y.children))S[de]=Ge;else(Y.segments.length>0||Y.hasChildren())&&(S[A]=Y)}return function ii(_){if(1===_.numberOfChildren&&_.children[on]){const S=_.children[on];return new qt(_.segments.concat(S.segments),S.children)}return _}(new qt(_.segments,S))}function lr(_){return _ instanceof Cr}function Di(_){let S;const L=Lt(function m(Y){const de={};for(const $e of Y.children){const $t=m($e);de[$e.outlet]=$t}const Ge=new qt(Y.url,de);return Y===_&&(S=Ge),Ge}(_.root));return S??L}function Ai(_,S,m,A){let L=_;for(;L.parent;)L=L.parent;if(0===S.length)return mi(L,L,L,m,A);const Y=function Zi(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Vn(!0,0,_);let S=0,m=!1;const A=_.reduce((L,Y,de)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Ge={};return Object.entries(Y.outlets).forEach(([$e,$t])=>{Ge[$e]="string"==typeof $t?$t.split("/"):$t}),[...L,{outlets:Ge}]}if(Y.segmentPath)return[...L,Y.segmentPath]}return"string"!=typeof Y?[...L,Y]:0===de?(Y.split("/").forEach((Ge,$e)=>{0==$e&&"."===Ge||(0==$e&&""===Ge?m=!0:".."===Ge?S++:""!=Ge&&L.push(Ge))}),L):[...L,Y]},[]);return new Vn(m,S,A)}(S);if(Y.toRoot())return mi(L,L,new qt([],{}),m,A);const de=function Gi(_,S,m){if(_.isAbsolute)return new sr(S,!0,0);if(!m)return new sr(S,!1,NaN);if(null===m.parent)return new sr(m,!0,0);const A=Qr(_.commands[0])?0:1;return function Ji(_,S,m){let A=_,L=S,Y=m;for(;Y>L;){if(Y-=L,A=A.parent,!A)throw new v.vHH(4005,!1);L=A.segments.length}return new sr(A,!1,L-Y)}(m,m.segments.length-1+A,_.numberOfDoubleDots)}(Y,L,_),Ge=de.processChildren?Ie(de.segmentGroup,de.index,Y.commands):Rs(de.segmentGroup,de.index,Y.commands);return mi(L,de.segmentGroup,Ge,m,A)}function Qr(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function ji(_){return"object"==typeof _&&null!=_&&_.outlets}function mi(_,S,m,A,L){let de,Y={};A&&Object.entries(A).forEach(([$e,$t])=>{Y[$e]=Array.isArray($t)?$t.map(Ln=>`${Ln}`):`${$t}`}),de=_===S?m:Pi(_,S,m);const Ge=Lt(On(de));return new Cr(Ge,Y,L)}function Pi(_,S,m){const A={};return Object.entries(_.children).forEach(([L,Y])=>{A[L]=Y===S?m:Pi(Y,S,m)}),new qt(_.segments,A)}class Vn{constructor(S,m,A){if(this.isAbsolute=S,this.numberOfDoubleDots=m,this.commands=A,S&&A.length>0&&Qr(A[0]))throw new v.vHH(4003,!1);const L=A.find(ji);if(L&&L!==ui(A))throw new v.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sr{constructor(S,m,A){this.segmentGroup=S,this.processChildren=m,this.index=A}}function Rs(_,S,m){if(_||(_=new qt([],{})),0===_.segments.length&&_.hasChildren())return Ie(_,S,m);const A=function Te(_,S,m){let A=0,L=S;const Y={match:!1,pathIndex:0,commandIndex:0};for(;L<_.segments.length;){if(A>=m.length)return Y;const de=_.segments[L],Ge=m[A];if(ji(Ge))break;const $e=`${Ge}`,$t=A<m.length-1?m[A+1]:null;if(L>0&&void 0===$e)break;if($e&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!tn($e,$t,de))return Y;A+=2}else{if(!tn($e,{},de))return Y;A++}L++}return{match:!0,pathIndex:L,commandIndex:A}}(_,S,m),L=m.slice(A.commandIndex);if(A.match&&A.pathIndex<_.segments.length){const Y=new qt(_.segments.slice(0,A.pathIndex),{});return Y.children[on]=new qt(_.segments.slice(A.pathIndex),_.children),Ie(Y,0,L)}return A.match&&0===L.length?new qt(_.segments,{}):A.match&&!_.hasChildren()?ke(_,S,m):A.match?Ie(_,0,L):ke(_,S,m)}function Ie(_,S,m){if(0===m.length)return new qt(_.segments,{});{const A=function Oi(_){return ji(_[0])?_[0].outlets:{[on]:_}}(m),L={};if(Object.keys(A).some(Y=>Y!==on)&&_.children[on]&&1===_.numberOfChildren&&0===_.children[on].segments.length){const Y=Ie(_.children[on],S,m);return new qt(_.segments,Y.children)}return Object.entries(A).forEach(([Y,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(L[Y]=Rs(_.children[Y],S,de))}),Object.entries(_.children).forEach(([Y,de])=>{void 0===A[Y]&&(L[Y]=de)}),new qt(_.segments,L)}}function ke(_,S,m){const A=_.segments.slice(0,S);let L=0;for(;L<m.length;){const Y=m[L];if(ji(Y)){const $e=ut(Y.outlets);return new qt(A,$e)}if(0===L&&Qr(m[0])){A.push(new gi(_.segments[S].path,Ct(m[0]))),L++;continue}const de=ji(Y)?Y.outlets[on]:`${Y}`,Ge=L<m.length-1?m[L+1]:null;de&&Ge&&Qr(Ge)?(A.push(new gi(de,Ct(Ge))),L+=2):(A.push(new gi(de,{})),L++)}return new qt(A,{})}function ut(_){const S={};return Object.entries(_).forEach(([m,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(S[m]=ke(new qt([],{}),0,A))}),S}function Ct(_){const S={};return Object.entries(_).forEach(([m,A])=>S[m]=`${A}`),S}function tn(_,S,m){return _==m.path&&fr(S,m.parameters)}const Yn="imperative";class Pn{constructor(S,m){this.id=S,this.url=m}}class Nn extends Pn{constructor(S,m,A="imperative",L=null){super(S,m),this.type=0,this.navigationTrigger=A,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qi extends Pn{constructor(S,m,A){super(S,m),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bi extends Pn{constructor(S,m,A,L){super(S,m),this.reason=A,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pi extends Pn{constructor(S,m,A,L){super(S,m),this.reason=A,this.code=L,this.type=16}}class gr extends Pn{constructor(S,m,A,L){super(S,m),this.error=A,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ss extends Pn{constructor(S,m,A,L){super(S,m),this.urlAfterRedirects=A,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vo extends Pn{constructor(S,m,A,L){super(S,m),this.urlAfterRedirects=A,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class so extends Pn{constructor(S,m,A,L,Y){super(S,m),this.urlAfterRedirects=A,this.state=L,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ps extends Pn{constructor(S,m,A,L){super(S,m),this.urlAfterRedirects=A,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Os extends Pn{constructor(S,m,A,L){super(S,m),this.urlAfterRedirects=A,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class os{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _o{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oo{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class As{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ks{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(S,m,A){this.routerEvent=S,this.position=m,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class as{}class Eo{constructor(S){this.url=S}}class wo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ti,this.attachRef=null}}let Ti=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(m,A){const L=this.getOrCreateContext(m);L.outlet=A,this.contexts.set(m,L)}onChildOutletDestroyed(m){const A=this.getContext(m);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let A=this.getContext(m);return A||(A=new wo,this.contexts.set(m,A)),A}getContext(m){return this.contexts.get(m)||null}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();class es{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const m=this.pathFromRoot(S);return m.length>1?m[m.length-2]:null}children(S){const m=Is(S,this._root);return m?m.children.map(A=>A.value):[]}firstChild(S){const m=Is(S,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(S){const m=An(S,this._root);return m.length<2?[]:m[m.length-2].children.map(L=>L.value).filter(L=>L!==S)}pathFromRoot(S){return An(S,this._root).map(m=>m.value)}}function Is(_,S){if(_===S.value)return S;for(const m of S.children){const A=Is(_,m);if(A)return A}return null}function An(_,S){if(_===S.value)return[S];for(const m of S.children){const A=An(_,m);if(A.length)return A.unshift(S),A}return[]}class mr{constructor(S,m){this.value=S,this.children=m}toString(){return`TreeNode(${this.value})`}}function In(_){const S={};return _&&_.children.forEach(m=>S[m.value.outlet]=m),S}class ps extends es{constructor(S,m){super(S),this.snapshot=m,Ft(this,S)}toString(){return this.snapshot.toString()}}function Gr(_,S){const m=function qs(_,S){const de=new Vs([],{},{},"",{},on,S,null,{});return new Ar("",new mr(de,[]))}(0,S),A=new fe.X([new gi("",{})]),L=new fe.X({}),Y=new fe.X({}),de=new fe.X({}),Ge=new fe.X(""),$e=new gs(A,L,de,Ge,Y,on,S,m.root);return $e.snapshot=m.root,new ps(new mr($e,[]),m)}class gs{constructor(S,m,A,L,Y,de,Ge,$e){this.urlSubject=S,this.paramsSubject=m,this.queryParamsSubject=A,this.fragmentSubject=L,this.dataSubject=Y,this.outlet=de,this.component=Ge,this._futureSnapshot=$e,this.title=this.dataSubject?.pipe((0,St.U)($t=>$t[fi]))??(0,ce.of)(void 0),this.url=S,this.params=m,this.queryParams=A,this.fragment=L,this.data=Y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(S=>Tr(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(S=>Tr(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ls(_,S="emptyOnly"){const m=_.pathFromRoot;let A=0;if("always"!==S)for(A=m.length-1;A>=1;){const L=m[A],Y=m[A-1];if(L.routeConfig&&""===L.routeConfig.path)A--;else{if(Y.component)break;A--}}return function Bo(_){return _.reduce((S,m)=>({params:{...S.params,...m.params},data:{...S.data,...m.data},resolve:{...m.data,...S.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(A))}class Vs{get title(){return this.data?.[fi]}constructor(S,m,A,L,Y,de,Ge,$e,$t){this.url=S,this.params=m,this.queryParams=A,this.fragment=L,this.data=Y,this.outlet=de,this.component=Ge,this.routeConfig=$e,this._resolve=$t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ar extends es{constructor(S,m){super(m),this.url=S,Ft(this,m)}toString(){return Mn(this._root)}}function Ft(_,S){S.value._routerState=_,S.children.forEach(m=>Ft(_,m))}function Mn(_){const S=_.children.length>0?` { ${_.children.map(Mn).join(", ")} } `:"";return`${_.value}${S}`}function dr(_){if(_.snapshot){const S=_.snapshot,m=_._futureSnapshot;_.snapshot=m,fr(S.queryParams,m.queryParams)||_.queryParamsSubject.next(m.queryParams),S.fragment!==m.fragment&&_.fragmentSubject.next(m.fragment),fr(S.params,m.params)||_.paramsSubject.next(m.params),function bn(_,S){if(_.length!==S.length)return!1;for(let m=0;m<_.length;++m)if(!fr(_[m],S[m]))return!1;return!0}(S.url,m.url)||_.urlSubject.next(m.url),fr(S.data,m.data)||_.dataSubject.next(m.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function Mi(_,S){const m=fr(_.params,S.params)&&function Bi(_,S){return ln(_,S)&&_.every((m,A)=>fr(m.parameters,S[A].parameters))}(_.url,S.url);return m&&!(!_.parent!=!S.parent)&&(!_.parent||Mi(_.parent,S.parent))}let Ws=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=on,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.parentContexts=(0,v.f3M)(Ti),this.location=(0,v.f3M)(v.s_b),this.changeDetector=(0,v.f3M)(v.sBO),this.environmentInjector=(0,v.f3M)(v.lqb),this.inputBinder=(0,v.f3M)(yi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:A,previousValue:L}=m.name;if(A)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,A){this.activated=m,this._activatedRoute=A,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,A){if(this.isActivated)throw new v.vHH(4013,!1);this._activatedRoute=m;const L=this.location,de=m.snapshot.component,Ge=this.parentContexts.getOrCreateContext(this.name).children,$e=new ki(m,Ge,L.injector);this.activated=L.createComponent(de,{index:L.length,injector:$e,environmentInjector:A??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275dir=v.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[v.TTD]})}return _})();class ki{constructor(S,m,A){this.route=S,this.childContexts=m,this.parent=A}get(S,m){return S===gs?this.route:S===Ti?this.childContexts:this.parent.get(S,m)}}const yi=new v.OlP("");let si=(()=>{class _{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:A}=m,L=Mt([A.queryParams,A.params,A.data]).pipe((0,vn.w)(([Y,de,Ge],$e)=>(Ge={...Y,...de,...Ge},0===$e?(0,ce.of)(Ge):Promise.resolve(Ge)))).subscribe(Y=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(m);const de=(0,v.qFp)(A.component);if(de)for(const{templateName:Ge}of de.inputs)m.activatedComponentRef.setInput(Ge,Y[Ge]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,L)}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac})}return _})();function di(_,S,m){if(m&&_.shouldReuseRoute(S.value,m.value.snapshot)){const A=m.value;A._futureSnapshot=S.value;const L=function Tn(_,S,m){return S.children.map(A=>{for(const L of m.children)if(_.shouldReuseRoute(A.value,L.value.snapshot))return di(_,A,L);return di(_,A)})}(_,S,m);return new mr(A,L)}{if(_.shouldAttach(S.value)){const Y=_.retrieve(S.value);if(null!==Y){const de=Y.route;return de.value._futureSnapshot=S.value,de.children=S.children.map(Ge=>di(_,Ge)),de}}const A=function ms(_){return new gs(new fe.X(_.url),new fe.X(_.params),new fe.X(_.queryParams),new fe.X(_.fragment),new fe.X(_.data),_.outlet,_.component,_)}(S.value),L=S.children.map(Y=>di(_,Y));return new mr(A,L)}}const Us="ngNavigationCancelingError";function Bs(_,S){const{redirectTo:m,navigationBehaviorOptions:A}=lr(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,L=qr(!1,0,S);return L.url=m,L.navigationBehaviorOptions=A,L}function qr(_,S,m){const A=new Error("NavigationCancelingError: "+(_||""));return A[Us]=!0,A.cancellationCode=S,m&&(A.url=m),A}function Fi(_){return _&&_[Us]}let Wi=(()=>{class _{static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275cmp=v.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(A,L){1&A&&v._UZ(0,"router-outlet")},dependencies:[Ws],encapsulation:2})}return _})();function vs(_){const S=_.children&&_.children.map(vs),m=S?{..._,children:S}:{..._};return!m.component&&!m.loadComponent&&(S||m.loadChildren)&&m.outlet&&m.outlet!==on&&(m.component=Wi),m}function ei(_){return _.outlet||on}function ts(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let S=_.parent;S;S=S.parent){const m=S.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Ho{constructor(S,m,A,L,Y){this.routeReuseStrategy=S,this.futureState=m,this.currState=A,this.forwardEvent=L,this.inputBindingEnabled=Y}activate(S){const m=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,A,S),dr(this.futureState.root),this.activateChildRoutes(m,A,S)}deactivateChildRoutes(S,m,A){const L=In(m);S.children.forEach(Y=>{const de=Y.value.outlet;this.deactivateRoutes(Y,L[de],A),delete L[de]}),Object.values(L).forEach(Y=>{this.deactivateRouteAndItsChildren(Y,A)})}deactivateRoutes(S,m,A){const L=S.value,Y=m?m.value:null;if(L===Y)if(L.component){const de=A.getContext(L.outlet);de&&this.deactivateChildRoutes(S,m,de.children)}else this.deactivateChildRoutes(S,m,A);else Y&&this.deactivateRouteAndItsChildren(m,A)}deactivateRouteAndItsChildren(S,m){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,m):this.deactivateRouteAndOutlet(S,m)}detachAndStoreRouteSubtree(S,m){const A=m.getContext(S.value.outlet),L=A&&S.value.component?A.children:m,Y=In(S);for(const de of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[de],L);if(A&&A.outlet){const de=A.outlet.detach(),Ge=A.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:de,route:S,contexts:Ge})}}deactivateRouteAndOutlet(S,m){const A=m.getContext(S.value.outlet),L=A&&S.value.component?A.children:m,Y=In(S);for(const de of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[de],L);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(S,m,A){const L=In(m);S.children.forEach(Y=>{this.activateRoutes(Y,L[Y.value.outlet],A),this.forwardEvent(new ks(Y.value.snapshot))}),S.children.length&&this.forwardEvent(new As(S.value.snapshot))}activateRoutes(S,m,A){const L=S.value,Y=m?m.value:null;if(dr(L),L===Y)if(L.component){const de=A.getOrCreateContext(L.outlet);this.activateChildRoutes(S,m,de.children)}else this.activateChildRoutes(S,m,A);else if(L.component){const de=A.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Ge=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),de.children.onOutletReAttached(Ge.contexts),de.attachRef=Ge.componentRef,de.route=Ge.route.value,de.outlet&&de.outlet.attach(Ge.componentRef,Ge.route.value),dr(Ge.route.value),this.activateChildRoutes(S,null,de.children)}else{const Ge=ts(L.snapshot);de.attachRef=null,de.route=L,de.injector=Ge,de.outlet&&de.outlet.activateWith(L,de.injector),this.activateChildRoutes(S,null,de.children)}}else this.activateChildRoutes(S,null,A)}}class xi{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class hi{constructor(S,m){this.component=S,this.route=m}}function G(_,S,m){const A=_._root;return ge(A,S?S._root:null,m,[A.value])}function ue(_,S){const m=Symbol(),A=S.get(_,m);return A===m?"function"!=typeof _||(0,v.Z0I)(_)?S.get(_):_:A}function ge(_,S,m,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const Y=In(S);return _.children.forEach(de=>{(function Se(_,S,m,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const Y=_.value,de=S?S.value:null,Ge=m?m.getContext(_.value.outlet):null;if(de&&Y.routeConfig===de.routeConfig){const $e=function P(_,S,m){if("function"==typeof m)return m(_,S);switch(m){case"pathParamsChange":return!ln(_.url,S.url);case"pathParamsOrQueryParamsChange":return!ln(_.url,S.url)||!fr(_.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mi(_,S)||!fr(_.queryParams,S.queryParams);default:return!Mi(_,S)}}(de,Y,Y.routeConfig.runGuardsAndResolvers);$e?L.canActivateChecks.push(new xi(A)):(Y.data=de.data,Y._resolvedData=de._resolvedData),ge(_,S,Y.component?Ge?Ge.children:null:m,A,L),$e&&Ge&&Ge.outlet&&Ge.outlet.isActivated&&L.canDeactivateChecks.push(new hi(Ge.outlet.component,de))}else de&&F(S,Ge,L),L.canActivateChecks.push(new xi(A)),ge(_,null,Y.component?Ge?Ge.children:null:m,A,L)})(de,Y[de.value.outlet],m,A.concat([de.value]),L),delete Y[de.value.outlet]}),Object.entries(Y).forEach(([de,Ge])=>F(Ge,m.getContext(de),L)),L}function F(_,S,m){const A=In(_),L=_.value;Object.entries(A).forEach(([Y,de])=>{F(de,L.component?S?S.children.getContext(Y):null:S,m)}),m.canDeactivateChecks.push(new hi(L.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,L))}function x(_){return"function"==typeof _}function Er(_){return _ instanceof er||"EmptyError"===_?.name}const ns=Symbol("INITIAL_VALUE");function ti(){return(0,vn.w)(_=>Mt(_.map(S=>S.pipe(Ue(1),function ze(..._){const S=(0,me.yG)(_);return(0,tr.e)((m,A)=>{(S?ot(_,m,S):ot(_,m)).subscribe(A)})}(ns)))).pipe((0,St.U)(S=>{for(const m of S)if(!0!==m){if(m===ns)return ns;if(!1===m||m instanceof Cr)return m}return!0}),Qe(S=>S!==ns),Ue(1)))}function Zs(_){return(0,Tt.z)((0,xt.b)(S=>{if(lr(S))throw Bs(0,S)}),(0,St.U)(S=>!0===S))}class _a{constructor(S){this.segmentGroup=S||null}}class Mr{constructor(S){this.urlTree=S}}function bo(_){return lt(new _a(_))}function ls(_){return lt(new Mr(_))}class bs{constructor(S,m){this.urlSerializer=S,this.urlTree=m}noMatchError(S){return new v.vHH(4002,!1)}lineralizeSegments(S,m){let A=[],L=m.root;for(;;){if(A=A.concat(L.segments),0===L.numberOfChildren)return(0,ce.of)(A);if(L.numberOfChildren>1||!L.children[on])return lt(new v.vHH(4e3,!1));L=L.children[on]}}applyRedirectCommands(S,m,A){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),S,A)}applyRedirectCreateUrlTree(S,m,A,L){const Y=this.createSegmentGroup(S,m.root,A,L);return new Cr(Y,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(S,m){const A={};return Object.entries(S).forEach(([L,Y])=>{if("string"==typeof Y&&Y.startsWith(":")){const Ge=Y.substring(1);A[L]=m[Ge]}else A[L]=Y}),A}createSegmentGroup(S,m,A,L){const Y=this.createSegments(S,m.segments,A,L);let de={};return Object.entries(m.children).forEach(([Ge,$e])=>{de[Ge]=this.createSegmentGroup(S,$e,A,L)}),new qt(Y,de)}createSegments(S,m,A,L){return m.map(Y=>Y.path.startsWith(":")?this.findPosParam(S,Y,L):this.findOrReturn(Y,A))}findPosParam(S,m,A){const L=A[m.path.substring(1)];if(!L)throw new v.vHH(4001,!1);return L}findOrReturn(S,m){let A=0;for(const L of m){if(L.path===S.path)return m.splice(A),L;A++}return S}}const Yo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function br(_,S,m,A,L){const Y=wa(_,S,m);return Y.matched?(A=function xs(_,S){return _.providers&&!_._injector&&(_._injector=(0,v.MMx)(_.providers,S,`Route: ${_.path}`)),_._injector??S}(S,A),function cs(_,S,m,A){const L=S.canMatch;if(!L||0===L.length)return(0,ce.of)(!0);const Y=L.map(de=>{const Ge=ue(de,_);return Fn(function Br(_){return _&&x(_.canMatch)}(Ge)?Ge.canMatch(S,m):_.runInContext(()=>Ge(S,m)))});return(0,ce.of)(Y).pipe(ti(),Zs())}(A,S,m).pipe((0,St.U)(de=>!0===de?Y:{...Yo}))):(0,ce.of)(Y)}function wa(_,S,m){if(""===S.path)return"full"===S.pathMatch&&(_.hasChildren()||m.length>0)?{...Yo}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const L=(S.matcher||Sn)(m,_,S);if(!L)return{...Yo};const Y={};Object.entries(L.posParams??{}).forEach(([Ge,$e])=>{Y[Ge]=$e.path});const de=L.consumed.length>0?{...Y,...L.consumed[L.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:L.consumed,remainingSegments:m.slice(L.consumed.length),parameters:de,positionalParamSegments:L.posParams??{}}}function H(_,S,m,A){return m.length>0&&function O(_,S,m){return m.some(A=>oe(_,S,A)&&ei(A)!==on)}(_,m,A)?{segmentGroup:new qt(S,w(A,new qt(m,_.children))),slicedSegments:[]}:0===m.length&&function z(_,S,m){return m.some(A=>oe(_,S,A))}(_,m,A)?{segmentGroup:new qt(_.segments,y(_,0,m,A,_.children)),slicedSegments:m}:{segmentGroup:new qt(_.segments,_.children),slicedSegments:m}}function y(_,S,m,A,L){const Y={};for(const de of A)if(oe(_,m,de)&&!L[ei(de)]){const Ge=new qt([],{});Y[ei(de)]=Ge}return{...L,...Y}}function w(_,S){const m={};m[on]=S;for(const A of _)if(""===A.path&&ei(A)!==on){const L=new qt([],{});m[ei(A)]=L}return m}function oe(_,S,m){return(!(_.hasChildren()||S.length>0)||"full"!==m.pathMatch)&&""===m.path}class Ye{constructor(S,m,A,L,Y,de,Ge){this.injector=S,this.configLoader=m,this.rootComponentType=A,this.config=L,this.urlTree=Y,this.paramsInheritanceStrategy=de,this.urlSerializer=Ge,this.allowRedirects=!0,this.applyRedirects=new bs(this.urlSerializer,this.urlTree)}noMatchError(S){return new v.vHH(4002,!1)}recognize(){const S=H(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,on).pipe(wn(m=>{if(m instanceof Mr)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof _a?this.noMatchError(m):m}),(0,St.U)(m=>{const A=new Vs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},on,this.rootComponentType,null,{}),L=new mr(A,m),Y=new Ar("",L),de=function Yr(_,S,m=null,A=null){return Ai(Di(_),S,m,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return de.queryParams=this.urlTree.queryParams,Y.url=this.urlSerializer.serialize(de),this.inheritParamsAndData(Y._root),{state:Y,tree:de}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,on).pipe(wn(A=>{throw A instanceof _a?this.noMatchError(A):A}))}inheritParamsAndData(S){const m=S.value,A=Ls(m,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data),S.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(S,m,A,L){return 0===A.segments.length&&A.hasChildren()?this.processChildren(S,m,A):this.processSegment(S,m,A,A.segments,L,!0)}processChildren(S,m,A){const L=[];for(const Y of Object.keys(A.children))"primary"===Y?L.unshift(Y):L.push(Y);return(0,Ae.D)(L).pipe(fn(Y=>{const de=A.children[Y],Ge=function Wr(_,S){const m=_.filter(A=>ei(A)===S);return m.push(..._.filter(A=>ei(A)!==S)),m}(m,Y);return this.processSegmentGroup(S,Ge,de,Y)}),function qn(_,S){return(0,tr.e)(function hr(_,S,m,A,L){return(Y,de)=>{let Ge=m,$e=S,$t=0;Y.subscribe((0,st.x)(de,Ln=>{const Nr=$t++;$e=Ge?_($e,Ln,Nr):(Ge=!0,Ln),A&&de.next($e)},L&&(()=>{Ge&&de.next($e),de.complete()})))}}(_,S,arguments.length>=2,!0))}((Y,de)=>(Y.push(...de),Y)),at(null),function nr(_,S){const m=arguments.length>=2;return A=>A.pipe(_?Qe((L,Y)=>_(L,Y,A)):et.y,Wn(1),m?at(S):bt(()=>new er))}(),(0,Be.z)(Y=>{if(null===Y)return bo(A);const de=q(Y);return function jt(_){_.sort((S,m)=>S.value.outlet===on?-1:m.value.outlet===on?1:S.value.outlet.localeCompare(m.value.outlet))}(de),(0,ce.of)(de)}))}processSegment(S,m,A,L,Y,de){return(0,Ae.D)(m).pipe(fn(Ge=>this.processSegmentAgainstRoute(Ge._injector??S,m,Ge,A,L,Y,de).pipe(wn($e=>{if($e instanceof _a)return(0,ce.of)(null);throw $e}))),Rn(Ge=>!!Ge),wn(Ge=>{if(Er(Ge))return function we(_,S,m){return 0===S.length&&!_.children[m]}(A,L,Y)?(0,ce.of)([]):bo(A);throw Ge}))}processSegmentAgainstRoute(S,m,A,L,Y,de,Ge){return function Ee(_,S,m,A){return!!(ei(_)===A||A!==on&&oe(S,m,_))&&("**"===_.path||wa(S,_,m).matched)}(A,L,Y,de)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(S,L,A,Y,de,Ge):Ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,L,m,A,Y,de):bo(L):bo(L)}expandSegmentAgainstRouteUsingRedirect(S,m,A,L,Y,de){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,A,L,de):this.expandRegularSegmentAgainstRouteUsingRedirect(S,m,A,L,Y,de)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,m,A,L){const Y=this.applyRedirects.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?ls(Y):this.applyRedirects.lineralizeSegments(A,Y).pipe((0,Be.z)(de=>{const Ge=new qt(de,{});return this.processSegment(S,m,Ge,de,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,m,A,L,Y,de){const{matched:Ge,consumedSegments:$e,remainingSegments:$t,positionalParamSegments:Ln}=wa(m,L,Y);if(!Ge)return bo(m);const Nr=this.applyRedirects.applyRedirectCommands($e,L.redirectTo,Ln);return L.redirectTo.startsWith("/")?ls(Nr):this.applyRedirects.lineralizeSegments(L,Nr).pipe((0,Be.z)(Rr=>this.processSegment(S,A,m,Rr.concat($t),de,!1)))}matchSegmentAgainstRoute(S,m,A,L,Y,de){let Ge;if("**"===A.path){const $e=L.length>0?ui(L).parameters:{},$t=new Vs(L,$e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(A),ei(A),A.component??A._loadedComponent??null,A,ae(A));Ge=(0,ce.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]}),m.children={}}else Ge=br(m,A,L,S).pipe((0,St.U)(({matched:$e,consumedSegments:$t,remainingSegments:Ln,parameters:Nr})=>$e?{snapshot:new Vs($t,Nr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(A),ei(A),A.component??A._loadedComponent??null,A,ae(A)),consumedSegments:$t,remainingSegments:Ln}:null));return Ge.pipe((0,vn.w)($e=>null===$e?bo(m):this.getChildConfig(S=A._injector??S,A,L).pipe((0,vn.w)(({routes:$t})=>{const Ln=A._loadedInjector??S,{snapshot:Nr,consumedSegments:Rr,remainingSegments:na}=$e,{segmentGroup:Qs,slicedSegments:ra}=H(m,Rr,na,$t);if(0===ra.length&&Qs.hasChildren())return this.processChildren(Ln,$t,Qs).pipe((0,St.U)(Xs=>null===Xs?null:[new mr(Nr,Xs)]));if(0===$t.length&&0===ra.length)return(0,ce.of)([new mr(Nr,[])]);const Cu=ei(A)===Y;return this.processSegment(Ln,$t,Qs,ra,Cu?on:Y,!0).pipe((0,St.U)(Xs=>[new mr(Nr,Xs)]))}))))}getChildConfig(S,m,A){return m.children?(0,ce.of)({routes:m.children,injector:S}):m.loadChildren?void 0!==m._loadedRoutes?(0,ce.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Do(_,S,m,A){const L=S.canLoad;if(void 0===L||0===L.length)return(0,ce.of)(!0);const Y=L.map(de=>{const Ge=ue(de,_);return Fn(function he(_){return _&&x(_.canLoad)}(Ge)?Ge.canLoad(S,m):_.runInContext(()=>Ge(S,m)))});return(0,ce.of)(Y).pipe(ti(),Zs())}(S,m,A).pipe((0,Be.z)(L=>L?this.configLoader.loadChildren(S,m).pipe((0,xt.b)(Y=>{m._loadedRoutes=Y.routes,m._loadedInjector=Y.injector})):function Ea(_){return lt(qr(!1,3))}())):(0,ce.of)({routes:[],injector:S})}}function I(_){const S=_.value.routeConfig;return S&&""===S.path}function q(_){const S=[],m=new Set;for(const A of _){if(!I(A)){S.push(A);continue}const L=S.find(Y=>A.value.routeConfig===Y.value.routeConfig);void 0!==L?(L.children.push(...A.children),m.add(L)):S.push(A)}for(const A of m){const L=q(A.children);S.push(new mr(A.value,L))}return S.filter(A=>!m.has(A))}function B(_){return _.data||{}}function ae(_){return _.resolve||{}}function xn(_){return"string"==typeof _.title||null===_.title}function Jn(_){return(0,vn.w)(S=>{const m=_(S);return m?(0,Ae.D)(m).pipe((0,St.U)(()=>S)):(0,ce.of)(S)})}const or=new v.OlP("ROUTES");let oi=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,v.f3M)(v.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,ce.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const A=Fn(m.loadComponent()).pipe((0,St.U)(kr),(0,xt.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=Y}),$r(()=>{this.componentLoaders.delete(m)})),L=new Dt(A,()=>new nt.x).pipe(Xr());return this.componentLoaders.set(m,L),L}loadChildren(m,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,ce.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const Y=function Ni(_,S,m,A){return Fn(_.loadChildren()).pipe((0,St.U)(kr),(0,Be.z)(L=>L instanceof v.YKP||Array.isArray(L)?(0,ce.of)(L):(0,Ae.D)(S.compileModuleAsync(L))),(0,St.U)(L=>{A&&A(_);let Y,de,Ge=!1;return Array.isArray(L)?(de=L,!0):(Y=L.create(m).injector,de=Y.get(or,[],{optional:!0,self:!0}).flat()),{routes:de.map(vs),injector:Y}}))}(A,this.compiler,m,this.onLoadEndListener).pipe($r(()=>{this.childrenLoaders.delete(A)})),de=new Dt(Y,()=>new nt.x).pipe(Xr());return this.childrenLoaders.set(A,de),de}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function kr(_){return function Ys(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Fr=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt.x,this.transitionAbortSubject=new nt.x,this.configLoader=(0,v.f3M)(oi),this.environmentInjector=(0,v.f3M)(v.lqb),this.urlSerializer=(0,v.f3M)(Kt),this.rootContexts=(0,v.f3M)(Ti),this.inputBindingEnabled=null!==(0,v.f3M)(yi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new _o(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new os(L))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:A})}setupNavigations(m,A,L){return this.transitions=new fe.X({id:0,currentUrlTree:A,currentRawUrl:A,currentBrowserUrl:A,extractedUrl:m.urlHandlingStrategy.extract(A),urlAfterRedirects:m.urlHandlingStrategy.extract(A),rawUrl:A,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yn,restoredState:null,currentSnapshot:L.snapshot,targetSnapshot:null,currentRouterState:L,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qe(Y=>0!==Y.id),(0,St.U)(Y=>({...Y,extractedUrl:m.urlHandlingStrategy.extract(Y.rawUrl)})),(0,vn.w)(Y=>{this.currentTransition=Y;let de=!1,Ge=!1;return(0,ce.of)(Y).pipe((0,xt.b)($e=>{this.currentNavigation={id:$e.id,initialUrl:$e.rawUrl,extractedUrl:$e.extractedUrl,trigger:$e.source,extras:$e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,vn.w)($e=>{const $t=$e.currentBrowserUrl.toString(),Ln=!m.navigated||$e.extractedUrl.toString()!==$t||$t!==$e.currentUrlTree.toString();if(!Ln&&"reload"!==($e.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Rr="";return this.events.next(new pi($e.id,this.urlSerializer.serialize($e.rawUrl),Rr,0)),$e.resolve(null),mt.E}if(m.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return(0,ce.of)($e).pipe((0,vn.w)(Rr=>{const na=this.transitions?.getValue();return this.events.next(new Nn(Rr.id,this.urlSerializer.serialize(Rr.extractedUrl),Rr.source,Rr.restoredState)),na!==this.transitions?.getValue()?mt.E:Promise.resolve(Rr)}),function Le(_,S,m,A,L,Y){return(0,Be.z)(de=>function je(_,S,m,A,L,Y,de="emptyOnly"){return new Ye(_,S,m,A,L,de,Y).recognize()}(_,S,m,A,de.extractedUrl,L,Y).pipe((0,St.U)(({state:Ge,tree:$e})=>({...de,targetSnapshot:Ge,urlAfterRedirects:$e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,xt.b)(Rr=>{Y.targetSnapshot=Rr.targetSnapshot,Y.urlAfterRedirects=Rr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Rr.urlAfterRedirects};const na=new Ss(Rr.id,this.urlSerializer.serialize(Rr.extractedUrl),this.urlSerializer.serialize(Rr.urlAfterRedirects),Rr.targetSnapshot);this.events.next(na)}));if(Ln&&m.urlHandlingStrategy.shouldProcessUrl($e.currentRawUrl)){const{id:Rr,extractedUrl:na,source:Qs,restoredState:ra,extras:Cu}=$e,Xs=new Nn(Rr,this.urlSerializer.serialize(na),Qs,ra);this.events.next(Xs);const Ns=Gr(0,this.rootComponentType).snapshot;return this.currentTransition=Y={...$e,targetSnapshot:Ns,urlAfterRedirects:na,extras:{...Cu,skipLocationChange:!1,replaceUrl:!1}},(0,ce.of)(Y)}{const Rr="";return this.events.next(new pi($e.id,this.urlSerializer.serialize($e.extractedUrl),Rr,1)),$e.resolve(null),mt.E}}),(0,xt.b)($e=>{const $t=new vo($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next($t)}),(0,St.U)($e=>(this.currentTransition=Y={...$e,guards:G($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)},Y)),function Ki(_,S){return(0,Be.z)(m=>{const{targetSnapshot:A,currentSnapshot:L,guards:{canActivateChecks:Y,canDeactivateChecks:de}}=m;return 0===de.length&&0===Y.length?(0,ce.of)({...m,guardsResult:!0}):function Ci(_,S,m,A){return(0,Ae.D)(_).pipe((0,Be.z)(L=>function Zo(_,S,m,A,L){const Y=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,ce.of)(!0);const de=Y.map(Ge=>{const $e=ts(S)??L,$t=ue(Ge,$e);return Fn(function yr(_){return _&&x(_.canDeactivate)}($t)?$t.canDeactivate(_,S,m,A):$e.runInContext(()=>$t(_,S,m,A))).pipe(Rn())});return(0,ce.of)(de).pipe(ti())}(L.component,L.route,m,S,A)),Rn(L=>!0!==L,!0))}(de,A,L,_).pipe((0,Be.z)(Ge=>Ge&&function W(_){return"boolean"==typeof _}(Ge)?function co(_,S,m,A){return(0,Ae.D)(S).pipe(fn(L=>ot(function Io(_,S){return null!==_&&S&&S(new oo(_)),(0,ce.of)(!0)}(L.route.parent,A),function $i(_,S){return null!==_&&S&&S(new Ms(_)),(0,ce.of)(!0)}(L.route,A),function ho(_,S,m){const A=S[S.length-1],Y=S.slice(0,S.length-1).reverse().map(de=>function $(_){const S=_.routeConfig?_.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:_,guards:S}:null}(de)).filter(de=>null!==de).map(de=>gt(()=>{const Ge=de.guards.map($e=>{const $t=ts(de.node)??m,Ln=ue($e,$t);return Fn(function Zt(_){return _&&x(_.canActivateChild)}(Ln)?Ln.canActivateChild(A,_):$t.runInContext(()=>Ln(A,_))).pipe(Rn())});return(0,ce.of)(Ge).pipe(ti())}));return(0,ce.of)(Y).pipe(ti())}(_,L.path,m),function lo(_,S,m){const A=S.routeConfig?S.routeConfig.canActivate:null;if(!A||0===A.length)return(0,ce.of)(!0);const L=A.map(Y=>gt(()=>{const de=ts(S)??m,Ge=ue(Y,de);return Fn(function _t(_){return _&&x(_.canActivate)}(Ge)?Ge.canActivate(S,_):de.runInContext(()=>Ge(S,_))).pipe(Rn())}));return(0,ce.of)(L).pipe(ti())}(_,L.route,m))),Rn(L=>!0!==L,!0))}(A,Y,_,S):(0,ce.of)(Ge)),(0,St.U)(Ge=>({...m,guardsResult:Ge})))})}(this.environmentInjector,$e=>this.events.next($e)),(0,xt.b)($e=>{if(Y.guardsResult=$e.guardsResult,lr($e.guardsResult))throw Bs(0,$e.guardsResult);const $t=new so($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.events.next($t)}),Qe($e=>!!$e.guardsResult||(this.cancelNavigationTransition($e,"",3),!1)),Jn($e=>{if($e.guards.canActivateChecks.length)return(0,ce.of)($e).pipe((0,xt.b)($t=>{const Ln=new Ps($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Ln)}),(0,vn.w)($t=>{let Ln=!1;return(0,ce.of)($t).pipe(function rt(_,S){return(0,Be.z)(m=>{const{targetSnapshot:A,guards:{canActivateChecks:L}}=m;if(!L.length)return(0,ce.of)(m);let Y=0;return(0,Ae.D)(L).pipe(fn(de=>function Ut(_,S,m,A){const L=_.routeConfig,Y=_._resolve;return void 0!==L?.title&&!xn(L)&&(Y[fi]=L.title),function Qn(_,S,m,A){const L=function Xn(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===L.length)return(0,ce.of)({});const Y={};return(0,Ae.D)(L).pipe((0,Be.z)(de=>function vr(_,S,m,A){const L=ts(S)??A,Y=ue(_,L);return Fn(Y.resolve?Y.resolve(S,m):L.runInContext(()=>Y(S,m)))}(_[de],S,m,A).pipe(Rn(),(0,xt.b)(Ge=>{Y[de]=Ge}))),Wn(1),function rr(_){return(0,St.U)(()=>_)}(Y),wn(de=>Er(de)?mt.E:lt(de)))}(Y,_,S,A).pipe((0,St.U)(de=>(_._resolvedData=de,_.data=Ls(_,m).resolve,L&&xn(L)&&(_.data[fi]=L.title),null)))}(de.route,A,_,S)),(0,xt.b)(()=>Y++),Wn(1),(0,Be.z)(de=>Y===L.length?(0,ce.of)(m):mt.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,xt.b)({next:()=>Ln=!0,complete:()=>{Ln||this.cancelNavigationTransition($t,"",2)}}))}),(0,xt.b)($t=>{const Ln=new Os($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Ln)}))}),Jn($e=>{const $t=Ln=>{const Nr=[];Ln.routeConfig?.loadComponent&&!Ln.routeConfig._loadedComponent&&Nr.push(this.configLoader.loadComponent(Ln.routeConfig).pipe((0,xt.b)(Rr=>{Ln.component=Rr}),(0,St.U)(()=>{})));for(const Rr of Ln.children)Nr.push(...$t(Rr));return Nr};return Mt($t($e.targetSnapshot.root)).pipe(at(),Ue(1))}),Jn(()=>this.afterPreactivation()),(0,St.U)($e=>{const $t=function us(_,S,m){const A=di(_,S._root,m?m._root:void 0);return new ps(A,S)}(m.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return this.currentTransition=Y={...$e,targetRouterState:$t},Y}),(0,xt.b)(()=>{this.events.next(new as)}),((_,S,m,A)=>(0,St.U)(L=>(new Ho(S,L.targetRouterState,L.currentRouterState,m,A).activate(_),L)))(this.rootContexts,m.routeReuseStrategy,$e=>this.events.next($e),this.inputBindingEnabled),Ue(1),(0,xt.b)({next:$e=>{de=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qi($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects))),m.titleStrategy?.updateTitle($e.targetRouterState.snapshot),$e.resolve(!0)},complete:()=>{de=!0}}),function yn(_){return(0,tr.e)((S,m)=>{(0,tt.Xf)(_).subscribe((0,st.x)(m,()=>m.complete(),jn.Z)),!m.closed&&S.subscribe(m)})}(this.transitionAbortSubject.pipe((0,xt.b)($e=>{throw $e}))),$r(()=>{de||Ge||this.cancelNavigationTransition(Y,"",1),this.currentNavigation?.id===Y.id&&(this.currentNavigation=null)}),wn($e=>{if(Ge=!0,Fi($e))this.events.next(new bi(Y.id,this.urlSerializer.serialize(Y.extractedUrl),$e.message,$e.cancellationCode)),function Ks(_){return Fi(_)&&lr(_.url)}($e)?this.events.next(new Eo($e.url)):Y.resolve(!1);else{this.events.next(new gr(Y.id,this.urlSerializer.serialize(Y.extractedUrl),$e,Y.targetSnapshot??void 0));try{Y.resolve(m.errorHandler($e))}catch($t){Y.reject($t)}}return mt.E}))}))}cancelNavigationTransition(m,A,L){const Y=new bi(m.id,this.urlSerializer.serialize(m.extractedUrl),A,L);this.events.next(Y),m.resolve(!1)}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function Hi(_){return _!==Yn}let To=(()=>{class _{buildTitle(m){let A,L=m.root;for(;void 0!==L;)A=this.getResolvedTitleForRoute(L)??A,L=L.children.find(Y=>Y.outlet===on);return A}getResolvedTitleForRoute(m){return m.data[fi]}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:function(){return(0,v.f3M)(rn)},providedIn:"root"})}return _})(),rn=(()=>{class _ extends To{constructor(m){super(),this.title=m}updateTitle(m){const A=this.buildTitle(m);void 0!==A&&this.title.setTitle(A)}static#e=this.\u0275fac=function(A){return new(A||_)(v.LFG(ir.Dx))};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),We=(()=>{class _{static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:function(){return(0,v.f3M)(Hn)},providedIn:"root"})}return _})();class Yt{shouldDetach(S){return!1}store(S,m){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,m){return S.routeConfig===m.routeConfig}}let Hn=(()=>{class _ extends Yt{static#e=this.\u0275fac=function(){let m;return function(L){return(m||(m=v.n5z(_)))(L||_)}}();static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const Vi=new v.OlP("",{providedIn:"root",factory:()=>({})});let Gt=(()=>{class _{static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:function(){return(0,v.f3M)(Wt)},providedIn:"root"})}return _})(),Wt=(()=>{class _{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,A){return m}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();var Co=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(Co||{});function wt(_,S){_.events.pipe(Qe(m=>m instanceof qi||m instanceof bi||m instanceof gr||m instanceof pi),(0,St.U)(m=>m instanceof qi||m instanceof pi?Co.COMPLETE:m instanceof bi&&(0===m.code||1===m.code)?Co.REDIRECTING:Co.FAILED),Qe(m=>m!==Co.REDIRECTING),Ue(1)).subscribe(()=>{S()})}function Ze(_){throw _}function yt(_,S,m){return S.parse("/")}const xr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,v.f3M)(v.c2e),this.isNgZoneEnabled=!1,this._events=new nt.x,this.options=(0,v.f3M)(Vi,{optional:!0})||{},this.pendingTasks=(0,v.f3M)(v.HDt),this.errorHandler=this.options.errorHandler||Ze,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||yt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,v.f3M)(Gt),this.routeReuseStrategy=(0,v.f3M)(We),this.titleStrategy=(0,v.f3M)(To),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,v.f3M)(or,{optional:!0})?.flat()??[],this.navigationTransitions=(0,v.f3M)(Fr),this.urlSerializer=(0,v.f3M)(Kt),this.location=(0,v.f3M)(Gn.Ye),this.componentInputBindingEnabled=!!(0,v.f3M)(yi,{optional:!0}),this.eventsSubscription=new kn.w0,this.isNgZoneEnabled=(0,v.f3M)(v.R0b)instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Gr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(A=>{try{const{currentTransition:L}=this.navigationTransitions;if(null===L)return void(xa(A)&&this._events.next(A));if(A instanceof Nn)Hi(L.source)&&(this.browserUrlTree=L.extractedUrl);else if(A instanceof pi)this.rawUrlTree=L.rawUrl;else if(A instanceof Ss){if("eager"===this.urlUpdateStrategy){if(!L.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl);this.setBrowserUrl(Y,L)}this.browserUrlTree=L.urlAfterRedirects}}else if(A instanceof as)this.currentUrlTree=L.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl),this.routerState=L.targetRouterState,"deferred"===this.urlUpdateStrategy&&(L.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,L),this.browserUrlTree=L.urlAfterRedirects);else if(A instanceof bi)0!==A.code&&1!==A.code&&(this.navigated=!0),(3===A.code||2===A.code)&&this.restoreHistory(L);else if(A instanceof Eo){const Y=this.urlHandlingStrategy.merge(A.url,L.currentRawUrl),de={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hi(L.source)};this.scheduleNavigation(Y,Yn,null,de,{resolve:L.resolve,reject:L.reject,promise:L.promise})}A instanceof gr&&this.restoreHistory(L,!0),A instanceof qi&&(this.navigated=!0),xa(A)&&this._events.next(A)}catch(L){this.navigationTransitions.transitionAbortSubject.next(L)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const A="popstate"===m.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,A,m.state)},0)}))}navigateToSyncWithBrowser(m,A,L){const Y={replaceUrl:!0},de=L?.navigationId?L:null;if(L){const $e={...L};delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&(Y.state=$e)}const Ge=this.parseUrl(m);this.scheduleNavigation(Ge,A,de,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(vs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,A={}){const{relativeTo:L,queryParams:Y,fragment:de,queryParamsHandling:Ge,preserveFragment:$e}=A,$t=$e?this.currentUrlTree.fragment:de;let Nr,Ln=null;switch(Ge){case"merge":Ln={...this.currentUrlTree.queryParams,...Y};break;case"preserve":Ln=this.currentUrlTree.queryParams;break;default:Ln=Y||null}null!==Ln&&(Ln=this.removeEmptyProps(Ln));try{Nr=Di(L?L.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Nr=this.currentUrlTree.root}return Ai(Nr,m,Ln,$t??null)}navigateByUrl(m,A={skipLocationChange:!1}){const L=lr(m)?m:this.parseUrl(m),Y=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(Y,Yn,null,A)}navigate(m,A={skipLocationChange:!1}){return function Xo(_){for(let S=0;S<_.length;S++)if(null==_[S])throw new v.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,A),A)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let A;try{A=this.urlSerializer.parse(m)}catch(L){A=this.malformedUriErrorHandler(L,this.urlSerializer,m)}return A}isActive(m,A){let L;if(L=!0===A?{...xr}:!1===A?{...Qo}:A,lr(m))return ur(this.currentUrlTree,m,L);const Y=this.parseUrl(m);return ur(this.currentUrlTree,Y,L)}removeEmptyProps(m){return Object.keys(m).reduce((A,L)=>{const Y=m[L];return null!=Y&&(A[L]=Y),A},{})}scheduleNavigation(m,A,L,Y,de){if(this.disposed)return Promise.resolve(!1);let Ge,$e,$t;de?(Ge=de.resolve,$e=de.reject,$t=de.promise):$t=new Promise((Nr,Rr)=>{Ge=Nr,$e=Rr});const Ln=this.pendingTasks.add();return wt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ln))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:Y,resolve:Ge,reject:$e,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(Nr=>Promise.reject(Nr))}setBrowserUrl(m,A){const L=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(L)||A.extras.replaceUrl){const de={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(L,"",de)}else{const Y={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId+1)};this.location.go(L,"",Y)}}restoreHistory(m,A=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-this.browserPageId;0!==Y?this.location.historyGo(Y):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,A){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:A}:{navigationId:m}}static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();function xa(_){return!(_ instanceof as||_ instanceof Eo)}class aa{}let bu=(()=>{class _{constructor(m,A,L,Y,de){this.router=m,this.injector=L,this.preloadingStrategy=Y,this.loader=de}setUpPreloading(){this.subscription=this.router.events.pipe(Qe(m=>m instanceof qi),fn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,A){const L=[];for(const Y of A){Y.providers&&!Y._injector&&(Y._injector=(0,v.MMx)(Y.providers,m,`Route: ${Y.path}`));const de=Y._injector??m,Ge=Y._loadedInjector??de;(Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent)&&L.push(this.preloadConfig(de,Y)),(Y.children||Y._loadedRoutes)&&L.push(this.processRoutes(Ge,Y.children??Y._loadedRoutes))}return(0,Ae.D)(L).pipe((0,Jt.J)())}preloadConfig(m,A){return this.preloadingStrategy.preload(A,()=>{let L;L=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(m,A):(0,ce.of)(null);const Y=L.pipe((0,Be.z)(de=>null===de?(0,ce.of)(void 0):(A._loadedRoutes=de.routes,A._loadedInjector=de.injector,this.processRoutes(de.injector??m,de.routes))));if(A.loadComponent&&!A._loadedComponent){const de=this.loader.loadComponent(A);return(0,Ae.D)([Y,de]).pipe((0,Jt.J)())}return Y})}static#e=this.\u0275fac=function(A){return new(A||_)(v.LFG(Un),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(aa),v.LFG(oi))};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();const hn=new v.OlP("");let po=(()=>{class _{constructor(m,A,L,Y,de={}){this.urlSerializer=m,this.transitions=A,this.viewportScroller=L,this.zone=Y,this.options=de,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},de.scrollPositionRestoration=de.scrollPositionRestoration||"disabled",de.anchorScrolling=de.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Nn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof qi?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof pi&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ao&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ao(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(A){v.$Z()};static#t=this.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac})}return _})();function an(_,S){return{\u0275kind:_,\u0275providers:S}}function Vt(){const _=(0,v.f3M)(v.zs3);return S=>{const m=_.get(v.z2F);if(S!==m.components[0])return;const A=_.get(Un),L=_.get(Ra);1===_.get(Pa)&&A.initialNavigation(),_.get(Oa,null,v.XFs.Optional)?.setUpPreloading(),_.get(hn,null,v.XFs.Optional)?.init(),A.resetRootComponentType(m.componentTypes[0]),L.closed||(L.next(),L.complete(),L.unsubscribe())}}const Ra=new v.OlP("",{factory:()=>new nt.x}),Pa=new v.OlP("",{providedIn:"root",factory:()=>1}),Oa=new v.OlP("");function ka(_){return an(0,[{provide:Oa,useExisting:bu},{provide:aa,useExisting:_}])}const jr=new v.OlP("ROUTER_FORROOT_GUARD"),Go=[Gn.Ye,{provide:Kt,useClass:pr},Un,Ti,{provide:gs,useFactory:function zi(_){return _.routerState.root},deps:[Un]},oi,[]];function ru(){return new v.PXZ("Router",Un)}let Fe=(()=>{class _{constructor(m){}static forRoot(m,A){return{ngModule:_,providers:[Go,[],{provide:or,multi:!0,useValue:m},{provide:jr,useFactory:ca,deps:[[Un,new v.FiY,new v.tp0]]},{provide:Vi,useValue:A||{}},A?.useHash?{provide:Gn.S$,useClass:Gn.Do}:{provide:Gn.S$,useClass:Gn.b0},{provide:hn,useFactory:()=>{const _=(0,v.f3M)(Gn.EM),S=(0,v.f3M)(v.R0b),m=(0,v.f3M)(Vi),A=(0,v.f3M)(Fr),L=(0,v.f3M)(Kt);return m.scrollOffset&&_.setOffset(m.scrollOffset),new po(L,A,_,S,m)}},A?.preloadingStrategy?ka(A.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:ru},A?.initialNavigation?ea(A):[],A?.bindToComponentInputs?an(8,[si,{provide:yi,useExisting:si}]).\u0275providers:[],[{provide:za,useFactory:Vt},{provide:v.tb,multi:!0,useExisting:za}]]}}static forChild(m){return{ngModule:_,providers:[{provide:or,multi:!0,useValue:m}]}}static#e=this.\u0275fac=function(A){return new(A||_)(v.LFG(jr,8))};static#t=this.\u0275mod=v.oAB({type:_});static#n=this.\u0275inj=v.cJS({})}return _})();function ca(_){return"guarded"}function ea(_){return["disabled"===_.initialNavigation?an(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const S=(0,v.f3M)(Un);return()=>{S.setUpLocationChangeListener()}}},{provide:Pa,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?an(2,[{provide:Pa,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:S=>{const m=S.get(Gn.V_,Promise.resolve());return()=>m.then(()=>new Promise(A=>{const L=S.get(Un),Y=S.get(Ra);wt(L,()=>{A(!0)}),S.get(Fr).afterPreactivation=()=>(A(!0),Y.closed?(0,ce.of)(void 0):Y),L.initialNavigation()}))}}]).\u0275providers:[]]}const za=new v.OlP("")},534:(Dn,dt,X)=>{X.d(dt,{Jn:()=>Si,qX:()=>Ir,Xd:()=>Fn,Mq:()=>Jr,C6:()=>Cr,ZF:()=>zr,KN:()=>Bi});var v=X(5861),pe=X(4537),Z=X(7879),Oe=X(9058);const Ae=(Ke,Re)=>Re.some(vt=>Ke instanceof vt);let ce,fe;const _e=new WeakMap,me=new WeakMap,qe=new WeakMap,st=new WeakMap,Me=new WeakMap;let Pt={get(Ke,Re,vt){if(Ke instanceof IDBTransaction){if("done"===Re)return me.get(Ke);if("objectStoreNames"===Re)return Ke.objectStoreNames||qe.get(Ke);if("store"===Re)return vt.objectStoreNames[1]?void 0:vt.objectStore(vt.objectStoreNames[0])}return be(Ke[Re])},set:(Ke,Re,vt)=>(Ke[Re]=vt,!0),has:(Ke,Re)=>Ke instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in Ke};function Jt(Ke){return"function"==typeof Ke?function er(Ke){return Ke!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function et(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ke)?function(...Re){return Ke.apply(ot(this),Re),be(_e.get(this))}:function(...Re){return be(Ke.apply(ot(this),Re))}:function(Re,...vt){const kt=Ke.call(ot(this),Re,...vt);return qe.set(kt,Re.sort?Re.sort():[Re]),be(kt)}}(Ke):(Ke instanceof IDBTransaction&&function pt(Ke){if(me.has(Ke))return;const Re=new Promise((vt,kt)=>{const _n=()=>{Ke.removeEventListener("complete",Lt),Ke.removeEventListener("error",On),Ke.removeEventListener("abort",On)},Lt=()=>{vt(),_n()},On=()=>{kt(Ke.error||new DOMException("AbortError","AbortError")),_n()};Ke.addEventListener("complete",Lt),Ke.addEventListener("error",On),Ke.addEventListener("abort",On)});me.set(Ke,Re)}(Ke),Ae(Ke,function Xe(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ke,Pt):Ke)}function be(Ke){if(Ke instanceof IDBRequest)return function Mt(Ke){const Re=new Promise((vt,kt)=>{const _n=()=>{Ke.removeEventListener("success",Lt),Ke.removeEventListener("error",On)},Lt=()=>{vt(be(Ke.result)),_n()},On=()=>{kt(Ke.error),_n()};Ke.addEventListener("success",Lt),Ke.addEventListener("error",On)});return Re.then(vt=>{vt instanceof IDBCursor&&_e.set(vt,Ke)}).catch(()=>{}),Me.set(Re,Ke),Re}(Ke);if(st.has(Ke))return st.get(Ke);const Re=Jt(Ke);return Re!==Ke&&(st.set(Ke,Re),Me.set(Re,Ke)),Re}const ot=Ke=>Me.get(Ke),Tt=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],mt=new Map;function kn(Ke,Re){if(!(Ke instanceof IDBDatabase)||Re in Ke||"string"!=typeof Re)return;if(mt.get(Re))return mt.get(Re);const vt=Re.replace(/FromIndex$/,""),kt=Re!==vt,_n=lt.includes(vt);if(!(vt in(kt?IDBIndex:IDBObjectStore).prototype)||!_n&&!Tt.includes(vt))return;const Lt=function(){var On=(0,v.Z)(function*(ii,...lr){const Yr=this.transaction(ii,_n?"readwrite":"readonly");let Di=Yr.store;return kt&&(Di=Di.index(lr.shift())),(yield Promise.all([Di[vt](...lr),_n&&Yr.done]))[0]});return function(lr){return On.apply(this,arguments)}}();return mt.set(Re,Lt),Lt}!function cn(Ke){Pt=Ke(Pt)}(Ke=>({...Ke,get:(Re,vt,kt)=>kn(Re,vt)||Ke.get(Re,vt,kt),has:(Re,vt)=>!!kn(Re,vt)||Ke.has(Re,vt)}));class tr{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(vt=>{if(function Xr(Ke){const Re=Ke.getComponent();return"VERSION"===Re?.type}(vt)){const kt=vt.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(vt=>vt).join(" ")}}const Dt="@firebase/app",Gn=new Z.Yd("@firebase/app"),Tr="[DEFAULT]",Sn={[Dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,fr=new Map;function Hr(Ke,Re){try{Ke.container.addComponent(Re)}catch(vt){Gn.debug(`Component ${Re.name} failed to register with FirebaseApp ${Ke.name}`,vt)}}function Fn(Ke){const Re=Ke.name;if(fr.has(Re))return Gn.debug(`There were multiple attempts to register component ${Re}.`),!1;fr.set(Re,Ke);for(const vt of bn.values())Hr(vt,Ke);return!0}function Ir(Ke,Re){const vt=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return vt&&vt.triggerHeartbeat(),Ke.container.getProvider(Re)}const Ot=new Oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ri{constructor(Re,vt,kt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},vt),this._name=vt.name,this._automaticDataCollectionEnabled=vt.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new pe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw Ot.create("app-deleted",{appName:this._name})}}const Si="9.23.0";function zr(Ke,Re={}){let vt=Ke;"object"!=typeof Re&&(Re={name:Re});const kt=Object.assign({name:Tr,automaticDataCollectionEnabled:!1},Re),_n=kt.name;if("string"!=typeof _n||!_n)throw Ot.create("bad-app-name",{appName:String(_n)});if(vt||(vt=(0,Oe.aH)()),!vt)throw Ot.create("no-options");const Lt=bn.get(_n);if(Lt){if((0,Oe.vZ)(vt,Lt.options)&&(0,Oe.vZ)(kt,Lt.config))return Lt;throw Ot.create("duplicate-app",{appName:_n})}const On=new pe.H0(_n);for(const lr of fr.values())On.addComponent(lr);const ii=new ri(vt,kt,On);return bn.set(_n,ii),ii}function Jr(Ke=Tr){const Re=bn.get(Ke);if(!Re&&Ke===Tr&&(0,Oe.aH)())return zr();if(!Re)throw Ot.create("no-app",{appName:Ke});return Re}function Cr(){return Array.from(bn.values())}function Bi(Ke,Re,vt){var kt;let _n=null!==(kt=Sn[Ke])&&void 0!==kt?kt:Ke;vt&&(_n+=`-${vt}`);const Lt=_n.match(/\s|\//),On=Re.match(/\s|\//);if(Lt||On){const ii=[`Unable to register library "${_n}" with version "${Re}":`];return Lt&&ii.push(`library name "${_n}" contains illegal characters (whitespace or "/")`),Lt&&On&&ii.push("and"),On&&ii.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void Gn.warn(ii.join(" "))}Fn(new pe.wA(`${_n}-version`,()=>({library:_n,version:Re}),"VERSION"))}const Kt="firebase-heartbeat-database",pr=1,ve="firebase-heartbeat-store";let J=null;function ee(){return J||(J=function tt(Ke,Re,{blocked:vt,upgrade:kt,blocking:_n,terminated:Lt}={}){const On=indexedDB.open(Ke,Re),ii=be(On);return kt&&On.addEventListener("upgradeneeded",lr=>{kt(be(On.result),lr.oldVersion,lr.newVersion,be(On.transaction),lr)}),vt&&On.addEventListener("blocked",lr=>vt(lr.oldVersion,lr.newVersion,lr)),ii.then(lr=>{Lt&&lr.addEventListener("close",()=>Lt()),_n&&lr.addEventListener("versionchange",Yr=>_n(Yr.oldVersion,Yr.newVersion,Yr))}).catch(()=>{}),ii}(Kt,pr,{upgrade:(Ke,Re)=>{0===Re&&Ke.createObjectStore(ve)}}).catch(Ke=>{throw Ot.create("idb-open",{originalErrorMessage:Ke.message})})),J}function re(){return(re=(0,v.Z)(function*(Ke){try{return yield(yield ee()).transaction(ve).objectStore(ve).get(Nt(Ke))}catch(Re){if(Re instanceof Oe.ZR)Gn.warn(Re.message);else{const vt=Ot.create("idb-get",{originalErrorMessage:Re?.message});Gn.warn(vt.message)}}})).apply(this,arguments)}function Ne(Ke,Re){return ht.apply(this,arguments)}function ht(){return(ht=(0,v.Z)(function*(Ke,Re){try{const kt=(yield ee()).transaction(ve,"readwrite");yield kt.objectStore(ve).put(Re,Nt(Ke)),yield kt.done}catch(vt){if(vt instanceof Oe.ZR)Gn.warn(vt.message);else{const kt=Ot.create("idb-set",{originalErrorMessage:vt?.message});Gn.warn(kt.message)}}})).apply(this,arguments)}function Nt(Ke){return`${Ke.name}!${Ke.options.appId}`}class Kn{constructor(Re){this.container=Re,this._heartbeatsCache=null;const vt=this.container.getProvider("app").getImmediate();this._storage=new Sr(vt),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Re=this;return(0,v.Z)(function*(){const kt=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_n=gn();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==_n&&!Re._heartbeatsCache.heartbeats.some(Lt=>Lt.date===_n))return Re._heartbeatsCache.heartbeats.push({date:_n,agent:kt}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(Lt=>{const On=new Date(Lt.date).valueOf();return Date.now()-On<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,v.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const vt=gn(),{heartbeatsToSend:kt,unsentEntries:_n}=function Zn(Ke,Re=1024){const vt=[];let kt=Ke.slice();for(const _n of Ke){const Lt=vt.find(On=>On.agent===_n.agent);if(Lt){if(Lt.dates.push(_n.date),li(vt)>Re){Lt.dates.pop();break}}else if(vt.push({agent:_n.agent,dates:[_n.date]}),li(vt)>Re){vt.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:vt,unsentEntries:kt}}(Re._heartbeatsCache.heartbeats),Lt=(0,Oe.L)(JSON.stringify({version:2,heartbeats:kt}));return Re._heartbeatsCache.lastSentHeartbeatDate=vt,_n.length>0?(Re._heartbeatsCache.heartbeats=_n,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),Lt})()}}function gn(){return(new Date).toISOString().substring(0,10)}class Sr{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,Oe.hl)()&&(0,Oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,v.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function te(Ke){return re.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var vt=this;return(0,v.Z)(function*(){var kt;if(yield vt._canUseIndexedDBPromise){const Lt=yield vt.read();return Ne(vt.app,{lastSentHeartbeatDate:null!==(kt=Re.lastSentHeartbeatDate)&&void 0!==kt?kt:Lt.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var vt=this;return(0,v.Z)(function*(){var kt;if(yield vt._canUseIndexedDBPromise){const Lt=yield vt.read();return Ne(vt.app,{lastSentHeartbeatDate:null!==(kt=Re.lastSentHeartbeatDate)&&void 0!==kt?kt:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...Re.heartbeats]})}})()}}function li(Ke){return(0,Oe.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Ii(Ke){Fn(new pe.wA("platform-logger",Re=>new tr(Re),"PRIVATE")),Fn(new pe.wA("heartbeat",Re=>new Kn(Re),"PRIVATE")),Bi(Dt,"0.9.13",Ke),Bi(Dt,"0.9.13","esm2017"),Bi("fire-js","")}("")},4537:(Dn,dt,X)=>{X.d(dt,{H0:()=>Xe,wA:()=>Z});var v=X(5861),pe=X(9058);class Z{constructor(_e,me,qe){this.name=_e,this.instanceFactory=me,this.type=qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const Oe="[DEFAULT]";class Ae{constructor(_e,me){this.name=_e,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const me=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(me)){const qe=new pe.BH;if(this.instancesDeferred.set(me,qe),this.isInitialized(me)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:me});st&&qe.resolve(st)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(_e){var me;const qe=this.normalizeInstanceIdentifier(_e?.identifier),st=null!==(me=_e?.optional)&&void 0!==me&&me;if(!this.isInitialized(qe)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:qe})}catch(Me){if(st)return null;throw Me}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function fe(et){return"EAGER"===et.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch{}for(const[me,qe]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(me);try{const Me=this.getOrInitializeService({instanceIdentifier:st});qe.resolve(Me)}catch{}}}}clearInstance(_e=Oe){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,v.Z)(function*(){const me=Array.from(_e.instances.values());yield Promise.all([...me.filter(qe=>"INTERNAL"in qe).map(qe=>qe.INTERNAL.delete()),...me.filter(qe=>"_delete"in qe).map(qe=>qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=Oe){return this.instances.has(_e)}getOptions(_e=Oe){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:me={}}=_e,qe=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(qe))throw Error(`${this.name}(${qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:qe,options:me});for(const[Me,Mt]of this.instancesDeferred.entries())qe===this.normalizeInstanceIdentifier(Me)&&Mt.resolve(st);return st}onInit(_e,me){var qe;const st=this.normalizeInstanceIdentifier(me),Me=null!==(qe=this.onInitCallbacks.get(st))&&void 0!==qe?qe:new Set;Me.add(_e),this.onInitCallbacks.set(st,Me);const Mt=this.instances.get(st);return Mt&&_e(Mt,st),()=>{Me.delete(_e)}}invokeOnInitCallbacks(_e,me){const qe=this.onInitCallbacks.get(me);if(qe)for(const st of qe)try{st(_e,me)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:me={}}){let qe=this.instances.get(_e);if(!qe&&this.component&&(qe=this.component.instanceFactory(this.container,{instanceIdentifier:(et=_e,et===Oe?void 0:et),options:me}),this.instances.set(_e,qe),this.instancesOptions.set(_e,me),this.invokeOnInitCallbacks(qe,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,qe)}catch{}var et;return qe||null}normalizeInstanceIdentifier(_e=Oe){return this.component?this.component.multipleInstances?_e:Oe:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xe{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const me=this.getProvider(_e.name);if(me.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);me.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const me=new Ae(_e,this);return this.providers.set(_e,me),me}getProviders(){return Array.from(this.providers.values())}}},7879:(Dn,dt,X)=>{X.d(dt,{Yd:()=>fe,in:()=>pe});const v=[];var pe=function(_e){return _e[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",_e}(pe||{});const Z={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},Oe=pe.INFO,Ae={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},ce=(_e,me,...qe)=>{if(me<_e.logLevel)return;const st=(new Date).toISOString(),Me=Ae[me];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[Me](`[${st}]  ${_e.name}:`,...qe)};class fe{constructor(me){this.name=me,this._logLevel=Oe,this._logHandler=ce,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in pe))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?Z[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...me),this._logHandler(this,pe.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...me),this._logHandler(this,pe.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...me),this._logHandler(this,pe.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...me),this._logHandler(this,pe.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...me),this._logHandler(this,pe.ERROR,...me)}}},3182:(Dn,dt,X)=>{X.d(dt,{C6:()=>v.C6,KN:()=>v.KN,Mq:()=>v.Mq,ZF:()=>v.ZF});var v=X(534);(0,v.KN)("firebase","9.23.0","app")},5861:(Dn,dt,X)=>{function v(Z,Oe,Ae,ce,fe,Xe,et){try{var _e=Z[Xe](et),me=_e.value}catch(qe){return void Ae(qe)}_e.done?Oe(me):Promise.resolve(me).then(ce,fe)}function pe(Z){return function(){var Oe=this,Ae=arguments;return new Promise(function(ce,fe){var Xe=Z.apply(Oe,Ae);function et(me){v(Xe,ce,fe,et,_e,"next",me)}function _e(me){v(Xe,ce,fe,et,_e,"throw",me)}et(void 0)})}}X.d(dt,{Z:()=>pe})},7582:(Dn,dt,X)=>{function Oe(Ue,ze){var Qe={};for(var Be in Ue)Object.prototype.hasOwnProperty.call(Ue,Be)&&ze.indexOf(Be)<0&&(Qe[Be]=Ue[Be]);if(null!=Ue&&"function"==typeof Object.getOwnPropertySymbols){var at=0;for(Be=Object.getOwnPropertySymbols(Ue);at<Be.length;at++)ze.indexOf(Be[at])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Be[at])&&(Qe[Be[at]]=Ue[Be[at]])}return Qe}function qe(Ue,ze,Qe,Be){return new(Qe||(Qe=Promise))(function(bt,en){function Rn(wn){try{xt(Be.next(wn))}catch(hr){en(hr)}}function fn(wn){try{xt(Be.throw(wn))}catch(hr){en(hr)}}function xt(wn){wn.done?bt(wn.value):function at(bt){return bt instanceof Qe?bt:new Qe(function(en){en(bt)})}(wn.value).then(Rn,fn)}xt((Be=Be.apply(Ue,ze||[])).next())})}function be(Ue){return this instanceof be?(this.v=Ue,this):new be(Ue)}function ot(Ue,ze,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Be=Qe.apply(Ue,ze||[]),bt=[];return at={},en("next"),en("throw"),en("return"),at[Symbol.asyncIterator]=function(){return this},at;function en(qn){Be[qn]&&(at[qn]=function(Wn){return new Promise(function(nr,rr){bt.push([qn,Wn,nr,rr])>1||Rn(qn,Wn)})})}function Rn(qn,Wn){try{!function fn(qn){qn.value instanceof be?Promise.resolve(qn.value.v).then(xt,wn):hr(bt[0][2],qn)}(Be[qn](Wn))}catch(nr){hr(bt[0][3],nr)}}function xt(qn){Rn("next",qn)}function wn(qn){Rn("throw",qn)}function hr(qn,Wn){qn(Wn),bt.shift(),bt.length&&Rn(bt[0][0],bt[0][1])}}function gt(Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,ze=Ue[Symbol.asyncIterator];return ze?ze.call(Ue):(Ue=function pt(Ue){var ze="function"==typeof Symbol&&Symbol.iterator,Qe=ze&&Ue[ze],Be=0;if(Qe)return Qe.call(Ue);if(Ue&&"number"==typeof Ue.length)return{next:function(){return Ue&&Be>=Ue.length&&(Ue=void 0),{value:Ue&&Ue[Be++],done:!Ue}}};throw new TypeError(ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ue),Qe={},Be("next"),Be("throw"),Be("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function Be(bt){Qe[bt]=Ue[bt]&&function(en){return new Promise(function(Rn,fn){!function at(bt,en,Rn,fn){Promise.resolve(fn).then(function(xt){bt({value:xt,done:Rn})},en)}(Rn,fn,(en=Ue[bt](en)).done,en.value)})}}}X.d(dt,{FC:()=>ot,KL:()=>gt,_T:()=>Oe,mG:()=>qe,qq:()=>be}),"function"==typeof SuppressedError&&SuppressedError}},Dn=>{Dn(Dn.s=2137)}]);